function Iz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var c3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vw={exports:{}},sx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Bz(){if(cE)return sx;cE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return sx.Fragment=t,sx.jsx=r,sx.jsxs=r,sx}var uE;function Uz(){return uE||(uE=1,vw.exports=Bz()),vw.exports}var s=Uz(),yw={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function zz(){if(fE)return vr;fE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function N(Y,P,L){this.props=Y,this.context=P,this.refs=w,this.updater=L||b}N.prototype.isReactComponent={},N.prototype.setState=function(Y,P){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,P,"setState")},N.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function E(){}E.prototype=N.prototype;function S(Y,P,L){this.props=Y,this.context=P,this.refs=w,this.updater=L||b}var D=S.prototype=new E;D.constructor=S,v(D,N.prototype),D.isPureReactComponent=!0;var F=Array.isArray;function O(){}var T={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(Y,P,L){var q=L.ref;return{$$typeof:e,type:Y,key:P,ref:q!==void 0?q:null,props:L}}function H(Y,P){return B(Y.type,P,Y.props)}function R(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function U(Y){var P={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(L){return P[L]})}var K=/\/+/g;function ee(Y,P){return typeof Y=="object"&&Y!==null&&Y.key!=null?U(""+Y.key):P.toString(36)}function pe(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(O,O):(Y.status="pending",Y.then(function(P){Y.status==="pending"&&(Y.status="fulfilled",Y.value=P)},function(P){Y.status==="pending"&&(Y.status="rejected",Y.reason=P)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function re(Y,P,L,q,W){var X=typeof Y;(X==="undefined"||X==="boolean")&&(Y=null);var ce=!1;if(Y===null)ce=!0;else switch(X){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(Y.$$typeof){case e:case t:ce=!0;break;case h:return ce=Y._init,re(ce(Y._payload),P,L,q,W)}}if(ce)return W=W(Y),ce=q===""?"."+ee(Y,0):q,F(W)?(L="",ce!=null&&(L=ce.replace(K,"$&/")+"/"),re(W,P,L,"",function(Se){return Se})):W!=null&&(R(W)&&(W=H(W,L+(W.key==null||Y&&Y.key===W.key?"":(""+W.key).replace(K,"$&/")+"/")+ce)),P.push(W)),1;ce=0;var ue=q===""?".":q+":";if(F(Y))for(var ae=0;ae<Y.length;ae++)q=Y[ae],X=ue+ee(q,ae),ce+=re(q,P,L,X,W);else if(ae=x(Y),typeof ae=="function")for(Y=ae.call(Y),ae=0;!(q=Y.next()).done;)q=q.value,X=ue+ee(q,ae++),ce+=re(q,P,L,X,W);else if(X==="object"){if(typeof Y.then=="function")return re(pe(Y),P,L,q,W);throw P=String(Y),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ce}function se(Y,P,L){if(Y==null)return Y;var q=[],W=0;return re(Y,q,"","",function(X){return P.call(L,X,W++)}),q}function ye(Y){if(Y._status===-1){var P=Y._result;P=P(),P.then(function(L){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=L)},function(L){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=L)}),Y._status===-1&&(Y._status=0,Y._result=P)}if(Y._status===1)return Y._result.default;throw Y._result}var oe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},ge={map:se,forEach:function(Y,P,L){se(Y,function(){P.apply(this,arguments)},L)},count:function(Y){var P=0;return se(Y,function(){P++}),P},toArray:function(Y){return se(Y,function(P){return P})||[]},only:function(Y){if(!R(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return vr.Activity=m,vr.Children=ge,vr.Component=N,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=S,vr.StrictMode=n,vr.Suspense=u,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,vr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return T.H.useMemoCache(Y)}},vr.cache=function(Y){return function(){return Y.apply(null,arguments)}},vr.cacheSignal=function(){return null},vr.cloneElement=function(Y,P,L){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var q=v({},Y.props),W=Y.key;if(P!=null)for(X in P.key!==void 0&&(W=""+P.key),P)!M.call(P,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&P.ref===void 0||(q[X]=P[X]);var X=arguments.length-2;if(X===1)q.children=L;else if(1<X){for(var ce=Array(X),ue=0;ue<X;ue++)ce[ue]=arguments[ue+2];q.children=ce}return B(Y.type,W,q)},vr.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:i,_context:Y},Y},vr.createElement=function(Y,P,L){var q,W={},X=null;if(P!=null)for(q in P.key!==void 0&&(X=""+P.key),P)M.call(P,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=P[q]);var ce=arguments.length-2;if(ce===1)W.children=L;else if(1<ce){for(var ue=Array(ce),ae=0;ae<ce;ae++)ue[ae]=arguments[ae+2];W.children=ue}if(Y&&Y.defaultProps)for(q in ce=Y.defaultProps,ce)W[q]===void 0&&(W[q]=ce[q]);return B(Y,X,W)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(Y){return{$$typeof:o,render:Y}},vr.isValidElement=R,vr.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:ye}},vr.memo=function(Y,P){return{$$typeof:f,type:Y,compare:P===void 0?null:P}},vr.startTransition=function(Y){var P=T.T,L={};T.T=L;try{var q=Y(),W=T.S;W!==null&&W(L,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(O,oe)}catch(X){oe(X)}finally{P!==null&&L.types!==null&&(P.types=L.types),T.T=P}},vr.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},vr.use=function(Y){return T.H.use(Y)},vr.useActionState=function(Y,P,L){return T.H.useActionState(Y,P,L)},vr.useCallback=function(Y,P){return T.H.useCallback(Y,P)},vr.useContext=function(Y){return T.H.useContext(Y)},vr.useDebugValue=function(){},vr.useDeferredValue=function(Y,P){return T.H.useDeferredValue(Y,P)},vr.useEffect=function(Y,P){return T.H.useEffect(Y,P)},vr.useEffectEvent=function(Y){return T.H.useEffectEvent(Y)},vr.useId=function(){return T.H.useId()},vr.useImperativeHandle=function(Y,P,L){return T.H.useImperativeHandle(Y,P,L)},vr.useInsertionEffect=function(Y,P){return T.H.useInsertionEffect(Y,P)},vr.useLayoutEffect=function(Y,P){return T.H.useLayoutEffect(Y,P)},vr.useMemo=function(Y,P){return T.H.useMemo(Y,P)},vr.useOptimistic=function(Y,P){return T.H.useOptimistic(Y,P)},vr.useReducer=function(Y,P,L){return T.H.useReducer(Y,P,L)},vr.useRef=function(Y){return T.H.useRef(Y)},vr.useState=function(Y){return T.H.useState(Y)},vr.useSyncExternalStore=function(Y,P,L){return T.H.useSyncExternalStore(Y,P,L)},vr.useTransition=function(){return T.H.useTransition()},vr.version="19.2.0",vr}var dE;function Qm(){return dE||(dE=1,yw.exports=zz()),yw.exports}var C=Qm();const vd=bf(C),qz=Iz({__proto__:null,default:vd},[C]);var bw={exports:{}},lx={},ww={exports:{}},Nw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function $z(){return hE||(hE=1,(function(e){function t(re,se){var ye=re.length;re.push(se);e:for(;0<ye;){var oe=ye-1>>>1,ge=re[oe];if(0<a(ge,se))re[oe]=se,re[ye]=ge,ye=oe;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var se=re[0],ye=re.pop();if(ye!==se){re[0]=ye;e:for(var oe=0,ge=re.length,Y=ge>>>1;oe<Y;){var P=2*(oe+1)-1,L=re[P],q=P+1,W=re[q];if(0>a(L,ye))q<ge&&0>a(W,L)?(re[oe]=W,re[q]=ye,oe=q):(re[oe]=L,re[P]=ye,oe=P);else if(q<ge&&0>a(W,ye))re[oe]=W,re[q]=ye,oe=q;else break e}}return se}function a(re,se){var ye=re.sortIndex-se.sortIndex;return ye!==0?ye:re.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],f=[],h=1,m=null,g=3,x=!1,b=!1,v=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function D(re){for(var se=r(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=re)n(f),se.sortIndex=se.expirationTime,t(u,se);else break;se=r(f)}}function F(re){if(v=!1,D(re),!b)if(r(u)!==null)b=!0,O||(O=!0,U());else{var se=r(f);se!==null&&pe(F,se.startTime-re)}}var O=!1,T=-1,M=5,B=-1;function H(){return w?!0:!(e.unstable_now()-B<M)}function R(){if(w=!1,O){var re=e.unstable_now();B=re;var se=!0;try{e:{b=!1,v&&(v=!1,E(T),T=-1),x=!0;var ye=g;try{t:{for(D(re),m=r(u);m!==null&&!(m.expirationTime>re&&H());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,g=m.priorityLevel;var ge=oe(m.expirationTime<=re);if(re=e.unstable_now(),typeof ge=="function"){m.callback=ge,D(re),se=!0;break t}m===r(u)&&n(u),D(re)}else n(u);m=r(u)}if(m!==null)se=!0;else{var Y=r(f);Y!==null&&pe(F,Y.startTime-re),se=!1}}break e}finally{m=null,g=ye,x=!1}se=void 0}}finally{se?U():O=!1}}}var U;if(typeof S=="function")U=function(){S(R)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=R,U=function(){ee.postMessage(null)}}else U=function(){N(R,0)};function pe(re,se){T=N(function(){re(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(re){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var ye=g;g=se;try{return re()}finally{g=ye}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ye=g;g=re;try{return se()}finally{g=ye}},e.unstable_scheduleCallback=function(re,se,ye){var oe=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?oe+ye:oe):ye=oe,re){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ye+ge,re={id:h++,callback:se,priorityLevel:re,startTime:ye,expirationTime:ge,sortIndex:-1},ye>oe?(re.sortIndex=ye,t(f,re),r(u)===null&&re===r(f)&&(v?(E(T),T=-1):v=!0,pe(F,ye-oe))):(re.sortIndex=ge,t(u,re),b||x||(b=!0,O||(O=!0,U()))),re},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(re){var se=g;return function(){var ye=g;g=se;try{return re.apply(this,arguments)}finally{g=ye}}}})(Nw)),Nw}var mE;function Hz(){return mE||(mE=1,ww.exports=$z()),ww.exports}var _w={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function Vz(){if(pE)return ms;pE=1;var e=Qm();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ms.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,h)},ms.flushSync=function(u){var f=l.T,h=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=f,n.p=h,n.d.f()}},ms.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},ms.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},ms.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):h==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ms.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},ms.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=o(h,f.crossOrigin);n.d.L(u,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ms.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=o(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},ms.requestFormReset=function(u){n.d.r(u)},ms.unstable_batchedUpdates=function(u,f){return u(f)},ms.useFormState=function(u,f,h){return l.H.useFormState(u,f,h)},ms.useFormStatus=function(){return l.H.useHostTransitionStatus()},ms.version="19.2.0",ms}var xE;function jD(){if(xE)return _w.exports;xE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_w.exports=Vz(),_w.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function Wz(){if(gE)return lx;gE=1;var e=Hz(),t=Qm(),r=jD();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function l(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function o(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(n(188))}function f(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(n(188));return d!==c?null:c}for(var p=c,y=d;;){var j=p.return;if(j===null)break;var k=j.alternate;if(k===null){if(y=j.return,y!==null){p=y;continue}break}if(j.child===k.child){for(k=j.child;k;){if(k===p)return u(j),c;if(k===y)return u(j),d;k=k.sibling}throw Error(n(188))}if(p.return!==y.return)p=j,y=k;else{for(var G=!1,le=j.child;le;){if(le===p){G=!0,p=j,y=k;break}if(le===y){G=!0,y=j,p=k;break}le=le.sibling}if(!G){for(le=k.child;le;){if(le===p){G=!0,p=k,y=j;break}if(le===y){G=!0,y=k,p=j;break}le=le.sibling}if(!G)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:d}function h(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=h(c),d!==null)return d;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function U(c){return c===null||typeof c!="object"?null:(c=R&&c[R]||c["@@iterator"],typeof c=="function"?c:null)}var K=Symbol.for("react.client.reference");function ee(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===K?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case O:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case S:return c.displayName||"Context";case E:return(c._context.displayName||"Context")+".Consumer";case D:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return d=c.displayName||null,d!==null?d:ee(c.type)||"Memo";case M:d=c._payload,c=c._init;try{return ee(c(d))}catch{}}return null}var pe=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},oe=[],ge=-1;function Y(c){return{current:c}}function P(c){0>ge||(c.current=oe[ge],oe[ge]=null,ge--)}function L(c,d){ge++,oe[ge]=c.current,c.current=d}var q=Y(null),W=Y(null),X=Y(null),ce=Y(null);function ue(c,d){switch(L(X,d),L(W,c),L(q,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?DA(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=DA(d),c=FA(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}P(q),L(q,c)}function ae(){P(q),P(W),P(X)}function Se(c){c.memoizedState!==null&&L(ce,c);var d=q.current,p=FA(d,c.type);d!==p&&(L(W,c),L(q,p))}function De(c){W.current===c&&(P(q),P(W)),ce.current===c&&(P(ce),rx._currentValue=ye)}var Z,Ke;function Ce(c){if(Z===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);Z=d&&d[1]||"",Ke=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+c+Ke}var xe=!1;function dt(c,d){if(!c||xe)return"";xe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(We){var Ve=We}Reflect.construct(c,[],it)}else{try{it.call()}catch(We){Ve=We}c.call(it.prototype)}}else{try{throw Error()}catch(We){Ve=We}(it=c())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(We){if(We&&Ve&&typeof We.stack=="string")return[We.stack,Ve.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=y.DetermineComponentFrameRoot(),G=k[0],le=k[1];if(G&&le){var Ae=G.split(`
`),$e=le.split(`
`);for(j=y=0;y<Ae.length&&!Ae[y].includes("DetermineComponentFrameRoot");)y++;for(;j<$e.length&&!$e[j].includes("DetermineComponentFrameRoot");)j++;if(y===Ae.length||j===$e.length)for(y=Ae.length-1,j=$e.length-1;1<=y&&0<=j&&Ae[y]!==$e[j];)j--;for(;1<=y&&0<=j;y--,j--)if(Ae[y]!==$e[j]){if(y!==1||j!==1)do if(y--,j--,0>j||Ae[y]!==$e[j]){var Je=`
`+Ae[y].replace(" at new "," at ");return c.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",c.displayName)),Je}while(1<=y&&0<=j);break}}}finally{xe=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Ce(p):""}function Xe(c,d){switch(c.tag){case 26:case 27:case 5:return Ce(c.type);case 16:return Ce("Lazy");case 13:return c.child!==d&&d!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return dt(c.type,!1);case 11:return dt(c.type.render,!1);case 1:return dt(c.type,!0);case 31:return Ce("Activity");default:return""}}function Nt(c){try{var d="",p=null;do d+=Xe(c,p),p=c,c=c.return;while(c);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var lt=Object.prototype.hasOwnProperty,At=e.unstable_scheduleCallback,pt=e.unstable_cancelCallback,Qt=e.unstable_shouldYield,Pt=e.unstable_requestPaint,Vt=e.unstable_now,Zt=e.unstable_getCurrentPriorityLevel,Jt=e.unstable_ImmediatePriority,Dr=e.unstable_UserBlockingPriority,Ut=e.unstable_NormalPriority,Ct=e.unstable_LowPriority,gt=e.unstable_IdlePriority,St=e.log,_r=e.unstable_setDisableYieldValue,Yt=null,jt=null;function er(c){if(typeof St=="function"&&_r(c),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Yt,c)}catch{}}var br=Math.clz32?Math.clz32:dr,ar=Math.log,Ar=Math.LN2;function dr(c){return c>>>=0,c===0?32:31-(ar(c)/Ar|0)|0}var xn=256,Bn=262144,qr=4194304;function Wt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Fr(c,d,p){var y=c.pendingLanes;if(y===0)return 0;var j=0,k=c.suspendedLanes,G=c.pingedLanes;c=c.warmLanes;var le=y&134217727;return le!==0?(y=le&~k,y!==0?j=Wt(y):(G&=le,G!==0?j=Wt(G):p||(p=le&~c,p!==0&&(j=Wt(p))))):(le=y&~k,le!==0?j=Wt(le):G!==0?j=Wt(G):p||(p=y&~c,p!==0&&(j=Wt(p)))),j===0?0:d!==0&&d!==j&&(d&k)===0&&(k=j&-j,p=d&-d,k>=p||k===32&&(p&4194048)!==0)?d:j}function Ms(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Xa(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var c=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),c}function us(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function Gt(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ol(c,d,p,y,j,k){var G=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var le=c.entanglements,Ae=c.expirationTimes,$e=c.hiddenUpdates;for(p=G&~p;0<p;){var Je=31-br(p),it=1<<Je;le[Je]=0,Ae[Je]=-1;var Ve=$e[Je];if(Ve!==null)for($e[Je]=null,Je=0;Je<Ve.length;Je++){var We=Ve[Je];We!==null&&(We.lane&=-536870913)}p&=~it}y!==0&&il(c,y,0),k!==0&&j===0&&c.tag!==0&&(c.suspendedLanes|=k&~(G&~d))}function il(c,d,p){c.pendingLanes|=d,c.suspendedLanes&=~d;var y=31-br(d);c.entangledLanes|=d,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function oi(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var y=31-br(p),j=1<<y;j&d|c[y]&d&&(c[y]|=d),p&=~j}}function Vi(c,d){var p=d&-d;return p=(p&42)!==0?1:Sn(p),(p&(c.suspendedLanes|d))!==0?0:p}function Sn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function na(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function te(){var c=se.p;return c!==0?c:(c=window.event,c===void 0?32:rE(c.type))}function Ne(c,d){var p=se.p;try{return se.p=c,d()}finally{se.p=p}}var de=Math.random().toString(36).slice(2),he="__reactFiber$"+de,ve="__reactProps$"+de,je="__reactContainer$"+de,Me="__reactEvents$"+de,Ge="__reactListeners$"+de,Ie="__reactHandles$"+de,Be="__reactResources$"+de,ze="__reactMarker$"+de;function ut(c){delete c[he],delete c[ve],delete c[Me],delete c[Ge],delete c[Ie]}function mt(c){var d=c[he];if(d)return d;for(var p=c.parentNode;p;){if(d=p[je]||p[he]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=UA(c);c!==null;){if(p=c[he])return p;c=UA(c)}return d}c=p,p=c.parentNode}return null}function _t(c){if(c=c[he]||c[je]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function ht(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function yt(c){var d=c[Be];return d||(d=c[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Tt(c){c[ze]=!0}var ln=new Set,kr={};function fn(c,d){Wi(c,d),Wi(c+"Capture",d)}function Wi(c,d){for(kr[c]=d,c=0;c<d.length;c++)ln.add(d[c])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Rs={};function Rc(c){return lt.call(Rs,c)?!0:lt.call(Fl,c)?!1:Dl.test(c)?Rs[c]=!0:(Fl[c]=!0,!1)}function Ba(c,d,p){if(Rc(d))if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+p)}}function Of(c,d,p){if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+p)}}function dn(c,d,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(d,p,""+y)}}function Gi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Yd(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Yo(c,d,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var j=y.get,k=y.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return j.call(this)},set:function(G){p=""+G,k.call(this,G)}}),Object.defineProperty(c,d,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(G){p=""+G},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Xo(c){if(!c._valueTracker){var d=Yd(c)?"checked":"value";c._valueTracker=Yo(c,d,""+c[d])}}function sl(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),y="";return c&&(y=Yd(c)?c.checked?"true":"false":c.value),c=y,c!==p?(d.setValue(c),!0):!1}function oo(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var ga=/[\n"\\]/g;function Ci(c){return c.replace(ga,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Xd(c,d,p,y,j,k,G,le){c.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?c.type=G:c.removeAttribute("type"),d!=null?G==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Gi(d)):c.value!==""+Gi(d)&&(c.value=""+Gi(d)):G!=="submit"&&G!=="reset"||c.removeAttribute("value"),d!=null?Qd(c,G,Gi(d)):p!=null?Qd(c,G,Gi(p)):y!=null&&c.removeAttribute("value"),j==null&&k!=null&&(c.defaultChecked=!!k),j!=null&&(c.checked=j&&typeof j!="function"&&typeof j!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?c.name=""+Gi(le):c.removeAttribute("name")}function _h(c,d,p,y,j,k,G,le){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),d!=null||p!=null){if(!(k!=="submit"&&k!=="reset"||d!=null)){Xo(c);return}p=p!=null?""+Gi(p):"",d=d!=null?""+Gi(d):p,le||d===c.value||(c.value=d),c.defaultValue=d}y=y??j,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=le?c.checked:!!y,c.defaultChecked=!!y,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(c.name=G),Xo(c)}function Qd(c,d,p){d==="number"&&oo(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Ki(c,d,p,y){if(c=c.options,d){d={};for(var j=0;j<p.length;j++)d["$"+p[j]]=!0;for(p=0;p<c.length;p++)j=d.hasOwnProperty("$"+c[p].value),c[p].selected!==j&&(c[p].selected=j),j&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Gi(p),d=null,j=0;j<c.length;j++){if(c[j].value===p){c[j].selected=!0,y&&(c[j].defaultSelected=!0);return}d!==null||c[j].disabled||(d=c[j])}d!==null&&(d.selected=!0)}}function Zd(c,d,p){if(d!=null&&(d=""+Gi(d),d!==c.value&&(c.value=d),p==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=p!=null?""+Gi(p):""}function Jd(c,d,p,y){if(d==null){if(y!=null){if(p!=null)throw Error(n(92));if(pe(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),d=p}p=Gi(d),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Xo(c)}function Is(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var e0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(c,d,p){var y=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":y?c.setProperty(d,p):typeof p!="number"||p===0||e0.has(d)?d==="float"?c.cssFloat=p:c[d]=(""+p).trim():c[d]=p+"px"}function Sh(c,d,p){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var j in d)y=d[j],d.hasOwnProperty(j)&&p[j]!==y&&jh(c,j,y)}else for(var k in d)d.hasOwnProperty(k)&&jh(c,k,d[k])}function t0(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(c){return yu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ll(){}var Qo=null;function bu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ir=null,Ic=null;function Ah(c){var d=_t(c);if(d&&(c=d.stateNode)){var p=c[ve]||null;e:switch(c=d.stateNode,d.type){case"input":if(Xd(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ci(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var y=p[d];if(y!==c&&y.form===c.form){var j=y[ve]||null;if(!j)throw Error(n(90));Xd(y,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(d=0;d<p.length;d++)y=p[d],y.form===c.form&&sl(y)}break e;case"textarea":Zd(c,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Ki(c,!!p.multiple,d,!1)}}}var n0=!1;function Eh(c,d,p){if(n0)return c(d,p);n0=!0;try{var y=c(d);return y}finally{if(n0=!1,(ir!==null||Ic!==null)&&(S1(),ir&&(d=ir,c=Ic,Ic=ir=null,Ah(d),c)))for(d=0;d<c.length;d++)Ah(c[d])}}function Bs(c,d){var p=c.stateNode;if(p===null)return null;var y=p[ve]||null;if(y===null)return null;p=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=!1;if(ci)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){a0=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{a0=!1}var Us=null,Nu=null,co=null;function _u(){if(co)return co;var c,d=Nu,p=d.length,y,j="value"in Us?Us.value:Us.textContent,k=j.length;for(c=0;c<p&&d[c]===j[c];c++);var G=p-c;for(y=1;y<=G&&d[p-y]===j[k-y];y++);return co=j.slice(c,1<y?1-y:void 0)}function Zo(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Df(){return!0}function Ff(){return!1}function Qa(c){function d(p,y,j,k,G){this._reactName=p,this._targetInst=j,this.type=y,this.nativeEvent=k,this.target=G,this.currentTarget=null;for(var le in c)c.hasOwnProperty(le)&&(p=c[le],this[le]=p?p(k):k[le]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Df:Ff,this.isPropagationStopped=Ff,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Df)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Df)},persist:function(){},isPersistent:Df}),d}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Qa(zs),Jo=m({},zs,{view:0,detail:0}),Pf=Qa(Jo),ju,ec,Bc,Su=m({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Bc&&(Bc&&c.type==="mousemove"?(ju=c.screenX-Bc.screenX,ec=c.screenY-Bc.screenY):ec=ju=0,Bc=c),ju)},movementY:function(c){return"movementY"in c?c.movementY:ec}}),fo=Qa(Su),tc=m({},Su,{dataTransfer:0}),kh=Qa(tc),Ch=m({},Jo,{relatedTarget:0}),rc=Qa(Ch),Th=m({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),I=Qa(Th),Q=m({},zs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_e=Qa(Q),Ee=m({},zs,{data:0}),Fe=Qa(Ee),et={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Lt[c])?!!d[c]:!1}function or(){return qt}var xr=m({},Jo,{key:function(c){if(c.key){var d=et[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Zo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ot[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(c){return c.type==="keypress"?Zo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Zo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Kr=Qa(xr),Wn=m({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=Qa(Wn),An=m({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Ua=Qa(An),Aa=m({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ui=Qa(Aa),ll=m({},Su,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Qa(ll),Oh=m({},zs,{newState:0,oldState:0}),Lf=Qa(Oh),Au=[9,13,27,32],ho=ci&&"CompositionEvent"in window,Ml=null;ci&&"documentMode"in document&&(Ml=document.documentMode);var Eu=ci&&"TextEvent"in window&&!Ml,Uc=ci&&(!ho||Ml&&8<Ml&&11>=Ml),fi=" ",zc=!1;function qc(c,d){switch(c){case"keyup":return Au.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var mo=!1;function aa(c,d){switch(c){case"compositionend":return Mf(d);case"keypress":return d.which!==32?null:(zc=!0,fi);case"textInput":return c=d.data,c===fi&&zc?null:c;default:return null}}function nc(c,d){if(mo)return c==="compositionend"||!ho&&qc(c,d)?(c=_u(),co=Nu=Us=null,mo=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Uc&&d.locale!=="ko"?null:d.data;default:return null}}var Rf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Rf[c.type]:d==="textarea"}function qs(c,d,p,y){ir?Ic?Ic.push(y):Ic=[y]:ir=y,d=D1(d,"onChange"),0<d.length&&(p=new uo("onChange","change",null,p,y),c.push({event:p,listeners:d}))}var Rl=null,ac=null;function s0(c){AA(c,0)}function Il(c){var d=ht(c);if(sl(d))return c}function $c(c,d){if(c==="change")return d}var ds=!1;if(ci){var Yi;if(ci){var po="oninput"in document;if(!po){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),po=typeof xo.oninput=="function"}Yi=po}else Yi=!1;ds=Yi&&(!document.documentMode||9<document.documentMode)}function ic(){Rl&&(Rl.detachEvent("onpropertychange",If),ac=Rl=null)}function If(c){if(c.propertyName==="value"&&Il(ac)){var d=[];qs(d,ac,c,bu(c)),Eh(s0,d)}}function Bf(c,d,p){c==="focusin"?(ic(),Rl=d,ac=p,Rl.attachEvent("onpropertychange",If)):c==="focusout"&&ic()}function ya(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Il(ac)}function Dh(c,d){if(c==="click")return Il(d)}function go(c,d){if(c==="input"||c==="change")return Il(d)}function vo(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var di=typeof Object.is=="function"?Object.is:vo;function sc(c,d){if(di(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),y=Object.keys(d);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var j=p[y];if(!lt.call(d,j)||!di(c[j],d[j]))return!1}return!0}function Uf(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function zf(c,d){var p=Uf(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=d&&y>=d)return{node:p,offset:d-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Uf(p)}}function lc(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?lc(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function oc(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=oo(c.document);d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=oo(c.document)}return d}function yo(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var ku=ci&&"documentMode"in document&&11>=document.documentMode,$s=null,cc=null,Ti=null,ol=!1;function Yr(c,d,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ol||$s==null||$s!==oo(y)||(y=$s,"selectionStart"in y&&yo(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ti&&sc(Ti,y)||(Ti=y,y=D1(cc,"onSelect"),0<y.length&&(d=new uo("onSelect","select",null,d,p),c.push({event:d,listeners:y}),d.target=$s)))}function Ur(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var En={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},ba={},bo={};ci&&(bo=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function Bl(c){if(ba[c])return ba[c];if(!En[c])return c;var d=En[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in bo)return ba[c]=d[p];return c}var Cu=Bl("animationend"),l0=Bl("animationiteration"),Sp=Bl("animationstart"),t1=Bl("transitionrun"),r1=Bl("transitionstart"),n1=Bl("transitioncancel"),Ap=Bl("transitionend"),Ep=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function cl(c,d){Ep.set(c,d),fn(d,[c])}var o0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Hs=[],Ou=0,Fh=0;function c0(){for(var c=Ou,d=Fh=Ou=0;d<c;){var p=Hs[d];Hs[d++]=null;var y=Hs[d];Hs[d++]=null;var j=Hs[d];Hs[d++]=null;var k=Hs[d];if(Hs[d++]=null,y!==null&&j!==null){var G=y.pending;G===null?j.next=j:(j.next=G.next,G.next=j),y.pending=j}k!==0&&f0(p,j,k)}}function u0(c,d,p,y){Hs[Ou++]=c,Hs[Ou++]=d,Hs[Ou++]=p,Hs[Ou++]=y,Fh|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Ph(c,d,p,y){return u0(c,d,p,y),Oi(c)}function uc(c,d){return u0(c,null,null,d),Oi(c)}function f0(c,d,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var j=!1,k=c.return;k!==null;)k.childLanes|=p,y=k.alternate,y!==null&&(y.childLanes|=p),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(j=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,j&&d!==null&&(j=31-br(p),c=k.hiddenUpdates,y=c[j],y===null?c[j]=[d]:y.push(d),d.lane=p|536870912),k):null}function Oi(c){if(50<Yp)throw Yp=0,qb=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var hi={};function Lh(c,d,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(c,d,p,y){return new Lh(c,d,p,y)}function Mh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ul(c,d){var p=c.alternate;return p===null?(p=Di(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function d0(c,d){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,d=p.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function qf(c,d,p,y,j,k){var G=0;if(y=c,typeof c=="function")Mh(c)&&(G=1);else if(typeof c=="string")G=Az(c,p,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Di(31,p,d,j),c.elementType=B,c.lanes=k,c;case v:return Hc(p.children,j,k,d);case w:G=8,j|=24;break;case N:return c=Di(12,p,d,j|2),c.elementType=N,c.lanes=k,c;case F:return c=Di(13,p,d,j),c.elementType=F,c.lanes=k,c;case O:return c=Di(19,p,d,j),c.elementType=O,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case S:G=10;break e;case E:G=9;break e;case D:G=11;break e;case T:G=14;break e;case M:G=16,y=null;break e}G=29,p=Error(n(130,c===null?"null":typeof c,"")),y=null}return d=Di(G,p,d,j),d.elementType=c,d.type=y,d.lanes=k,d}function Hc(c,d,p,y){return c=Di(7,c,y,d),c.lanes=p,c}function h0(c,d,p){return c=Di(6,c,null,d),c.lanes=p,c}function Rh(c){var d=Di(18,null,null,0);return d.stateNode=c,d}function $f(c,d,p){return d=Di(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Ih=new WeakMap;function fl(c,d){if(typeof c=="object"&&c!==null){var p=Ih.get(c);return p!==void 0?p:(d={value:c,source:d,stack:Nt(d)},Ih.set(c,d),d)}return{value:c,source:d,stack:Nt(d)}}var Hf=[],Du=0,Bh=null,m0=0,dl=[],hl=0,Vc=null,ml=1,pl="";function Vs(c,d){Hf[Du++]=m0,Hf[Du++]=Bh,Bh=c,m0=d}function a1(c,d,p){dl[hl++]=ml,dl[hl++]=pl,dl[hl++]=Vc,Vc=c;var y=ml;c=pl;var j=32-br(y)-1;y&=~(1<<j),p+=1;var k=32-br(d)+j;if(30<k){var G=j-j%5;k=(y&(1<<G)-1).toString(32),y>>=G,j-=G,ml=1<<32-br(d)+j|p<<j|y,pl=k+c}else ml=1<<k|p<<j|y,pl=c}function kp(c){c.return!==null&&(Vs(c,1),a1(c,1,0))}function Uh(c){for(;c===Bh;)Bh=Hf[--Du],Hf[Du]=null,m0=Hf[--Du],Hf[Du]=null;for(;c===Vc;)Vc=dl[--hl],dl[hl]=null,pl=dl[--hl],dl[hl]=null,ml=dl[--hl],dl[hl]=null}function i1(c,d){dl[hl++]=ml,dl[hl++]=pl,dl[hl++]=Vc,ml=d.id,pl=d.overflow,Vc=c}var mi=null,Pn=null,Pr=!1,Xi=null,ia=!1,Ul=Error(n(519));function Wc(c){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vf(fl(d,c)),Ul}function Cp(c){var d=c.stateNode,p=c.type,y=c.memoizedProps;switch(d[he]=c,d[ve]=y,p){case"dialog":Mr("cancel",d),Mr("close",d);break;case"iframe":case"object":case"embed":Mr("load",d);break;case"video":case"audio":for(p=0;p<Qp.length;p++)Mr(Qp[p],d);break;case"source":Mr("error",d);break;case"img":case"image":case"link":Mr("error",d),Mr("load",d);break;case"details":Mr("toggle",d);break;case"input":Mr("invalid",d),_h(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Mr("invalid",d);break;case"textarea":Mr("invalid",d),Jd(d,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||y.suppressHydrationWarning===!0||TA(d.textContent,p)?(y.popover!=null&&(Mr("beforetoggle",d),Mr("toggle",d)),y.onScroll!=null&&Mr("scroll",d),y.onScrollEnd!=null&&Mr("scrollend",d),y.onClick!=null&&(d.onclick=Ll),d=!0):d=!1,d||Wc(c,!0)}function fc(c){for(mi=c.return;mi;)switch(mi.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:mi=mi.return}}function pi(c){if(c!==mi)return!1;if(!Pr)return fc(c),Pr=!0,!1;var d=c.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||nw(c.type,c.memoizedProps)),p=!p),p&&Pn&&Wc(c),fc(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Pn=BA(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Pn=BA(c)}else d===27?(d=Pn,id(c.type)?(c=ow,ow=null,Pn=c):Pn=d):Pn=mi?jo(c.stateNode.nextSibling):null;return!0}function Fu(){Pn=mi=null,Pr=!1}function Tp(){var c=Xi;return c!==null&&(wl===null?wl=c:wl.push.apply(wl,c),Xi=null),c}function Vf(c){Xi===null?Xi=[c]:Xi.push(c)}var zh=Y(null),Gc=null,wo=null;function Kc(c,d,p){L(zh,d._currentValue),d._currentValue=p}function xl(c){c._currentValue=zh.current,P(zh)}function Wf(c,d,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),c===p)break;c=c.return}}function Pu(c,d,p,y){var j=c.child;for(j!==null&&(j.return=c);j!==null;){var k=j.dependencies;if(k!==null){var G=j.child;k=k.firstContext;e:for(;k!==null;){var le=k;k=j;for(var Ae=0;Ae<d.length;Ae++)if(le.context===d[Ae]){k.lanes|=p,le=k.alternate,le!==null&&(le.lanes|=p),Wf(k.return,p,c),y||(G=null);break e}k=le.next}}else if(j.tag===18){if(G=j.return,G===null)throw Error(n(341));G.lanes|=p,k=G.alternate,k!==null&&(k.lanes|=p),Wf(G,p,c),G=null}else G=j.child;if(G!==null)G.return=j;else for(G=j;G!==null;){if(G===c){G=null;break}if(j=G.sibling,j!==null){j.return=G.return,G=j;break}G=G.return}j=G}}function Yc(c,d,p,y){c=null;for(var j=d,k=!1;j!==null;){if(!k){if((j.flags&524288)!==0)k=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var G=j.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var le=j.type;di(j.pendingProps.value,G.value)||(c!==null?c.push(le):c=[le])}}else if(j===ce.current){if(G=j.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(c!==null?c.push(rx):c=[rx])}j=j.return}c!==null&&Pu(d,c,p,y),d.flags|=262144}function qh(c){for(c=c.firstContext;c!==null;){if(!di(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Xc(c){Gc=c,wo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function xi(c){return s1(Gc,c)}function $h(c,d){return Gc===null&&Xc(c),s1(c,d)}function s1(c,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},wo===null){if(c===null)throw Error(n(308));wo=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else wo=wo.next=d;return p}var lb=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){d.aborted=!0,c.forEach(function(p){return p()})}},ob=e.unstable_scheduleCallback,cb=e.unstable_NormalPriority,wa={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new lb,data:new Map,refCount:0}}function p0(c){c.refCount--,c.refCount===0&&ob(cb,function(){c.controller.abort()})}var x0=null,Hh=0,_=0,A=null;function z(c,d){if(x0===null){var p=x0=[];Hh=0,_=Kb(),A={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Hh++,d.then(V,V),d}function V(){if(--Hh===0&&x0!==null){A!==null&&(A.status="fulfilled");var c=x0;x0=null,_=0,A=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function J(c,d){var p=[],y={status:"pending",value:null,reason:null,then:function(j){p.push(j)}};return c.then(function(){y.status="fulfilled",y.value=d;for(var j=0;j<p.length;j++)(0,p[j])(d)},function(j){for(y.status="rejected",y.reason=j,j=0;j<p.length;j++)(0,p[j])(void 0)}),y}var ne=re.S;re.S=function(c,d){eA=Vt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&z(c,d),ne!==null&&ne(c,d)};var ie=Y(null);function fe(){var c=ie.current;return c!==null?c:Mn.pooledCache}function me(c,d){d===null?L(ie,ie.current):L(ie,d.pool)}function we(){var c=fe();return c===null?null:{parent:wa._currentValue,pool:c}}var ke=Error(n(460)),Ue=Error(n(474)),be=Error(n(542)),Oe={then:function(){}};function Le(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Qe(c,d,p){switch(p=c[p],p===void 0?c.push(d):p!==d&&(d.then(Ll,Ll),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ft(c),c;default:if(typeof d.status=="string")d.then(Ll,Ll);else{if(c=Mn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(y){if(d.status==="pending"){var j=d;j.status="fulfilled",j.value=y}},function(y){if(d.status==="pending"){var j=d;j.status="rejected",j.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ft(c),c}throw Ye=d,ke}}function Re(c){try{var d=c._init;return d(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Ye=p,ke):p}}var Ye=null;function tt(){if(Ye===null)throw Error(n(459));var c=Ye;return Ye=null,c}function ft(c){if(c===ke||c===be)throw Error(n(483))}var st=null,Rt=0;function Et(c){var d=Rt;return Rt+=1,st===null&&(st=[]),Qe(st,c,d)}function mr(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Ot(c,d){throw d.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Tr(c){function d(Pe,Te){if(c){var qe=Pe.deletions;qe===null?(Pe.deletions=[Te],Pe.flags|=16):qe.push(Te)}}function p(Pe,Te){if(!c)return null;for(;Te!==null;)d(Pe,Te),Te=Te.sibling;return null}function y(Pe){for(var Te=new Map;Pe!==null;)Pe.key!==null?Te.set(Pe.key,Pe):Te.set(Pe.index,Pe),Pe=Pe.sibling;return Te}function j(Pe,Te){return Pe=ul(Pe,Te),Pe.index=0,Pe.sibling=null,Pe}function k(Pe,Te,qe){return Pe.index=qe,c?(qe=Pe.alternate,qe!==null?(qe=qe.index,qe<Te?(Pe.flags|=67108866,Te):qe):(Pe.flags|=67108866,Te)):(Pe.flags|=1048576,Te)}function G(Pe){return c&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function le(Pe,Te,qe,nt){return Te===null||Te.tag!==6?(Te=h0(qe,Pe.mode,nt),Te.return=Pe,Te):(Te=j(Te,qe),Te.return=Pe,Te)}function Ae(Pe,Te,qe,nt){var rr=qe.type;return rr===v?Je(Pe,Te,qe.props.children,nt,qe.key):Te!==null&&(Te.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===M&&Re(rr)===Te.type)?(Te=j(Te,qe.props),mr(Te,qe),Te.return=Pe,Te):(Te=qf(qe.type,qe.key,qe.props,null,Pe.mode,nt),mr(Te,qe),Te.return=Pe,Te)}function $e(Pe,Te,qe,nt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==qe.containerInfo||Te.stateNode.implementation!==qe.implementation?(Te=$f(qe,Pe.mode,nt),Te.return=Pe,Te):(Te=j(Te,qe.children||[]),Te.return=Pe,Te)}function Je(Pe,Te,qe,nt,rr){return Te===null||Te.tag!==7?(Te=Hc(qe,Pe.mode,nt,rr),Te.return=Pe,Te):(Te=j(Te,qe),Te.return=Pe,Te)}function it(Pe,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=h0(""+Te,Pe.mode,qe),Te.return=Pe,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return qe=qf(Te.type,Te.key,Te.props,null,Pe.mode,qe),mr(qe,Te),qe.return=Pe,qe;case b:return Te=$f(Te,Pe.mode,qe),Te.return=Pe,Te;case M:return Te=Re(Te),it(Pe,Te,qe)}if(pe(Te)||U(Te))return Te=Hc(Te,Pe.mode,qe,null),Te.return=Pe,Te;if(typeof Te.then=="function")return it(Pe,Et(Te),qe);if(Te.$$typeof===S)return it(Pe,$h(Pe,Te),qe);Ot(Pe,Te)}return null}function Ve(Pe,Te,qe,nt){var rr=Te!==null?Te.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return rr!==null?null:le(Pe,Te,""+qe,nt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:return qe.key===rr?Ae(Pe,Te,qe,nt):null;case b:return qe.key===rr?$e(Pe,Te,qe,nt):null;case M:return qe=Re(qe),Ve(Pe,Te,qe,nt)}if(pe(qe)||U(qe))return rr!==null?null:Je(Pe,Te,qe,nt,null);if(typeof qe.then=="function")return Ve(Pe,Te,Et(qe),nt);if(qe.$$typeof===S)return Ve(Pe,Te,$h(Pe,qe),nt);Ot(Pe,qe)}return null}function We(Pe,Te,qe,nt,rr){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Pe=Pe.get(qe)||null,le(Te,Pe,""+nt,rr);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:return Pe=Pe.get(nt.key===null?qe:nt.key)||null,Ae(Te,Pe,nt,rr);case b:return Pe=Pe.get(nt.key===null?qe:nt.key)||null,$e(Te,Pe,nt,rr);case M:return nt=Re(nt),We(Pe,Te,qe,nt,rr)}if(pe(nt)||U(nt))return Pe=Pe.get(qe)||null,Je(Te,Pe,nt,rr,null);if(typeof nt.then=="function")return We(Pe,Te,qe,Et(nt),rr);if(nt.$$typeof===S)return We(Pe,Te,qe,$h(Te,nt),rr);Ot(Te,nt)}return null}function Mt(Pe,Te,qe,nt){for(var rr=null,tn=null,$t=Te,jr=Te=0,Br=null;$t!==null&&jr<qe.length;jr++){$t.index>jr?(Br=$t,$t=null):Br=$t.sibling;var rn=Ve(Pe,$t,qe[jr],nt);if(rn===null){$t===null&&($t=Br);break}c&&$t&&rn.alternate===null&&d(Pe,$t),Te=k(rn,Te,jr),tn===null?rr=rn:tn.sibling=rn,tn=rn,$t=Br}if(jr===qe.length)return p(Pe,$t),Pr&&Vs(Pe,jr),rr;if($t===null){for(;jr<qe.length;jr++)$t=it(Pe,qe[jr],nt),$t!==null&&(Te=k($t,Te,jr),tn===null?rr=$t:tn.sibling=$t,tn=$t);return Pr&&Vs(Pe,jr),rr}for($t=y($t);jr<qe.length;jr++)Br=We($t,Pe,jr,qe[jr],nt),Br!==null&&(c&&Br.alternate!==null&&$t.delete(Br.key===null?jr:Br.key),Te=k(Br,Te,jr),tn===null?rr=Br:tn.sibling=Br,tn=Br);return c&&$t.forEach(function(ud){return d(Pe,ud)}),Pr&&Vs(Pe,jr),rr}function lr(Pe,Te,qe,nt){if(qe==null)throw Error(n(151));for(var rr=null,tn=null,$t=Te,jr=Te=0,Br=null,rn=qe.next();$t!==null&&!rn.done;jr++,rn=qe.next()){$t.index>jr?(Br=$t,$t=null):Br=$t.sibling;var ud=Ve(Pe,$t,rn.value,nt);if(ud===null){$t===null&&($t=Br);break}c&&$t&&ud.alternate===null&&d(Pe,$t),Te=k(ud,Te,jr),tn===null?rr=ud:tn.sibling=ud,tn=ud,$t=Br}if(rn.done)return p(Pe,$t),Pr&&Vs(Pe,jr),rr;if($t===null){for(;!rn.done;jr++,rn=qe.next())rn=it(Pe,rn.value,nt),rn!==null&&(Te=k(rn,Te,jr),tn===null?rr=rn:tn.sibling=rn,tn=rn);return Pr&&Vs(Pe,jr),rr}for($t=y($t);!rn.done;jr++,rn=qe.next())rn=We($t,Pe,jr,rn.value,nt),rn!==null&&(c&&rn.alternate!==null&&$t.delete(rn.key===null?jr:rn.key),Te=k(rn,Te,jr),tn===null?rr=rn:tn.sibling=rn,tn=rn);return c&&$t.forEach(function(Rz){return d(Pe,Rz)}),Pr&&Vs(Pe,jr),rr}function On(Pe,Te,qe,nt){if(typeof qe=="object"&&qe!==null&&qe.type===v&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:e:{for(var rr=qe.key;Te!==null;){if(Te.key===rr){if(rr=qe.type,rr===v){if(Te.tag===7){p(Pe,Te.sibling),nt=j(Te,qe.props.children),nt.return=Pe,Pe=nt;break e}}else if(Te.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===M&&Re(rr)===Te.type){p(Pe,Te.sibling),nt=j(Te,qe.props),mr(nt,qe),nt.return=Pe,Pe=nt;break e}p(Pe,Te);break}else d(Pe,Te);Te=Te.sibling}qe.type===v?(nt=Hc(qe.props.children,Pe.mode,nt,qe.key),nt.return=Pe,Pe=nt):(nt=qf(qe.type,qe.key,qe.props,null,Pe.mode,nt),mr(nt,qe),nt.return=Pe,Pe=nt)}return G(Pe);case b:e:{for(rr=qe.key;Te!==null;){if(Te.key===rr)if(Te.tag===4&&Te.stateNode.containerInfo===qe.containerInfo&&Te.stateNode.implementation===qe.implementation){p(Pe,Te.sibling),nt=j(Te,qe.children||[]),nt.return=Pe,Pe=nt;break e}else{p(Pe,Te);break}else d(Pe,Te);Te=Te.sibling}nt=$f(qe,Pe.mode,nt),nt.return=Pe,Pe=nt}return G(Pe);case M:return qe=Re(qe),On(Pe,Te,qe,nt)}if(pe(qe))return Mt(Pe,Te,qe,nt);if(U(qe)){if(rr=U(qe),typeof rr!="function")throw Error(n(150));return qe=rr.call(qe),lr(Pe,Te,qe,nt)}if(typeof qe.then=="function")return On(Pe,Te,Et(qe),nt);if(qe.$$typeof===S)return On(Pe,Te,$h(Pe,qe),nt);Ot(Pe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Te!==null&&Te.tag===6?(p(Pe,Te.sibling),nt=j(Te,qe),nt.return=Pe,Pe=nt):(p(Pe,Te),nt=h0(qe,Pe.mode,nt),nt.return=Pe,Pe=nt),G(Pe)):p(Pe,Te)}return function(Pe,Te,qe,nt){try{Rt=0;var rr=On(Pe,Te,qe,nt);return st=null,rr}catch($t){if($t===ke||$t===be)throw $t;var tn=Di(29,$t,null,Pe.mode);return tn.lanes=nt,tn.return=Pe,tn}finally{}}}var Ln=Tr(!0),gr=Tr(!1),kt=!1;function wt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gn(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function sr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wr(c,d,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(un&2)!==0){var j=y.pending;return j===null?d.next=d:(d.next=j.next,j.next=d),y.pending=d,d=Oi(c),f0(c,null,p),d}return u0(c,y,d,p),Oi(c)}function on(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,oi(c,p)}}function za(c,d){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var j=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var G={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};k===null?j=k=G:k=k.next=G,p=p.next}while(p!==null);k===null?j=k=d:k=k.next=d}else j=k=d;p={baseState:y.baseState,firstBaseUpdate:j,lastBaseUpdate:k,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}var gi=!1;function kn(){if(gi){var c=A;if(c!==null)throw c}}function Ea(c,d,p,y){gi=!1;var j=c.updateQueue;kt=!1;var k=j.firstBaseUpdate,G=j.lastBaseUpdate,le=j.shared.pending;if(le!==null){j.shared.pending=null;var Ae=le,$e=Ae.next;Ae.next=null,G===null?k=$e:G.next=$e,G=Ae;var Je=c.alternate;Je!==null&&(Je=Je.updateQueue,le=Je.lastBaseUpdate,le!==G&&(le===null?Je.firstBaseUpdate=$e:le.next=$e,Je.lastBaseUpdate=Ae))}if(k!==null){var it=j.baseState;G=0,Je=$e=Ae=null,le=k;do{var Ve=le.lane&-536870913,We=Ve!==le.lane;if(We?(Ir&Ve)===Ve:(y&Ve)===Ve){Ve!==0&&Ve===_&&(gi=!0),Je!==null&&(Je=Je.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Mt=c,lr=le;Ve=d;var On=p;switch(lr.tag){case 1:if(Mt=lr.payload,typeof Mt=="function"){it=Mt.call(On,it,Ve);break e}it=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=lr.payload,Ve=typeof Mt=="function"?Mt.call(On,it,Ve):Mt,Ve==null)break e;it=m({},it,Ve);break e;case 2:kt=!0}}Ve=le.callback,Ve!==null&&(c.flags|=64,We&&(c.flags|=8192),We=j.callbacks,We===null?j.callbacks=[Ve]:We.push(Ve))}else We={lane:Ve,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Je===null?($e=Je=We,Ae=it):Je=Je.next=We,G|=Ve;if(le=le.next,le===null){if(le=j.shared.pending,le===null)break;We=le,le=We.next,We.next=null,j.lastBaseUpdate=We,j.shared.pending=null}}while(!0);Je===null&&(Ae=it),j.baseState=Ae,j.firstBaseUpdate=$e,j.lastBaseUpdate=Je,k===null&&(j.shared.lanes=0),ed|=G,c.lanes=G,c.memoizedState=it}}function Fi(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function ka(c,d){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)Fi(p[c],d)}var Er=Y(null),$r=Y(0);function Kn(c,d){c=Hu,L($r,c),L(Er,d),Hu=c|d.baseLanes}function Xr(){L($r,Hu),L(Er,Er.current)}function qa(){Hu=$r.current,P(Er),P($r)}var Yn=Y(null),Hr=null;function Na(c){var d=c.alternate;L(zr,zr.current&1),L(Yn,c),Hr===null&&(d===null||Er.current!==null||d.memoizedState!==null)&&(Hr=c)}function cn(c){L(zr,zr.current),L(Yn,c),Hr===null&&(Hr=c)}function Ca(c){c.tag===22?(L(zr,zr.current),L(Yn,c),Hr===null&&(Hr=c)):Ta()}function Ta(){L(zr,zr.current),L(Yn,Yn.current)}function gn(c){P(Yn),Hr===c&&(Hr=null),P(zr)}var zr=Y(0);function Pi(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||sw(p)||lw(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var sa=0,Xt=null,tr=null,Vr=null,hs=!1,gl=!1,Qi=!1,Oa=0,Qc=0,Zc=null,Vh=0;function Cn(){throw Error(n(321))}function Op(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!di(c[p],d[p]))return!1;return!0}function Dp(c,d,p,y,j,k){return sa=k,Xt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,re.H=c===null||c.memoizedState===null?f6:gb,Qi=!1,k=p(y,j),Qi=!1,gl&&(k=dc(d,p,y,j)),Wh(c),k}function Wh(c){re.H=Up;var d=tr!==null&&tr.next!==null;if(sa=0,Vr=tr=Xt=null,hs=!1,Qc=0,Zc=null,d)throw Error(n(300));c===null||Ja||(c=c.dependencies,c!==null&&qh(c)&&(Ja=!0))}function dc(c,d,p,y){Xt=c;var j=0;do{if(gl&&(Zc=null),Qc=0,gl=!1,25<=j)throw Error(n(301));if(j+=1,Vr=tr=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}re.H=d6,k=d(p,y)}while(gl);return k}function ub(){var c=re.H,d=c.useState()[0];return d=typeof d.then=="function"?Jc(d):d,c=c.useState()[0],(tr!==null?tr.memoizedState:null)!==c&&(Xt.flags|=1024),d}function Fp(){var c=Oa!==0;return Oa=0,c}function Pp(c,d,p){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~p}function Gh(c){if(hs){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}hs=!1}sa=0,Vr=tr=Xt=null,gl=!1,Qc=Oa=0,Zc=null}function Za(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Xt.memoizedState=Vr=c:Vr=Vr.next=c,Vr}function la(){if(tr===null){var c=Xt.alternate;c=c!==null?c.memoizedState:null}else c=tr.next;var d=Vr===null?Xt.memoizedState:Vr.next;if(d!==null)Vr=d,tr=c;else{if(c===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));tr=c,c={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Vr===null?Xt.memoizedState=Vr=c:Vr=Vr.next=c}return Vr}function g0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(c){var d=Qc;return Qc+=1,Zc===null&&(Zc=[]),c=Qe(Zc,c,d),d=Xt,(Vr===null?d.memoizedState:Vr.next)===null&&(d=d.alternate,re.H=d===null||d.memoizedState===null?f6:gb),c}function Kf(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Jc(c);if(c.$$typeof===S)return xi(c)}throw Error(n(438,String(c)))}function Lu(c){var d=null,p=Xt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var y=Xt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(j){return j.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=g0(),Xt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(c),y=0;y<c;y++)p[y]=H;return d.index++,p}function No(c,d){return typeof d=="function"?d(c):d}function Kh(c){var d=la();return Yf(d,tr,c)}function Yf(c,d,p){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var j=c.baseQueue,k=y.pending;if(k!==null){if(j!==null){var G=j.next;j.next=k.next,k.next=G}d.baseQueue=j=k,y.pending=null}if(k=c.baseState,j===null)c.memoizedState=k;else{d=j.next;var le=G=null,Ae=null,$e=d,Je=!1;do{var it=$e.lane&-536870913;if(it!==$e.lane?(Ir&it)===it:(sa&it)===it){var Ve=$e.revertLane;if(Ve===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),it===_&&(Je=!0);else if((sa&Ve)===Ve){$e=$e.next,Ve===_&&(Je=!0);continue}else it={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(le=Ae=it,G=k):Ae=Ae.next=it,Xt.lanes|=Ve,ed|=Ve;it=$e.action,Qi&&p(k,it),k=$e.hasEagerState?$e.eagerState:p(k,it)}else Ve={lane:it,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(le=Ae=Ve,G=k):Ae=Ae.next=Ve,Xt.lanes|=it,ed|=it;$e=$e.next}while($e!==null&&$e!==d);if(Ae===null?G=k:Ae.next=le,!di(k,c.memoizedState)&&(Ja=!0,Je&&(p=A,p!==null)))throw p;c.memoizedState=k,c.baseState=G,c.baseQueue=Ae,y.lastRenderedState=k}return j===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Yh(c){var d=la(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,j=p.pending,k=d.memoizedState;if(j!==null){p.pending=null;var G=j=j.next;do k=c(k,G.action),G=G.next;while(G!==j);di(k,d.memoizedState)||(Ja=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),p.lastRenderedState=k}return[k,y]}function Xh(c,d,p){var y=Xt,j=la(),k=Pr;if(k){if(p===void 0)throw Error(n(407));p=p()}else p=d();var G=!di((tr||j).memoizedState,p);if(G&&(j.memoizedState=p,Ja=!0),j=j.queue,fb(Mp.bind(null,y,j,c),[c]),j.getSnapshot!==d||G||Vr!==null&&Vr.memoizedState.tag&1){if(y.flags|=2048,Ru(9,{destroy:void 0},Lp.bind(null,y,j,p,d),null),Mn===null)throw Error(n(349));k||(sa&127)!==0||hc(y,d,p)}return p}function hc(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=Xt.updateQueue,d===null?(d=g0(),Xt.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function Lp(c,d,p,y){d.value=p,d.getSnapshot=y,l1(d)&&Rp(c)}function Mp(c,d,p){return p(function(){l1(d)&&Rp(c)})}function l1(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!di(c,p)}catch{return!0}}function Rp(c){var d=uc(c,2);d!==null&&Nl(d,c,2)}function eu(c){var d=Za();if(typeof c=="function"){var p=c;if(c=p(),Qi){er(!0);try{p()}finally{er(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:c},d}function o1(c,d,p,y){return c.baseState=p,Yf(c,tr,typeof y=="function"?y:No)}function c1(c,d,p,y,j){if(h1(c))throw Error(n(485));if(c=d.action,c!==null){var k={payload:j,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){k.listeners.push(G)}};re.T!==null?p(!0):k.isTransition=!1,y(k),p=d.pending,p===null?(k.next=d.pending=k,u1(d,k)):(k.next=p.next,d.pending=p.next=k)}}function u1(c,d){var p=d.action,y=d.payload,j=c.state;if(d.isTransition){var k=re.T,G={};re.T=G;try{var le=p(j,y),Ae=re.S;Ae!==null&&Ae(G,le),Ip(c,d,le)}catch($e){Mu(c,d,$e)}finally{k!==null&&G.types!==null&&(k.types=G.types),re.T=k}}else try{k=p(j,y),Ip(c,d,k)}catch($e){Mu(c,d,$e)}}function Ip(c,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){f1(c,d,y)},function(y){return Mu(c,d,y)}):f1(c,d,p)}function f1(c,d,p){d.status="fulfilled",d.value=p,Qh(d),c.state=p,d=c.pending,d!==null&&(p=d.next,p===d?c.pending=null:(p=p.next,d.next=p,u1(c,p)))}function Mu(c,d,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=p,Qh(d),d=d.next;while(d!==y)}c.action=null}function Qh(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function v0(c,d){return d}function _o(c,d){if(Pr){var p=Mn.formState;if(p!==null){e:{var y=Xt;if(Pr){if(Pn){t:{for(var j=Pn,k=ia;j.nodeType!==8;){if(!k){j=null;break t}if(j=jo(j.nextSibling),j===null){j=null;break t}}k=j.data,j=k==="F!"||k==="F"?j:null}if(j){Pn=jo(j.nextSibling),y=j.data==="F!";break e}}Wc(y)}y=!1}y&&(d=p[0])}}return p=Za(),p.memoizedState=p.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:d},p.queue=y,p=o6.bind(null,Xt,y),y.dispatch=p,y=eu(!1),k=xb.bind(null,Xt,!1,y.queue),y=Za(),j={state:d,dispatch:null,action:c,pending:null},y.queue=j,p=c1.bind(null,Xt,j,k,p),j.dispatch=p,y.memoizedState=c,[d,p,!1]}function mc(c){var d=la();return pc(d,tr,c)}function pc(c,d,p){if(d=Yf(c,d,v0)[0],c=Kh(No)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=Jc(d)}catch(G){throw G===ke?be:G}else y=d;d=la();var j=d.queue,k=j.dispatch;return p!==d.memoizedState&&(Xt.flags|=2048,Ru(9,{destroy:void 0},Zh.bind(null,j,p),null)),[y,k,c]}function Zh(c,d){c.action=d}function Jh(c){var d=la(),p=tr;if(p!==null)return pc(d,p,c);la(),d=d.memoizedState,p=la();var y=p.queue.dispatch;return p.memoizedState=c,[d,y,!1]}function Ru(c,d,p,y){return c={tag:c,create:p,deps:y,inst:d,next:null},d=Xt.updateQueue,d===null&&(d=g0(),Xt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,d.lastEffect=c),c}function d1(){return la().memoizedState}function Xf(c,d,p,y){var j=Za();Xt.flags|=c,j.memoizedState=Ru(1|d,{destroy:void 0},p,y===void 0?null:y)}function Qf(c,d,p,y){var j=la();y=y===void 0?null:y;var k=j.memoizedState.inst;tr!==null&&y!==null&&Op(y,tr.memoizedState.deps)?j.memoizedState=Ru(d,k,p,y):(Xt.flags|=c,j.memoizedState=Ru(1|d,k,p,y))}function KS(c,d){Xf(8390656,8,c,d)}function fb(c,d){Qf(2048,8,c,d)}function OU(c){Xt.flags|=4;var d=Xt.updateQueue;if(d===null)d=g0(),Xt.updateQueue=d,d.events=[c];else{var p=d.events;p===null?d.events=[c]:p.push(c)}}function YS(c){var d=la().memoizedState;return OU({ref:d,nextImpl:c}),function(){if((un&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function XS(c,d){return Qf(4,2,c,d)}function QS(c,d){return Qf(4,4,c,d)}function ZS(c,d){if(typeof d=="function"){c=c();var p=d(c);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function JS(c,d,p){p=p!=null?p.concat([c]):null,Qf(4,4,ZS.bind(null,d,c),p)}function db(){}function e6(c,d){var p=la();d=d===void 0?null:d;var y=p.memoizedState;return d!==null&&Op(d,y[1])?y[0]:(p.memoizedState=[c,d],c)}function t6(c,d){var p=la();d=d===void 0?null:d;var y=p.memoizedState;if(d!==null&&Op(d,y[1]))return y[0];if(y=c(),Qi){er(!0);try{c()}finally{er(!1)}}return p.memoizedState=[y,d],y}function hb(c,d,p){return p===void 0||(sa&1073741824)!==0&&(Ir&261930)===0?c.memoizedState=d:(c.memoizedState=p,c=rA(),Xt.lanes|=c,ed|=c,p)}function r6(c,d,p,y){return di(p,d)?p:Er.current!==null?(c=hb(c,p,y),di(c,d)||(Ja=!0),c):(sa&42)===0||(sa&1073741824)!==0&&(Ir&261930)===0?(Ja=!0,c.memoizedState=p):(c=rA(),Xt.lanes|=c,ed|=c,d)}function n6(c,d,p,y,j){var k=se.p;se.p=k!==0&&8>k?k:8;var G=re.T,le={};re.T=le,xb(c,!1,d,p);try{var Ae=j(),$e=re.S;if($e!==null&&$e(le,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Je=J(Ae,y);Bp(c,d,Je,$l(c))}else Bp(c,d,y,$l(c))}catch(it){Bp(c,d,{then:function(){},status:"rejected",reason:it},$l())}finally{se.p=k,G!==null&&le.types!==null&&(G.types=le.types),re.T=G}}function DU(){}function mb(c,d,p,y){if(c.tag!==5)throw Error(n(476));var j=a6(c).queue;n6(c,j,d,ye,p===null?DU:function(){return i6(c),p(y)})}function a6(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:ye},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:p},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function i6(c){var d=a6(c);d.next===null&&(d=c.alternate.memoizedState),Bp(c,d.next.queue,{},$l())}function pb(){return xi(rx)}function s6(){return la().memoizedState}function l6(){return la().memoizedState}function FU(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var p=$l();c=sr(p);var y=wr(d,c,p);y!==null&&(Nl(y,d,p),on(y,d,p)),d={cache:Gf()},c.payload=d;return}d=d.return}}function PU(c,d,p){var y=$l();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},h1(c)?c6(d,p):(p=Ph(c,d,p,y),p!==null&&(Nl(p,c,y),u6(p,d,y)))}function o6(c,d,p){var y=$l();Bp(c,d,p,y)}function Bp(c,d,p,y){var j={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(h1(c))c6(d,j);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var G=d.lastRenderedState,le=k(G,p);if(j.hasEagerState=!0,j.eagerState=le,di(le,G))return u0(c,d,j,0),Mn===null&&c0(),!1}catch{}finally{}if(p=Ph(c,d,j,y),p!==null)return Nl(p,c,y),u6(p,d,y),!0}return!1}function xb(c,d,p,y){if(y={lane:2,revertLane:Kb(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},h1(c)){if(d)throw Error(n(479))}else d=Ph(c,p,y,2),d!==null&&Nl(d,c,2)}function h1(c){var d=c.alternate;return c===Xt||d!==null&&d===Xt}function c6(c,d){gl=hs=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function u6(c,d,p){if((p&4194048)!==0){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,oi(c,p)}}var Up={readContext:xi,use:Kf,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};Up.useEffectEvent=Cn;var f6={readContext:xi,use:Kf,useCallback:function(c,d){return Za().memoizedState=[c,d===void 0?null:d],c},useContext:xi,useEffect:KS,useImperativeHandle:function(c,d,p){p=p!=null?p.concat([c]):null,Xf(4194308,4,ZS.bind(null,d,c),p)},useLayoutEffect:function(c,d){return Xf(4194308,4,c,d)},useInsertionEffect:function(c,d){Xf(4,2,c,d)},useMemo:function(c,d){var p=Za();d=d===void 0?null:d;var y=c();if(Qi){er(!0);try{c()}finally{er(!1)}}return p.memoizedState=[y,d],y},useReducer:function(c,d,p){var y=Za();if(p!==void 0){var j=p(d);if(Qi){er(!0);try{p(d)}finally{er(!1)}}}else j=d;return y.memoizedState=y.baseState=j,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:j},y.queue=c,c=c.dispatch=PU.bind(null,Xt,c),[y.memoizedState,c]},useRef:function(c){var d=Za();return c={current:c},d.memoizedState=c},useState:function(c){c=eu(c);var d=c.queue,p=o6.bind(null,Xt,d);return d.dispatch=p,[c.memoizedState,p]},useDebugValue:db,useDeferredValue:function(c,d){var p=Za();return hb(p,c,d)},useTransition:function(){var c=eu(!1);return c=n6.bind(null,Xt,c.queue,!0,!1),Za().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,p){var y=Xt,j=Za();if(Pr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),Mn===null)throw Error(n(349));(Ir&127)!==0||hc(y,d,p)}j.memoizedState=p;var k={value:p,getSnapshot:d};return j.queue=k,KS(Mp.bind(null,y,k,c),[c]),y.flags|=2048,Ru(9,{destroy:void 0},Lp.bind(null,y,k,p,d),null),p},useId:function(){var c=Za(),d=Mn.identifierPrefix;if(Pr){var p=pl,y=ml;p=(y&~(1<<32-br(y)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Oa++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=Vh++,d="_"+d+"r_"+p.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:pb,useFormState:_o,useActionState:_o,useOptimistic:function(c){var d=Za();d.memoizedState=d.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=xb.bind(null,Xt,!0,p),p.dispatch=d,[c,d]},useMemoCache:Lu,useCacheRefresh:function(){return Za().memoizedState=FU.bind(null,Xt)},useEffectEvent:function(c){var d=Za(),p={impl:c};return d.memoizedState=p,function(){if((un&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},gb={readContext:xi,use:Kf,useCallback:e6,useContext:xi,useEffect:fb,useImperativeHandle:JS,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:t6,useReducer:Kh,useRef:d1,useState:function(){return Kh(No)},useDebugValue:db,useDeferredValue:function(c,d){var p=la();return r6(p,tr.memoizedState,c,d)},useTransition:function(){var c=Kh(No)[0],d=la().memoizedState;return[typeof c=="boolean"?c:Jc(c),d]},useSyncExternalStore:Xh,useId:s6,useHostTransitionStatus:pb,useFormState:mc,useActionState:mc,useOptimistic:function(c,d){var p=la();return o1(p,tr,c,d)},useMemoCache:Lu,useCacheRefresh:l6};gb.useEffectEvent=YS;var d6={readContext:xi,use:Kf,useCallback:e6,useContext:xi,useEffect:fb,useImperativeHandle:JS,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:t6,useReducer:Yh,useRef:d1,useState:function(){return Yh(No)},useDebugValue:db,useDeferredValue:function(c,d){var p=la();return tr===null?hb(p,c,d):r6(p,tr.memoizedState,c,d)},useTransition:function(){var c=Yh(No)[0],d=la().memoizedState;return[typeof c=="boolean"?c:Jc(c),d]},useSyncExternalStore:Xh,useId:s6,useHostTransitionStatus:pb,useFormState:Jh,useActionState:Jh,useOptimistic:function(c,d){var p=la();return tr!==null?o1(p,tr,c,d):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:Lu,useCacheRefresh:l6};d6.useEffectEvent=YS;function vb(c,d,p,y){d=c.memoizedState,p=p(y,d),p=p==null?d:m({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var yb={enqueueSetState:function(c,d,p){c=c._reactInternals;var y=$l(),j=sr(y);j.payload=d,p!=null&&(j.callback=p),d=wr(c,j,y),d!==null&&(Nl(d,c,y),on(d,c,y))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var y=$l(),j=sr(y);j.tag=1,j.payload=d,p!=null&&(j.callback=p),d=wr(c,j,y),d!==null&&(Nl(d,c,y),on(d,c,y))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=$l(),y=sr(p);y.tag=2,d!=null&&(y.callback=d),d=wr(c,y,p),d!==null&&(Nl(d,c,p),on(d,c,p))}};function h6(c,d,p,y,j,k,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,k,G):d.prototype&&d.prototype.isPureReactComponent?!sc(p,y)||!sc(j,k):!0}function m6(c,d,p,y){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,y),d.state!==c&&yb.enqueueReplaceState(d,d.state,null)}function y0(c,d){var p=d;if("ref"in d){p={};for(var y in d)y!=="ref"&&(p[y]=d[y])}if(c=c.defaultProps){p===d&&(p=m({},p));for(var j in c)p[j]===void 0&&(p[j]=c[j])}return p}function p6(c){o0(c)}function x6(c){console.error(c)}function g6(c){o0(c)}function m1(c,d){try{var p=c.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function v6(c,d,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function bb(c,d,p){return p=sr(p),p.tag=3,p.payload={element:null},p.callback=function(){m1(c,d)},p}function y6(c){return c=sr(c),c.tag=3,c}function b6(c,d,p,y){var j=p.type.getDerivedStateFromError;if(typeof j=="function"){var k=y.value;c.payload=function(){return j(k)},c.callback=function(){v6(d,p,y)}}var G=p.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(c.callback=function(){v6(d,p,y),typeof j!="function"&&(td===null?td=new Set([this]):td.add(this));var le=y.stack;this.componentDidCatch(y.value,{componentStack:le!==null?le:""})})}function LU(c,d,p,y,j){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=p.alternate,d!==null&&Yc(d,p,j,!0),p=Yn.current,p!==null){switch(p.tag){case 31:case 13:return Hr===null?A1():p.alternate===null&&Da===0&&(Da=3),p.flags&=-257,p.flags|=65536,p.lanes=j,y===Oe?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([y]):d.add(y),Vb(c,y,j)),!1;case 22:return p.flags|=65536,y===Oe?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([y]):p.add(y)),Vb(c,y,j)),!1}throw Error(n(435,p.tag))}return Vb(c,y,j),A1(),!1}if(Pr)return d=Yn.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=j,y!==Ul&&(c=Error(n(422),{cause:y}),Vf(fl(c,p)))):(y!==Ul&&(d=Error(n(423),{cause:y}),Vf(fl(d,p))),c=c.current.alternate,c.flags|=65536,j&=-j,c.lanes|=j,y=fl(y,p),j=bb(c.stateNode,y,j),za(c,j),Da!==4&&(Da=2)),!1;var k=Error(n(520),{cause:y});if(k=fl(k,p),Kp===null?Kp=[k]:Kp.push(k),Da!==4&&(Da=2),d===null)return!0;y=fl(y,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,c=j&-j,p.lanes|=c,c=bb(p.stateNode,y,c),za(p,c),!1;case 1:if(d=p.type,k=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(td===null||!td.has(k))))return p.flags|=65536,j&=-j,p.lanes|=j,j=y6(j),b6(j,c,p,y),za(p,j),!1}p=p.return}while(p!==null);return!1}var wb=Error(n(461)),Ja=!1;function Zi(c,d,p,y){d.child=c===null?gr(d,null,p,y):Ln(d,c.child,p,y)}function w6(c,d,p,y,j){p=p.render;var k=d.ref;if("ref"in y){var G={};for(var le in y)le!=="ref"&&(G[le]=y[le])}else G=y;return Xc(d),y=Dp(c,d,p,G,k,j),le=Fp(),c!==null&&!Ja?(Pp(c,d,j),Iu(c,d,j)):(Pr&&le&&kp(d),d.flags|=1,Zi(c,d,y,j),d.child)}function N6(c,d,p,y,j){if(c===null){var k=p.type;return typeof k=="function"&&!Mh(k)&&k.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=k,_6(c,d,k,y,j)):(c=qf(p.type,null,y,d,d.mode,j),c.ref=d.ref,c.return=d,d.child=c)}if(k=c.child,!Cb(c,j)){var G=k.memoizedProps;if(p=p.compare,p=p!==null?p:sc,p(G,y)&&c.ref===d.ref)return Iu(c,d,j)}return d.flags|=1,c=ul(k,y),c.ref=d.ref,c.return=d,d.child=c}function _6(c,d,p,y,j){if(c!==null){var k=c.memoizedProps;if(sc(k,y)&&c.ref===d.ref)if(Ja=!1,d.pendingProps=y=k,Cb(c,j))(c.flags&131072)!==0&&(Ja=!0);else return d.lanes=c.lanes,Iu(c,d,j)}return Nb(c,d,p,y,j)}function j6(c,d,p,y){var j=y.children,k=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(k=k!==null?k.baseLanes|p:p,c!==null){for(y=d.child=c.child,j=0;y!==null;)j=j|y.lanes|y.childLanes,y=y.sibling;y=j&~k}else y=0,d.child=null;return S6(c,d,k,p,y)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&me(d,k!==null?k.cachePool:null),k!==null?Kn(d,k):Xr(),Ca(d);else return y=d.lanes=536870912,S6(c,d,k!==null?k.baseLanes|p:p,p,y)}else k!==null?(me(d,k.cachePool),Kn(d,k),Ta(),d.memoizedState=null):(c!==null&&me(d,null),Xr(),Ta());return Zi(c,d,j,p),d.child}function zp(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function S6(c,d,p,y,j){var k=fe();return k=k===null?null:{parent:wa._currentValue,pool:k},d.memoizedState={baseLanes:p,cachePool:k},c!==null&&me(d,null),Xr(),Ca(d),c!==null&&Yc(c,d,y,!0),d.childLanes=j,null}function p1(c,d){return d=g1({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function A6(c,d,p){return Ln(d,c.child,null,p),c=p1(d,d.pendingProps),c.flags|=2,gn(d),d.memoizedState=null,c}function MU(c,d,p){var y=d.pendingProps,j=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(Pr){if(y.mode==="hidden")return c=p1(d,y),d.lanes=536870912,zp(null,c);if(cn(d),(c=Pn)?(c=IA(c,ia),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Vc!==null?{id:ml,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},p=Rh(c),p.return=d,d.child=p,mi=d,Pn=null)):c=null,c===null)throw Wc(d);return d.lanes=536870912,null}return p1(d,y)}var k=c.memoizedState;if(k!==null){var G=k.dehydrated;if(cn(d),j)if(d.flags&256)d.flags&=-257,d=A6(c,d,p);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(n(558));else if(Ja||Yc(c,d,p,!1),j=(p&c.childLanes)!==0,Ja||j){if(y=Mn,y!==null&&(G=Vi(y,p),G!==0&&G!==k.retryLane))throw k.retryLane=G,uc(c,G),Nl(y,c,G),wb;A1(),d=A6(c,d,p)}else c=k.treeContext,Pn=jo(G.nextSibling),mi=d,Pr=!0,Xi=null,ia=!1,c!==null&&i1(d,c),d=p1(d,y),d.flags|=4096;return d}return c=ul(c.child,{mode:y.mode,children:y.children}),c.ref=d.ref,d.child=c,c.return=d,c}function x1(c,d){var p=d.ref;if(p===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(d.flags|=4194816)}}function Nb(c,d,p,y,j){return Xc(d),p=Dp(c,d,p,y,void 0,j),y=Fp(),c!==null&&!Ja?(Pp(c,d,j),Iu(c,d,j)):(Pr&&y&&kp(d),d.flags|=1,Zi(c,d,p,j),d.child)}function E6(c,d,p,y,j,k){return Xc(d),d.updateQueue=null,p=dc(d,y,p,j),Wh(c),y=Fp(),c!==null&&!Ja?(Pp(c,d,k),Iu(c,d,k)):(Pr&&y&&kp(d),d.flags|=1,Zi(c,d,p,k),d.child)}function k6(c,d,p,y,j){if(Xc(d),d.stateNode===null){var k=hi,G=p.contextType;typeof G=="object"&&G!==null&&(k=xi(G)),k=new p(y,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=yb,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=y,k.state=d.memoizedState,k.refs={},wt(d),G=p.contextType,k.context=typeof G=="object"&&G!==null?xi(G):hi,k.state=d.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(vb(d,p,G,y),k.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(G=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),G!==k.state&&yb.enqueueReplaceState(k,k.state,null),Ea(d,y,k,j),kn(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(c===null){k=d.stateNode;var le=d.memoizedProps,Ae=y0(p,le);k.props=Ae;var $e=k.context,Je=p.contextType;G=hi,typeof Je=="object"&&Je!==null&&(G=xi(Je));var it=p.getDerivedStateFromProps;Je=typeof it=="function"||typeof k.getSnapshotBeforeUpdate=="function",le=d.pendingProps!==le,Je||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(le||$e!==G)&&m6(d,k,y,G),kt=!1;var Ve=d.memoizedState;k.state=Ve,Ea(d,y,k,j),kn(),$e=d.memoizedState,le||Ve!==$e||kt?(typeof it=="function"&&(vb(d,p,it,y),$e=d.memoizedState),(Ae=kt||h6(d,p,Ae,y,Ve,$e,G))?(Je||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=$e),k.props=y,k.state=$e,k.context=G,y=Ae):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{k=d.stateNode,Gn(c,d),G=d.memoizedProps,Je=y0(p,G),k.props=Je,it=d.pendingProps,Ve=k.context,$e=p.contextType,Ae=hi,typeof $e=="object"&&$e!==null&&(Ae=xi($e)),le=p.getDerivedStateFromProps,($e=typeof le=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(G!==it||Ve!==Ae)&&m6(d,k,y,Ae),kt=!1,Ve=d.memoizedState,k.state=Ve,Ea(d,y,k,j),kn();var We=d.memoizedState;G!==it||Ve!==We||kt||c!==null&&c.dependencies!==null&&qh(c.dependencies)?(typeof le=="function"&&(vb(d,p,le,y),We=d.memoizedState),(Je=kt||h6(d,p,Je,y,Ve,We,Ae)||c!==null&&c.dependencies!==null&&qh(c.dependencies))?($e||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(y,We,Ae),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(y,We,Ae)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=We),k.props=y,k.state=We,k.context=Ae,y=Je):(typeof k.componentDidUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),y=!1)}return k=y,x1(c,d),y=(d.flags&128)!==0,k||y?(k=d.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,c!==null&&y?(d.child=Ln(d,c.child,null,j),d.child=Ln(d,null,p,j)):Zi(c,d,p,j),d.memoizedState=k.state,c=d.child):c=Iu(c,d,j),c}function C6(c,d,p,y){return Fu(),d.flags|=256,Zi(c,d,p,y),d.child}var _b={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jb(c){return{baseLanes:c,cachePool:we()}}function Sb(c,d,p){return c=c!==null?c.childLanes&~p:0,d&&(c|=ql),c}function T6(c,d,p){var y=d.pendingProps,j=!1,k=(d.flags&128)!==0,G;if((G=k)||(G=c!==null&&c.memoizedState===null?!1:(zr.current&2)!==0),G&&(j=!0,d.flags&=-129),G=(d.flags&32)!==0,d.flags&=-33,c===null){if(Pr){if(j?Na(d):Ta(),(c=Pn)?(c=IA(c,ia),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Vc!==null?{id:ml,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},p=Rh(c),p.return=d,d.child=p,mi=d,Pn=null)):c=null,c===null)throw Wc(d);return lw(c)?d.lanes=32:d.lanes=536870912,null}var le=y.children;return y=y.fallback,j?(Ta(),j=d.mode,le=g1({mode:"hidden",children:le},j),y=Hc(y,j,p,null),le.return=d,y.return=d,le.sibling=y,d.child=le,y=d.child,y.memoizedState=jb(p),y.childLanes=Sb(c,G,p),d.memoizedState=_b,zp(null,y)):(Na(d),Ab(d,le))}var Ae=c.memoizedState;if(Ae!==null&&(le=Ae.dehydrated,le!==null)){if(k)d.flags&256?(Na(d),d.flags&=-257,d=Eb(c,d,p)):d.memoizedState!==null?(Ta(),d.child=c.child,d.flags|=128,d=null):(Ta(),le=y.fallback,j=d.mode,y=g1({mode:"visible",children:y.children},j),le=Hc(le,j,p,null),le.flags|=2,y.return=d,le.return=d,y.sibling=le,d.child=y,Ln(d,c.child,null,p),y=d.child,y.memoizedState=jb(p),y.childLanes=Sb(c,G,p),d.memoizedState=_b,d=zp(null,y));else if(Na(d),lw(le)){if(G=le.nextSibling&&le.nextSibling.dataset,G)var $e=G.dgst;G=$e,y=Error(n(419)),y.stack="",y.digest=G,Vf({value:y,source:null,stack:null}),d=Eb(c,d,p)}else if(Ja||Yc(c,d,p,!1),G=(p&c.childLanes)!==0,Ja||G){if(G=Mn,G!==null&&(y=Vi(G,p),y!==0&&y!==Ae.retryLane))throw Ae.retryLane=y,uc(c,y),Nl(G,c,y),wb;sw(le)||A1(),d=Eb(c,d,p)}else sw(le)?(d.flags|=192,d.child=c.child,d=null):(c=Ae.treeContext,Pn=jo(le.nextSibling),mi=d,Pr=!0,Xi=null,ia=!1,c!==null&&i1(d,c),d=Ab(d,y.children),d.flags|=4096);return d}return j?(Ta(),le=y.fallback,j=d.mode,Ae=c.child,$e=Ae.sibling,y=ul(Ae,{mode:"hidden",children:y.children}),y.subtreeFlags=Ae.subtreeFlags&65011712,$e!==null?le=ul($e,le):(le=Hc(le,j,p,null),le.flags|=2),le.return=d,y.return=d,y.sibling=le,d.child=y,zp(null,y),y=d.child,le=c.child.memoizedState,le===null?le=jb(p):(j=le.cachePool,j!==null?(Ae=wa._currentValue,j=j.parent!==Ae?{parent:Ae,pool:Ae}:j):j=we(),le={baseLanes:le.baseLanes|p,cachePool:j}),y.memoizedState=le,y.childLanes=Sb(c,G,p),d.memoizedState=_b,zp(c.child,y)):(Na(d),p=c.child,c=p.sibling,p=ul(p,{mode:"visible",children:y.children}),p.return=d,p.sibling=null,c!==null&&(G=d.deletions,G===null?(d.deletions=[c],d.flags|=16):G.push(c)),d.child=p,d.memoizedState=null,p)}function Ab(c,d){return d=g1({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function g1(c,d){return c=Di(22,c,null,d),c.lanes=0,c}function Eb(c,d,p){return Ln(d,c.child,null,p),c=Ab(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function O6(c,d,p){c.lanes|=d;var y=c.alternate;y!==null&&(y.lanes|=d),Wf(c.return,d,p)}function kb(c,d,p,y,j,k){var G=c.memoizedState;G===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:j,treeForkCount:k}:(G.isBackwards=d,G.rendering=null,G.renderingStartTime=0,G.last=y,G.tail=p,G.tailMode=j,G.treeForkCount=k)}function D6(c,d,p){var y=d.pendingProps,j=y.revealOrder,k=y.tail;y=y.children;var G=zr.current,le=(G&2)!==0;if(le?(G=G&1|2,d.flags|=128):G&=1,L(zr,G),Zi(c,d,y,p),y=Pr?m0:0,!le&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&O6(c,p,d);else if(c.tag===19)O6(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(j){case"forwards":for(p=d.child,j=null;p!==null;)c=p.alternate,c!==null&&Pi(c)===null&&(j=p),p=p.sibling;p=j,p===null?(j=d.child,d.child=null):(j=p.sibling,p.sibling=null),kb(d,!1,j,p,k,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,j=d.child,d.child=null;j!==null;){if(c=j.alternate,c!==null&&Pi(c)===null){d.child=j;break}c=j.sibling,j.sibling=p,p=j,j=c}kb(d,!0,p,null,k,y);break;case"together":kb(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function Iu(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),ed|=d.lanes,(p&d.childLanes)===0)if(c!==null){if(Yc(c,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,p=ul(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=ul(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function Cb(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&qh(c)))}function RU(c,d,p){switch(d.tag){case 3:ue(d,d.stateNode.containerInfo),Kc(d,wa,c.memoizedState.cache),Fu();break;case 27:case 5:Se(d);break;case 4:ue(d,d.stateNode.containerInfo);break;case 10:Kc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,cn(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Na(d),d.flags|=128,null):(p&d.child.childLanes)!==0?T6(c,d,p):(Na(d),c=Iu(c,d,p),c!==null?c.sibling:null);Na(d);break;case 19:var j=(c.flags&128)!==0;if(y=(p&d.childLanes)!==0,y||(Yc(c,d,p,!1),y=(p&d.childLanes)!==0),j){if(y)return D6(c,d,p);d.flags|=128}if(j=d.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),L(zr,zr.current),y)break;return null;case 22:return d.lanes=0,j6(c,d,p,d.pendingProps);case 24:Kc(d,wa,c.memoizedState.cache)}return Iu(c,d,p)}function F6(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps)Ja=!0;else{if(!Cb(c,p)&&(d.flags&128)===0)return Ja=!1,RU(c,d,p);Ja=(c.flags&131072)!==0}else Ja=!1,Pr&&(d.flags&1048576)!==0&&a1(d,m0,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(c=Re(d.elementType),d.type=c,typeof c=="function")Mh(c)?(y=y0(c,y),d.tag=1,d=k6(null,d,c,y,p)):(d.tag=0,d=Nb(null,d,c,y,p));else{if(c!=null){var j=c.$$typeof;if(j===D){d.tag=11,d=w6(null,d,c,y,p);break e}else if(j===T){d.tag=14,d=N6(null,d,c,y,p);break e}}throw d=ee(c)||c,Error(n(306,d,""))}}return d;case 0:return Nb(c,d,d.type,d.pendingProps,p);case 1:return y=d.type,j=y0(y,d.pendingProps),k6(c,d,y,j,p);case 3:e:{if(ue(d,d.stateNode.containerInfo),c===null)throw Error(n(387));y=d.pendingProps;var k=d.memoizedState;j=k.element,Gn(c,d),Ea(d,y,null,p);var G=d.memoizedState;if(y=G.cache,Kc(d,wa,y),y!==k.cache&&Pu(d,[wa],p,!0),kn(),y=G.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:G.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=C6(c,d,y,p);break e}else if(y!==j){j=fl(Error(n(424)),d),Vf(j),d=C6(c,d,y,p);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Pn=jo(c.firstChild),mi=d,Pr=!0,Xi=null,ia=!0,p=gr(d,null,y,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Fu(),y===j){d=Iu(c,d,p);break e}Zi(c,d,y,p)}d=d.child}return d;case 26:return x1(c,d),c===null?(p=HA(d.type,null,d.pendingProps,null))?d.memoizedState=p:Pr||(p=d.type,c=d.pendingProps,y=F1(X.current).createElement(p),y[he]=d,y[ve]=c,Ji(y,p,c),Tt(y),d.stateNode=y):d.memoizedState=HA(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Se(d),c===null&&Pr&&(y=d.stateNode=zA(d.type,d.pendingProps,X.current),mi=d,ia=!0,j=Pn,id(d.type)?(ow=j,Pn=jo(y.firstChild)):Pn=j),Zi(c,d,d.pendingProps.children,p),x1(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Pr&&((j=y=Pn)&&(y=hz(y,d.type,d.pendingProps,ia),y!==null?(d.stateNode=y,mi=d,Pn=jo(y.firstChild),ia=!1,j=!0):j=!1),j||Wc(d)),Se(d),j=d.type,k=d.pendingProps,G=c!==null?c.memoizedProps:null,y=k.children,nw(j,k)?y=null:G!==null&&nw(j,G)&&(d.flags|=32),d.memoizedState!==null&&(j=Dp(c,d,ub,null,null,p),rx._currentValue=j),x1(c,d),Zi(c,d,y,p),d.child;case 6:return c===null&&Pr&&((c=p=Pn)&&(p=mz(p,d.pendingProps,ia),p!==null?(d.stateNode=p,mi=d,Pn=null,c=!0):c=!1),c||Wc(d)),null;case 13:return T6(c,d,p);case 4:return ue(d,d.stateNode.containerInfo),y=d.pendingProps,c===null?d.child=Ln(d,null,y,p):Zi(c,d,y,p),d.child;case 11:return w6(c,d,d.type,d.pendingProps,p);case 7:return Zi(c,d,d.pendingProps,p),d.child;case 8:return Zi(c,d,d.pendingProps.children,p),d.child;case 12:return Zi(c,d,d.pendingProps.children,p),d.child;case 10:return y=d.pendingProps,Kc(d,d.type,y.value),Zi(c,d,y.children,p),d.child;case 9:return j=d.type._context,y=d.pendingProps.children,Xc(d),j=xi(j),y=y(j),d.flags|=1,Zi(c,d,y,p),d.child;case 14:return N6(c,d,d.type,d.pendingProps,p);case 15:return _6(c,d,d.type,d.pendingProps,p);case 19:return D6(c,d,p);case 31:return MU(c,d,p);case 22:return j6(c,d,p,d.pendingProps);case 24:return Xc(d),y=xi(wa),c===null?(j=fe(),j===null&&(j=Mn,k=Gf(),j.pooledCache=k,k.refCount++,k!==null&&(j.pooledCacheLanes|=p),j=k),d.memoizedState={parent:y,cache:j},wt(d),Kc(d,wa,j)):((c.lanes&p)!==0&&(Gn(c,d),Ea(d,null,null,p),kn()),j=c.memoizedState,k=d.memoizedState,j.parent!==y?(j={parent:y,cache:y},d.memoizedState=j,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=j),Kc(d,wa,y)):(y=k.cache,Kc(d,wa,y),y!==j.cache&&Pu(d,[wa],p,!0))),Zi(c,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function Bu(c){c.flags|=4}function Tb(c,d,p,y,j){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(j&335544128)===j)if(c.stateNode.complete)c.flags|=8192;else if(sA())c.flags|=8192;else throw Ye=Oe,Ue}else c.flags&=-16777217}function P6(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!YA(d))if(sA())c.flags|=8192;else throw Ye=Oe,Ue}function v1(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?al():536870912,c.lanes|=d,nm|=d)}function qp(c,d){if(!Pr)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Xn(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(d)for(var j=c.child;j!==null;)p|=j.lanes|j.childLanes,y|=j.subtreeFlags&65011712,y|=j.flags&65011712,j.return=c,j=j.sibling;else for(j=c.child;j!==null;)p|=j.lanes|j.childLanes,y|=j.subtreeFlags,y|=j.flags,j.return=c,j=j.sibling;return c.subtreeFlags|=y,c.childLanes=p,d}function IU(c,d,p){var y=d.pendingProps;switch(Uh(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(d),null;case 1:return Xn(d),null;case 3:return p=d.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),xl(wa),ae(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(pi(d)?Bu(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Tp())),Xn(d),null;case 26:var j=d.type,k=d.memoizedState;return c===null?(Bu(d),k!==null?(Xn(d),P6(d,k)):(Xn(d),Tb(d,j,null,y,p))):k?k!==c.memoizedState?(Bu(d),Xn(d),P6(d,k)):(Xn(d),d.flags&=-16777217):(c=c.memoizedProps,c!==y&&Bu(d),Xn(d),Tb(d,j,c,y,p)),null;case 27:if(De(d),p=X.current,j=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Bu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Xn(d),null}c=q.current,pi(d)?Cp(d):(c=zA(j,y,p),d.stateNode=c,Bu(d))}return Xn(d),null;case 5:if(De(d),j=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Bu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Xn(d),null}if(k=q.current,pi(d))Cp(d);else{var G=F1(X.current);switch(k){case 1:k=G.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:k=G.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":k=G.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":k=G.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":k=G.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof y.is=="string"?G.createElement("select",{is:y.is}):G.createElement("select"),y.multiple?k.multiple=!0:y.size&&(k.size=y.size);break;default:k=typeof y.is=="string"?G.createElement(j,{is:y.is}):G.createElement(j)}}k[he]=d,k[ve]=y;e:for(G=d.child;G!==null;){if(G.tag===5||G.tag===6)k.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===d)break e;for(;G.sibling===null;){if(G.return===null||G.return===d)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}d.stateNode=k;e:switch(Ji(k,j,y),j){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Bu(d)}}return Xn(d),Tb(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,p),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==y&&Bu(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(c=X.current,pi(d)){if(c=d.stateNode,p=d.memoizedProps,y=null,j=mi,j!==null)switch(j.tag){case 27:case 5:y=j.memoizedProps}c[he]=d,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||TA(c.nodeValue,p)),c||Wc(d,!0)}else c=F1(c).createTextNode(y),c[he]=d,d.stateNode=c}return Xn(d),null;case 31:if(p=d.memoizedState,c===null||c.memoizedState!==null){if(y=pi(d),p!==null){if(c===null){if(!y)throw Error(n(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[he]=d}else Fu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Xn(d),c=!1}else p=Tp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return d.flags&256?(gn(d),d):(gn(d),null);if((d.flags&128)!==0)throw Error(n(558))}return Xn(d),null;case 13:if(y=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(j=pi(d),y!==null&&y.dehydrated!==null){if(c===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[he]=d}else Fu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Xn(d),j=!1}else j=Tp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=j),j=!0;if(!j)return d.flags&256?(gn(d),d):(gn(d),null)}return gn(d),(d.flags&128)!==0?(d.lanes=p,d):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=d.child,j=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(j=y.alternate.memoizedState.cachePool.pool),k=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(k=y.memoizedState.cachePool.pool),k!==j&&(y.flags|=2048)),p!==c&&p&&(d.child.flags|=8192),v1(d,d.updateQueue),Xn(d),null);case 4:return ae(),c===null&&Zb(d.stateNode.containerInfo),Xn(d),null;case 10:return xl(d.type),Xn(d),null;case 19:if(P(zr),y=d.memoizedState,y===null)return Xn(d),null;if(j=(d.flags&128)!==0,k=y.rendering,k===null)if(j)qp(y,!1);else{if(Da!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(k=Pi(c),k!==null){for(d.flags|=128,qp(y,!1),c=k.updateQueue,d.updateQueue=c,v1(d,c),d.subtreeFlags=0,c=p,p=d.child;p!==null;)d0(p,c),p=p.sibling;return L(zr,zr.current&1|2),Pr&&Vs(d,y.treeForkCount),d.child}c=c.sibling}y.tail!==null&&Vt()>_1&&(d.flags|=128,j=!0,qp(y,!1),d.lanes=4194304)}else{if(!j)if(c=Pi(k),c!==null){if(d.flags|=128,j=!0,c=c.updateQueue,d.updateQueue=c,v1(d,c),qp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!Pr)return Xn(d),null}else 2*Vt()-y.renderingStartTime>_1&&p!==536870912&&(d.flags|=128,j=!0,qp(y,!1),d.lanes=4194304);y.isBackwards?(k.sibling=d.child,d.child=k):(c=y.last,c!==null?c.sibling=k:d.child=k,y.last=k)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Vt(),c.sibling=null,p=zr.current,L(zr,j?p&1|2:p&1),Pr&&Vs(d,y.treeForkCount),c):(Xn(d),null);case 22:case 23:return gn(d),qa(),y=d.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(p&536870912)!==0&&(d.flags&128)===0&&(Xn(d),d.subtreeFlags&6&&(d.flags|=8192)):Xn(d),p=d.updateQueue,p!==null&&v1(d,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048),c!==null&&P(ie),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),xl(wa),Xn(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function BU(c,d){switch(Uh(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return xl(wa),ae(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return De(d),null;case 31:if(d.memoizedState!==null){if(gn(d),d.alternate===null)throw Error(n(340));Fu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(gn(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Fu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return P(zr),null;case 4:return ae(),null;case 10:return xl(d.type),null;case 22:case 23:return gn(d),qa(),c!==null&&P(ie),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return xl(wa),null;case 25:return null;default:return null}}function L6(c,d){switch(Uh(d),d.tag){case 3:xl(wa),ae();break;case 26:case 27:case 5:De(d);break;case 4:ae();break;case 31:d.memoizedState!==null&&gn(d);break;case 13:gn(d);break;case 19:P(zr);break;case 10:xl(d.type);break;case 22:case 23:gn(d),qa(),c!==null&&P(ie);break;case 24:xl(wa)}}function $p(c,d){try{var p=d.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var j=y.next;p=j;do{if((p.tag&c)===c){y=void 0;var k=p.create,G=p.inst;y=k(),G.destroy=y}p=p.next}while(p!==j)}}catch(le){yn(d,d.return,le)}}function Zf(c,d,p){try{var y=d.updateQueue,j=y!==null?y.lastEffect:null;if(j!==null){var k=j.next;y=k;do{if((y.tag&c)===c){var G=y.inst,le=G.destroy;if(le!==void 0){G.destroy=void 0,j=d;var Ae=p,$e=le;try{$e()}catch(Je){yn(j,Ae,Je)}}}y=y.next}while(y!==k)}}catch(Je){yn(d,d.return,Je)}}function M6(c){var d=c.updateQueue;if(d!==null){var p=c.stateNode;try{ka(d,p)}catch(y){yn(c,c.return,y)}}}function R6(c,d,p){p.props=y0(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){yn(c,d,y)}}function Hp(c,d){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(j){yn(c,d,j)}}function tu(c,d){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(j){yn(c,d,j)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(j){yn(c,d,j)}else p.current=null}function I6(c){var d=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(j){yn(c,c.return,j)}}function Ob(c,d,p){try{var y=c.stateNode;lz(y,c.type,p,d),y[ve]=d}catch(j){yn(c,c.return,j)}}function B6(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&id(c.type)||c.tag===4}function Db(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||B6(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&id(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Fb(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(c),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Ll));else if(y!==4&&(y===27&&id(c.type)&&(p=c.stateNode,d=null),c=c.child,c!==null))for(Fb(c,d,p),c=c.sibling;c!==null;)Fb(c,d,p),c=c.sibling}function y1(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(y!==4&&(y===27&&id(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(y1(c,d,p),c=c.sibling;c!==null;)y1(c,d,p),c=c.sibling}function U6(c){var d=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,j=d.attributes;j.length;)d.removeAttributeNode(j[0]);Ji(d,y,p),d[he]=c,d[ve]=p}catch(k){yn(c,c.return,k)}}var Uu=!1,ei=!1,Pb=!1,z6=typeof WeakSet=="function"?WeakSet:Set,Li=null;function UU(c,d){if(c=c.containerInfo,tw=U1,c=oc(c),yo(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var j=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var G=0,le=-1,Ae=-1,$e=0,Je=0,it=c,Ve=null;t:for(;;){for(var We;it!==p||j!==0&&it.nodeType!==3||(le=G+j),it!==k||y!==0&&it.nodeType!==3||(Ae=G+y),it.nodeType===3&&(G+=it.nodeValue.length),(We=it.firstChild)!==null;)Ve=it,it=We;for(;;){if(it===c)break t;if(Ve===p&&++$e===j&&(le=G),Ve===k&&++Je===y&&(Ae=G),(We=it.nextSibling)!==null)break;it=Ve,Ve=it.parentNode}it=We}p=le===-1||Ae===-1?null:{start:le,end:Ae}}else p=null}p=p||{start:0,end:0}}else p=null;for(rw={focusedElem:c,selectionRange:p},U1=!1,Li=d;Li!==null;)if(d=Li,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Li=c;else for(;Li!==null;){switch(d=Li,k=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)j=c[p],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,p=d,j=k.memoizedProps,k=k.memoizedState,y=p.stateNode;try{var Mt=y0(p.type,j);c=y.getSnapshotBeforeUpdate(Mt,k),y.__reactInternalSnapshotBeforeUpdate=c}catch(lr){yn(p,p.return,lr)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,p=c.nodeType,p===9)iw(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":iw(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,Li=c;break}Li=d.return}}function q6(c,d,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:qu(c,p),y&4&&$p(5,p);break;case 1:if(qu(c,p),y&4)if(c=p.stateNode,d===null)try{c.componentDidMount()}catch(G){yn(p,p.return,G)}else{var j=y0(p.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(j,d,c.__reactInternalSnapshotBeforeUpdate)}catch(G){yn(p,p.return,G)}}y&64&&M6(p),y&512&&Hp(p,p.return);break;case 3:if(qu(c,p),y&64&&(c=p.updateQueue,c!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{ka(c,d)}catch(G){yn(p,p.return,G)}}break;case 27:d===null&&y&4&&U6(p);case 26:case 5:qu(c,p),d===null&&y&4&&I6(p),y&512&&Hp(p,p.return);break;case 12:qu(c,p);break;case 31:qu(c,p),y&4&&V6(c,p);break;case 13:qu(c,p),y&4&&W6(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=YU.bind(null,p),pz(c,p))));break;case 22:if(y=p.memoizedState!==null||Uu,!y){d=d!==null&&d.memoizedState!==null||ei,j=Uu;var k=ei;Uu=y,(ei=d)&&!k?$u(c,p,(p.subtreeFlags&8772)!==0):qu(c,p),Uu=j,ei=k}break;case 30:break;default:qu(c,p)}}function $6(c){var d=c.alternate;d!==null&&(c.alternate=null,$6(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&ut(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var oa=null,vl=!1;function zu(c,d,p){for(p=p.child;p!==null;)H6(c,d,p),p=p.sibling}function H6(c,d,p){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Yt,p)}catch{}switch(p.tag){case 26:ei||tu(p,d),zu(c,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ei||tu(p,d);var y=oa,j=vl;id(p.type)&&(oa=p.stateNode,vl=!1),zu(c,d,p),Jp(p.stateNode),oa=y,vl=j;break;case 5:ei||tu(p,d);case 6:if(y=oa,j=vl,oa=null,zu(c,d,p),oa=y,vl=j,oa!==null)if(vl)try{(oa.nodeType===9?oa.body:oa.nodeName==="HTML"?oa.ownerDocument.body:oa).removeChild(p.stateNode)}catch(k){yn(p,d,k)}else try{oa.removeChild(p.stateNode)}catch(k){yn(p,d,k)}break;case 18:oa!==null&&(vl?(c=oa,MA(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),fm(c)):MA(oa,p.stateNode));break;case 4:y=oa,j=vl,oa=p.stateNode.containerInfo,vl=!0,zu(c,d,p),oa=y,vl=j;break;case 0:case 11:case 14:case 15:Zf(2,p,d),ei||Zf(4,p,d),zu(c,d,p);break;case 1:ei||(tu(p,d),y=p.stateNode,typeof y.componentWillUnmount=="function"&&R6(p,d,y)),zu(c,d,p);break;case 21:zu(c,d,p);break;case 22:ei=(y=ei)||p.memoizedState!==null,zu(c,d,p),ei=y;break;default:zu(c,d,p)}}function V6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{fm(c)}catch(p){yn(d,d.return,p)}}}function W6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{fm(c)}catch(p){yn(d,d.return,p)}}function zU(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new z6),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new z6),d;default:throw Error(n(435,c.tag))}}function b1(c,d){var p=zU(c);d.forEach(function(y){if(!p.has(y)){p.add(y);var j=XU.bind(null,c,y);y.then(j,j)}})}function yl(c,d){var p=d.deletions;if(p!==null)for(var y=0;y<p.length;y++){var j=p[y],k=c,G=d,le=G;e:for(;le!==null;){switch(le.tag){case 27:if(id(le.type)){oa=le.stateNode,vl=!1;break e}break;case 5:oa=le.stateNode,vl=!1;break e;case 3:case 4:oa=le.stateNode.containerInfo,vl=!0;break e}le=le.return}if(oa===null)throw Error(n(160));H6(k,G,j),oa=null,vl=!1,k=j.alternate,k!==null&&(k.return=null),j.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)G6(d,c),d=d.sibling}var xc=null;function G6(c,d){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:yl(d,c),bl(c),y&4&&(Zf(3,c,c.return),$p(3,c),Zf(5,c,c.return));break;case 1:yl(d,c),bl(c),y&512&&(ei||p===null||tu(p,p.return)),y&64&&Uu&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var j=xc;if(yl(d,c),bl(c),y&512&&(ei||p===null||tu(p,p.return)),y&4){var k=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,j=j.ownerDocument||j;t:switch(y){case"title":k=j.getElementsByTagName("title")[0],(!k||k[ze]||k[he]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=j.createElement(y),j.head.insertBefore(k,j.querySelector("head > title"))),Ji(k,y,p),k[he]=c,Tt(k),y=k;break e;case"link":var G=GA("link","href",j).get(y+(p.href||""));if(G){for(var le=0;le<G.length;le++)if(k=G[le],k.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&k.getAttribute("rel")===(p.rel==null?null:p.rel)&&k.getAttribute("title")===(p.title==null?null:p.title)&&k.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){G.splice(le,1);break t}}k=j.createElement(y),Ji(k,y,p),j.head.appendChild(k);break;case"meta":if(G=GA("meta","content",j).get(y+(p.content||""))){for(le=0;le<G.length;le++)if(k=G[le],k.getAttribute("content")===(p.content==null?null:""+p.content)&&k.getAttribute("name")===(p.name==null?null:p.name)&&k.getAttribute("property")===(p.property==null?null:p.property)&&k.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&k.getAttribute("charset")===(p.charSet==null?null:p.charSet)){G.splice(le,1);break t}}k=j.createElement(y),Ji(k,y,p),j.head.appendChild(k);break;default:throw Error(n(468,y))}k[he]=c,Tt(k),y=k}c.stateNode=y}else KA(j,c.type,c.stateNode);else c.stateNode=WA(j,y,c.memoizedProps);else k!==y?(k===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):k.count--,y===null?KA(j,c.type,c.stateNode):WA(j,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Ob(c,c.memoizedProps,p.memoizedProps)}break;case 27:yl(d,c),bl(c),y&512&&(ei||p===null||tu(p,p.return)),p!==null&&y&4&&Ob(c,c.memoizedProps,p.memoizedProps);break;case 5:if(yl(d,c),bl(c),y&512&&(ei||p===null||tu(p,p.return)),c.flags&32){j=c.stateNode;try{Is(j,"")}catch(Mt){yn(c,c.return,Mt)}}y&4&&c.stateNode!=null&&(j=c.memoizedProps,Ob(c,j,p!==null?p.memoizedProps:j)),y&1024&&(Pb=!0);break;case 6:if(yl(d,c),bl(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(Mt){yn(c,c.return,Mt)}}break;case 3:if(M1=null,j=xc,xc=P1(d.containerInfo),yl(d,c),xc=j,bl(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{fm(d.containerInfo)}catch(Mt){yn(c,c.return,Mt)}Pb&&(Pb=!1,K6(c));break;case 4:y=xc,xc=P1(c.stateNode.containerInfo),yl(d,c),bl(c),xc=y;break;case 12:yl(d,c),bl(c);break;case 31:yl(d,c),bl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,b1(c,y)));break;case 13:yl(d,c),bl(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(N1=Vt()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,b1(c,y)));break;case 22:j=c.memoizedState!==null;var Ae=p!==null&&p.memoizedState!==null,$e=Uu,Je=ei;if(Uu=$e||j,ei=Je||Ae,yl(d,c),ei=Je,Uu=$e,bl(c),y&8192)e:for(d=c.stateNode,d._visibility=j?d._visibility&-2:d._visibility|1,j&&(p===null||Ae||Uu||ei||b0(c)),p=null,d=c;;){if(d.tag===5||d.tag===26){if(p===null){Ae=p=d;try{if(k=Ae.stateNode,j)G=k.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{le=Ae.stateNode;var it=Ae.memoizedProps.style,Ve=it!=null&&it.hasOwnProperty("display")?it.display:null;le.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Mt){yn(Ae,Ae.return,Mt)}}}else if(d.tag===6){if(p===null){Ae=d;try{Ae.stateNode.nodeValue=j?"":Ae.memoizedProps}catch(Mt){yn(Ae,Ae.return,Mt)}}}else if(d.tag===18){if(p===null){Ae=d;try{var We=Ae.stateNode;j?RA(We,!0):RA(Ae.stateNode,!1)}catch(Mt){yn(Ae,Ae.return,Mt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,b1(c,p))));break;case 19:yl(d,c),bl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,b1(c,y)));break;case 30:break;case 21:break;default:yl(d,c),bl(c)}}function bl(c){var d=c.flags;if(d&2){try{for(var p,y=c.return;y!==null;){if(B6(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var j=p.stateNode,k=Db(c);y1(c,k,j);break;case 5:var G=p.stateNode;p.flags&32&&(Is(G,""),p.flags&=-33);var le=Db(c);y1(c,le,G);break;case 3:case 4:var Ae=p.stateNode.containerInfo,$e=Db(c);Fb(c,$e,Ae);break;default:throw Error(n(161))}}catch(Je){yn(c,c.return,Je)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function K6(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;K6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function qu(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)q6(c,d.alternate,d),d=d.sibling}function b0(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Zf(4,d,d.return),b0(d);break;case 1:tu(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&R6(d,d.return,p),b0(d);break;case 27:Jp(d.stateNode);case 26:case 5:tu(d,d.return),b0(d);break;case 22:d.memoizedState===null&&b0(d);break;case 30:b0(d);break;default:b0(d)}c=c.sibling}}function $u(c,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,j=c,k=d,G=k.flags;switch(k.tag){case 0:case 11:case 15:$u(j,k,p),$p(4,k);break;case 1:if($u(j,k,p),y=k,j=y.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch($e){yn(y,y.return,$e)}if(y=k,j=y.updateQueue,j!==null){var le=y.stateNode;try{var Ae=j.shared.hiddenCallbacks;if(Ae!==null)for(j.shared.hiddenCallbacks=null,j=0;j<Ae.length;j++)Fi(Ae[j],le)}catch($e){yn(y,y.return,$e)}}p&&G&64&&M6(k),Hp(k,k.return);break;case 27:U6(k);case 26:case 5:$u(j,k,p),p&&y===null&&G&4&&I6(k),Hp(k,k.return);break;case 12:$u(j,k,p);break;case 31:$u(j,k,p),p&&G&4&&V6(j,k);break;case 13:$u(j,k,p),p&&G&4&&W6(j,k);break;case 22:k.memoizedState===null&&$u(j,k,p),Hp(k,k.return);break;case 30:break;default:$u(j,k,p)}d=d.sibling}}function Lb(c,d){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&p0(p))}function Mb(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&p0(c))}function gc(c,d,p,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Y6(c,d,p,y),d=d.sibling}function Y6(c,d,p,y){var j=d.flags;switch(d.tag){case 0:case 11:case 15:gc(c,d,p,y),j&2048&&$p(9,d);break;case 1:gc(c,d,p,y);break;case 3:gc(c,d,p,y),j&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&p0(c)));break;case 12:if(j&2048){gc(c,d,p,y),c=d.stateNode;try{var k=d.memoizedProps,G=k.id,le=k.onPostCommit;typeof le=="function"&&le(G,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Ae){yn(d,d.return,Ae)}}else gc(c,d,p,y);break;case 31:gc(c,d,p,y);break;case 13:gc(c,d,p,y);break;case 23:break;case 22:k=d.stateNode,G=d.alternate,d.memoizedState!==null?k._visibility&2?gc(c,d,p,y):Vp(c,d):k._visibility&2?gc(c,d,p,y):(k._visibility|=2,em(c,d,p,y,(d.subtreeFlags&10256)!==0||!1)),j&2048&&Lb(G,d);break;case 24:gc(c,d,p,y),j&2048&&Mb(d.alternate,d);break;default:gc(c,d,p,y)}}function em(c,d,p,y,j){for(j=j&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var k=c,G=d,le=p,Ae=y,$e=G.flags;switch(G.tag){case 0:case 11:case 15:em(k,G,le,Ae,j),$p(8,G);break;case 23:break;case 22:var Je=G.stateNode;G.memoizedState!==null?Je._visibility&2?em(k,G,le,Ae,j):Vp(k,G):(Je._visibility|=2,em(k,G,le,Ae,j)),j&&$e&2048&&Lb(G.alternate,G);break;case 24:em(k,G,le,Ae,j),j&&$e&2048&&Mb(G.alternate,G);break;default:em(k,G,le,Ae,j)}d=d.sibling}}function Vp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=c,y=d,j=y.flags;switch(y.tag){case 22:Vp(p,y),j&2048&&Lb(y.alternate,y);break;case 24:Vp(p,y),j&2048&&Mb(y.alternate,y);break;default:Vp(p,y)}d=d.sibling}}var Wp=8192;function tm(c,d,p){if(c.subtreeFlags&Wp)for(c=c.child;c!==null;)X6(c,d,p),c=c.sibling}function X6(c,d,p){switch(c.tag){case 26:tm(c,d,p),c.flags&Wp&&c.memoizedState!==null&&Ez(p,xc,c.memoizedState,c.memoizedProps);break;case 5:tm(c,d,p);break;case 3:case 4:var y=xc;xc=P1(c.stateNode.containerInfo),tm(c,d,p),xc=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=Wp,Wp=16777216,tm(c,d,p),Wp=y):tm(c,d,p));break;default:tm(c,d,p)}}function Q6(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Gp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Li=y,J6(y,c)}Q6(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Z6(c),c=c.sibling}function Z6(c){switch(c.tag){case 0:case 11:case 15:Gp(c),c.flags&2048&&Zf(9,c,c.return);break;case 3:Gp(c);break;case 12:Gp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,w1(c)):Gp(c);break;default:Gp(c)}}function w1(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];Li=y,J6(y,c)}Q6(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Zf(8,d,d.return),w1(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,w1(d));break;default:w1(d)}c=c.sibling}}function J6(c,d){for(;Li!==null;){var p=Li;switch(p.tag){case 0:case 11:case 15:Zf(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:p0(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Li=y;else e:for(p=c;Li!==null;){y=Li;var j=y.sibling,k=y.return;if($6(y),y===p){Li=null;break e}if(j!==null){j.return=k,Li=j;break e}Li=k}}}var qU={getCacheForType:function(c){var d=xi(wa),p=d.data.get(c);return p===void 0&&(p=c(),d.data.set(c,p)),p},cacheSignal:function(){return xi(wa).controller.signal}},$U=typeof WeakMap=="function"?WeakMap:Map,un=0,Mn=null,Lr=null,Ir=0,vn=0,zl=null,Jf=!1,rm=!1,Rb=!1,Hu=0,Da=0,ed=0,w0=0,Ib=0,ql=0,nm=0,Kp=null,wl=null,Bb=!1,N1=0,eA=0,_1=1/0,j1=null,td=null,vi=0,rd=null,am=null,Vu=0,Ub=0,zb=null,tA=null,Yp=0,qb=null;function $l(){return(un&2)!==0&&Ir!==0?Ir&-Ir:re.T!==null?Kb():te()}function rA(){if(ql===0)if((Ir&536870912)===0||Pr){var c=Bn;Bn<<=1,(Bn&3932160)===0&&(Bn=262144),ql=c}else ql=536870912;return c=Yn.current,c!==null&&(c.flags|=32),ql}function Nl(c,d,p){(c===Mn&&(vn===2||vn===9)||c.cancelPendingCommit!==null)&&(im(c,0),nd(c,Ir,ql,!1)),Gt(c,p),((un&2)===0||c!==Mn)&&(c===Mn&&((un&2)===0&&(w0|=p),Da===4&&nd(c,Ir,ql,!1)),ru(c))}function nA(c,d,p){if((un&6)!==0)throw Error(n(327));var y=!p&&(d&127)===0&&(d&c.expiredLanes)===0||Ms(c,d),j=y?WU(c,d):Hb(c,d,!0),k=y;do{if(j===0){rm&&!y&&nd(c,d,0,!1);break}else{if(p=c.current.alternate,k&&!HU(p)){j=Hb(c,d,!1),k=!1;continue}if(j===2){if(k=d,c.errorRecoveryDisabledLanes&k)var G=0;else G=c.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){d=G;e:{var le=c;j=Kp;var Ae=le.current.memoizedState.isDehydrated;if(Ae&&(im(le,G).flags|=256),G=Hb(le,G,!1),G!==2){if(Rb&&!Ae){le.errorRecoveryDisabledLanes|=k,w0|=k,j=4;break e}k=wl,wl=j,k!==null&&(wl===null?wl=k:wl.push.apply(wl,k))}j=G}if(k=!1,j!==2)continue}}if(j===1){im(c,0),nd(c,d,0,!0);break}e:{switch(y=c,k=j,k){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:nd(y,d,ql,!Jf);break e;case 2:wl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(j=N1+300-Vt(),10<j)){if(nd(y,d,ql,!Jf),Fr(y,0,!0)!==0)break e;Vu=d,y.timeoutHandle=PA(aA.bind(null,y,p,wl,j1,Bb,d,ql,w0,nm,Jf,k,"Throttled",-0,0),j);break e}aA(y,p,wl,j1,Bb,d,ql,w0,nm,Jf,k,null,-0,0)}}break}while(!0);ru(c)}function aA(c,d,p,y,j,k,G,le,Ae,$e,Je,it,Ve,We){if(c.timeoutHandle=-1,it=d.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ll},X6(d,k,it);var Mt=(k&62914560)===k?N1-Vt():(k&4194048)===k?eA-Vt():0;if(Mt=kz(it,Mt),Mt!==null){Vu=k,c.cancelPendingCommit=Mt(dA.bind(null,c,d,k,p,y,j,G,le,Ae,Je,it,null,Ve,We)),nd(c,k,G,!$e);return}}dA(c,d,k,p,y,j,G,le,Ae)}function HU(c){for(var d=c;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var j=p[y],k=j.getSnapshot;j=j.value;try{if(!di(k(),j))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function nd(c,d,p,y){d&=~Ib,d&=~w0,c.suspendedLanes|=d,c.pingedLanes&=~d,y&&(c.warmLanes|=d),y=c.expirationTimes;for(var j=d;0<j;){var k=31-br(j),G=1<<k;y[k]=-1,j&=~G}p!==0&&il(c,p,d)}function S1(){return(un&6)===0?(Xp(0),!1):!0}function $b(){if(Lr!==null){if(vn===0)var c=Lr.return;else c=Lr,wo=Gc=null,Gh(c),st=null,Rt=0,c=Lr;for(;c!==null;)L6(c.alternate,c),c=c.return;Lr=null}}function im(c,d){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,uz(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Vu=0,$b(),Mn=c,Lr=p=ul(c.current,null),Ir=d,vn=0,zl=null,Jf=!1,rm=Ms(c,d),Rb=!1,nm=ql=Ib=w0=ed=Da=0,wl=Kp=null,Bb=!1,(d&8)!==0&&(d|=d&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=d;0<y;){var j=31-br(y),k=1<<j;d|=c[j],y&=~k}return Hu=d,c0(),p}function iA(c,d){Xt=null,re.H=Up,d===ke||d===be?(d=tt(),vn=3):d===Ue?(d=tt(),vn=4):vn=d===wb?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,zl=d,Lr===null&&(Da=1,m1(c,fl(d,c.current)))}function sA(){var c=Yn.current;return c===null?!0:(Ir&4194048)===Ir?Hr===null:(Ir&62914560)===Ir||(Ir&536870912)!==0?c===Hr:!1}function lA(){var c=re.H;return re.H=Up,c===null?Up:c}function oA(){var c=re.A;return re.A=qU,c}function A1(){Da=4,Jf||(Ir&4194048)!==Ir&&Yn.current!==null||(rm=!0),(ed&134217727)===0&&(w0&134217727)===0||Mn===null||nd(Mn,Ir,ql,!1)}function Hb(c,d,p){var y=un;un|=2;var j=lA(),k=oA();(Mn!==c||Ir!==d)&&(j1=null,im(c,d)),d=!1;var G=Da;e:do try{if(vn!==0&&Lr!==null){var le=Lr,Ae=zl;switch(vn){case 8:$b(),G=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(d=!0);var $e=vn;if(vn=0,zl=null,sm(c,le,Ae,$e),p&&rm){G=0;break e}break;default:$e=vn,vn=0,zl=null,sm(c,le,Ae,$e)}}VU(),G=Da;break}catch(Je){iA(c,Je)}while(!0);return d&&c.shellSuspendCounter++,wo=Gc=null,un=y,re.H=j,re.A=k,Lr===null&&(Mn=null,Ir=0,c0()),G}function VU(){for(;Lr!==null;)cA(Lr)}function WU(c,d){var p=un;un|=2;var y=lA(),j=oA();Mn!==c||Ir!==d?(j1=null,_1=Vt()+500,im(c,d)):rm=Ms(c,d);e:do try{if(vn!==0&&Lr!==null){d=Lr;var k=zl;t:switch(vn){case 1:vn=0,zl=null,sm(c,d,k,1);break;case 2:case 9:if(Le(k)){vn=0,zl=null,uA(d);break}d=function(){vn!==2&&vn!==9||Mn!==c||(vn=7),ru(c)},k.then(d,d);break e;case 3:vn=7;break e;case 4:vn=5;break e;case 7:Le(k)?(vn=0,zl=null,uA(d)):(vn=0,zl=null,sm(c,d,k,7));break;case 5:var G=null;switch(Lr.tag){case 26:G=Lr.memoizedState;case 5:case 27:var le=Lr;if(G?YA(G):le.stateNode.complete){vn=0,zl=null;var Ae=le.sibling;if(Ae!==null)Lr=Ae;else{var $e=le.return;$e!==null?(Lr=$e,E1($e)):Lr=null}break t}}vn=0,zl=null,sm(c,d,k,5);break;case 6:vn=0,zl=null,sm(c,d,k,6);break;case 8:$b(),Da=6;break e;default:throw Error(n(462))}}GU();break}catch(Je){iA(c,Je)}while(!0);return wo=Gc=null,re.H=y,re.A=j,un=p,Lr!==null?0:(Mn=null,Ir=0,c0(),Da)}function GU(){for(;Lr!==null&&!Qt();)cA(Lr)}function cA(c){var d=F6(c.alternate,c,Hu);c.memoizedProps=c.pendingProps,d===null?E1(c):Lr=d}function uA(c){var d=c,p=d.alternate;switch(d.tag){case 15:case 0:d=E6(p,d,d.pendingProps,d.type,void 0,Ir);break;case 11:d=E6(p,d,d.pendingProps,d.type.render,d.ref,Ir);break;case 5:Gh(d);default:L6(p,d),d=Lr=d0(d,Hu),d=F6(p,d,Hu)}c.memoizedProps=c.pendingProps,d===null?E1(c):Lr=d}function sm(c,d,p,y){wo=Gc=null,Gh(d),st=null,Rt=0;var j=d.return;try{if(LU(c,j,d,p,Ir)){Da=1,m1(c,fl(p,c.current)),Lr=null;return}}catch(k){if(j!==null)throw Lr=j,k;Da=1,m1(c,fl(p,c.current)),Lr=null;return}d.flags&32768?(Pr||y===1?c=!0:rm||(Ir&536870912)!==0?c=!1:(Jf=c=!0,(y===2||y===9||y===3||y===6)&&(y=Yn.current,y!==null&&y.tag===13&&(y.flags|=16384))),fA(d,c)):E1(d)}function E1(c){var d=c;do{if((d.flags&32768)!==0){fA(d,Jf);return}c=d.return;var p=IU(d.alternate,d,Hu);if(p!==null){Lr=p;return}if(d=d.sibling,d!==null){Lr=d;return}Lr=d=c}while(d!==null);Da===0&&(Da=5)}function fA(c,d){do{var p=BU(c.alternate,c);if(p!==null){p.flags&=32767,Lr=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(c=c.sibling,c!==null)){Lr=c;return}Lr=c=p}while(c!==null);Da=6,Lr=null}function dA(c,d,p,y,j,k,G,le,Ae){c.cancelPendingCommit=null;do k1();while(vi!==0);if((un&6)!==0)throw Error(n(327));if(d!==null){if(d===c.current)throw Error(n(177));if(k=d.lanes|d.childLanes,k|=Fh,Ol(c,p,k,G,le,Ae),c===Mn&&(Lr=Mn=null,Ir=0),am=d,rd=c,Vu=p,Ub=k,zb=j,tA=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,QU(Ut,function(){return gA(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=re.T,re.T=null,j=se.p,se.p=2,G=un,un|=4;try{UU(c,d,p)}finally{un=G,se.p=j,re.T=y}}vi=1,hA(),mA(),pA()}}function hA(){if(vi===1){vi=0;var c=rd,d=am,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=re.T,re.T=null;var y=se.p;se.p=2;var j=un;un|=4;try{G6(d,c);var k=rw,G=oc(c.containerInfo),le=k.focusedElem,Ae=k.selectionRange;if(G!==le&&le&&le.ownerDocument&&lc(le.ownerDocument.documentElement,le)){if(Ae!==null&&yo(le)){var $e=Ae.start,Je=Ae.end;if(Je===void 0&&(Je=$e),"selectionStart"in le)le.selectionStart=$e,le.selectionEnd=Math.min(Je,le.value.length);else{var it=le.ownerDocument||document,Ve=it&&it.defaultView||window;if(Ve.getSelection){var We=Ve.getSelection(),Mt=le.textContent.length,lr=Math.min(Ae.start,Mt),On=Ae.end===void 0?lr:Math.min(Ae.end,Mt);!We.extend&&lr>On&&(G=On,On=lr,lr=G);var Pe=zf(le,lr),Te=zf(le,On);if(Pe&&Te&&(We.rangeCount!==1||We.anchorNode!==Pe.node||We.anchorOffset!==Pe.offset||We.focusNode!==Te.node||We.focusOffset!==Te.offset)){var qe=it.createRange();qe.setStart(Pe.node,Pe.offset),We.removeAllRanges(),lr>On?(We.addRange(qe),We.extend(Te.node,Te.offset)):(qe.setEnd(Te.node,Te.offset),We.addRange(qe))}}}}for(it=[],We=le;We=We.parentNode;)We.nodeType===1&&it.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<it.length;le++){var nt=it[le];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}U1=!!tw,rw=tw=null}finally{un=j,se.p=y,re.T=p}}c.current=d,vi=2}}function mA(){if(vi===2){vi=0;var c=rd,d=am,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=re.T,re.T=null;var y=se.p;se.p=2;var j=un;un|=4;try{q6(c,d.alternate,d)}finally{un=j,se.p=y,re.T=p}}vi=3}}function pA(){if(vi===4||vi===3){vi=0,Pt();var c=rd,d=am,p=Vu,y=tA;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?vi=5:(vi=0,am=rd=null,xA(c,c.pendingLanes));var j=c.pendingLanes;if(j===0&&(td=null),na(p),d=d.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Yt,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=re.T,j=se.p,se.p=2,re.T=null;try{for(var k=c.onRecoverableError,G=0;G<y.length;G++){var le=y[G];k(le.value,{componentStack:le.stack})}}finally{re.T=d,se.p=j}}(Vu&3)!==0&&k1(),ru(c),j=c.pendingLanes,(p&261930)!==0&&(j&42)!==0?c===qb?Yp++:(Yp=0,qb=c):Yp=0,Xp(0)}}function xA(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,p0(d)))}function k1(){return hA(),mA(),pA(),gA()}function gA(){if(vi!==5)return!1;var c=rd,d=Ub;Ub=0;var p=na(Vu),y=re.T,j=se.p;try{se.p=32>p?32:p,re.T=null,p=zb,zb=null;var k=rd,G=Vu;if(vi=0,am=rd=null,Vu=0,(un&6)!==0)throw Error(n(331));var le=un;if(un|=4,Z6(k.current),Y6(k,k.current,G,p),un=le,Xp(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Yt,k)}catch{}return!0}finally{se.p=j,re.T=y,xA(c,d)}}function vA(c,d,p){d=fl(p,d),d=bb(c.stateNode,d,2),c=wr(c,d,2),c!==null&&(Gt(c,2),ru(c))}function yn(c,d,p){if(c.tag===3)vA(c,c,p);else for(;d!==null;){if(d.tag===3){vA(d,c,p);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(td===null||!td.has(y))){c=fl(p,c),p=y6(2),y=wr(d,p,2),y!==null&&(b6(p,y,d,c),Gt(y,2),ru(y));break}}d=d.return}}function Vb(c,d,p){var y=c.pingCache;if(y===null){y=c.pingCache=new $U;var j=new Set;y.set(d,j)}else j=y.get(d),j===void 0&&(j=new Set,y.set(d,j));j.has(p)||(Rb=!0,j.add(p),c=KU.bind(null,c,d,p),d.then(c,c))}function KU(c,d,p){var y=c.pingCache;y!==null&&y.delete(d),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Mn===c&&(Ir&p)===p&&(Da===4||Da===3&&(Ir&62914560)===Ir&&300>Vt()-N1?(un&2)===0&&im(c,0):Ib|=p,nm===Ir&&(nm=0)),ru(c)}function yA(c,d){d===0&&(d=al()),c=uc(c,d),c!==null&&(Gt(c,d),ru(c))}function YU(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),yA(c,p)}function XU(c,d){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,j=c.memoizedState;j!==null&&(p=j.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(d),yA(c,p)}function QU(c,d){return At(c,d)}var C1=null,lm=null,Wb=!1,T1=!1,Gb=!1,ad=0;function ru(c){c!==lm&&c.next===null&&(lm===null?C1=lm=c:lm=lm.next=c),T1=!0,Wb||(Wb=!0,JU())}function Xp(c,d){if(!Gb&&T1){Gb=!0;do for(var p=!1,y=C1;y!==null;){if(c!==0){var j=y.pendingLanes;if(j===0)var k=0;else{var G=y.suspendedLanes,le=y.pingedLanes;k=(1<<31-br(42|c)+1)-1,k&=j&~(G&~le),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(p=!0,_A(y,k))}else k=Ir,k=Fr(y,y===Mn?k:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(k&3)===0||Ms(y,k)||(p=!0,_A(y,k));y=y.next}while(p);Gb=!1}}function ZU(){bA()}function bA(){T1=Wb=!1;var c=0;ad!==0&&cz()&&(c=ad);for(var d=Vt(),p=null,y=C1;y!==null;){var j=y.next,k=wA(y,d);k===0?(y.next=null,p===null?C1=j:p.next=j,j===null&&(lm=p)):(p=y,(c!==0||(k&3)!==0)&&(T1=!0)),y=j}vi!==0&&vi!==5||Xp(c),ad!==0&&(ad=0)}function wA(c,d){for(var p=c.suspendedLanes,y=c.pingedLanes,j=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var G=31-br(k),le=1<<G,Ae=j[G];Ae===-1?((le&p)===0||(le&y)!==0)&&(j[G]=Xa(le,d)):Ae<=d&&(c.expiredLanes|=le),k&=~le}if(d=Mn,p=Ir,p=Fr(c,c===d?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===d&&(vn===2||vn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&pt(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||Ms(c,p)){if(d=p&-p,d===c.callbackPriority)return d;switch(y!==null&&pt(y),na(p)){case 2:case 8:p=Dr;break;case 32:p=Ut;break;case 268435456:p=gt;break;default:p=Ut}return y=NA.bind(null,c),p=At(p,y),c.callbackPriority=d,c.callbackNode=p,d}return y!==null&&y!==null&&pt(y),c.callbackPriority=2,c.callbackNode=null,2}function NA(c,d){if(vi!==0&&vi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(k1()&&c.callbackNode!==p)return null;var y=Ir;return y=Fr(c,c===Mn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(nA(c,y,d),wA(c,Vt()),c.callbackNode!=null&&c.callbackNode===p?NA.bind(null,c):null)}function _A(c,d){if(k1())return null;nA(c,d,!0)}function JU(){fz(function(){(un&6)!==0?At(Jt,ZU):bA()})}function Kb(){if(ad===0){var c=_;c===0&&(c=xn,xn<<=1,(xn&261888)===0&&(xn=256)),ad=c}return ad}function jA(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Pl(""+c)}function SA(c,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,c.id&&p.setAttribute("form",c.id),d.parentNode.insertBefore(p,d),c=new FormData(c),p.parentNode.removeChild(p),c}function ez(c,d,p,y,j){if(d==="submit"&&p&&p.stateNode===j){var k=jA((j[ve]||null).action),G=y.submitter;G&&(d=(d=G[ve]||null)?jA(d.formAction):G.getAttribute("formAction"),d!==null&&(k=d,G=null));var le=new uo("action","action",null,y,j);c.push({event:le,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ad!==0){var Ae=G?SA(j,G):new FormData(j);mb(p,{pending:!0,data:Ae,method:j.method,action:k},null,Ae)}}else typeof k=="function"&&(le.preventDefault(),Ae=G?SA(j,G):new FormData(j),mb(p,{pending:!0,data:Ae,method:j.method,action:k},k,Ae))},currentTarget:j}]})}}for(var Yb=0;Yb<Tu.length;Yb++){var Xb=Tu[Yb],tz=Xb.toLowerCase(),rz=Xb[0].toUpperCase()+Xb.slice(1);cl(tz,"on"+rz)}cl(Cu,"onAnimationEnd"),cl(l0,"onAnimationIteration"),cl(Sp,"onAnimationStart"),cl("dblclick","onDoubleClick"),cl("focusin","onFocus"),cl("focusout","onBlur"),cl(t1,"onTransitionRun"),cl(r1,"onTransitionStart"),cl(n1,"onTransitionCancel"),cl(Ap,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qp));function AA(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],j=y.event;y=y.listeners;e:{var k=void 0;if(d)for(var G=y.length-1;0<=G;G--){var le=y[G],Ae=le.instance,$e=le.currentTarget;if(le=le.listener,Ae!==k&&j.isPropagationStopped())break e;k=le,j.currentTarget=$e;try{k(j)}catch(Je){o0(Je)}j.currentTarget=null,k=Ae}else for(G=0;G<y.length;G++){if(le=y[G],Ae=le.instance,$e=le.currentTarget,le=le.listener,Ae!==k&&j.isPropagationStopped())break e;k=le,j.currentTarget=$e;try{k(j)}catch(Je){o0(Je)}j.currentTarget=null,k=Ae}}}}function Mr(c,d){var p=d[Me];p===void 0&&(p=d[Me]=new Set);var y=c+"__bubble";p.has(y)||(EA(d,c,2,!1),p.add(y))}function Qb(c,d,p){var y=0;d&&(y|=4),EA(p,c,y,d)}var O1="_reactListening"+Math.random().toString(36).slice(2);function Zb(c){if(!c[O1]){c[O1]=!0,ln.forEach(function(p){p!=="selectionchange"&&(nz.has(p)||Qb(p,!1,c),Qb(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[O1]||(d[O1]=!0,Qb("selectionchange",!1,d))}}function EA(c,d,p,y){switch(rE(d)){case 2:var j=Oz;break;case 8:j=Dz;break;default:j=hw}p=j.bind(null,d,p,c),j=void 0,!a0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(j=!0),y?j!==void 0?c.addEventListener(d,p,{capture:!0,passive:j}):c.addEventListener(d,p,!0):j!==void 0?c.addEventListener(d,p,{passive:j}):c.addEventListener(d,p,!1)}function Jb(c,d,p,y,j){var k=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var G=y.tag;if(G===3||G===4){var le=y.stateNode.containerInfo;if(le===j)break;if(G===4)for(G=y.return;G!==null;){var Ae=G.tag;if((Ae===3||Ae===4)&&G.stateNode.containerInfo===j)return;G=G.return}for(;le!==null;){if(G=mt(le),G===null)return;if(Ae=G.tag,Ae===5||Ae===6||Ae===26||Ae===27){y=k=G;continue e}le=le.parentNode}}y=y.return}Eh(function(){var $e=k,Je=bu(p),it=[];e:{var Ve=Ep.get(c);if(Ve!==void 0){var We=uo,Mt=c;switch(c){case"keypress":if(Zo(p)===0)break e;case"keydown":case"keyup":We=Kr;break;case"focusin":Mt="focus",We=rc;break;case"focusout":Mt="blur",We=rc;break;case"beforeblur":case"afterblur":We=rc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Ua;break;case Cu:case l0:case Sp:We=I;break;case Ap:We=ui;break;case"scroll":case"scrollend":We=Pf;break;case"wheel":We=fs;break;case"copy":case"cut":case"paste":We=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=va;break;case"toggle":case"beforetoggle":We=Lf}var lr=(d&4)!==0,On=!lr&&(c==="scroll"||c==="scrollend"),Pe=lr?Ve!==null?Ve+"Capture":null:Ve;lr=[];for(var Te=$e,qe;Te!==null;){var nt=Te;if(qe=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||qe===null||Pe===null||(nt=Bs(Te,Pe),nt!=null&&lr.push(Zp(Te,nt,qe))),On)break;Te=Te.return}0<lr.length&&(Ve=new We(Ve,Mt,null,p,Je),it.push({event:Ve,listeners:lr}))}}if((d&7)===0){e:{if(Ve=c==="mouseover"||c==="pointerover",We=c==="mouseout"||c==="pointerout",Ve&&p!==Qo&&(Mt=p.relatedTarget||p.fromElement)&&(mt(Mt)||Mt[je]))break e;if((We||Ve)&&(Ve=Je.window===Je?Je:(Ve=Je.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,We?(Mt=p.relatedTarget||p.toElement,We=$e,Mt=Mt?mt(Mt):null,Mt!==null&&(On=i(Mt),lr=Mt.tag,Mt!==On||lr!==5&&lr!==27&&lr!==6)&&(Mt=null)):(We=null,Mt=$e),We!==Mt)){if(lr=fo,nt="onMouseLeave",Pe="onMouseEnter",Te="mouse",(c==="pointerout"||c==="pointerover")&&(lr=va,nt="onPointerLeave",Pe="onPointerEnter",Te="pointer"),On=We==null?Ve:ht(We),qe=Mt==null?Ve:ht(Mt),Ve=new lr(nt,Te+"leave",We,p,Je),Ve.target=On,Ve.relatedTarget=qe,nt=null,mt(Je)===$e&&(lr=new lr(Pe,Te+"enter",Mt,p,Je),lr.target=qe,lr.relatedTarget=On,nt=lr),On=nt,We&&Mt)t:{for(lr=az,Pe=We,Te=Mt,qe=0,nt=Pe;nt;nt=lr(nt))qe++;nt=0;for(var rr=Te;rr;rr=lr(rr))nt++;for(;0<qe-nt;)Pe=lr(Pe),qe--;for(;0<nt-qe;)Te=lr(Te),nt--;for(;qe--;){if(Pe===Te||Te!==null&&Pe===Te.alternate){lr=Pe;break t}Pe=lr(Pe),Te=lr(Te)}lr=null}else lr=null;We!==null&&kA(it,Ve,We,lr,!1),Mt!==null&&On!==null&&kA(it,On,Mt,lr,!0)}}e:{if(Ve=$e?ht($e):window,We=Ve.nodeName&&Ve.nodeName.toLowerCase(),We==="select"||We==="input"&&Ve.type==="file")var tn=$c;else if(i0(Ve))if(ds)tn=go;else{tn=ya;var $t=Bf}else We=Ve.nodeName,!We||We.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?$e&&t0($e.elementType)&&(tn=$c):tn=Dh;if(tn&&(tn=tn(c,$e))){qs(it,tn,p,Je);break e}$t&&$t(c,Ve,$e),c==="focusout"&&$e&&Ve.type==="number"&&$e.memoizedProps.value!=null&&Qd(Ve,"number",Ve.value)}switch($t=$e?ht($e):window,c){case"focusin":(i0($t)||$t.contentEditable==="true")&&($s=$t,cc=$e,Ti=null);break;case"focusout":Ti=cc=$s=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,Yr(it,p,Je);break;case"selectionchange":if(ku)break;case"keydown":case"keyup":Yr(it,p,Je)}var jr;if(ho)e:{switch(c){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else mo?qc(c,p)&&(Br="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Br="onCompositionStart");Br&&(Uc&&p.locale!=="ko"&&(mo||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&mo&&(jr=_u()):(Us=Je,Nu="value"in Us?Us.value:Us.textContent,mo=!0)),$t=D1($e,Br),0<$t.length&&(Br=new Fe(Br,c,null,p,Je),it.push({event:Br,listeners:$t}),jr?Br.data=jr:(jr=Mf(p),jr!==null&&(Br.data=jr)))),(jr=Eu?aa(c,p):nc(c,p))&&(Br=D1($e,"onBeforeInput"),0<Br.length&&($t=new Fe("onBeforeInput","beforeinput",null,p,Je),it.push({event:$t,listeners:Br}),$t.data=jr)),ez(it,c,$e,p,Je)}AA(it,d)})}function Zp(c,d,p){return{instance:c,listener:d,currentTarget:p}}function D1(c,d){for(var p=d+"Capture",y=[];c!==null;){var j=c,k=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||k===null||(j=Bs(c,p),j!=null&&y.unshift(Zp(c,j,k)),j=Bs(c,d),j!=null&&y.push(Zp(c,j,k))),c.tag===3)return y;c=c.return}return[]}function az(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function kA(c,d,p,y,j){for(var k=d._reactName,G=[];p!==null&&p!==y;){var le=p,Ae=le.alternate,$e=le.stateNode;if(le=le.tag,Ae!==null&&Ae===y)break;le!==5&&le!==26&&le!==27||$e===null||(Ae=$e,j?($e=Bs(p,k),$e!=null&&G.unshift(Zp(p,$e,Ae))):j||($e=Bs(p,k),$e!=null&&G.push(Zp(p,$e,Ae)))),p=p.return}G.length!==0&&c.push({event:d,listeners:G})}var iz=/\r\n?/g,sz=/\u0000|\uFFFD/g;function CA(c){return(typeof c=="string"?c:""+c).replace(iz,`
`).replace(sz,"")}function TA(c,d){return d=CA(d),CA(c)===d}function Tn(c,d,p,y,j,k){switch(p){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Is(c,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Is(c,""+y);break;case"className":Of(c,"class",y);break;case"tabIndex":Of(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Of(c,p,y);break;case"style":Sh(c,y,k);break;case"data":if(d!=="object"){Of(c,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Pl(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(p==="formAction"?(d!=="input"&&Tn(c,d,"name",j.name,j,null),Tn(c,d,"formEncType",j.formEncType,j,null),Tn(c,d,"formMethod",j.formMethod,j,null),Tn(c,d,"formTarget",j.formTarget,j,null)):(Tn(c,d,"encType",j.encType,j,null),Tn(c,d,"method",j.method,j,null),Tn(c,d,"target",j.target,j,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Pl(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=Ll);break;case"onScroll":y!=null&&Mr("scroll",c);break;case"onScrollEnd":y!=null&&Mr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(j.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=Pl(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":Mr("beforetoggle",c),Mr("toggle",c),Ba(c,"popover",y);break;case"xlinkActuate":dn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":dn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":dn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":dn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":dn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":dn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":dn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":dn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":dn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ba(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=r0.get(p)||p,Ba(c,p,y))}}function ew(c,d,p,y,j,k){switch(p){case"style":Sh(c,y,k);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(j.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Is(c,y):(typeof y=="number"||typeof y=="bigint")&&Is(c,""+y);break;case"onScroll":y!=null&&Mr("scroll",c);break;case"onScrollEnd":y!=null&&Mr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(j=p.endsWith("Capture"),d=p.slice(2,j?p.length-7:void 0),k=c[ve]||null,k=k!=null?k[p]:null,typeof k=="function"&&c.removeEventListener(d,k,j),typeof y=="function")){typeof k!="function"&&k!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(d,y,j);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):Ba(c,p,y)}}}function Ji(c,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mr("error",c),Mr("load",c);var y=!1,j=!1,k;for(k in p)if(p.hasOwnProperty(k)){var G=p[k];if(G!=null)switch(k){case"src":y=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Tn(c,d,k,G,p,null)}}j&&Tn(c,d,"srcSet",p.srcSet,p,null),y&&Tn(c,d,"src",p.src,p,null);return;case"input":Mr("invalid",c);var le=k=G=j=null,Ae=null,$e=null;for(y in p)if(p.hasOwnProperty(y)){var Je=p[y];if(Je!=null)switch(y){case"name":j=Je;break;case"type":G=Je;break;case"checked":Ae=Je;break;case"defaultChecked":$e=Je;break;case"value":k=Je;break;case"defaultValue":le=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,d));break;default:Tn(c,d,y,Je,p,null)}}_h(c,k,le,Ae,$e,G,j,!1);return;case"select":Mr("invalid",c),y=G=k=null;for(j in p)if(p.hasOwnProperty(j)&&(le=p[j],le!=null))switch(j){case"value":k=le;break;case"defaultValue":G=le;break;case"multiple":y=le;default:Tn(c,d,j,le,p,null)}d=k,p=G,c.multiple=!!y,d!=null?Ki(c,!!y,d,!1):p!=null&&Ki(c,!!y,p,!0);return;case"textarea":Mr("invalid",c),k=j=y=null;for(G in p)if(p.hasOwnProperty(G)&&(le=p[G],le!=null))switch(G){case"value":y=le;break;case"defaultValue":j=le;break;case"children":k=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(91));break;default:Tn(c,d,G,le,p,null)}Jd(c,y,j,k);return;case"option":for(Ae in p)if(p.hasOwnProperty(Ae)&&(y=p[Ae],y!=null))switch(Ae){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Tn(c,d,Ae,y,p,null)}return;case"dialog":Mr("beforetoggle",c),Mr("toggle",c),Mr("cancel",c),Mr("close",c);break;case"iframe":case"object":Mr("load",c);break;case"video":case"audio":for(y=0;y<Qp.length;y++)Mr(Qp[y],c);break;case"image":Mr("error",c),Mr("load",c);break;case"details":Mr("toggle",c);break;case"embed":case"source":case"link":Mr("error",c),Mr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in p)if(p.hasOwnProperty($e)&&(y=p[$e],y!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Tn(c,d,$e,y,p,null)}return;default:if(t0(d)){for(Je in p)p.hasOwnProperty(Je)&&(y=p[Je],y!==void 0&&ew(c,d,Je,y,p,void 0));return}}for(le in p)p.hasOwnProperty(le)&&(y=p[le],y!=null&&Tn(c,d,le,y,p,null))}function lz(c,d,p,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,k=null,G=null,le=null,Ae=null,$e=null,Je=null;for(We in p){var it=p[We];if(p.hasOwnProperty(We)&&it!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":Ae=it;default:y.hasOwnProperty(We)||Tn(c,d,We,null,y,it)}}for(var Ve in y){var We=y[Ve];if(it=p[Ve],y.hasOwnProperty(Ve)&&(We!=null||it!=null))switch(Ve){case"type":k=We;break;case"name":j=We;break;case"checked":$e=We;break;case"defaultChecked":Je=We;break;case"value":G=We;break;case"defaultValue":le=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,d));break;default:We!==it&&Tn(c,d,Ve,We,y,it)}}Xd(c,G,le,Ae,$e,Je,k,j);return;case"select":We=G=le=Ve=null;for(k in p)if(Ae=p[k],p.hasOwnProperty(k)&&Ae!=null)switch(k){case"value":break;case"multiple":We=Ae;default:y.hasOwnProperty(k)||Tn(c,d,k,null,y,Ae)}for(j in y)if(k=y[j],Ae=p[j],y.hasOwnProperty(j)&&(k!=null||Ae!=null))switch(j){case"value":Ve=k;break;case"defaultValue":le=k;break;case"multiple":G=k;default:k!==Ae&&Tn(c,d,j,k,y,Ae)}d=le,p=G,y=We,Ve!=null?Ki(c,!!p,Ve,!1):!!y!=!!p&&(d!=null?Ki(c,!!p,d,!0):Ki(c,!!p,p?[]:"",!1));return;case"textarea":We=Ve=null;for(le in p)if(j=p[le],p.hasOwnProperty(le)&&j!=null&&!y.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:Tn(c,d,le,null,y,j)}for(G in y)if(j=y[G],k=p[G],y.hasOwnProperty(G)&&(j!=null||k!=null))switch(G){case"value":Ve=j;break;case"defaultValue":We=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==k&&Tn(c,d,G,j,y,k)}Zd(c,Ve,We);return;case"option":for(var Mt in p)if(Ve=p[Mt],p.hasOwnProperty(Mt)&&Ve!=null&&!y.hasOwnProperty(Mt))switch(Mt){case"selected":c.selected=!1;break;default:Tn(c,d,Mt,null,y,Ve)}for(Ae in y)if(Ve=y[Ae],We=p[Ae],y.hasOwnProperty(Ae)&&Ve!==We&&(Ve!=null||We!=null))switch(Ae){case"selected":c.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Tn(c,d,Ae,Ve,y,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lr in p)Ve=p[lr],p.hasOwnProperty(lr)&&Ve!=null&&!y.hasOwnProperty(lr)&&Tn(c,d,lr,null,y,Ve);for($e in y)if(Ve=y[$e],We=p[$e],y.hasOwnProperty($e)&&Ve!==We&&(Ve!=null||We!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,d));break;default:Tn(c,d,$e,Ve,y,We)}return;default:if(t0(d)){for(var On in p)Ve=p[On],p.hasOwnProperty(On)&&Ve!==void 0&&!y.hasOwnProperty(On)&&ew(c,d,On,void 0,y,Ve);for(Je in y)Ve=y[Je],We=p[Je],!y.hasOwnProperty(Je)||Ve===We||Ve===void 0&&We===void 0||ew(c,d,Je,Ve,y,We);return}}for(var Pe in p)Ve=p[Pe],p.hasOwnProperty(Pe)&&Ve!=null&&!y.hasOwnProperty(Pe)&&Tn(c,d,Pe,null,y,Ve);for(it in y)Ve=y[it],We=p[it],!y.hasOwnProperty(it)||Ve===We||Ve==null&&We==null||Tn(c,d,it,Ve,y,We)}function OA(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oz(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var j=p[y],k=j.transferSize,G=j.initiatorType,le=j.duration;if(k&&le&&OA(G)){for(G=0,le=j.responseEnd,y+=1;y<p.length;y++){var Ae=p[y],$e=Ae.startTime;if($e>le)break;var Je=Ae.transferSize,it=Ae.initiatorType;Je&&OA(it)&&(Ae=Ae.responseEnd,G+=Je*(Ae<le?1:(le-$e)/(Ae-$e)))}if(--y,d+=8*(k+G)/(j.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var tw=null,rw=null;function F1(c){return c.nodeType===9?c:c.ownerDocument}function DA(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FA(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function nw(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var aw=null;function cz(){var c=window.event;return c&&c.type==="popstate"?c===aw?!1:(aw=c,!0):(aw=null,!1)}var PA=typeof setTimeout=="function"?setTimeout:void 0,uz=typeof clearTimeout=="function"?clearTimeout:void 0,LA=typeof Promise=="function"?Promise:void 0,fz=typeof queueMicrotask=="function"?queueMicrotask:typeof LA<"u"?function(c){return LA.resolve(null).then(c).catch(dz)}:PA;function dz(c){setTimeout(function(){throw c})}function id(c){return c==="head"}function MA(c,d){var p=d,y=0;do{var j=p.nextSibling;if(c.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(j),fm(d);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Jp(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Jp(p);for(var k=p.firstChild;k;){var G=k.nextSibling,le=k.nodeName;k[ze]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&k.rel.toLowerCase()==="stylesheet"||p.removeChild(k),k=G}}else p==="body"&&Jp(c.ownerDocument.body);p=j}while(p);fm(d)}function RA(c,d){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function iw(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":iw(p),ut(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function hz(c,d,p,y){for(;c.nodeType===1;){var j=p;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[ze])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==j.rel||c.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||c.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||c.getAttribute("title")!==(j.title==null?null:j.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(j.src==null?null:j.src)||c.getAttribute("type")!==(j.type==null?null:j.type)||c.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var k=j.name==null?null:""+j.name;if(j.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=jo(c.nextSibling),c===null)break}return null}function mz(c,d,p){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=jo(c.nextSibling),c===null))return null;return c}function IA(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=jo(c.nextSibling),c===null))return null;return c}function sw(c){return c.data==="$?"||c.data==="$~"}function lw(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function pz(c,d){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||p.readyState!=="loading")d();else{var y=function(){d(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function jo(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var ow=null;function BA(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(d===0)return jo(c.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}c=c.nextSibling}return null}function UA(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return c;d--}else p!=="/$"&&p!=="/&"||d++}c=c.previousSibling}return null}function zA(c,d,p){switch(d=F1(p),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Jp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);ut(c)}var So=new Map,qA=new Set;function P1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Wu=se.d;se.d={f:xz,r:gz,D:vz,C:yz,L:bz,m:wz,X:_z,S:Nz,M:jz};function xz(){var c=Wu.f(),d=S1();return c||d}function gz(c){var d=_t(c);d!==null&&d.tag===5&&d.type==="form"?i6(d):Wu.r(c)}var om=typeof document>"u"?null:document;function $A(c,d,p){var y=om;if(y&&typeof d=="string"&&d){var j=Ci(d);j='link[rel="'+c+'"][href="'+j+'"]',typeof p=="string"&&(j+='[crossorigin="'+p+'"]'),qA.has(j)||(qA.add(j),c={rel:c,crossOrigin:p,href:d},y.querySelector(j)===null&&(d=y.createElement("link"),Ji(d,"link",c),Tt(d),y.head.appendChild(d)))}}function vz(c){Wu.D(c),$A("dns-prefetch",c,null)}function yz(c,d){Wu.C(c,d),$A("preconnect",c,d)}function bz(c,d,p){Wu.L(c,d,p);var y=om;if(y&&c&&d){var j='link[rel="preload"][as="'+Ci(d)+'"]';d==="image"&&p&&p.imageSrcSet?(j+='[imagesrcset="'+Ci(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(j+='[imagesizes="'+Ci(p.imageSizes)+'"]')):j+='[href="'+Ci(c)+'"]';var k=j;switch(d){case"style":k=cm(c);break;case"script":k=um(c)}So.has(k)||(c=m({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:c,as:d},p),So.set(k,c),y.querySelector(j)!==null||d==="style"&&y.querySelector(ex(k))||d==="script"&&y.querySelector(tx(k))||(d=y.createElement("link"),Ji(d,"link",c),Tt(d),y.head.appendChild(d)))}}function wz(c,d){Wu.m(c,d);var p=om;if(p&&c){var y=d&&typeof d.as=="string"?d.as:"script",j='link[rel="modulepreload"][as="'+Ci(y)+'"][href="'+Ci(c)+'"]',k=j;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=um(c)}if(!So.has(k)&&(c=m({rel:"modulepreload",href:c},d),So.set(k,c),p.querySelector(j)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(tx(k)))return}y=p.createElement("link"),Ji(y,"link",c),Tt(y),p.head.appendChild(y)}}}function Nz(c,d,p){Wu.S(c,d,p);var y=om;if(y&&c){var j=yt(y).hoistableStyles,k=cm(c);d=d||"default";var G=j.get(k);if(!G){var le={loading:0,preload:null};if(G=y.querySelector(ex(k)))le.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":d},p),(p=So.get(k))&&cw(c,p);var Ae=G=y.createElement("link");Tt(Ae),Ji(Ae,"link",c),Ae._p=new Promise(function($e,Je){Ae.onload=$e,Ae.onerror=Je}),Ae.addEventListener("load",function(){le.loading|=1}),Ae.addEventListener("error",function(){le.loading|=2}),le.loading|=4,L1(G,d,y)}G={type:"stylesheet",instance:G,count:1,state:le},j.set(k,G)}}}function _z(c,d){Wu.X(c,d);var p=om;if(p&&c){var y=yt(p).hoistableScripts,j=um(c),k=y.get(j);k||(k=p.querySelector(tx(j)),k||(c=m({src:c,async:!0},d),(d=So.get(j))&&uw(c,d),k=p.createElement("script"),Tt(k),Ji(k,"link",c),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(j,k))}}function jz(c,d){Wu.M(c,d);var p=om;if(p&&c){var y=yt(p).hoistableScripts,j=um(c),k=y.get(j);k||(k=p.querySelector(tx(j)),k||(c=m({src:c,async:!0,type:"module"},d),(d=So.get(j))&&uw(c,d),k=p.createElement("script"),Tt(k),Ji(k,"link",c),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(j,k))}}function HA(c,d,p,y){var j=(j=X.current)?P1(j):null;if(!j)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=cm(p.href),p=yt(j).hoistableStyles,y=p.get(d),y||(y={type:"style",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=cm(p.href);var k=yt(j).hoistableStyles,G=k.get(c);if(G||(j=j.ownerDocument||j,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,G),(k=j.querySelector(ex(c)))&&!k._p&&(G.instance=k,G.state.loading=5),So.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},So.set(c,p),k||Sz(j,c,p,G.state))),d&&y===null)throw Error(n(528,""));return G}if(d&&y!==null)throw Error(n(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=um(p),p=yt(j).hoistableScripts,y=p.get(d),y||(y={type:"script",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function cm(c){return'href="'+Ci(c)+'"'}function ex(c){return'link[rel="stylesheet"]['+c+"]"}function VA(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function Sz(c,d,p,y){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=c.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),Ji(d,"link",p),Tt(d),c.head.appendChild(d))}function um(c){return'[src="'+Ci(c)+'"]'}function tx(c){return"script[async]"+c}function WA(c,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var y=c.querySelector('style[data-href~="'+Ci(p.href)+'"]');if(y)return d.instance=y,Tt(y),y;var j=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Tt(y),Ji(y,"style",j),L1(y,p.precedence,c),d.instance=y;case"stylesheet":j=cm(p.href);var k=c.querySelector(ex(j));if(k)return d.state.loading|=4,d.instance=k,Tt(k),k;y=VA(p),(j=So.get(j))&&cw(y,j),k=(c.ownerDocument||c).createElement("link"),Tt(k);var G=k;return G._p=new Promise(function(le,Ae){G.onload=le,G.onerror=Ae}),Ji(k,"link",y),d.state.loading|=4,L1(k,p.precedence,c),d.instance=k;case"script":return k=um(p.src),(j=c.querySelector(tx(k)))?(d.instance=j,Tt(j),j):(y=p,(j=So.get(k))&&(y=m({},p),uw(y,j)),c=c.ownerDocument||c,j=c.createElement("script"),Tt(j),Ji(j,"link",y),c.head.appendChild(j),d.instance=j);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,L1(y,p.precedence,c));return d.instance}function L1(c,d,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=y.length?y[y.length-1]:null,k=j,G=0;G<y.length;G++){var le=y[G];if(le.dataset.precedence===d)k=le;else if(k!==j)break}k?k.parentNode.insertBefore(c,k.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(c,d.firstChild))}function cw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function uw(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var M1=null;function GA(c,d,p){if(M1===null){var y=new Map,j=M1=new Map;j.set(p,y)}else j=M1,y=j.get(p),y||(y=new Map,j.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),j=0;j<p.length;j++){var k=p[j];if(!(k[ze]||k[he]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var G=k.getAttribute(d)||"";G=c+G;var le=y.get(G);le?le.push(k):y.set(G,[k])}}return y}function KA(c,d,p){c=c.ownerDocument||c,c.head.insertBefore(p,d==="title"?c.querySelector("head > title"):null)}function Az(c,d,p){if(p===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function YA(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function Ez(c,d,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var j=cm(y.href),k=d.querySelector(ex(j));if(k){d=k._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=R1.bind(c),d.then(c,c)),p.state.loading|=4,p.instance=k,Tt(k);return}k=d.ownerDocument||d,y=VA(y),(j=So.get(j))&&cw(y,j),k=k.createElement("link"),Tt(k);var G=k;G._p=new Promise(function(le,Ae){G.onload=le,G.onerror=Ae}),Ji(k,"link",y),p.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=R1.bind(c),d.addEventListener("load",p),d.addEventListener("error",p))}}var fw=0;function kz(c,d){return c.stylesheets&&c.count===0&&B1(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&B1(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+d);0<c.imgBytes&&fw===0&&(fw=62500*oz());var j=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&B1(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>fw?50:800)+d);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(j)}}:null}function R1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)B1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var I1=null;function B1(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,I1=new Map,d.forEach(Cz,c),I1=null,R1.call(c))}function Cz(c,d){if(!(d.state.loading&4)){var p=I1.get(c);if(p)var y=p.get(null);else{p=new Map,I1.set(c,p);for(var j=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<j.length;k++){var G=j[k];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(p.set(G.dataset.precedence,G),y=G)}y&&p.set(null,y)}j=d.instance,G=j.getAttribute("data-precedence"),k=p.get(G)||y,k===y&&p.set(null,j),p.set(G,j),this.count++,y=R1.bind(this),j.addEventListener("load",y),j.addEventListener("error",y),k?k.parentNode.insertBefore(j,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(j,c.firstChild)),d.state.loading|=4}}var rx={$$typeof:S,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Tz(c,d,p,y,j,k,G,le,Ae){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=y,this.onUncaughtError=j,this.onCaughtError=k,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function XA(c,d,p,y,j,k,G,le,Ae,$e,Je,it){return c=new Tz(c,d,p,G,Ae,$e,Je,it,le),d=1,k===!0&&(d|=24),k=Di(3,null,null,d),c.current=k,k.stateNode=c,d=Gf(),d.refCount++,c.pooledCache=d,d.refCount++,k.memoizedState={element:y,isDehydrated:p,cache:d},wt(k),c}function QA(c){return c?(c=hi,c):hi}function ZA(c,d,p,y,j,k){j=QA(j),y.context===null?y.context=j:y.pendingContext=j,y=sr(d),y.payload={element:p},k=k===void 0?null:k,k!==null&&(y.callback=k),p=wr(c,y,d),p!==null&&(Nl(p,c,d),on(p,c,d))}function JA(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function dw(c,d){JA(c,d),(c=c.alternate)&&JA(c,d)}function eE(c){if(c.tag===13||c.tag===31){var d=uc(c,67108864);d!==null&&Nl(d,c,67108864),dw(c,67108864)}}function tE(c){if(c.tag===13||c.tag===31){var d=$l();d=Sn(d);var p=uc(c,d);p!==null&&Nl(p,c,d),dw(c,d)}}var U1=!0;function Oz(c,d,p,y){var j=re.T;re.T=null;var k=se.p;try{se.p=2,hw(c,d,p,y)}finally{se.p=k,re.T=j}}function Dz(c,d,p,y){var j=re.T;re.T=null;var k=se.p;try{se.p=8,hw(c,d,p,y)}finally{se.p=k,re.T=j}}function hw(c,d,p,y){if(U1){var j=mw(y);if(j===null)Jb(c,d,y,z1,p),nE(c,y);else if(Pz(j,c,d,p,y))y.stopPropagation();else if(nE(c,y),d&4&&-1<Fz.indexOf(c)){for(;j!==null;){var k=_t(j);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var G=Wt(k.pendingLanes);if(G!==0){var le=k;for(le.pendingLanes|=2,le.entangledLanes|=2;G;){var Ae=1<<31-br(G);le.entanglements[1]|=Ae,G&=~Ae}ru(k),(un&6)===0&&(_1=Vt()+500,Xp(0))}}break;case 31:case 13:le=uc(k,2),le!==null&&Nl(le,k,2),S1(),dw(k,2)}if(k=mw(y),k===null&&Jb(c,d,y,z1,p),k===j)break;j=k}j!==null&&y.stopPropagation()}else Jb(c,d,y,null,p)}}function mw(c){return c=bu(c),pw(c)}var z1=null;function pw(c){if(z1=null,c=mt(c),c!==null){var d=i(c);if(d===null)c=null;else{var p=d.tag;if(p===13){if(c=l(d),c!==null)return c;c=null}else if(p===31){if(c=o(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return z1=c,null}function rE(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Jt:return 2;case Dr:return 8;case Ut:case Ct:return 32;case gt:return 268435456;default:return 32}default:return 32}}var xw=!1,sd=null,ld=null,od=null,nx=new Map,ax=new Map,cd=[],Fz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nE(c,d){switch(c){case"focusin":case"focusout":sd=null;break;case"dragenter":case"dragleave":ld=null;break;case"mouseover":case"mouseout":od=null;break;case"pointerover":case"pointerout":nx.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ax.delete(d.pointerId)}}function ix(c,d,p,y,j,k){return c===null||c.nativeEvent!==k?(c={blockedOn:d,domEventName:p,eventSystemFlags:y,nativeEvent:k,targetContainers:[j]},d!==null&&(d=_t(d),d!==null&&eE(d)),c):(c.eventSystemFlags|=y,d=c.targetContainers,j!==null&&d.indexOf(j)===-1&&d.push(j),c)}function Pz(c,d,p,y,j){switch(d){case"focusin":return sd=ix(sd,c,d,p,y,j),!0;case"dragenter":return ld=ix(ld,c,d,p,y,j),!0;case"mouseover":return od=ix(od,c,d,p,y,j),!0;case"pointerover":var k=j.pointerId;return nx.set(k,ix(nx.get(k)||null,c,d,p,y,j)),!0;case"gotpointercapture":return k=j.pointerId,ax.set(k,ix(ax.get(k)||null,c,d,p,y,j)),!0}return!1}function aE(c){var d=mt(c.target);if(d!==null){var p=i(d);if(p!==null){if(d=p.tag,d===13){if(d=l(p),d!==null){c.blockedOn=d,Ne(c.priority,function(){tE(p)});return}}else if(d===31){if(d=o(p),d!==null){c.blockedOn=d,Ne(c.priority,function(){tE(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function q1(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=mw(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);Qo=y,p.target.dispatchEvent(y),Qo=null}else return d=_t(p),d!==null&&eE(d),c.blockedOn=p,!1;d.shift()}return!0}function iE(c,d,p){q1(c)&&p.delete(d)}function Lz(){xw=!1,sd!==null&&q1(sd)&&(sd=null),ld!==null&&q1(ld)&&(ld=null),od!==null&&q1(od)&&(od=null),nx.forEach(iE),ax.forEach(iE)}function $1(c,d){c.blockedOn===d&&(c.blockedOn=null,xw||(xw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lz)))}var H1=null;function sE(c){H1!==c&&(H1=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){H1===c&&(H1=null);for(var d=0;d<c.length;d+=3){var p=c[d],y=c[d+1],j=c[d+2];if(typeof y!="function"){if(pw(y||p)===null)continue;break}var k=_t(p);k!==null&&(c.splice(d,3),d-=3,mb(k,{pending:!0,data:j,method:p.method,action:y},y,j))}}))}function fm(c){function d(Ae){return $1(Ae,c)}sd!==null&&$1(sd,c),ld!==null&&$1(ld,c),od!==null&&$1(od,c),nx.forEach(d),ax.forEach(d);for(var p=0;p<cd.length;p++){var y=cd[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<cd.length&&(p=cd[0],p.blockedOn===null);)aE(p),p.blockedOn===null&&cd.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var j=p[y],k=p[y+1],G=j[ve]||null;if(typeof k=="function")G||sE(p);else if(G){var le=null;if(k&&k.hasAttribute("formAction")){if(j=k,G=k[ve]||null)le=G.formAction;else if(pw(j)!==null)continue}else le=G.action;typeof le=="function"?p[y+1]=le:(p.splice(y,3),y-=3),sE(p)}}}function lE(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(G){return j=G})},focusReset:"manual",scroll:"manual"})}function d(){j!==null&&(j(),j=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,j=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),j!==null&&(j(),j=null)}}}function gw(c){this._internalRoot=c}V1.prototype.render=gw.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var p=d.current,y=$l();ZA(p,y,c,d,null,null)},V1.prototype.unmount=gw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;ZA(c.current,2,null,c,null,null),S1(),d[je]=null}};function V1(c){this._internalRoot=c}V1.prototype.unstable_scheduleHydration=function(c){if(c){var d=te();c={blockedOn:null,target:c,priority:d};for(var p=0;p<cd.length&&d!==0&&d<cd[p].priority;p++);cd.splice(p,0,c),p===0&&aE(c)}};var oE=t.version;if(oE!=="19.2.0")throw Error(n(527,oE,"19.2.0"));se.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=f(d),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var Mz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W1.isDisabled&&W1.supportsFiber)try{Yt=W1.inject(Mz),jt=W1}catch{}}return lx.createRoot=function(c,d){if(!a(c))throw Error(n(299));var p=!1,y="",j=p6,k=x6,G=g6;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(j=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError)),d=XA(c,1,!1,null,null,p,y,null,j,k,G,lE),c[je]=d.current,Zb(c),new gw(d)},lx.hydrateRoot=function(c,d,p){if(!a(c))throw Error(n(299));var y=!1,j="",k=p6,G=x6,le=g6,Ae=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(j=p.identifierPrefix),p.onUncaughtError!==void 0&&(k=p.onUncaughtError),p.onCaughtError!==void 0&&(G=p.onCaughtError),p.onRecoverableError!==void 0&&(le=p.onRecoverableError),p.formState!==void 0&&(Ae=p.formState)),d=XA(c,1,!0,d,p??null,y,j,Ae,k,G,le,lE),d.context=QA(null),p=d.current,y=$l(),y=Sn(y),j=sr(y),j.callback=null,wr(p,j,y),p=y,d.current.lanes=p,Gt(d,p),ru(d),c[je]=d.current,Zb(c),new V1(d)},lx.version="19.2.0",lx}var vE;function Gz(){if(vE)return bw.exports;vE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bw.exports=Wz(),bw.exports}var Kz=Gz(),Zm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Xz=class{#e=Yz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},k0=new Xz;function Qz(e){setTimeout(e,0)}var $0=typeof window>"u"||"Deno"in globalThis;function Ws(){}function Zz(e,t){return typeof e=="function"?e(t):e}function H4(e){return typeof e=="number"&&e>=0&&e!==1/0}function SD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _d(e,t){return typeof e=="function"?e(t):e}function Mo(e,t){return typeof e=="function"?e(t):e}function yE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==C_(l,t.options))return!1}else if(!Ux(t.queryKey,l))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function bE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(H0(t.options.mutationKey)!==H0(i))return!1}else if(!Ux(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function C_(e,t){return(t?.queryKeyHashFn||H0)(e)}function H0(e){return JSON.stringify(e,(t,r)=>V4(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ux(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ux(e[r],t[r])):!1}var Jz=Object.prototype.hasOwnProperty;function AD(e,t){if(e===t)return e;const r=wE(e)&&wE(t);if(!r&&!(V4(e)&&V4(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),l=i.length,o=r?new Array(l):{};let u=0;for(let f=0;f<l;f++){const h=r?f:i[f],m=e[h],g=t[h];if(m===g){o[h]=m,(r?f<a:Jz.call(e,h))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){o[h]=g;continue}const x=AD(m,g);o[h]=x,x===m&&u++}return a===l&&u===a?e:o}function Kv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function wE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function V4(e){if(!NE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!NE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NE(e){return Object.prototype.toString.call(e)==="[object Object]"}function eq(e){return new Promise(t=>{k0.setTimeout(t,e)})}function W4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?AD(e,t):t}function tq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rq(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var T_=Symbol();function ED(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===T_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kD(e,t){return typeof e=="function"?e(...t):!!e}var nq=class extends Zm{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!$0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},O_=new nq;function G4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var aq=Qz;function iq(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=aq;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||l()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var bi=iq(),sq=class extends Zm{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!$0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Yv=new sq;function lq(e){return Math.min(1e3*2**e,3e4)}function CD(e){return(e??"online")==="online"?Yv.isOnline():!0}var K4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function TD(e){let t=!1,r=0,n;const a=G4(),i=()=>a.status!=="pending",l=v=>{if(!i()){const w=new K4(v);g(w),e.onCancel?.(w)}},o=()=>{t=!0},u=()=>{t=!1},f=()=>O_.isFocused()&&(e.networkMode==="always"||Yv.isOnline())&&e.canRun(),h=()=>CD(e.networkMode)&&e.canRun(),m=v=>{i()||(n?.(),a.resolve(v))},g=v=>{i()||(n?.(),a.reject(v))},x=()=>new Promise(v=>{n=w=>{(i()||f())&&v(w)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(m).catch(N=>{if(i())return;const E=e.retry??($0?0:3),S=e.retryDelay??lq,D=typeof S=="function"?S(r,N):S,F=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(t||!F){g(N);return}r++,e.onFail?.(r,N),eq(D).then(()=>f()?void 0:x()).then(()=>{t?g(N):b()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?b():x().then(b),a)}}var OD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),H4(this.gcTime)&&(this.#e=k0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(k0.clearTimeout(this.#e),this.#e=void 0)}},oq=class extends OD{#e;#t;#r;#a;#n;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=_E(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=_E(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=W4(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Ws).catch(Ws):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Mo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===T_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_d(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!SD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},a=()=>{const o=ED(this.options,t),f=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#l=!1,this.options.persister?this.options.persister(o,f,this):o(f)},l=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=TD({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:o=>{o instanceof K4&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,u)=>{this.#i({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof K4){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...DD(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),bi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function DD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _E(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cq=class extends Zm{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#l=G4(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#l;#i;#p;#d;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),jE(this.#t,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Y4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Y4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),t._defaulted&&!Kv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&SE(this.#t,r,this.options,t)&&this.#f(),this.updateResult(),n&&(this.#t!==r||Mo(this.options.enabled,this.#t)!==Mo(t.enabled,this.#t)||_d(this.options.staleTime,this.#t)!==_d(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||Mo(this.options.enabled,this.#t)!==Mo(t.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return fq(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#N();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ws)),t}#x(){this.#b();const e=_d(this.options.staleTime,this.#t);if($0||this.#a.isStale||!H4(e))return;const r=SD(this.#a.dataUpdatedAt,e)+1;this.#c=k0.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!($0||Mo(this.options.enabled,this.#t)===!1||!H4(this.#o)||this.#o===0)&&(this.#u=k0.setInterval(()=>{(this.options.refetchIntervalInBackground||O_.isFocused())&&this.#f()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(k0.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(k0.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,l=this.#s,u=e!==r?e.state:this.#r,{state:f}=e;let h={...f},m=!1,g;if(t._optimisticResults){const M=this.hasListeners(),B=!M&&jE(e,t),H=M&&SE(e,r,t,n);(B||H)&&(h={...h,...DD(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:v}=h;g=h.data;let w=!1;if(t.placeholderData!==void 0&&g===void 0&&v==="pending"){let M;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(M=a.data,w=!0):M=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,M!==void 0&&(v="success",g=W4(a?.data,M,t),m=!0)}if(t.select&&g!==void 0&&!w)if(a&&g===i?.data&&t.select===this.#p)g=this.#d;else try{this.#p=t.select,g=t.select(g),g=W4(a?.data,g,t),this.#d=g,this.#i=null}catch(M){this.#i=M}this.#i&&(x=this.#i,g=this.#d,b=Date.now(),v="error");const N=h.fetchStatus==="fetching",E=v==="pending",S=v==="error",D=E&&N,F=g!==void 0,T={status:v,fetchStatus:h.fetchStatus,isPending:E,isSuccess:v==="success",isError:S,isInitialLoading:D,isLoading:D,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!E,isLoadingError:S&&!F,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&F,isStale:D_(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Mo(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=R=>{T.status==="error"?R.reject(T.error):T.data!==void 0&&R.resolve(T.data)},B=()=>{const R=this.#l=T.promise=G4();M(R)},H=this.#l;switch(H.status){case"pending":e.queryHash===r.queryHash&&M(H);break;case"fulfilled":(T.status==="error"||T.data!==H.value)&&B();break;case"rejected":(T.status!=="error"||T.error!==H.reason)&&B();break}}return T}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Kv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const o=l;return this.#a[o]!==e[o]&&i.has(o)})};this.#_({listeners:r()})}#N(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(e){bi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function uq(e,t){return Mo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jE(e,t){return uq(e,t)||e.state.data!==void 0&&Y4(e,t,t.refetchOnMount)}function Y4(e,t,r){if(Mo(t.enabled,e)!==!1&&_d(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&D_(e,t)}return!1}function SE(e,t,r,n){return(e!==t||Mo(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&D_(e,r)}function D_(e,t){return Mo(t.enabled,e)!==!1&&e.isStaleByTime(_d(t.staleTime,e))}function fq(e,t){return!Kv(e.getCurrentResult(),t)}function AE(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const f=async()=>{let h=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=ED(t.options,t.fetchOptions),x=async(b,v,w)=>{if(h)return Promise.reject();if(v==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:v,direction:w?"backward":"forward",meta:t.options.meta};return m(O),O})(),S=await g(E),{maxPages:D}=t.options,F=w?rq:tq;return{pages:F(b.pages,S,D),pageParams:F(b.pageParams,v,D)}};if(a&&i.length){const b=a==="backward",v=b?dq:EE,w={pages:i,pageParams:l},N=v(n,w);o=await x(w,N,b)}else{const b=e??i.length;do{const v=u===0?l[0]??n.initialPageParam:EE(n,o);if(u>0&&v==null)break;o=await x(o,v),u++}while(u<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function EE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function dq(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var hq=class extends OD{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||FD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=TD({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const l=await this.options.onMutate?.(e,r);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),bi.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function FD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mq=class extends Zm{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new hq({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=G1(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=G1(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=G1(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=G1(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){bi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>bE(t,r))}findAll(e={}){return this.getAll().filter(t=>bE(e,t))}notify(e){bi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return bi.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ws))))}};function G1(e){return e.options.scope?.id}var pq=class extends Zm{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Kv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&H0(r.mutationKey)!==H0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??FD();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){bi.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},xq=class extends Zm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??C_(n,t);let i=this.get(a);return i||(i=new oq({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>yE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>yE(e,r)):t}notify(e){bi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){bi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gq=class{#e;#t;#r;#a;#n;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new xq,this.#t=e.mutationCache||new mq,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=O_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Yv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(_d(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,l=Zz(t,i);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return bi.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;bi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return bi.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=bi.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ws).catch(Ws)}invalidateQueries(e,t={}){return bi.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=bi.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ws)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ws)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(_d(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ws).catch(Ws)}fetchInfiniteQuery(e){return e.behavior=AE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ws).catch(Ws)}ensureInfiniteQueryData(e){return e.behavior=AE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(H0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Ux(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(H0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ux(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=C_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===T_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},PD=C.createContext(void 0),Ft=e=>{const t=C.useContext(PD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vq=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(PD.Provider,{value:e,children:t})),LD=C.createContext(!1),yq=()=>C.useContext(LD);LD.Provider;function bq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wq=C.createContext(bq()),Nq=()=>C.useContext(wq),_q=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},jq=e=>{C.useEffect(()=>{e.clearReset()},[e])},Sq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||kD(r,[e.error,n])),Aq=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Eq=(e,t)=>e.isLoading&&e.isFetching&&!t,kq=(e,t)=>e?.suspense&&t.isPending,kE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Cq(e,t,r){const n=yq(),a=Nq(),i=Ft(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",Aq(l),_q(l,a),jq(a);const o=!i.getQueryCache().get(l.queryHash),[u]=C.useState(()=>new t(i,l)),f=u.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(m=>{const g=h?u.subscribe(bi.batchCalls(m)):Ws;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),C.useEffect(()=>{u.setOptions(l)},[l,u]),kq(l,f))throw kE(l,u,a);if(Sq({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!$0&&Eq(f,n)&&(o?kE(l,u,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Ws).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?f:u.trackResult(f)}function ur(e,t){return Cq(e,cq)}function Bt(e,t){const r=Ft(),[n]=C.useState(()=>new pq(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const a=C.useSyncExternalStore(C.useCallback(l=>n.subscribe(bi.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((l,o)=>{n.mutate(l,o).catch(Ws)},[n]);if(a.error&&kD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Tq="modulepreload",Oq=function(e){return"/"+e},CE={},jw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");a=u(r.map(f=>{if(f=Oq(f),f in CE)return;CE[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Tq,h||(g.as="script"),g.crossOrigin="",g.href=f,o&&g.setAttribute("nonce",o),document.head.appendChild(g),h)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Dq=function(){return null};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function Fq(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return X4("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:zx(a)}return Lq(t,r,null,e)}function da(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pq(){return Math.random().toString(36).substring(2,10)}function OE(e,t){return{usr:e.state,key:e.key,idx:t}}function X4(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jm(t):t,state:r,key:t&&t.key||n||Pq()}}function zx({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Lq(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",u=null,f=h();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function h(){return(l.state||{idx:null}).idx}function m(){o="POP";let w=h(),N=w==null?null:w-f;f=w,u&&u({action:o,location:v.location,delta:N})}function g(w,N){o="PUSH";let E=X4(v.location,w,N);f=h()+1;let S=OE(E,f),D=v.createHref(E);try{l.pushState(S,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(D)}i&&u&&u({action:o,location:v.location,delta:1})}function x(w,N){o="REPLACE";let E=X4(v.location,w,N);f=h();let S=OE(E,f),D=v.createHref(E);l.replaceState(S,"",D),i&&u&&u({action:o,location:v.location,delta:0})}function b(w){return Mq(w)}let v={get action(){return o},get location(){return e(a,l)},listen(w){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(TE,m),u=w,()=>{a.removeEventListener(TE,m),u=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let N=b(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(w){return l.go(w)}};return v}function Mq(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),da(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:zx(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function MD(e,t,r="/"){return Rq(e,t,r,!1)}function Rq(e,t,r,n){let a=typeof t=="string"?Jm(t):t,i=uf(a.pathname||"/",r);if(i==null)return null;let l=RD(e);Iq(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let f=Yq(i);o=Gq(l[u],f,n)}return o}function RD(e,t=[],r=[],n="",a=!1){let i=(l,o,u=a,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;da(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=rf([n,h.relativePath]),g=r.concat(h);l.children&&l.children.length>0&&(da(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),RD(l.children,t,g,m,u)),!(l.path==null&&!l.index)&&t.push({path:m,score:Vq(m,l.index),routesMeta:g})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let u of ID(l.path))i(l,o,!0,u)}),t}function ID(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=ID(n.join("/")),o=[];return o.push(...l.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Iq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Wq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Bq=/^:[\w-]+$/,Uq=3,zq=2,qq=1,$q=10,Hq=-2,DE=e=>e==="*";function Vq(e,t){let r=e.split("/"),n=r.length;return r.some(DE)&&(n+=Hq),t&&(n+=zq),r.filter(a=>!DE(a)).reduce((a,i)=>a+(Bq.test(i)?Uq:i===""?qq:$q),n)}function Wq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Gq(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let u=n[o],f=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Xv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=Xv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:rf([i,m.pathname]),pathnameBase:Jq(rf([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=rf([i,m.pathnameBase]))}return l}function Xv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Kq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=o[g]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return m&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function Kq(e,t=!1,r=!0){zo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Yq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function uf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Xq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Jm(e):e;return{pathname:r?r.startsWith("/")?r:Qq(r,t):t,search:e$(n),hash:t$(a)}}function Qq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Sw(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function F_(e){let t=Zq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function P_(e,t,r,n=!1){let a;typeof e=="string"?a=Jm(e):(a={...e},da(!a.pathname||!a.pathname.includes("?"),Sw("?","pathname","search",a)),da(!a.pathname||!a.pathname.includes("#"),Sw("#","pathname","hash",a)),da(!a.search||!a.search.includes("#"),Sw("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}o=m>=0?t[m]:"/"}let u=Xq(a,o),f=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var rf=e=>e.join("/").replace(/\/\/+/g,"/"),Jq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,t$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function r$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var BD=["POST","PUT","PATCH","DELETE"];new Set(BD);var n$=["GET",...BD];new Set(n$);var ep=C.createContext(null);ep.displayName="DataRouter";var s2=C.createContext(null);s2.displayName="DataRouterState";C.createContext(!1);var UD=C.createContext({isTransitioning:!1});UD.displayName="ViewTransition";var a$=C.createContext(new Map);a$.displayName="Fetchers";var i$=C.createContext(null);i$.displayName="Await";var Oc=C.createContext(null);Oc.displayName="Navigation";var _g=C.createContext(null);_g.displayName="Location";var Dc=C.createContext({outlet:null,matches:[],isDataRoute:!1});Dc.displayName="Route";var L_=C.createContext(null);L_.displayName="RouteError";function s$(e,{relative:t}={}){da(tp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(Oc),{hash:a,pathname:i,search:l}=jg(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:rf([r,i])),n.createHref({pathname:o,search:l,hash:a})}function tp(){return C.useContext(_g)!=null}function Fc(){return da(tp(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(_g).location}var zD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qD(e){C.useContext(Oc).static||C.useLayoutEffect(e)}function pn(){let{isDataRoute:e}=C.useContext(Dc);return e?y$():l$()}function l$(){da(tp(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(ep),{basename:t,navigator:r}=C.useContext(Oc),{matches:n}=C.useContext(Dc),{pathname:a}=Fc(),i=JSON.stringify(F_(n)),l=C.useRef(!1);return qD(()=>{l.current=!0}),C.useCallback((u,f={})=>{if(zo(l.current,zD),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=P_(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:rf([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}C.createContext(null);function io(){let{matches:e}=C.useContext(Dc),t=e[e.length-1];return t?t.params:{}}function jg(e,{relative:t}={}){let{matches:r}=C.useContext(Dc),{pathname:n}=Fc(),a=JSON.stringify(F_(r));return C.useMemo(()=>P_(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function o$(e,t){return $D(e,t)}function $D(e,t,r,n,a){da(tp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Oc),{matches:l}=C.useContext(Dc),o=l[l.length-1],u=o?o.params:{},f=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let E=m&&m.path||"";HD(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Fc(),x;if(t){let E=typeof t=="string"?Jm(t):t;da(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=g;let b=x.pathname||"/",v=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=MD(e,{pathname:v});zo(m||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=h$(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:rf([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:rf([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&N?C.createElement(_g.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function c$(){let e=v$(),t=r$(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,l)}var u$=C.createElement(c$,null),f$=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Dc.Provider,{value:this.props.routeContext},C.createElement(L_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d$({routeContext:e,match:t,children:r}){let n=C.useContext(ep);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Dc.Provider,{value:e},r)}function h$(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r?.errors;if(l!=null){let f=i.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);da(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:g}=r,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let g,x=!1,b=null,v=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||u$,o&&(u<0&&m===0?(HD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):u===m&&(x=!0,v=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),N=()=>{let E;return g?E=b:x?E=v:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,C.createElement(d$,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?C.createElement(f$,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):N()},null)}function M_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m$(e){let t=C.useContext(ep);return da(t,M_(e)),t}function p$(e){let t=C.useContext(s2);return da(t,M_(e)),t}function x$(e){let t=C.useContext(Dc);return da(t,M_(e)),t}function R_(e){let t=x$(e),r=t.matches[t.matches.length-1];return da(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function g$(){return R_("useRouteId")}function v$(){let e=C.useContext(L_),t=p$("useRouteError"),r=R_("useRouteError");return e!==void 0?e:t.errors?.[r]}function y$(){let{router:e}=m$("useNavigate"),t=R_("useNavigate"),r=C.useRef(!1);return qD(()=>{r.current=!0}),C.useCallback(async(a,i={})=>{zo(r.current,zD),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var FE={};function HD(e,t,r){!t&&!FE[e]&&(FE[e]=!0,zo(!1,r))}C.memo(b$);function b$({routes:e,future:t,state:r,unstable_onError:n}){return $D(e,void 0,r,n,t)}function Em({to:e,replace:t,state:r,relative:n}){da(tp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Oc);zo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(Dc),{pathname:l}=Fc(),o=pn(),u=P_(e,F_(i),l,n==="path"),f=JSON.stringify(u);return C.useEffect(()=>{o(JSON.parse(f),{replace:t,state:r,relative:n})},[o,f,n,t,r]),null}function Rr(e){da(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w$({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){da(!tp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=C.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=Jm(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,x=C.useMemo(()=>{let b=uf(u,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:g},navigationType:n}},[l,u,f,h,m,g,n]);return zo(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(Oc.Provider,{value:o},C.createElement(_g.Provider,{children:t,value:x}))}function N$({children:e,location:t}){return o$(Q4(e),t)}function Q4(e,t=[]){let r=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let i=[...t,a];if(n.type===C.Fragment){r.push.apply(r,Q4(n.props.children,i));return}da(n.type===Rr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),da(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Q4(n.props.children,i)),r.push(l)}),r}var Lv="get",Mv="application/x-www-form-urlencoded";function l2(e){return e!=null&&typeof e.tagName=="string"}function _$(e){return l2(e)&&e.tagName.toLowerCase()==="button"}function j$(e){return l2(e)&&e.tagName.toLowerCase()==="form"}function S$(e){return l2(e)&&e.tagName.toLowerCase()==="input"}function A$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E$(e,t){return e.button===0&&(!t||t==="_self")&&!A$(e)}function Z4(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function k$(e,t){let r=Z4(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var K1=null;function C$(){if(K1===null)try{new FormData(document.createElement("form"),0),K1=!1}catch{K1=!0}return K1}var T$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Aw(e){return e!=null&&!T$.has(e)?(zo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mv}"`),null):e}function O$(e,t){let r,n,a,i,l;if(j$(e)){let o=e.getAttribute("action");n=o?uf(o,t):null,r=e.getAttribute("method")||Lv,a=Aw(e.getAttribute("enctype"))||Mv,i=new FormData(e)}else if(_$(e)||S$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?uf(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Lv,a=Aw(e.getAttribute("formenctype"))||Aw(o.getAttribute("enctype"))||Mv,i=new FormData(o,e),!C$()){let{name:f,type:h,value:m}=e;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,m)}}else{if(l2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Lv,n=null,a=Mv,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function I_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D$(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&uf(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function F$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function L$(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await F$(i,r);return l.links?l.links():[]}return[]}));return B$(n.flat(1).filter(P$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function PE(e,t,r,n,a,i){let l=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,o=(u,f)=>r[f].pathname!==u.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,f)=>l(u,f)||o(u,f)):i==="data"?t.filter((u,f)=>{let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(l(u,f)||o(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function M$(e,t,{includeHydrateFallback:r}={}){return R$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function R$(e){return[...new Set(e)]}function I$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function B$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(I$(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function VD(){let e=C.useContext(ep);return I_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function U$(){let e=C.useContext(s2);return I_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var B_=C.createContext(void 0);B_.displayName="FrameworkContext";function WD(){let e=C.useContext(B_);return I_(e,"You must render this element inside a <HydratedRouter> element"),e}function z$(e,t){let r=C.useContext(B_),[n,a]=C.useState(!1),[i,l]=C.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=t,g=C.useRef(null);C.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=N=>{N.forEach(E=>{l(E.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),C.useEffect(()=>{if(n){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:ox(o,x),onBlur:ox(u,b),onMouseEnter:ox(f,x),onMouseLeave:ox(h,b),onTouchStart:ox(m,x)}]:[!1,g,{}]}function ox(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function q$({page:e,...t}){let{router:r}=VD(),n=C.useMemo(()=>MD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?C.createElement(H$,{page:e,matches:n,...t}):null}function $$(e){let{manifest:t,routeModules:r}=WD(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return L$(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function H$({page:e,matches:t,...r}){let n=Fc(),{manifest:a,routeModules:i}=WD(),{basename:l}=VD(),{loaderData:o,matches:u}=U$(),f=C.useMemo(()=>PE(e,t,u,a,n,"data"),[e,t,u,a,n]),h=C.useMemo(()=>PE(e,t,u,a,n,"assets"),[e,t,u,a,n]),m=C.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,v=!1;if(t.forEach(N=>{let E=a.routes[N.route.id];!E||!E.hasLoader||(!f.some(S=>S.route.id===N.route.id)&&N.route.id in o&&i[N.route.id]?.shouldRevalidate||E.hasClientLoader?v=!0:b.add(N.route.id))}),b.size===0)return[];let w=D$(e,l,"data");return v&&b.size>0&&w.searchParams.set("_routes",t.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[w.pathname+w.search]},[l,o,n,a,f,t,e,i]),g=C.useMemo(()=>M$(h,a),[h,a]),x=$$(h);return C.createElement(C.Fragment,null,m.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:v})=>C.createElement("link",{key:b,nonce:r.nonce,...v})))}function V$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var GD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GD&&(window.__reactRouterVersion="7.9.4")}catch{}function W$({basename:e,children:t,window:r}){let n=C.useRef();n.current==null&&(n.current=Fq({window:r,v5Compat:!0}));let a=n.current,[i,l]=C.useState({action:a.action,location:a.location}),o=C.useCallback(u=>{C.startTransition(()=>l(u))},[l]);return C.useLayoutEffect(()=>a.listen(o),[a,o]),C.createElement(w$,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var KD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=C.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:u,to:f,preventScrollReset:h,viewTransition:m,...g},x){let{basename:b}=C.useContext(Oc),v=typeof f=="string"&&KD.test(f),w,N=!1;if(typeof f=="string"&&v&&(w=f,GD))try{let B=new URL(window.location.href),H=f.startsWith("//")?new URL(B.protocol+f):new URL(f),R=uf(H.pathname,b);H.origin===B.origin&&R!=null?f=R+H.search+H.hash:N=!0}catch{zo(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=s$(f,{relative:a}),[S,D,F]=z$(n,g),O=X$(f,{replace:l,state:o,target:u,preventScrollReset:h,relative:a,viewTransition:m});function T(B){t&&t(B),B.defaultPrevented||O(B)}let M=C.createElement("a",{...g,...F,href:w||E,onClick:N||i?t:T,ref:V$(x,D),target:u,"data-discover":!v&&r==="render"?"true":void 0});return S&&!v?C.createElement(C.Fragment,null,M,C.createElement(q$,{page:E})):M});Ma.displayName="Link";var G$=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:u,...f},h){let m=jg(l,{relative:f.relative}),g=Fc(),x=C.useContext(s2),{navigator:b,basename:v}=C.useContext(Oc),w=x!=null&&tH(m)&&o===!0,N=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=g.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&v&&(S=uf(S,v)||S);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let F=E===N||!a&&E.startsWith(N)&&E.charAt(D)==="/",O=S!=null&&(S===N||!a&&S.startsWith(N)&&S.charAt(N.length)==="/"),T={isActive:F,isPending:O,isTransitioning:w},M=F?t:void 0,B;typeof n=="function"?B=n(T):B=[n,F?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i(T):i;return C.createElement(Ma,{...f,"aria-current":M,className:B,ref:h,style:H,to:l,viewTransition:o},typeof u=="function"?u(T):u)});G$.displayName="NavLink";var K$=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=Lv,action:o,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:m,...g},x)=>{let b=J$(),v=eH(o,{relative:f}),w=l.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&KD.test(o),E=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let D=S.nativeEvent.submitter,F=D?.getAttribute("formmethod")||l;b(D||S.currentTarget,{fetcherKey:t,method:F,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:m})};return C.createElement("form",{ref:x,method:w,action:v,onSubmit:n?u:E,...g,"data-discover":!N&&e==="render"?"true":void 0})});K$.displayName="Form";function Y$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YD(e){let t=C.useContext(ep);return da(t,Y$(e)),t}function X$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=pn(),u=Fc(),f=jg(e,{relative:i});return C.useCallback(h=>{if(E$(h,t)){h.preventDefault();let m=r!==void 0?r:zx(u)===zx(f);o(e,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[u,o,f,r,n,t,e,a,i,l])}function U_(e){zo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(Z4(e)),r=C.useRef(!1),n=Fc(),a=C.useMemo(()=>k$(n.search,r.current?null:t.current),[n.search]),i=pn(),l=C.useCallback((o,u)=>{const f=Z4(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+f,u)},[i,a]);return[a,l]}var Q$=0,Z$=()=>`__${String(++Q$)}__`;function J$(){let{router:e}=YD("useSubmit"),{basename:t}=C.useContext(Oc),r=g$();return C.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:u,body:f}=O$(n,t);if(a.navigate===!1){let h=a.fetcherKey||Z$();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function eH(e,{relative:t}={}){let{basename:r}=C.useContext(Oc),n=C.useContext(Dc);da(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...jg(e||".",{relative:t})},l=Fc();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:rf([r,i.pathname])),zx(i)}function tH(e,{relative:t}={}){let r=C.useContext(UD);da(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=YD("useViewTransitionState"),a=jg(e,{relative:t});if(!r.isTransitioning)return!1;let i=uf(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=uf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Xv(a.pathname,l)!=null||Xv(a.pathname,i)!=null}var XD=jD();const rH="http://localhost:3001/api";class Y1 extends Error{status;code;constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.code=n}}class nH{baseURL;constructor(t){this.baseURL=t}async request(t,r={}){const{params:n,...a}=r;let i=`${this.baseURL}${t}`;if(n){const o=new URLSearchParams(n).toString();i+=`?${o}`}const l={"Content-Type":"application/json",...a.headers};try{const o=await fetch(i,{...a,headers:l});if(!o.ok){const f=await o.json().catch(()=>({}));throw new Y1(f.error||f.message||"Une erreur est survenue",o.status,f.code)}return await o.json()}catch(o){throw o instanceof Y1?o:o instanceof Error?new Y1(`Erreur de connexion: ${o.message}`,void 0,"NETWORK_ERROR"):new Y1("Une erreur inconnue est survenue")}}async get(t,r){return this.request(t,{method:"GET",params:r})}async post(t,r){return this.request(t,{method:"POST",body:JSON.stringify(r)})}async put(t,r){return this.request(t,{method:"PUT",body:JSON.stringify(r)})}async patch(t,r){return this.request(t,{method:"PATCH",body:JSON.stringify(r)})}async delete(t){return this.request(t,{method:"DELETE"})}}const at=new nH(rH),aH={async login(e,t){return(await at.post("/auth/login",{username:e,password:t})).user}},QD=C.createContext(void 0),iH=({children:e})=>{const[t,r]=C.useState(null),[n,a]=C.useState(!0);C.useEffect(()=>{const f=localStorage.getItem("current_user");f&&r(JSON.parse(f)),a(!1)},[]);const i=async(f,h)=>{try{const m=await aH.login(f,h);return r(m),localStorage.setItem("current_user",JSON.stringify(m)),!0}catch(m){return console.error("Erreur de connexion:",m),!1}},l=()=>{r(null),localStorage.removeItem("current_user")},o=t?.role==="admin",u=t?.role==="gerant";return s.jsx(QD.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:n,login:i,logout:l,isAdmin:o,isGerant:u},children:e})},_i=()=>{const e=C.useContext(QD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Rd(...e){return e.filter(Boolean).join(" ")}const rt=C.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",l={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},o={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return s.jsx("button",{className:Rd(i,l[t],o[r],e),ref:a,...n})});rt.displayName="Button";const Zs=C.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Rd("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Zs.displayName="Input";const hn=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...t}));hn.displayName="Card";const ff=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("flex flex-col space-y-1.5 p-6",e),...t}));ff.displayName="CardHeader";const df=C.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Rd("text-2xl font-semibold leading-none tracking-tight",e),...t}));df.displayName="CardTitle";const ZD=C.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Rd("text-sm text-gray-500",e),...t}));ZD.displayName="CardDescription";const mn=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("p-6 pt-0",e),...t}));mn.displayName="CardContent";const sH=C.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Rd("flex items-center p-6 pt-0",e),...t}));sH.displayName="CardFooter";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),LE=e=>{const t=oH(e);return t.charAt(0).toUpperCase()+t.slice(1)},JD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),cH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},u)=>C.createElement("svg",{ref:u,...uH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:JD("lucide",a),...!i&&!cH(o)&&{"aria-hidden":"true"},...o},[...l.map(([f,h])=>C.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(fH,{ref:i,iconNode:t,className:JD(`lucide-${lH(LE(e))}`,`lucide-${e}`,n),...a}));return r.displayName=LE(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],eF=xt("activity",dH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],mH=xt("arrow-down",hH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vn=xt("arrow-left",pH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gH=xt("arrow-up",xH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],yH=xt("at-sign",vH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ii=xt("award",bH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qn=xt("book-open",wH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],_H=xt("box",NH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],SH=xt("building-2",jH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],du=xt("calculator",AH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],kH=xt("calendar-check",EH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bi=xt("calendar",CH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],tF=xt("chart-column",TH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rF=xt("check",OH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rp=xt("chevron-down",DH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z_=xt("chevron-left",FH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Io=xt("chevron-right",PH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],q_=xt("chevron-up",LH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wr=xt("circle-alert",MH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],si=xt("circle-check-big",RH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nF=xt("circle-check",IH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jc=xt("circle-play",BH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],zH=xt("circle-user",UH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ad=xt("circle-x",qH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aF=xt("circle",$H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Qv=xt("clipboard-check",HH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],As=xt("clock",VH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],F0=xt("copy",WH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],KH=xt("credit-card",GH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],J4=xt("dollar-sign",YH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Es=xt("download",XH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],o2=xt("external-link",QH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ys=xt("eye-off",ZH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Os=xt("eye",JH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],qx=xt("file-check",eV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Zv=xt("file-plus",tV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],nf=xt("file-question-mark",rV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],V0=xt("file-spreadsheet",nV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ss=xt("file-text",aV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ME=xt("file-warning",iV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],lV=xt("folder-open",sV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],cx=xt("folder-plus",oV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]],uV=xt("folder-x",cV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],W0=xt("folder",fV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$_=xt("funnel",dV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],H_=xt("graduation-cap",hV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],V_=xt("grid-3x3",mV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Ax=xt("hard-hat",pV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],W_=xt("hash",xV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Rv=xt("house",gV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],km=xt("image",vV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],G_=xt("layers",yV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],wV=xt("lightbulb",bV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$x=xt("link",NV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iF=xt("list",_V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hx=xt("lock",jV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sF=xt("log-out",SV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],EV=xt("mail",AV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ks=xt("map-pin",kV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],TV=xt("menu",CV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Js=xt("message-square",OV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M5 12h14",key:"1ays0h"}]],lF=xt("minus",DV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ex=xt("palette",FV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],LV=xt("paperclip",PV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],np=xt("pen-line",MV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ap=xt("pen",RV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],K_=xt("pin",IV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jn=xt("plus",BV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zV=xt("refresh-cw",UV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fh=xt("save",qV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ip=xt("search",$V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Cm=xt("send",HV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jv=xt("settings",VV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eN=xt("shield",WV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],oF=xt("square-pen",GV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],tN=xt("square",KV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],XV=xt("star",YV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ZV=xt("tag",QV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],eW=xt("text-align-start",JV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],rW=xt("thumbs-up",tW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hn=xt("trash-2",nW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],G0=xt("trending-up",aW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rN=xt("triangle-alert",iW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],lW=xt("truck",sW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],jd=xt("type",oW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sp=xt("upload",cW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fW=xt("user-plus",uW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vx=xt("user",dW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ls=xt("users",hW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Wx=xt("video",mW);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ji=xt("x",pW),dm=[{url:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=1200&q=80",caption:"Oprateur de chariot lvateur"},{url:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&w=1200&q=80",caption:"Gestion des engins de chantier"},{url:"https://images.unsplash.com/photo-1581092162384-8987c1d64718?auto=format&fit=crop&w=1200&q=80",caption:"Manutention professionnelle"},{url:"https://images.unsplash.com/photo-1513828583688-c52646db42da?auto=format&fit=crop&w=1200&q=80",caption:"quipe de travaux"}],xW=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[a,i]=C.useState(""),[l,o]=C.useState(!1),[u,f]=C.useState(0),[h,m]=C.useState(!1),{login:g}=_i(),x=pn();C.useEffect(()=>{const N=setInterval(()=>{f(E=>E===dm.length-1?0:E+1)},4e3);return()=>clearInterval(N)},[]);const b=async N=>{N.preventDefault(),i(""),o(!0),await g(e,r)?x("/dashboard"):i("Nom d'utilisateur ou mot de passe incorrect"),o(!1)},v=()=>{f(N=>N===0?dm.length-1:N-1)},w=()=>{f(N=>N===dm.length-1?0:N+1)};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-orange-600 to-blue-900 overflow-hidden",children:s.jsxs("div",{className:"relative w-full h-full",children:[dm.map((N,E)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${E===u?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:N.url,alt:N.caption,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]},E)),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-12 text-white z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ax,{className:"w-12 h-12"}),s.jsxs("h1",{className:"text-4xl font-bold",children:["Systme de Gestion",s.jsx("br",{}),"Comptable"]})]}),s.jsx("p",{className:"text-xl text-gray-200 max-w-md",children:"Solution professionnelle pour la gestion des dclarations de sessions"})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-lg font-medium text-gray-100",children:dm[u].caption})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:v,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image prcdente",children:s.jsx(z_,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex gap-2",children:dm.map((N,E)=>s.jsx("button",{onClick:()=>f(E),className:`h-2 rounded-full transition-all ${E===u?"w-8 bg-white":"w-2 bg-white/50 hover:bg-white/70"}`,"aria-label":`Aller  l'image ${E+1}`},E))}),s.jsx("button",{onClick:w,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image suivante",children:s.jsx(Io,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(lW,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Engins de chantier"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(ls,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Gestion d'quipes"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[s.jsx(Ax,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Manutention"})]})]})]})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"lg:hidden mb-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[s.jsx(Ax,{className:"w-10 h-10 text-orange-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion Comptable"})]}),s.jsx("p",{className:"text-gray-600",children:"Solution pour vos dclarations de sessions"})]}),s.jsxs(hn,{className:"shadow-xl border-0",children:[s.jsxs(ff,{className:"space-y-1 pb-6",children:[s.jsx(df,{className:"text-2xl font-bold text-center text-gray-900",children:"Connexion"}),s.jsx(ZD,{className:"text-center text-gray-600",children:"Accdez  votre espace personnel"})]}),s.jsxs(mn,{children:[s.jsxs("form",{onSubmit:b,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),s.jsx(Zs,{id:"username",type:"text",placeholder:"Votre identifiant",value:e,onChange:N=>t(N.target.value),required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{id:"password",type:h?"text":"password",placeholder:"Votre mot de passe",value:r,onChange:N=>n(N.target.value),required:!0,className:"h-11 pr-10"}),s.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:h?s.jsx(Ys,{className:"w-5 h-5"}):s.jsx(Os,{className:"w-5 h-5"})})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:a})]}),s.jsx(rt,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white font-medium shadow-lg",disabled:l,children:l?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion..."]}):"Se connecter"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[s.jsx("p",{children:" 2025 Systme de Gestion Comptable"}),s.jsx("p",{className:"mt-1",children:"Tous droits rservs"})]})]})]})]})})]})},gW=({className:e=""})=>{const[t,r]=C.useState(!1),[n,a]=C.useState(["gestion-comptable","formation-en-ligne"]),{user:i,isAdmin:l,isGerant:o,logout:u}=_i(),f=pn(),h=Fc(),m=()=>{u(),f("/login"),r(!1)},g=S=>{a(D=>D.includes(S)?D.filter(F=>F!==S):[...D,S])},x=[{id:"gestion-comptable",title:"Gestion Comptable",icon:du,items:[{to:"/dashboard",icon:Rv,label:"Tableau de bord"},{to:"/admin/segments",icon:du,label:"Segments"},{to:"/admin/cities",icon:ks,label:"Villes"},{to:"/admin/users",icon:ls,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:V0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Zv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Qv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:H_,items:[{to:"/admin/formations/sessions",icon:Bi,label:"Sessions"}]}],b=[{to:"/dashboard",icon:Rv,label:"Tableau de bord"},{to:"/professor/declarations",icon:iF,label:"Mes dclarations"}],v=[{to:"/dashboard",icon:Rv,label:"Tableau de bord"},{to:"/gerant/view-declarations",icon:Qv,label:"Voir dclarations"}],w=l?x:[],N=l?[]:o?v:b,E=S=>h.pathname===S;return s.jsxs(s.Fragment,{children:[s.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:`lg:hidden ${e}`,"aria-label":"Open menu",children:s.jsx(TV,{className:"h-6 w-6"})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),s.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Menu"}),s.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>r(!1),"aria-label":"Close menu",children:s.jsx(ji,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:i?.full_name||i?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i?.role})]}),s.jsxs("nav",{className:"flex flex-col p-2 space-y-2 overflow-y-auto flex-1",children:[w.map(S=>{const D=n.includes(S.id),F=S.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>g(S.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(F,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:S.title})]}),D?s.jsx(q_,{className:"h-4 w-4 text-gray-400"}):s.jsx(rp,{className:"h-4 w-4 text-gray-400"})]}),D&&s.jsx("div",{className:"ml-6 space-y-0.5",children:S.items.map(O=>{const T=O.icon,M=E(O.to);return s.jsxs(Ma,{to:O.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${M?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(T,{className:`h-4 w-4 ${M?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:O.label})]},O.to)})})]},S.id)}),N.map(S=>s.jsxs(Ma,{to:S.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-colors ${E(S.to)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(S.icon,{className:`h-5 w-5 ${E(S.to)?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:S.label})]},S.to))]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white",children:s.jsxs(rt,{onClick:m,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[s.jsx(sF,{className:"h-4 w-4"}),"Dconnexion"]})})]})]})},vW=({title:e,subtitle:t})=>{const{user:r,logout:n}=_i(),a=pn(),i=()=>{n(),a("/login")};return s.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(gW,{}),s.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[s.jsx(Ax,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-600"}),s.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Comptabilit PL"})]}),e&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 truncate max-w-[150px] sm:max-w-none",children:e}),t&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:t})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:r?.full_name||r?.username}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r?.role})]}),s.jsxs(rt,{onClick:i,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(sF,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Dconnexion"})]})]}),!e&&s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(Ax,{className:"h-6 w-6 text-orange-600"}),s.jsx("span",{className:"text-base font-bold text-gray-800",children:"Comptabilit PL"})]})]})})})},yW=()=>{const e=Fc(),[t,r]=C.useState(["gestion-comptable","formation-en-ligne"]),n=l=>{r(o=>o.includes(l)?o.filter(u=>u!==l):[...o,l])},a=[{id:"gestion-comptable",title:"Gestion Comptable",icon:du,items:[{to:"/dashboard",icon:Rv,label:"Tableau de bord"},{to:"/admin/segments",icon:du,label:"Segments"},{to:"/admin/cities",icon:ks,label:"Villes"},{to:"/admin/users",icon:ls,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:V0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:Zv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Qv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:H_,items:[{to:"/admin/formations/cours",icon:qn,label:"Formations"},{to:"/admin/formations/sessions",icon:Bi,label:"Sessions"},{to:"/admin/analytics",icon:tF,label:"Analytics"},{to:"/admin/student-reports",icon:ss,label:"Rapports tudiants"},{to:"/admin/certificates",icon:ii,label:"Certificats"},{to:"/admin/certificate-templates",icon:Ex,label:"Templates de Certificats"},{to:"/admin/forums",icon:Js,label:"Forums"}]}],i=l=>e.pathname===l;return s.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 bg-white border-r border-gray-200 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:[s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2",children:a.map(l=>{const o=t.includes(l.id),u=l.icon;return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>n(l.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(u,{className:"h-5 w-5 text-gray-600 group-hover:text-blue-600"}),s.jsx("span",{className:"group-hover:text-blue-600",children:l.title})]}),o?s.jsx(q_,{className:"h-4 w-4 text-gray-400"}):s.jsx(rp,{className:"h-4 w-4 text-gray-400"})]}),o&&s.jsx("div",{className:"ml-3 space-y-0.5 border-l-2 border-gray-200 pl-3",children:l.items.map(f=>{const h=f.icon,m=i(f.to);return s.jsxs(Ma,{to:f.to,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-all ${m?"bg-blue-50 text-blue-700 font-medium border-l-2 border-blue-600 -ml-[2px]":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(h,{className:`h-4 w-4 ${m?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{children:f.label})]},f.to)})})]},l.id)})}),s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Comptabilit PL  2025"})})]})},ha=({children:e,title:t,subtitle:r})=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(vW,{title:t,subtitle:r}),s.jsxs("div",{className:"flex",children:[s.jsx(yW,{}),s.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]});function bW(){return ur({queryKey:["dashboard-stats"],queryFn:async()=>at.get("/admin/dashboard-stats"),refetchInterval:3e4})}const wW=()=>{const{data:e,isLoading:t,error:r}=bW();if(t)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(r||!e)return s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des statistiques"})});const{statusStats:n,alerts:a,metrics:i,rankings:l}=e;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Fiches"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:n.total})]}),s.jsx(ss,{className:"w-10 h-10 text-blue-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.soumise>5?"bg-gradient-to-br from-red-50 to-red-100 border-red-300 animate-pulse":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${n.soumise>5?"text-red-600":"text-blue-600"}`,children:"Soumises"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${n.soumise>5?"text-red-900":"text-blue-900"}`,children:n.soumise}),n.soumise>5&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:"  traiter rapidement"})]}),s.jsx(Cm,{className:`w-10 h-10 opacity-50 ${n.soumise>5?"text-red-500":"text-blue-500"}`})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.a_declarer>3?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 animate-pulse":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-600",children:" dclarer"}),s.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:n.a_declarer}),n.a_declarer>3&&s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:" Attente prof"})]}),s.jsx(Wr,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),s.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${a.expired.total>0?"bg-gradient-to-br from-red-50 to-red-100 border-red-300":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${a.expired.total>0?"text-red-600":"text-gray-600"}`,children:"Expires"}),s.jsx("p",{className:`text-3xl font-bold mt-1 ${a.expired.total>0?"text-red-900":"text-gray-900"}`,children:a.expired.total}),a.expired.critical>0&&s.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[" ",a.expired.critical," critique"]})]}),s.jsx(ME,{className:`w-10 h-10 opacity-50 ${a.expired.total>0?"text-red-500":"text-gray-400"}`})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Revenus Total"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:[new Intl.NumberFormat("fr-FR").format(i.totalRevenue)," MAD"]})]}),s.jsx(J4,{className:"w-10 h-10 text-green-500 opacity-50"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-4 border border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Dlai Moyen"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-900 mt-1",children:[i.avgProcessingTime,s.jsx("span",{className:"text-lg ml-1",children:"j"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"de traitement"})]}),s.jsx(As,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]})]}),(n.soumise>0||a.expired.total>0||a.expiring>0||a.lateProcessing>0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Alertes Urgentes"}),s.jsxs("div",{className:"space-y-3",children:[n.soumise>0&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cm,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[n.soumise," dclaration",n.soumise>1?"s":""," soumise",n.soumise>1?"s":"","  traiter"]})]})}),a.expired.critical>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rN,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-red-900",children:[" ",a.expired.critical," dclaration",a.expired.critical>1?"s":""," expire",a.expired.critical>1?"s":""," depuis > 30 jours (CRITIQUE)"]})]})}),a.expired.warning>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.expired.warning," dclaration",a.expired.warning>1?"s":""," expire",a.expired.warning>1?"s":""," depuis 7-30 jours"]})]})}),a.expiring>0&&s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(As,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:[" ",a.expiring," dclaration",a.expiring>1?"s":""," arrivant  chance dans 7 jours"]})]})}),a.lateProcessing>0&&s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-600 rounded-r-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ME,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),s.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.lateProcessing," dclaration",a.lateProcessing>1?"s":""," en retard de traitement (> 7 jours)"]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dtails par Statut"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ss,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Brouillon"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.brouillon})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-orange-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-orange-500"}),s.jsx("p",{className:"text-xs font-medium text-orange-600",children:" dclarer"})]}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.a_declarer})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-blue-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cm,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-xs font-medium text-blue-600",children:"Soumise"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.soumise})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-yellow-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(As,{className:"w-4 h-4 text-yellow-500"}),s.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"En cours"})]}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:n.en_cours})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-green-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(si,{className:"w-4 h-4 text-green-500"}),s.jsx("p",{className:"text-xs font-medium text-green-600",children:"Approuve"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.approuvee})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-red-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ad,{className:"w-4 h-4 text-red-500"}),s.jsx("p",{className:"text-xs font-medium text-red-600",children:"Refuse"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.refusee})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Mtriques de Performance"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-6 border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(G0,{className:"w-6 h-6 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-700",children:"Taux d'Approbation"})]}),s.jsxs("p",{className:"text-4xl font-bold text-green-900",children:[i.approvalRate.toFixed(1),"%"]}),s.jsx("div",{className:"mt-3 bg-green-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-green-600 h-full transition-all duration-500",style:{width:`${i.approvalRate}%`}})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-6 border border-purple-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(As,{className:"w-6 h-6 text-purple-600"}),s.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Dlai Moyen de Traitement"})]}),s.jsxs("p",{className:"text-4xl font-bold text-purple-900",children:[i.avgProcessingTime,s.jsx("span",{className:"text-2xl ml-1",children:"jours"})]}),s.jsx("p",{className:"text-xs text-purple-700 mt-2",children:"Entre soumission et validation"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-6 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(J4,{className:"w-6 h-6 text-blue-600"}),s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Revenus Totaux (Approuves)"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MAD",minimumFractionDigits:0}).format(i.totalRevenue)}),s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Bas sur les fiches approuves"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ss,{className:"w-4 h-4"}),"Top 3 Segments"]}),s.jsx("div",{className:"space-y-2",children:l.topSegments.length>0?l.topSegments.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Top 5 Villes"]}),s.jsx("div",{className:"space-y-2",children:l.topCities.length>0?l.topCities.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4"}),"Top 5 Professeurs Actifs"]}),s.jsx("div",{className:"space-y-2",children:l.topProfessors.length>0?l.topProfessors.map((o,u)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.full_name}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]})]})]})},NW=()=>{const{user:e,isAdmin:t,isGerant:r}=_i(),l=t?[{title:"Gestion des Segments",description:"Crer et grer les segments de formation",icon:du,link:"/admin/segments",color:"bg-blue-500"},{title:"Gestion des Villes",description:"Grer les villes et leur affectation",icon:ks,link:"/admin/cities",color:"bg-green-500"},{title:"Gestion des Utilisateurs",description:"Crer et grer les comptes (admin, professeur, grant)",icon:ls,link:"/admin/users",color:"bg-purple-500"},{title:"Fiches de Calcul",description:"Crer des templates de fiches de calcul",icon:V0,link:"/admin/calculation-sheets",color:"bg-orange-500"},{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Zv,link:"/admin/create-declaration",color:"bg-teal-500"},{title:"Gestion des Dclarations",description:"Valider et grer les dclarations des professeurs",icon:Qv,link:"/admin/declarations",color:"bg-indigo-500"},{title:"Analytics & Rapports",description:"Statistiques et analyses de performance des formations",icon:tF,link:"/admin/analytics",color:"bg-pink-500"},{title:"Rapports tudiants",description:"Consulter les rapports dtaills de progression des tudiants",icon:ss,link:"/admin/student-reports",color:"bg-cyan-500"}]:r?[{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:Zv,link:"/gerant/create-declaration",color:"bg-blue-500"},{title:"Mes Dclarations Cres",description:"Suivre les dclarations que j'ai assignes",icon:iF,link:"/gerant/declarations",color:"bg-green-500"}]:[{title:"Mes Dclarations",description:"Crer et grer mes dclarations de sessions",icon:V0,link:"/professor/declarations",color:"bg-blue-500"}];return s.jsxs(ha,{title:"Tableau de Bord",subtitle:`Bienvenue, ${e?.full_name} (${t?"Administrateur":r?"Grant":"Professeur"})`,children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:l.map((o,u)=>s.jsx(Ma,{to:o.link,children:s.jsxs(hn,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:[s.jsxs(ff,{children:[s.jsx("div",{className:`${o.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:s.jsx(o.icon,{className:"h-6 w-6 text-white"})}),s.jsx(df,{className:"text-xl",children:o.title})]}),s.jsx(mn,{children:s.jsx("p",{className:"text-gray-600",children:o.description})})]})},u))}),t&&s.jsx("div",{className:"mt-6 sm:mt-8",children:s.jsx(wW,{})}),!t&&s.jsxs("div",{className:"mt-6 sm:mt-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Statistiques Rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r?"Dclarations cres":"Mes Fiches"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Revenus Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"0 MAD"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Charges Total"})]})})})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ey={};ey.version="0.18.5";var cF=1252,_W=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Y_={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},X_=function(e){_W.indexOf(e)!=-1&&(cF=Y_[0]=e)};function jW(){X_(1252)}var Nc=function(e){X_(e)};function Q_(){Nc(1200),jW()}function RE(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function SW(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function uF(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var wx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?SW(e.slice(2)):t==254&&r==255?uF(e.slice(2)):t==65279?e.slice(1):e},X1=function(t){return String.fromCharCode(t)},IE=function(t){return String.fromCharCode(t)},Gx,yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Kx(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),l=(r&3)<<4|n>>4,a=e.charCodeAt(f++),o=(n&15)<<2|a>>6,u=a&63,isNaN(n)?o=u=64:isNaN(a)&&(u=64),t+=yd.charAt(i)+yd.charAt(l)+yd.charAt(o)+yd.charAt(u);return t}function ro(e){var t="",r=0,n=0,a=0,i=0,l=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=yd.indexOf(e.charAt(f++)),l=yd.indexOf(e.charAt(f++)),r=i<<2|l>>4,t+=String.fromCharCode(r),o=yd.indexOf(e.charAt(f++)),n=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),u=yd.indexOf(e.charAt(f++)),a=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Cr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),wf=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Ed(e){return Cr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function BE(e){return Cr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ql=function(t){return Cr?wf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function c2(e){if(typeof ArrayBuffer>"u")return Ql(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Id(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function AW(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Z_(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Z_(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ui=Cr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:wf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function EW(e){for(var t=[],r=0,n=e.length+250,a=Ed(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|o>>6&15|(l&3)<<4,a[r++]=128|o&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ed(65535),n=65530)}return t.push(a.slice(0,r)),Ui(t)}var tl=/\u0000/g,Nx=/[\u0001-\u0006]/g;function Tm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _c(e,t){var r=""+e;return r.length>=t?r:Pa("0",t-r.length)+r}function J_(e,t){var r=""+e;return r.length>=t?r:Pa(" ",t-r.length)+r}function ty(e,t){var r=""+e;return r.length>=t?r:r+Pa(" ",t-r.length)}function kW(e,t){var r=""+Math.round(e);return r.length>=t?r:Pa("0",t-r.length)+r}function CW(e,t){var r=""+e;return r.length>=t?r:Pa("0",t-r.length)+r}var UE=Math.pow(2,32);function hm(e,t){if(e>UE||e<-UE)return kW(e,t);var r=Math.round(e);return CW(r,t)}function ry(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var zE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ew=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function TW(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var cr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},qE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},OW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ny(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,l=1,o=0,u=1,f=0,h=0,m=Math.floor(a);f<t&&(m=Math.floor(a),o=m*l+i,h=m*f+u,!(a-m<5e-8));)a=1/(a-m),i=l,l=o,u=f,f=h;if(h>t&&(f>t?(h=u,o=i):(h=f,o=l)),!r)return[0,n*o,h];var g=Math.floor(n*o/h);return[g,n*o-g*h,h]}function C0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,l=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=RW(u,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var fF=new Date(1899,11,31,0,0,0),DW=fF.getTime(),FW=new Date(1900,2,1,0,0,0);function dF(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=FW&&(r+=1440*60*1e3),(r-(DW+(e.getTimezoneOffset()-fF.getTimezoneOffset())*6e4))/(1440*60*1e3)}function e3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function PW(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function LW(e){var t=e<0?12:11,r=e3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function MW(e){var t=e3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Yx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=LW(e):t===10?r=e.toFixed(10).substr(0,12):r=MW(e),e3(PW(r.toUpperCase()))}function K0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Yx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return qo(14,dF(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function RW(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function IW(e,t,r,n){var a="",i=0,l=0,o=r.y,u,f=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,f=2;break;default:u=o%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return Ew[r.m-1][1];case 5:return Ew[r.m-1][0];default:return Ew[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return zE[r.q][0];default:return zE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_c(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(a=_c(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=o,f=1;break}var h=f>0?_c(u,f):"";return h}function bd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var hF=/%/g;function BW(e,t,r){var n=t.replace(hF,""),a=t.length-n.length;return af(e,n,r*Math.pow(10,2*a))+Pa("%",a)}function UW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return af(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function mF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+mF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var pF=/# (\?+)( ?)\/( ?)(\d+)/;function zW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),l=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(l===0?Pa(" ",e[1].length+1+e[4].length):J_(l,e[1].length)+e[2]+"/"+e[3]+_c(o,e[4].length))}function qW(e,t,r){return r+(t===0?"":""+t)+Pa(" ",e[1].length+2+e[4].length)}var xF=/^#*0*\.([0#]+)/,gF=/\).*[0#]/,vF=/\(###\) ###\\?-####/;function Gs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function $E(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function HE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function $W(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function HW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function To(e,t,r){if(e.charCodeAt(0)===40&&!t.match(gF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?To("n",n,r):"("+To("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return UW(e,t,r);if(t.indexOf("%")!==-1)return BW(e,t,r);if(t.indexOf("E")!==-1)return mF(t,r);if(t.charCodeAt(0)===36)return"$"+To(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+hm(u,t.length);if(t.match(/^[#?]+$/))return a=hm(r,0),a==="0"&&(a=""),a.length>t.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(pF))return zW(i,u,f);if(t.match(/^#+0+$/))return f+hm(u,t.length-t.indexOf("0"));if(i=t.match(xF))return a=$E(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Gs(i[1])).replace(/\.$/,"."+Gs(i[1])).replace(/\.(\d*)$/,function(b,v){return"."+v+Pa("0",Gs(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+$E(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+bd(hm(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+To(e,t,-r):bd(""+(Math.floor(r)+$W(r,i[1].length)))+"."+_c(HE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return To(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Tm(To(e,t.replace(/[\\-]/g,""),r)),l=0,Tm(Tm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(vF))return a=To(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=ny(u,Math.pow(10,l)-1,!1),a=""+f,h=af("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=ty(o[2],l),h.length<i[4].length&&(h=Gs(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=ny(u,Math.pow(10,l)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?J_(o[1],l)+i[2]+"/"+i[3]+ty(o[2],l):Pa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=hm(r,0),t.length<=a.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Gs(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=HE(r,i[1].length),r<0?"-"+To(e,t,-r):bd(HW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?_c(0,3-b.length):"")+b})+"."+_c(l,i[1].length);switch(t){case"###,##0.00":return To(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=bd(hm(u,0));return x!=="0"?f+x:"";case"###,###.00":return To(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return To(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function VW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return af(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function WW(e,t,r){var n=t.replace(hF,""),a=t.length-n.length;return af(e,n,r*Math.pow(10,2*a))+Pa("%",a)}function yF(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+yF(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function iu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(gF)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?iu("n",n,r):"("+iu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return VW(e,t,r);if(t.indexOf("%")!==-1)return WW(e,t,r);if(t.indexOf("E")!==-1)return yF(t,r);if(t.charCodeAt(0)===36)return"$"+iu(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+_c(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(pF))return qW(i,u,f);if(t.match(/^#+0+$/))return f+_c(u,t.length-t.indexOf("0"));if(i=t.match(xF))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Gs(i[1])).replace(/\.$/,"."+Gs(i[1])),a=a.replace(/\.(\d*)$/,function(b,v){return"."+v+Pa("0",Gs(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+bd(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+iu(e,t,-r):bd(""+r)+"."+Pa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return iu(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Tm(iu(e,t.replace(/[\\-]/g,""),r)),l=0,Tm(Tm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(vF))return a=iu(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=ny(u,Math.pow(10,l)-1,!1),a=""+f,h=af("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=ty(o[2],l),h.length<i[4].length&&(h=Gs(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=ny(u,Math.pow(10,l)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?J_(o[1],l)+i[2]+"/"+i[3]+ty(o[2],l):Pa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var m=t.indexOf(".")-l,g=t.length-a.length-m;return Gs(t.substr(0,m)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+iu(e,t,-r):bd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?_c(0,3-b.length):"")+b})+"."+_c(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=bd(""+u);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return iu(e,t.slice(0,t.lastIndexOf(".")),r)+Gs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function af(e,t,r){return(r|0)===r?iu(e,t,r):To(e,t,r)}function GW(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var bF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ry(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(bF))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function KW(e,t,r,n){for(var a=[],i="",l=0,o="",u="t",f,h,m,g="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!ry(e,l))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);a[a.length]={t:"t",v:i},++l;break;case"\\":var x=e.charAt(++l),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=C0(t,r,e.charAt(l+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},u=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=C0(t,r),f==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:i},u=o;break;case"A":case"a":case"":var v={t:o,v:o};if(f==null&&(f=C0(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(v.v=f.H>=12?"P":"A"),v.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(v.v=f.H>=12?"PM":"AM"),v.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(f!=null&&(v.v=f.H>=12?"":""),v.t="T",l+=5,g="h"):(v.t="t",++l),f==null&&v.t==="T")return"";a[a.length]=v,u=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(bF)){if(f==null&&(f=C0(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",lp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;a[a.length]={t:o,v:i},u=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++l;break}var w=0,N=0,E;for(l=a.length-1,u="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=g,u="h",w<1&&(w=1);break;case"s":(E=a[l].v.match(/\.0+$/))&&(N=Math.max(N,E[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":u=a[l].t;break;case"m":u==="s"&&(a[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[l].v.match(/[Hh]/)&&(w=1),w<2&&a[l].v.match(/[Mm]/)&&(w=2),w<3&&a[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var S="",D;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=IW(a[l].t.charCodeAt(0),a[l].v,f,N),a[l].t="t";break;case"n":case"?":for(D=l+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[l].v+=a[D].v,a[D]={v:"",t:";"},++D;S+=a[l].v,l=D-1;break;case"G":a[l].t="t",a[l].v=K0(t,r);break}var F="",O,T;if(S.length>0){S.charCodeAt(0)==40?(O=t<0&&S.charCodeAt(0)===45?-t:t,T=af("n",S,O)):(O=t<0&&n>1?-t:t,T=af("n",S,O),O<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),D=T.length-1;var M=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){M=l;break}var B=a.length;if(M===a.length&&T.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(D>=a[l].v.length-1?(D-=a[l].v.length,a[l].v=T.substr(D+1,a[l].v.length)):D<0?a[l].v="":(a[l].v=T.substr(0,D+1),D=-1),a[l].t="t",B=l);D>=0&&B<a.length&&(a[B].v=T.substr(0,D+1)+a[B].v)}else if(M!==a.length&&T.indexOf("E")===-1){for(D=T.indexOf(".")-1,l=M;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(h=a[l].v.indexOf(".")>-1&&l===M?a[l].v.indexOf(".")-1:a[l].v.length-1,F=a[l].v.substr(h+1);h>=0;--h)D>=0&&(a[l].v.charAt(h)==="0"||a[l].v.charAt(h)==="#")&&(F=T.charAt(D--)+F);a[l].v=F,a[l].t="t",B=l}for(D>=0&&B<a.length&&(a[B].v=T.substr(0,D+1)+a[B].v),D=T.indexOf(".")+1,l=M;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==M)){for(h=a[l].v.indexOf(".")>-1&&l===M?a[l].v.indexOf(".")+1:0,F=a[l].v.substr(0,h);h<a[l].v.length;++h)D<T.length&&(F+=T.charAt(D++));a[l].v=F,a[l].t="t",B=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(O=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=af(a[l].t,a[l].v,O),a[l].t="t");var H="";for(l=0;l!==a.length;++l)a[l]!=null&&(H+=a[l].v);return H}var VE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function YW(e,t){var r=GW(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(VE),o=r[1].match(VE);return WE(t,l)?[n,r[0]]:WE(t,o)?[n,r[1]]:[n,r[l!=null&&o!=null?2:1]]}return[n,i]}function qo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:cr)[e],n==null&&(n=r.table&&r.table[qE[e]]||cr[qE[e]]),n==null&&(n=OW[e]||"General");break}if(ry(n,0))return K0(t,r);t instanceof Date&&(t=dF(t,r.date1904));var a=YW(n,t);if(ry(a[1]))return K0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return KW(a[1],t,r,a[0])}function sf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(cr[r]==null){t<0&&(t=r);continue}if(cr[r]==e){t=r;break}}t<0&&(t=391)}return cr[t]=e,t}function u2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&sf(e[t],t)}function op(){cr=TW()}var XW={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},wF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function QW(e){var t=typeof e=="number"?cr[e]:e;return t=t.replace(wF,"(\\d+)"),new RegExp("^"+t+"$")}function ZW(e,t,r){var n=-1,a=-1,i=-1,l=-1,o=-1,u=-1;(t.match(wF)||[]).forEach(function(m,g){var x=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":l=x;break;case"s":u=x;break;case"m":l>=0?o=x:a=x;break}}),u>=0&&o==-1&&a>=0&&(o=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&o==-1&&u==-1?f:n==-1&&a==-1&&i==-1?h:f+"T"+h}var JW=(function(){var e={};e.version="1.2.0";function t(){for(var T=0,M=new Array(256),B=0;B!=256;++B)T=B,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,M[B]=T;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(T){var M=0,B=0,H=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)R[H]=T[H];for(H=0;H!=256;++H)for(B=T[H],M=256+H;M<4096;M+=256)B=R[M]=B>>>8^T[B&255];var U=[];for(H=1;H!=16;++H)U[H-1]=typeof Int32Array<"u"?R.subarray(H*256,H*256+256):R.slice(H*256,H*256+256);return U}var a=n(r),i=a[0],l=a[1],o=a[2],u=a[3],f=a[4],h=a[5],m=a[6],g=a[7],x=a[8],b=a[9],v=a[10],w=a[11],N=a[12],E=a[13],S=a[14];function D(T,M){for(var B=M^-1,H=0,R=T.length;H<R;)B=B>>>8^r[(B^T.charCodeAt(H++))&255];return~B}function F(T,M){for(var B=M^-1,H=T.length-15,R=0;R<H;)B=S[T[R++]^B&255]^E[T[R++]^B>>8&255]^N[T[R++]^B>>16&255]^w[T[R++]^B>>>24]^v[T[R++]]^b[T[R++]]^x[T[R++]]^g[T[R++]]^m[T[R++]]^h[T[R++]]^f[T[R++]]^u[T[R++]]^o[T[R++]]^l[T[R++]]^i[T[R++]]^r[T[R++]];for(H+=15;R<H;)B=B>>>8^r[(B^T[R++])&255];return~B}function O(T,M){for(var B=M^-1,H=0,R=T.length,U=0,K=0;H<R;)U=T.charCodeAt(H++),U<128?B=B>>>8^r[(B^U)&255]:U<2048?(B=B>>>8^r[(B^(192|U>>6&31))&255],B=B>>>8^r[(B^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,K=T.charCodeAt(H++)&1023,B=B>>>8^r[(B^(240|U>>8&7))&255],B=B>>>8^r[(B^(128|U>>2&63))&255],B=B>>>8^r[(B^(128|K>>6&15|(U&3)<<4))&255],B=B>>>8^r[(B^(128|K&63))&255]):(B=B>>>8^r[(B^(224|U>>12&15))&255],B=B>>>8^r[(B^(128|U>>6&63))&255],B=B>>>8^r[(B^(128|U&63))&255]);return~B}return e.table=r,e.bstr=D,e.buf=F,e.str=O,e})(),nr=(function(){var t={};t.version="1.2.1";function r(te,Ne){for(var de=te.split("/"),he=Ne.split("/"),ve=0,je=0,Me=Math.min(de.length,he.length);ve<Me;++ve){if(je=de[ve].length-he[ve].length)return je;if(de[ve]!=he[ve])return de[ve]<he[ve]?-1:1}return de.length-he.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var Ne=te.lastIndexOf("/");return Ne===-1?te:te.slice(0,Ne+1)}function a(te){if(te.charAt(te.length-1)=="/")return a(te.slice(0,-1));var Ne=te.lastIndexOf("/");return Ne===-1?te:te.slice(Ne+1)}function i(te,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var de=Ne.getHours();de=de<<6|Ne.getMinutes(),de=de<<5|Ne.getSeconds()>>>1,te.write_shift(2,de);var he=Ne.getFullYear()-1980;he=he<<4|Ne.getMonth()+1,he=he<<5|Ne.getDate(),te.write_shift(2,he)}function l(te){var Ne=te.read_shift(2)&65535,de=te.read_shift(2)&65535,he=new Date,ve=de&31;de>>>=5;var je=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(je-1),he.setDate(ve);var Me=Ne&31;Ne>>>=5;var Ge=Ne&63;return Ne>>>=6,he.setHours(Ne),he.setMinutes(Ge),he.setSeconds(Me<<1),he}function o(te){as(te,0);for(var Ne={},de=0;te.l<=te.length-4;){var he=te.read_shift(2),ve=te.read_shift(2),je=te.l+ve,Me={};switch(he){case 21589:de=te.read_shift(1),de&1&&(Me.mtime=te.read_shift(4)),ve>5&&(de&2&&(Me.atime=te.read_shift(4)),de&4&&(Me.ctime=te.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}te.l=je,Ne[he]=Me}return Ne}var u;function f(){return u||(u={})}function h(te,Ne){if(te[0]==80&&te[1]==75)return xn(te,Ne);if((te[0]|32)==109&&(te[1]|32)==105)return Gt(te,Ne);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var de=3,he=512,ve=0,je=0,Me=0,Ge=0,Ie=0,Be=[],ze=te.slice(0,512);as(ze,0);var ut=m(ze);switch(de=ut[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(ut[1]==0)return xn(te,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&(ze=te.slice(0,he),as(ze,28));var mt=te.slice(0,he);g(ze,de);var _t=ze.read_shift(4,"i");if(de===3&&_t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+_t);ze.l+=4,Me=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Ge=ze.read_shift(4,"i"),ve=ze.read_shift(4,"i"),Ie=ze.read_shift(4,"i"),je=ze.read_shift(4,"i");for(var ht=-1,yt=0;yt<109&&(ht=ze.read_shift(4,"i"),!(ht<0));++yt)Be[yt]=ht;var Tt=x(te,he);w(Ie,je,Tt,he,Be);var ln=E(Tt,Me,Be,he);ln[Me].name="!Directory",ve>0&&Ge!==K&&(ln[Ge].name="!MiniFAT"),ln[Be[0]].name="!FAT",ln.fat_addrs=Be,ln.ssz=he;var kr={},fn=[],Wi=[],Dl=[];S(Me,ln,Tt,fn,ve,kr,Wi,Ge),b(Wi,Dl,fn),fn.shift();var Fl={FileIndex:Wi,FullPaths:Dl};return Ne&&Ne.raw&&(Fl.raw={header:mt,sectors:Tt}),Fl}function m(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(ee,"Header Signature: "),te.l+=16;var Ne=te.read_shift(2,"u");return[te.read_shift(2,"u"),Ne]}function g(te,Ne){var de=9;switch(te.l+=2,de=te.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function x(te,Ne){for(var de=Math.ceil(te.length/Ne)-1,he=[],ve=1;ve<de;++ve)he[ve-1]=te.slice(ve*Ne,(ve+1)*Ne);return he[de-1]=te.slice(de*Ne),he}function b(te,Ne,de){for(var he=0,ve=0,je=0,Me=0,Ge=0,Ie=de.length,Be=[],ze=[];he<Ie;++he)Be[he]=ze[he]=he,Ne[he]=de[he];for(;Ge<ze.length;++Ge)he=ze[Ge],ve=te[he].L,je=te[he].R,Me=te[he].C,Be[he]===he&&(ve!==-1&&Be[ve]!==ve&&(Be[he]=Be[ve]),je!==-1&&Be[je]!==je&&(Be[he]=Be[je])),Me!==-1&&(Be[Me]=he),ve!==-1&&he!=Be[he]&&(Be[ve]=Be[he],ze.lastIndexOf(ve)<Ge&&ze.push(ve)),je!==-1&&he!=Be[he]&&(Be[je]=Be[he],ze.lastIndexOf(je)<Ge&&ze.push(je));for(he=1;he<Ie;++he)Be[he]===he&&(je!==-1&&Be[je]!==je?Be[he]=Be[je]:ve!==-1&&Be[ve]!==ve&&(Be[he]=Be[ve]));for(he=1;he<Ie;++he)if(te[he].type!==0){if(Ge=he,Ge!=Be[Ge])do Ge=Be[Ge],Ne[he]=Ne[Ge]+"/"+Ne[he];while(Ge!==0&&Be[Ge]!==-1&&Ge!=Be[Ge]);Be[he]=-1}for(Ne[0]+="/",he=1;he<Ie;++he)te[he].type!==2&&(Ne[he]+="/")}function v(te,Ne,de){for(var he=te.start,ve=te.size,je=[],Me=he;de&&ve>0&&Me>=0;)je.push(Ne.slice(Me*U,Me*U+U)),ve-=U,Me=A0(de,Me*4);return je.length===0?Ze(0):Ui(je).slice(0,te.size)}function w(te,Ne,de,he,ve){var je=K;if(te===K){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Me=de[te],Ge=(he>>>2)-1;if(!Me)return;for(var Ie=0;Ie<Ge&&(je=A0(Me,Ie*4))!==K;++Ie)ve.push(je);w(A0(Me,he-4),Ne-1,de,he,ve)}}function N(te,Ne,de,he,ve){var je=[],Me=[];ve||(ve=[]);var Ge=he-1,Ie=0,Be=0;for(Ie=Ne;Ie>=0;){ve[Ie]=!0,je[je.length]=Ie,Me.push(te[Ie]);var ze=de[Math.floor(Ie*4/he)];if(Be=Ie*4&Ge,he<4+Be)throw new Error("FAT boundary crossed: "+Ie+" 4 "+he);if(!te[ze])break;Ie=A0(te[ze],Be)}return{nodes:je,data:ak([Me])}}function E(te,Ne,de,he){var ve=te.length,je=[],Me=[],Ge=[],Ie=[],Be=he-1,ze=0,ut=0,mt=0,_t=0;for(ze=0;ze<ve;++ze)if(Ge=[],mt=ze+Ne,mt>=ve&&(mt-=ve),!Me[mt]){Ie=[];var ht=[];for(ut=mt;ut>=0;){ht[ut]=!0,Me[ut]=!0,Ge[Ge.length]=ut,Ie.push(te[ut]);var yt=de[Math.floor(ut*4/he)];if(_t=ut*4&Be,he<4+_t)throw new Error("FAT boundary crossed: "+ut+" 4 "+he);if(!te[yt]||(ut=A0(te[yt],_t),ht[ut]))break}je[mt]={nodes:Ge,data:ak([Ie])}}return je}function S(te,Ne,de,he,ve,je,Me,Ge){for(var Ie=0,Be=he.length?2:0,ze=Ne[te].data,ut=0,mt=0,_t;ut<ze.length;ut+=128){var ht=ze.slice(ut,ut+128);as(ht,64),mt=ht.read_shift(2),_t=l3(ht,0,mt-Be),he.push(_t);var yt={name:_t,type:ht.read_shift(1),color:ht.read_shift(1),L:ht.read_shift(4,"i"),R:ht.read_shift(4,"i"),C:ht.read_shift(4,"i"),clsid:ht.read_shift(16),state:ht.read_shift(4,"i"),start:0,size:0},Tt=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);Tt!==0&&(yt.ct=D(ht,ht.l-8));var ln=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);ln!==0&&(yt.mt=D(ht,ht.l-8)),yt.start=ht.read_shift(4,"i"),yt.size=ht.read_shift(4,"i"),yt.size<0&&yt.start<0&&(yt.size=yt.type=0,yt.start=K,yt.name=""),yt.type===5?(Ie=yt.start,ve>0&&Ie!==K&&(Ne[Ie].name="!StreamData")):yt.size>=4096?(yt.storage="fat",Ne[yt.start]===void 0&&(Ne[yt.start]=N(de,yt.start,Ne.fat_addrs,Ne.ssz)),Ne[yt.start].name=yt.name,yt.content=Ne[yt.start].data.slice(0,yt.size)):(yt.storage="minifat",yt.size<0?yt.size=0:Ie!==K&&yt.start!==K&&Ne[Ie]&&(yt.content=v(yt,Ne[Ie].data,(Ne[Ge]||{}).data))),yt.content&&as(yt.content,0),je[_t]=yt,Me.push(yt)}}function D(te,Ne){return new Date((Yl(te,Ne+4)/1e7*Math.pow(2,32)+Yl(te,Ne)/1e7-11644473600)*1e3)}function F(te,Ne){return f(),h(u.readFileSync(te),Ne)}function O(te,Ne){var de=Ne&&Ne.type;switch(de||Cr&&Buffer.isBuffer(te)&&(de="buffer"),de||"base64"){case"file":return F(te,Ne);case"base64":return h(Ql(ro(te)),Ne);case"binary":return h(Ql(te),Ne)}return h(te,Ne)}function T(te,Ne){var de=Ne||{},he=de.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=he+"/",te.FileIndex[0]={name:he,type:5}),de.CLSID&&(te.FileIndex[0].clsid=de.CLSID),M(te)}function M(te){var Ne="Sh33tJ5";if(!nr.find(te,"/"+Ne)){var de=Ze(4);de[0]=55,de[1]=de[3]=50,de[2]=54,te.FileIndex.push({name:Ne,type:2,content:de,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+Ne),B(te)}}function B(te,Ne){T(te);for(var de=!1,he=!1,ve=te.FullPaths.length-1;ve>=0;--ve){var je=te.FileIndex[ve];switch(je.type){case 0:he?de=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(je.R*je.L*je.C)&&(de=!0),je.R>-1&&je.L>-1&&je.R==je.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!Ne)){var Me=new Date(1987,1,19),Ge=0,Ie=Object.create?Object.create(null):{},Be=[];for(ve=0;ve<te.FullPaths.length;++ve)Ie[te.FullPaths[ve]]=!0,te.FileIndex[ve].type!==0&&Be.push([te.FullPaths[ve],te.FileIndex[ve]]);for(ve=0;ve<Be.length;++ve){var ze=n(Be[ve][0]);he=Ie[ze],he||(Be.push([ze,{name:a(ze).replace("/",""),type:1,clsid:re,ct:Me,mt:Me,content:null}]),Ie[ze]=!0)}for(Be.sort(function(_t,ht){return r(_t[0],ht[0])}),te.FullPaths=[],te.FileIndex=[],ve=0;ve<Be.length;++ve)te.FullPaths[ve]=Be[ve][0],te.FileIndex[ve]=Be[ve][1];for(ve=0;ve<Be.length;++ve){var ut=te.FileIndex[ve],mt=te.FullPaths[ve];if(ut.name=a(mt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||re,ve===0)ut.C=Be.length>1?1:-1,ut.size=0,ut.type=5;else if(mt.slice(-1)=="/"){for(Ge=ve+1;Ge<Be.length&&n(te.FullPaths[Ge])!=mt;++Ge);for(ut.C=Ge>=Be.length?-1:Ge,Ge=ve+1;Ge<Be.length&&n(te.FullPaths[Ge])!=n(mt);++Ge);ut.R=Ge>=Be.length?-1:Ge,ut.type=1}else n(te.FullPaths[ve+1]||"")==n(mt)&&(ut.R=ve+1),ut.type=2}}}function H(te,Ne){var de=Ne||{};if(de.fileType=="mad")return Ol(te,de);switch(B(te),de.fileType){case"zip":return qr(te,de)}var he=(function(_t){for(var ht=0,yt=0,Tt=0;Tt<_t.FileIndex.length;++Tt){var ln=_t.FileIndex[Tt];if(ln.content){var kr=ln.content.length;kr>0&&(kr<4096?ht+=kr+63>>6:yt+=kr+511>>9)}}for(var fn=_t.FullPaths.length+3>>2,Wi=ht+7>>3,Dl=ht+127>>7,Fl=Wi+yt+fn+Dl,Rs=Fl+127>>7,Rc=Rs<=109?0:Math.ceil((Rs-109)/127);Fl+Rs+Rc+127>>7>Rs;)Rc=++Rs<=109?0:Math.ceil((Rs-109)/127);var Ba=[1,Rc,Rs,Dl,fn,yt,ht,0];return _t.FileIndex[0].size=ht<<6,Ba[7]=(_t.FileIndex[0].start=Ba[0]+Ba[1]+Ba[2]+Ba[3]+Ba[4]+Ba[5])+(Ba[6]+7>>3),Ba})(te),ve=Ze(he[7]<<9),je=0,Me=0;{for(je=0;je<8;++je)ve.write_shift(1,pe[je]);for(je=0;je<8;++je)ve.write_shift(2,0);for(ve.write_shift(2,62),ve.write_shift(2,3),ve.write_shift(2,65534),ve.write_shift(2,9),ve.write_shift(2,6),je=0;je<3;++je)ve.write_shift(2,0);for(ve.write_shift(4,0),ve.write_shift(4,he[2]),ve.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ve.write_shift(4,0),ve.write_shift(4,4096),ve.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:K),ve.write_shift(4,he[3]),ve.write_shift(-4,he[1]?he[0]-1:K),ve.write_shift(4,he[1]),je=0;je<109;++je)ve.write_shift(-4,je<he[2]?he[1]+je:-1)}if(he[1])for(Me=0;Me<he[1];++Me){for(;je<236+Me*127;++je)ve.write_shift(-4,je<he[2]?he[1]+je:-1);ve.write_shift(-4,Me===he[1]-1?K:Me+1)}var Ge=function(_t){for(Me+=_t;je<Me-1;++je)ve.write_shift(-4,je+1);_t&&(++je,ve.write_shift(-4,K))};for(Me=je=0,Me+=he[1];je<Me;++je)ve.write_shift(-4,se.DIFSECT);for(Me+=he[2];je<Me;++je)ve.write_shift(-4,se.FATSECT);Ge(he[3]),Ge(he[4]);for(var Ie=0,Be=0,ze=te.FileIndex[0];Ie<te.FileIndex.length;++Ie)ze=te.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(Be<4096)&&(ze.start=Me,Ge(Be+511>>9)));for(Ge(he[6]+7>>3);ve.l&511;)ve.write_shift(-4,se.ENDOFCHAIN);for(Me=je=0,Ie=0;Ie<te.FileIndex.length;++Ie)ze=te.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(!Be||Be>=4096)&&(ze.start=Me,Ge(Be+63>>6)));for(;ve.l&511;)ve.write_shift(-4,se.ENDOFCHAIN);for(je=0;je<he[4]<<2;++je){var ut=te.FullPaths[je];if(!ut||ut.length===0){for(Ie=0;Ie<17;++Ie)ve.write_shift(4,0);for(Ie=0;Ie<3;++Ie)ve.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)ve.write_shift(4,0);continue}ze=te.FileIndex[je],je===0&&(ze.start=ze.size?ze.start-1:K);var mt=je===0&&de.root||ze.name;if(Be=2*(mt.length+1),ve.write_shift(64,mt,"utf16le"),ve.write_shift(2,Be),ve.write_shift(1,ze.type),ve.write_shift(1,ze.color),ve.write_shift(-4,ze.L),ve.write_shift(-4,ze.R),ve.write_shift(-4,ze.C),ze.clsid)ve.write_shift(16,ze.clsid,"hex");else for(Ie=0;Ie<4;++Ie)ve.write_shift(4,0);ve.write_shift(4,ze.state||0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,ze.start),ve.write_shift(4,ze.size),ve.write_shift(4,0)}for(je=1;je<te.FileIndex.length;++je)if(ze=te.FileIndex[je],ze.size>=4096)if(ve.l=ze.start+1<<9,Cr&&Buffer.isBuffer(ze.content))ze.content.copy(ve,ve.l,0,ze.size),ve.l+=ze.size+511&-512;else{for(Ie=0;Ie<ze.size;++Ie)ve.write_shift(1,ze.content[Ie]);for(;Ie&511;++Ie)ve.write_shift(1,0)}for(je=1;je<te.FileIndex.length;++je)if(ze=te.FileIndex[je],ze.size>0&&ze.size<4096)if(Cr&&Buffer.isBuffer(ze.content))ze.content.copy(ve,ve.l,0,ze.size),ve.l+=ze.size+63&-64;else{for(Ie=0;Ie<ze.size;++Ie)ve.write_shift(1,ze.content[Ie]);for(;Ie&63;++Ie)ve.write_shift(1,0)}if(Cr)ve.l=ve.length;else for(;ve.l<ve.length;)ve.write_shift(1,0);return ve}function R(te,Ne){var de=te.FullPaths.map(function(Ie){return Ie.toUpperCase()}),he=de.map(function(Ie){var Be=Ie.split("/");return Be[Be.length-(Ie.slice(-1)=="/"?2:1)]}),ve=!1;Ne.charCodeAt(0)===47?(ve=!0,Ne=de[0].slice(0,-1)+Ne):ve=Ne.indexOf("/")!==-1;var je=Ne.toUpperCase(),Me=ve===!0?de.indexOf(je):he.indexOf(je);if(Me!==-1)return te.FileIndex[Me];var Ge=!je.match(Nx);for(je=je.replace(tl,""),Ge&&(je=je.replace(Nx,"!")),Me=0;Me<de.length;++Me)if((Ge?de[Me].replace(Nx,"!"):de[Me]).replace(tl,"")==je||(Ge?he[Me].replace(Nx,"!"):he[Me]).replace(tl,"")==je)return te.FileIndex[Me];return null}var U=64,K=-2,ee="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ye(te,Ne,de){f();var he=H(te,de);u.writeFileSync(Ne,he)}function oe(te){for(var Ne=new Array(te.length),de=0;de<te.length;++de)Ne[de]=String.fromCharCode(te[de]);return Ne.join("")}function ge(te,Ne){var de=H(te,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return f(),u.writeFileSync(Ne.filename,de),de;case"binary":return typeof de=="string"?de:oe(de);case"base64":return Kx(typeof de=="string"?de:oe(de));case"buffer":if(Cr)return Buffer.isBuffer(de)?de:wf(de);case"array":return typeof de=="string"?Ql(de):de}return de}var Y;function P(te){try{var Ne=te.InflateRaw,de=new Ne;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)Y=te;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function L(te,Ne){if(!Y)return Ar(te,Ne);var de=Y.InflateRaw,he=new de,ve=he._processChunk(te.slice(te.l),he._finishFlushFlag);return te.l+=he.bytesRead,ve}function q(te){return Y?Y.deflateRawSync(te):gt(te)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(te){var Ne=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var ae=typeof Uint8Array<"u",Se=ae?new Uint8Array(256):[],De=0;De<256;++De)Se[De]=ue(De);function Z(te,Ne){var de=Se[te&255];return Ne<=8?de>>>8-Ne:(de=de<<8|Se[te>>8&255],Ne<=16?de>>>16-Ne:(de=de<<8|Se[te>>16&255],de>>>24-Ne))}function Ke(te,Ne){var de=Ne&7,he=Ne>>>3;return(te[he]|(de<=6?0:te[he+1]<<8))>>>de&3}function Ce(te,Ne){var de=Ne&7,he=Ne>>>3;return(te[he]|(de<=5?0:te[he+1]<<8))>>>de&7}function xe(te,Ne){var de=Ne&7,he=Ne>>>3;return(te[he]|(de<=4?0:te[he+1]<<8))>>>de&15}function dt(te,Ne){var de=Ne&7,he=Ne>>>3;return(te[he]|(de<=3?0:te[he+1]<<8))>>>de&31}function Xe(te,Ne){var de=Ne&7,he=Ne>>>3;return(te[he]|(de<=1?0:te[he+1]<<8))>>>de&127}function Nt(te,Ne,de){var he=Ne&7,ve=Ne>>>3,je=(1<<de)-1,Me=te[ve]>>>he;return de<8-he||(Me|=te[ve+1]<<8-he,de<16-he)||(Me|=te[ve+2]<<16-he,de<24-he)||(Me|=te[ve+3]<<24-he),Me&je}function lt(te,Ne,de){var he=Ne&7,ve=Ne>>>3;return he<=5?te[ve]|=(de&7)<<he:(te[ve]|=de<<he&255,te[ve+1]=(de&7)>>8-he),Ne+3}function At(te,Ne,de){var he=Ne&7,ve=Ne>>>3;return de=(de&1)<<he,te[ve]|=de,Ne+1}function pt(te,Ne,de){var he=Ne&7,ve=Ne>>>3;return de<<=he,te[ve]|=de&255,de>>>=8,te[ve+1]=de,Ne+8}function Qt(te,Ne,de){var he=Ne&7,ve=Ne>>>3;return de<<=he,te[ve]|=de&255,de>>>=8,te[ve+1]=de&255,te[ve+2]=de>>>8,Ne+16}function Pt(te,Ne){var de=te.length,he=2*de>Ne?2*de:Ne+5,ve=0;if(de>=Ne)return te;if(Cr){var je=BE(he);if(te.copy)te.copy(je);else for(;ve<te.length;++ve)je[ve]=te[ve];return je}else if(ae){var Me=new Uint8Array(he);if(Me.set)Me.set(te);else for(;ve<de;++ve)Me[ve]=te[ve];return Me}return te.length=he,te}function Vt(te){for(var Ne=new Array(te),de=0;de<te;++de)Ne[de]=0;return Ne}function Zt(te,Ne,de){var he=1,ve=0,je=0,Me=0,Ge=0,Ie=te.length,Be=ae?new Uint16Array(32):Vt(32);for(je=0;je<32;++je)Be[je]=0;for(je=Ie;je<de;++je)te[je]=0;Ie=te.length;var ze=ae?new Uint16Array(Ie):Vt(Ie);for(je=0;je<Ie;++je)Be[ve=te[je]]++,he<ve&&(he=ve),ze[je]=0;for(Be[0]=0,je=1;je<=he;++je)Be[je+16]=Ge=Ge+Be[je-1]<<1;for(je=0;je<Ie;++je)Ge=te[je],Ge!=0&&(ze[je]=Be[Ge+16]++);var ut=0;for(je=0;je<Ie;++je)if(ut=te[je],ut!=0)for(Ge=Z(ze[je],he)>>he-ut,Me=(1<<he+4-ut)-1;Me>=0;--Me)Ne[Ge|Me<<ut]=ut&15|je<<4;return he}var Jt=ae?new Uint16Array(512):Vt(512),Dr=ae?new Uint16Array(32):Vt(32);if(!ae){for(var Ut=0;Ut<512;++Ut)Jt[Ut]=0;for(Ut=0;Ut<32;++Ut)Dr[Ut]=0}(function(){for(var te=[],Ne=0;Ne<32;Ne++)te.push(5);Zt(te,Dr,32);var de=[];for(Ne=0;Ne<=143;Ne++)de.push(8);for(;Ne<=255;Ne++)de.push(9);for(;Ne<=279;Ne++)de.push(7);for(;Ne<=287;Ne++)de.push(8);Zt(de,Jt,288)})();var Ct=(function(){for(var Ne=ae?new Uint8Array(32768):[],de=0,he=0;de<ce.length-1;++de)for(;he<ce[de+1];++he)Ne[he]=de;for(;he<32768;++he)Ne[he]=29;var ve=ae?new Uint8Array(259):[];for(de=0,he=0;de<X.length-1;++de)for(;he<X[de+1];++he)ve[he]=de;function je(Ge,Ie){for(var Be=0;Be<Ge.length;){var ze=Math.min(65535,Ge.length-Be),ut=Be+ze==Ge.length;for(Ie.write_shift(1,+ut),Ie.write_shift(2,ze),Ie.write_shift(2,~ze&65535);ze-- >0;)Ie[Ie.l++]=Ge[Be++]}return Ie.l}function Me(Ge,Ie){for(var Be=0,ze=0,ut=ae?new Uint16Array(32768):[];ze<Ge.length;){var mt=Math.min(65535,Ge.length-ze);if(mt<10){for(Be=lt(Ie,Be,+(ze+mt==Ge.length)),Be&7&&(Be+=8-(Be&7)),Ie.l=Be/8|0,Ie.write_shift(2,mt),Ie.write_shift(2,~mt&65535);mt-- >0;)Ie[Ie.l++]=Ge[ze++];Be=Ie.l*8;continue}Be=lt(Ie,Be,+(ze+mt==Ge.length)+2);for(var _t=0;mt-- >0;){var ht=Ge[ze];_t=(_t<<5^ht)&32767;var yt=-1,Tt=0;if((yt=ut[_t])&&(yt|=ze&-32768,yt>ze&&(yt-=32768),yt<ze))for(;Ge[yt+Tt]==Ge[ze+Tt]&&Tt<250;)++Tt;if(Tt>2){ht=ve[Tt],ht<=22?Be=pt(Ie,Be,Se[ht+1]>>1)-1:(pt(Ie,Be,3),Be+=5,pt(Ie,Be,Se[ht-23]>>5),Be+=3);var ln=ht<8?0:ht-4>>2;ln>0&&(Qt(Ie,Be,Tt-X[ht]),Be+=ln),ht=Ne[ze-yt],Be=pt(Ie,Be,Se[ht]>>3),Be-=3;var kr=ht<4?0:ht-2>>1;kr>0&&(Qt(Ie,Be,ze-yt-ce[ht]),Be+=kr);for(var fn=0;fn<Tt;++fn)ut[_t]=ze&32767,_t=(_t<<5^Ge[ze])&32767,++ze;mt-=Tt-1}else ht<=143?ht=ht+48:Be=At(Ie,Be,1),Be=pt(Ie,Be,Se[ht]),ut[_t]=ze&32767,++ze}Be=pt(Ie,Be,0)-1}return Ie.l=(Be+7)/8|0,Ie.l}return function(Ie,Be){return Ie.length<8?je(Ie,Be):Me(Ie,Be)}})();function gt(te){var Ne=Ze(50+Math.floor(te.length*1.1)),de=Ct(te,Ne);return Ne.slice(0,de)}var St=ae?new Uint16Array(32768):Vt(32768),_r=ae?new Uint16Array(32768):Vt(32768),Yt=ae?new Uint16Array(128):Vt(128),jt=1,er=1;function br(te,Ne){var de=dt(te,Ne)+257;Ne+=5;var he=dt(te,Ne)+1;Ne+=5;var ve=xe(te,Ne)+4;Ne+=4;for(var je=0,Me=ae?new Uint8Array(19):Vt(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,Be=ae?new Uint8Array(8):Vt(8),ze=ae?new Uint8Array(8):Vt(8),ut=Me.length,mt=0;mt<ve;++mt)Me[W[mt]]=je=Ce(te,Ne),Ie<je&&(Ie=je),Be[je]++,Ne+=3;var _t=0;for(Be[0]=0,mt=1;mt<=Ie;++mt)ze[mt]=_t=_t+Be[mt-1]<<1;for(mt=0;mt<ut;++mt)(_t=Me[mt])!=0&&(Ge[mt]=ze[_t]++);var ht=0;for(mt=0;mt<ut;++mt)if(ht=Me[mt],ht!=0){_t=Se[Ge[mt]]>>8-ht;for(var yt=(1<<7-ht)-1;yt>=0;--yt)Yt[_t|yt<<ht]=ht&7|mt<<3}var Tt=[];for(Ie=1;Tt.length<de+he;)switch(_t=Yt[Xe(te,Ne)],Ne+=_t&7,_t>>>=3){case 16:for(je=3+Ke(te,Ne),Ne+=2,_t=Tt[Tt.length-1];je-- >0;)Tt.push(_t);break;case 17:for(je=3+Ce(te,Ne),Ne+=3;je-- >0;)Tt.push(0);break;case 18:for(je=11+Xe(te,Ne),Ne+=7;je-- >0;)Tt.push(0);break;default:Tt.push(_t),Ie<_t&&(Ie=_t);break}var ln=Tt.slice(0,de),kr=Tt.slice(de);for(mt=de;mt<286;++mt)ln[mt]=0;for(mt=he;mt<30;++mt)kr[mt]=0;return jt=Zt(ln,St,286),er=Zt(kr,_r,30),Ne}function ar(te,Ne){if(te[0]==3&&!(te[1]&3))return[Ed(Ne),2];for(var de=0,he=0,ve=BE(Ne||1<<18),je=0,Me=ve.length>>>0,Ge=0,Ie=0;(he&1)==0;){if(he=Ce(te,de),de+=3,he>>>1)he>>1==1?(Ge=9,Ie=5):(de=br(te,de),Ge=jt,Ie=er);else{de&7&&(de+=8-(de&7));var Be=te[de>>>3]|te[(de>>>3)+1]<<8;if(de+=32,Be>0)for(!Ne&&Me<je+Be&&(ve=Pt(ve,je+Be),Me=ve.length);Be-- >0;)ve[je++]=te[de>>>3],de+=8;continue}for(;;){!Ne&&Me<je+32767&&(ve=Pt(ve,je+32767),Me=ve.length);var ze=Nt(te,de,Ge),ut=he>>>1==1?Jt[ze]:St[ze];if(de+=ut&15,ut>>>=4,(ut>>>8&255)===0)ve[je++]=ut;else{if(ut==256)break;ut-=257;var mt=ut<8?0:ut-4>>2;mt>5&&(mt=0);var _t=je+X[ut];mt>0&&(_t+=Nt(te,de,mt),de+=mt),ze=Nt(te,de,Ie),ut=he>>>1==1?Dr[ze]:_r[ze],de+=ut&15,ut>>>=4;var ht=ut<4?0:ut-2>>1,yt=ce[ut];for(ht>0&&(yt+=Nt(te,de,ht),de+=ht),!Ne&&Me<_t&&(ve=Pt(ve,_t+100),Me=ve.length);je<_t;)ve[je]=ve[je-yt],++je}}}return Ne?[ve,de+7>>>3]:[ve.slice(0,je),de+7>>>3]}function Ar(te,Ne){var de=te.slice(te.l||0),he=ar(de,Ne);return te.l+=he[1],he[0]}function dr(te,Ne){if(te)typeof console<"u"&&console.error(Ne);else throw new Error(Ne)}function xn(te,Ne){var de=te;as(de,0);var he=[],ve=[],je={FileIndex:he,FullPaths:ve};T(je,{root:Ne.root});for(var Me=de.length-4;(de[Me]!=80||de[Me+1]!=75||de[Me+2]!=5||de[Me+3]!=6)&&Me>=0;)--Me;de.l=Me+4,de.l+=4;var Ge=de.read_shift(2);de.l+=6;var Ie=de.read_shift(4);for(de.l=Ie,Me=0;Me<Ge;++Me){de.l+=20;var Be=de.read_shift(4),ze=de.read_shift(4),ut=de.read_shift(2),mt=de.read_shift(2),_t=de.read_shift(2);de.l+=8;var ht=de.read_shift(4),yt=o(de.slice(de.l+ut,de.l+ut+mt));de.l+=ut+mt+_t;var Tt=de.l;de.l=ht+4,Bn(de,Be,ze,je,yt),de.l=Tt}return je}function Bn(te,Ne,de,he,ve){te.l+=2;var je=te.read_shift(2),Me=te.read_shift(2),Ge=l(te);if(je&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=te.read_shift(4),Be=te.read_shift(4),ze=te.read_shift(4),ut=te.read_shift(2),mt=te.read_shift(2),_t="",ht=0;ht<ut;++ht)_t+=String.fromCharCode(te[te.l++]);if(mt){var yt=o(te.slice(te.l,te.l+mt));(yt[21589]||{}).mt&&(Ge=yt[21589].mt),((ve||{})[21589]||{}).mt&&(Ge=ve[21589].mt)}te.l+=mt;var Tt=te.slice(te.l,te.l+Be);switch(Me){case 8:Tt=L(te,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var ln=!1;je&8&&(Ie=te.read_shift(4),Ie==134695760&&(Ie=te.read_shift(4),ln=!0),Be=te.read_shift(4),ze=te.read_shift(4)),Be!=Ne&&dr(ln,"Bad compressed size: "+Ne+" != "+Be),ze!=de&&dr(ln,"Bad uncompressed size: "+de+" != "+ze),oi(he,_t,Tt,{unsafe:!0,mt:Ge})}function qr(te,Ne){var de=Ne||{},he=[],ve=[],je=Ze(1),Me=de.compression?8:0,Ge=0,Ie=0,Be=0,ze=0,ut=0,mt=te.FullPaths[0],_t=mt,ht=te.FileIndex[0],yt=[],Tt=0;for(Ie=1;Ie<te.FullPaths.length;++Ie)if(_t=te.FullPaths[Ie].slice(mt.length),ht=te.FileIndex[Ie],!(!ht.size||!ht.content||_t=="Sh33tJ5")){var ln=ze,kr=Ze(_t.length);for(Be=0;Be<_t.length;++Be)kr.write_shift(1,_t.charCodeAt(Be)&127);kr=kr.slice(0,kr.l),yt[ut]=JW.buf(ht.content,0);var fn=ht.content;Me==8&&(fn=q(fn)),je=Ze(30),je.write_shift(4,67324752),je.write_shift(2,20),je.write_shift(2,Ge),je.write_shift(2,Me),ht.mt?i(je,ht.mt):je.write_shift(4,0),je.write_shift(-4,yt[ut]),je.write_shift(4,fn.length),je.write_shift(4,ht.content.length),je.write_shift(2,kr.length),je.write_shift(2,0),ze+=je.length,he.push(je),ze+=kr.length,he.push(kr),ze+=fn.length,he.push(fn),je=Ze(46),je.write_shift(4,33639248),je.write_shift(2,0),je.write_shift(2,20),je.write_shift(2,Ge),je.write_shift(2,Me),je.write_shift(4,0),je.write_shift(-4,yt[ut]),je.write_shift(4,fn.length),je.write_shift(4,ht.content.length),je.write_shift(2,kr.length),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je.write_shift(4,ln),Tt+=je.l,ve.push(je),Tt+=kr.length,ve.push(kr),++ut}return je=Ze(22),je.write_shift(4,101010256),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,ut),je.write_shift(2,ut),je.write_shift(4,Tt),je.write_shift(4,ze),je.write_shift(2,0),Ui([Ui(he),Ui(ve),je])}var Wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Fr(te,Ne){if(te.ctype)return te.ctype;var de=te.name||"",he=de.match(/\.([^\.]+)$/);return he&&Wt[he[1]]||Ne&&(he=(de=Ne).match(/[\.\\]([^\.\\])+$/),he&&Wt[he[1]])?Wt[he[1]]:"application/octet-stream"}function Ms(te){for(var Ne=Kx(te),de=[],he=0;he<Ne.length;he+=76)de.push(Ne.slice(he,he+76));return de.join(`\r
`)+`\r
`}function Xa(te){var Ne=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var ze=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=Ne.split(`\r
`),ve=0;ve<he.length;++ve){var je=he[ve];if(je.length==0){de.push("");continue}for(var Me=0;Me<je.length;){var Ge=76,Ie=je.slice(Me,Me+Ge);Ie.charAt(Ge-1)=="="?Ge--:Ie.charAt(Ge-2)=="="?Ge-=2:Ie.charAt(Ge-3)=="="&&(Ge-=3),Ie=je.slice(Me,Me+Ge),Me+=Ge,Me<je.length&&(Ie+="="),de.push(Ie)}}return de.join(`\r
`)}function al(te){for(var Ne=[],de=0;de<te.length;++de){for(var he=te[de];de<=te.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+te[++de];Ne.push(he)}for(var ve=0;ve<Ne.length;++ve)Ne[ve]=Ne[ve].replace(/[=][0-9A-Fa-f]{2}/g,function(je){return String.fromCharCode(parseInt(je.slice(1),16))});return Ql(Ne.join(`\r
`))}function us(te,Ne,de){for(var he="",ve="",je="",Me,Ge=0;Ge<10;++Ge){var Ie=Ne[Ge];if(!Ie||Ie.match(/^\s*$/))break;var Be=Ie.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":he=Be[2].trim();break;case"content-type":je=Be[2].trim();break;case"content-transfer-encoding":ve=Be[2].trim();break}}switch(++Ge,ve.toLowerCase()){case"base64":Me=Ql(ro(Ne.slice(Ge).join("")));break;case"quoted-printable":Me=al(Ne.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ve)}var ze=oi(te,he.slice(de.length),Me,{unsafe:!0});je&&(ze.ctype=je)}function Gt(te,Ne){if(oe(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=Ne&&Ne.root||"",he=(Cr&&Buffer.isBuffer(te)?te.toString("binary"):oe(te)).split(`\r
`),ve=0,je="";for(ve=0;ve<he.length;++ve)if(je=he[ve],!!/^Content-Location:/i.test(je)&&(je=je.slice(je.indexOf("file")),de||(de=je.slice(0,je.lastIndexOf("/")+1)),je.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),je.slice(0,de.length)!=de););var Me=(he[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var Ge="--"+(Me[1]||""),Ie=[],Be=[],ze={FileIndex:Ie,FullPaths:Be};T(ze);var ut,mt=0;for(ve=0;ve<he.length;++ve){var _t=he[ve];_t!==Ge&&_t!==Ge+"--"||(mt++&&us(ze,he.slice(ut,ve),de),ut=ve)}return ze}function Ol(te,Ne){var de=Ne||{},he=de.boundary||"SheetJS";he="------="+he;for(var ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],je=te.FullPaths[0],Me=je,Ge=te.FileIndex[0],Ie=1;Ie<te.FullPaths.length;++Ie)if(Me=te.FullPaths[Ie].slice(je.length),Ge=te.FileIndex[Ie],!(!Ge.size||!Ge.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var Be=Ge.content,ze=Cr&&Buffer.isBuffer(Be)?Be.toString("binary"):oe(Be),ut=0,mt=Math.min(1024,ze.length),_t=0,ht=0;ht<=mt;++ht)(_t=ze.charCodeAt(ht))>=32&&_t<128&&++ut;var yt=ut>=mt*4/5;ve.push(he),ve.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Me),ve.push("Content-Transfer-Encoding: "+(yt?"quoted-printable":"base64")),ve.push("Content-Type: "+Fr(Ge,Me)),ve.push(""),ve.push(yt?Xa(ze):Ms(ze))}return ve.push(he+`--\r
`),ve.join(`\r
`)}function il(te){var Ne={};return T(Ne,te),Ne}function oi(te,Ne,de,he){var ve=he&&he.unsafe;ve||T(te);var je=!ve&&nr.find(te,Ne);if(!je){var Me=te.FullPaths[0];Ne.slice(0,Me.length)==Me?Me=Ne:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+Ne).replace("//","/")),je={name:a(Ne),type:2},te.FileIndex.push(je),te.FullPaths.push(Me),ve||nr.utils.cfb_gc(te)}return je.content=de,je.size=de?de.length:0,he&&(he.CLSID&&(je.clsid=he.CLSID),he.mt&&(je.mt=he.mt),he.ct&&(je.ct=he.ct)),je}function Vi(te,Ne){T(te);var de=nr.find(te,Ne);if(de){for(var he=0;he<te.FileIndex.length;++he)if(te.FileIndex[he]==de)return te.FileIndex.splice(he,1),te.FullPaths.splice(he,1),!0}return!1}function Sn(te,Ne,de){T(te);var he=nr.find(te,Ne);if(he){for(var ve=0;ve<te.FileIndex.length;++ve)if(te.FileIndex[ve]==he)return te.FileIndex[ve].name=a(de),te.FullPaths[ve]=de,!0}return!1}function na(te){B(te,!0)}return t.find=R,t.read=O,t.parse=h,t.write=ge,t.writeFile=ye,t.utils={cfb_new:il,cfb_add:oi,cfb_del:Vi,cfb_mov:Sn,cfb_gc:na,ReadShift:kx,CheckField:$F,prep_blob:as,bconcat:Ui,use_zlib:P,_deflateRaw:gt,_inflateRaw:Ar,consts:se},t})();function eG(e){return typeof e=="string"?c2(e):Array.isArray(e)?AW(e):e}function Sg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=c2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ou(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([eG(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Id(t)),o.write(t),o.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function tG(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ia(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function GE(e,t){for(var r=[],n=Ia(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function f2(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function d2(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function rG(e){for(var t=[],r=Ia(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var ay=new Date(1899,11,30,0,0,0);function Ni(e,t){var r=e.getTime(),n=ay.getTime()+(e.getTimezoneOffset()-ay.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var NF=new Date,nG=ay.getTime()+(NF.getTimezoneOffset()-ay.getTimezoneOffset())*6e4,KE=NF.getTimezoneOffset();function h2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+nG),t.getTimezoneOffset()!==KE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-KE)*6e4),t}function aG(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var YE=new Date("2017-02-19T19:06:09.000Z"),_F=isNaN(YE.getFullYear())?new Date("2/19/17"):YE,iG=_F.getFullYear()==2017;function ta(e,t){var r=new Date(e);if(iG)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(_F.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Y0(e,t){if(Cr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ou(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ou(uF(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ou(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ou(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ra(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ra(e[r]));return t}function Pa(e,t){for(var r="";r.length<t;)r+=e;return r}function Sc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var sG=["january","february","march","april","may","june","july","august","september","october","november","december"];function zm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&sG.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var lG=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),l=[i[0]],o=1;o<i.length;++o)l.push(a),l.push(i[o]);return l}})();function jF(e){return e?e.content&&e.type?Y0(e.content,!0):e.data?wx(e.data):e.asNodeBuffer&&Cr?wx(e.asNodeBuffer().toString("binary")):e.asBinary?wx(e.asBinary()):e._data&&e._data.getContent?wx(Y0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function SF(e){if(!e)return null;if(e.data)return RE(e.data);if(e.asNodeBuffer&&Cr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?RE(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function oG(e){return e&&e.name.slice(-4)===".bin"?SF(e):jF(e)}function Po(e,t){for(var r=e.FullPaths||Ia(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var l=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||a==l)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function t3(e,t){var r=Po(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ri(e,t,r){if(!r)return oG(t3(e,t));if(!t)return null;try{return ri(e,t)}catch{return null}}function Zl(e,t,r){if(!r)return jF(t3(e,t));if(!t)return null;try{return Zl(e,t)}catch{return null}}function cG(e,t,r){return SF(t3(e,t))}function XE(e){for(var t=e.FullPaths||Ia(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Sr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Cr?n=wf(r):n=EW(r),nr.utils.cfb_add(e,t,n)}nr.utils.cfb_add(e,t,r)}else e.file(t,r)}function r3(){return nr.utils.cfb_new()}function AF(e,t){switch(t.type){case"base64":return nr.read(e,{type:"base64"});case"binary":return nr.read(e,{type:"binary"});case"buffer":case"array":return nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function _x(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Ya=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uG=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,QE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,fG=/<[^>]*>/g,Ps=Ya.match(QE)?QE:fG,dG=/<\w*:/,hG=/<(\/?)\w+:/;function hr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var l=e.match(uG),o=0,u="",f=0,h="",m="",g=1;if(l)for(f=0;f!=l.length;++f){for(m=l[f],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(h=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(g=(a=m.charCodeAt(i+1))==34||a==39?1:0,u=m.slice(i+1+g,m.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=u,n[h.toLowerCase()]=u;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[x]&&h.slice(o-3,o)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function pu(e){return e.replace(hG,"<$1")}var EF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},n3=f2(EF),Zr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,u){return EF[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var l=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,l)+r(a.slice(l+3))}})(),a3=/[&<>'"]/g,mG=/[\u0000-\u0008\u000b-\u001f]/g;function jn(e){var t=e+"";return t.replace(a3,function(r){return n3[r]}).replace(mG,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ZE(e){return jn(e).replace(/ /g,"_x0020_")}var kF=/[\u0000-\u001f]/g;function i3(e){var t=e+"";return t.replace(a3,function(r){return n3[r]}).replace(/\n/g,"<br/>").replace(kF,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function pG(e){var t=e+"";return t.replace(a3,function(r){return n3[r]}).replace(kF,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var JE=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function xG(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Zn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function kw(e){for(var t="",r=0,n=0,a=0,i=0,l=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function ek(e){var t=Ed(2*e.length),r,n,a=1,i=0,l=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function tk(e){return wf(e,"binary").toString("utf8")}var Q1="foo bar baz",Fn=Cr&&(tk(Q1)==kw(Q1)&&tk||ek(Q1)==kw(Q1)&&ek)||kw,ou=Cr?function(e){return wf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Xx=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),CF=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),gG=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),vG=/<\/?(?:vt:)?variant>/g,yG=/<(?:vt:)([^>]*)>([\s\S]*)</;function rk(e,t){var r=hr(e),n=e.match(gG(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var l=i.replace(vG,"").match(yG);l&&a.push({v:Fn(l[2]),t:l[1]})}),a}var TF=/(^\s|\s$|\n)/;function is(e,t){return"<"+e+(t.match(TF)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Qx(e){return Ia(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function vt(e,t,r){return"<"+e+(r!=null?Qx(r):"")+(t!=null?(t.match(TF)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function nN(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function bG(e,t){switch(typeof e){case"string":var r=vt("vt:lpwstr",jn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return vt((e|0)==e?"vt:i4":"vt:r8",jn(String(e)));case"boolean":return vt("vt:bool",e?"true":"false")}if(e instanceof Date)return vt("vt:filetime",nN(e));throw new Error("Unable to serialize "+e)}function s3(e){if(Cr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Fn(Id(Z_(e)));throw new Error("Bad input format: expected Buffer or string")}var Zx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},dh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Kl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function wG(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function NG(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,l=n?-t:t;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var nk=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},ak=Cr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:wf(t)})):nk(e)}:nk,ik=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Zu(e,a)));return n.join("").replace(tl,"")},l3=Cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(tl,""):ik(e,t,r)}:ik,sk=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},OF=Cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):sk(e,t,r)}:sk,lk=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(wm(e,a)));return n.join("")},Ag=Cr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):lk(t,r,n)}:lk,DF=function(e,t){var r=Yl(e,t);return r>0?Ag(e,t+4,t+4+r-1):""},FF=DF,PF=function(e,t){var r=Yl(e,t);return r>0?Ag(e,t+4,t+4+r-1):""},LF=PF,MF=function(e,t){var r=2*Yl(e,t);return r>0?Ag(e,t+4,t+4+r-1):""},RF=MF,IF=function(t,r){var n=Yl(t,r);return n>0?l3(t,r+4,r+4+n):""},BF=IF,UF=function(e,t){var r=Yl(e,t);return r>0?Ag(e,t+4,t+4+r):""},zF=UF,qF=function(e,t){return wG(e,t)},iy=qF,o3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Cr&&(FF=function(t,r){if(!Buffer.isBuffer(t))return DF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},LF=function(t,r){if(!Buffer.isBuffer(t))return PF(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},RF=function(t,r){if(!Buffer.isBuffer(t))return MF(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},BF=function(t,r){if(!Buffer.isBuffer(t))return IF(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},zF=function(t,r){if(!Buffer.isBuffer(t))return UF(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},iy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):qF(t,r)},o3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var wm=function(e,t){return e[t]},Zu=function(e,t){return e[t+1]*256+e[t]},_G=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Yl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},A0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},jG=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function kx(e,t){var r="",n,a,i=[],l,o,u,f;switch(t){case"dbcs":if(f=this.l,Cr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Zu(this,f)),f+=2;e*=2;break;case"utf8":r=Ag(this,this.l,this.l+e);break;case"utf16le":e*=2,r=l3(this,this.l,this.l+e);break;case"wstr":return kx.call(this,e,"dbcs");case"lpstr-ansi":r=FF(this,this.l),e=4+Yl(this,this.l);break;case"lpstr-cp":r=LF(this,this.l),e=4+Yl(this,this.l);break;case"lpwstr":r=RF(this,this.l),e=4+2*Yl(this,this.l);break;case"lpp4":e=4+Yl(this,this.l),r=BF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Yl(this,this.l),r=zF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=wm(this,this.l+e++))!==0;)i.push(X1(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=Zu(this,this.l+e))!==0;)i.push(X1(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=wm(this,f),this.l=f+1,o=kx.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(X1(Zu(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=wm(this,f),this.l=f+1,o=kx.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(X1(wm(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=wm(this,this.l),this.l++,n;case 2:return n=(t==="i"?_G:Zu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?A0:jG)(this,this.l),this.l+=4,n):(a=Yl(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=iy(this,this.l):a=iy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=OF(this,this.l,e);break}}return this.l+=e,r}var SG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},AG=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},EG=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function kG(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)EG(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,SG(this,t,this.l);break;case 8:if(n=8,r==="f"){NG(this,t,this.l);break}case 16:break;case-4:n=4,AG(this,t,this.l);break}return this.l+=n,this}function $F(e,t){var r=OF(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function as(e,t){e.l=t,e.read_shift=kx,e.chk=$F,e.write_shift=kG}function Ds(e,t){e.l+=t}function Ze(e){var t=Ed(e);return as(t,0),t}function Nf(e,t,r){if(e){var n,a,i;as(e,e.l||0);for(var l=e.length,o=0,u=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var f=ag[o]||ag[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;u=e.l+i;var h=f.f&&f.f(e,i,r);if(e.l=u,t(h,f,o))return}}}function Al(){var e=[],t=Cr?256:2048,r=function(f){var h=Ze(f);return as(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,t)))},l=function(){return a(),Ui(e)},o=function(f){a(),n=f,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function ct(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=ag[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&o3(r)&&e.push(r)}}function Cx(e,t,r){var n=ra(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function ok(e,t,r){var n=ra(e);return n.s=Cx(n.s,t.s,r),n.e=Cx(n.e,t.s,r),n}function Tx(e,t){if(e.cRel&&e.c<0)for(e=ra(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ra(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=fr(e);return!e.cRel&&e.cRel!=null&&(r=OG(r)),!e.rRel&&e.rRel!=null&&(r=CG(r)),r}function Cw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_a(e.s.c)+":"+(e.e.cRel?"":"$")+_a(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ka(e.s.r)+":"+(e.e.rRel?"":"$")+Ka(e.e.r):Tx(e.s,t.biff)+":"+Tx(e.e,t.biff)}function c3(e){return parseInt(TG(e),10)-1}function Ka(e){return""+(e+1)}function CG(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function TG(e){return e.replace(/\$(\d+)$/,"$1")}function u3(e){for(var t=DG(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function _a(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function OG(e){return e.replace(/^([A-Z])/,"$$$1")}function DG(e){return e.replace(/^\$([A-Z])/,"$1")}function FG(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ja(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Cl(e){var t=e.indexOf(":");return t==-1?{s:ja(e),e:ja(e)}:{s:ja(e.slice(0,t)),e:ja(e.slice(t+1))}}function Nr(e,t){return typeof t>"u"||typeof t=="number"?Nr(e.s,e.e):(typeof e!="string"&&(e=fr(e)),typeof t!="string"&&(t=fr(t)),e==t?e:e+":"+t)}function en(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ck(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=qo(e.z,r?Ni(t):t)}catch{}try{return e.w=qo((e.XF||{}).numFmtId||(r?14:0),r?Ni(t):t)}catch{return""+t}}function hf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?_f[e.v]||e.v:t==null?ck(e,e.v):ck(e,t))}function Bd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function HF(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),l=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?ja(n.origin):n.origin;l=u.r,o=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=en(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),l==-1&&(f.e.r=l=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[m].length;++g)if(!(typeof t[m][g]>"u")){var x={v:t[m][g]},b=l+m,v=o+g;if(f.s.r>b&&(f.s.r=b),f.s.c>v&&(f.s.c=v),f.e.r<b&&(f.e.r=b),f.e.c<v&&(f.e.c=v),t[m][g]&&typeof t[m][g]=="object"&&!Array.isArray(t[m][g])&&!(t[m][g]instanceof Date))x=t[m][g];else if(Array.isArray(x.v)&&(x.f=t[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||cr[14],n.cellDates?(x.t="d",x.w=qo(x.z,Ni(x.v))):(x.t="n",x.v=Ni(x.v),x.w=qo(x.z,x.v))):x.t="s";if(a)i[b]||(i[b]=[]),i[b][v]&&i[b][v].z&&(x.z=i[b][v].z),i[b][v]=x;else{var w=fr({c:v,r:b});i[w]&&i[w].z&&(x.z=i[w].z),i[w]=x}}}return f.s.c<1e7&&(i["!ref"]=Nr(f)),i}function cp(e,t){return HF(null,e,t)}function PG(e){return e.read_shift(4,"i")}function Ac(e,t){return t||(t=Ze(4)),t.write_shift(4,e),t}function Cs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zi(e,t){var r=!1;return t==null&&(r=!0,t=Ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function LG(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function MG(e,t){return t||(t=Ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function f3(e,t){var r=e.l,n=e.read_shift(1),a=Cs(e),i=[],l={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)i.push(LG(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function RG(e,t){var r=!1;return t==null&&(r=!0,t=Ze(15+4*e.t.length)),t.write_shift(1,0),zi(e.t,t),r?t.slice(0,t.l):t}var IG=f3;function BG(e,t){var r=!1;return t==null&&(r=!0,t=Ze(23+4*e.t.length)),t.write_shift(1,1),zi(e.t,t),t.write_shift(4,1),MG({},t),r?t.slice(0,t.l):t}function Go(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function hh(e,t){return t==null&&(t=Ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function mh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ph(e,t){return t==null&&(t=Ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var UG=Cs,VF=zi;function d3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function sy(e,t){var r=!1;return t==null&&(r=!0,t=Ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var zG=Cs,aN=d3,h3=sy;function m3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?iy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):A0(t,0)>>2;return r?a/100:a}function WF(e,t){t==null&&(t=Ze(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function GF(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function qG(e,t){return t||(t=Ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var xh=GF,up=qG;function Ss(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function X0(e,t){return(t||Ze(8)).write_shift(8,e,"f")}function $G(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=P0[a];f&&(t.rgb=eg(f));break;case 2:t.rgb=eg([l,o,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function ly(e,t){if(t||(t=Ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function HG(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function VG(e,t){t||(t=Ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function KF(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function WG(e){return KF(e,1)}function GG(e){return KF(e,2)}var p3=2,_l=3,Z1=11,uk=12,oy=19,J1=64,KG=65,YG=71,XG=4108,QG=4126,Mi=80,YF=81,ZG=[Mi,YF],iN={1:{n:"CodePage",t:p3},2:{n:"Category",t:Mi},3:{n:"PresentationFormat",t:Mi},4:{n:"ByteCount",t:_l},5:{n:"LineCount",t:_l},6:{n:"ParagraphCount",t:_l},7:{n:"SlideCount",t:_l},8:{n:"NoteCount",t:_l},9:{n:"HiddenCount",t:_l},10:{n:"MultimediaClipCount",t:_l},11:{n:"ScaleCrop",t:Z1},12:{n:"HeadingPairs",t:XG},13:{n:"TitlesOfParts",t:QG},14:{n:"Manager",t:Mi},15:{n:"Company",t:Mi},16:{n:"LinksUpToDate",t:Z1},17:{n:"CharacterCount",t:_l},19:{n:"SharedDoc",t:Z1},22:{n:"HyperlinksChanged",t:Z1},23:{n:"AppVersion",t:_l,p:"version"},24:{n:"DigSig",t:KG},26:{n:"ContentType",t:Mi},27:{n:"ContentStatus",t:Mi},28:{n:"Language",t:Mi},29:{n:"Version",t:Mi},255:{},2147483648:{n:"Locale",t:oy},2147483651:{n:"Behavior",t:oy},1919054434:{}},sN={1:{n:"CodePage",t:p3},2:{n:"Title",t:Mi},3:{n:"Subject",t:Mi},4:{n:"Author",t:Mi},5:{n:"Keywords",t:Mi},6:{n:"Comments",t:Mi},7:{n:"Template",t:Mi},8:{n:"LastAuthor",t:Mi},9:{n:"RevNumber",t:Mi},10:{n:"EditTime",t:J1},11:{n:"LastPrinted",t:J1},12:{n:"CreatedDate",t:J1},13:{n:"ModifiedDate",t:J1},14:{n:"PageCount",t:_l},15:{n:"WordCount",t:_l},16:{n:"CharCount",t:_l},17:{n:"Thumbnail",t:YG},18:{n:"Application",t:Mi},19:{n:"DocSecurity",t:_l},255:{},2147483648:{n:"Locale",t:oy},2147483651:{n:"Behavior",t:oy},1919054434:{}},fk={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},JG=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function eK(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var tK=eK([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),P0=ra(tK),_f={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XF={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},lN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ev={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function x3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rK(e){var t=x3();if(!e||!e.match)return t;var r={};if((e.match(Ps)||[]).forEach(function(n){var a=hr(n);switch(a[0].replace(dG,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[lN[a.ContentType]]!==void 0&&t[lN[a.ContentType]].push(a.PartName);break}}),t.xmlns!==wi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function QF(e,t){var r=rG(lN),n=[],a;n[n.length]=Ya,n[n.length]=vt("Types",null,{xmlns:wi.CT,"xmlns:xsd":wi.xsd,"xmlns:xsi":wi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return vt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=vt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:ev[u][t.bookType]||ev[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(f){n[n.length]=vt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:ev[u][t.bookType]||ev[u].xlsx})})},o=function(u){(e[u]||[]).forEach(function(f){n[n.length]=vt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ox(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ps)||[]).forEach(function(a){var i=hr(a);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:_x(i.Target,t);r[o]=l,n[i.Id]=l}}),r["!id"]=n,r}function Om(e){var t=[Ya,vt("Relationships",null,{xmlns:wi.RELS})];return Ia(e["!id"]).forEach(function(r){t[t.length]=vt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function wn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Or.HLINK,Or.XPATH,Or.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var nK="application/vnd.oasis.opendocument.spreadsheet";function aK(e,t){for(var r=s3(e),n,a;n=Zx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=hr(n[0],!1),a.path=="/"&&a.type!==nK)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function iK(e){var t=[Ya];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function dk(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function sK(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function lK(e){var t=[Ya];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(dk(e[r][0],e[r][1])),t.push(sK("",e[r][0]));return t.push(dk("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function ZF(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ey.version+"</meta:generator></office:meta></office:document-meta>"}var Uo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],oK=(function(){for(var e=new Array(Uo.length),t=0;t<Uo.length;++t){var r=Uo[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function JF(e){var t={};e=Fn(e);for(var r=0;r<Uo.length;++r){var n=Uo[r],a=e.match(oK[r]);a!=null&&a.length>0&&(t[n[1]]=Zr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ta(t[n[1]]))}return t}function Tw(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=jn(t),n[n.length]=r?vt(e,t,r):is(e,t))}function eP(e,t){var r=t||{},n=[Ya,vt("cp:coreProperties",null,{"xmlns:cp":wi.CORE_PROPS,"xmlns:dc":wi.dc,"xmlns:dcterms":wi.dcterms,"xmlns:dcmitype":wi.dcmitype,"xmlns:xsi":wi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Tw("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:nN(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Tw("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:nN(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Uo.length;++i){var l=Uo[i],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Tw(l[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var L0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],tP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function rP(e,t,r,n){var a=[];if(typeof e=="string")a=rk(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(h){return{v:h}}));var l=typeof t=="string"?rk(t,n).map(function(h){return h.v}):t,o=0,u=0;if(l.length>0)for(var f=0;f!==a.length;f+=2){switch(u=+a[f+1].v,a[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=l.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=l.slice(o,o+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=l.slice(o,o+u);break}o+=u}}function cK(e,t,r){var n={};return t||(t={}),e=Fn(e),L0.forEach(function(a){var i=(e.match(Xx(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Zr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));l&&l.length>0&&(n[a[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&rP(n.HeadingPairs,n.TitlesOfParts,t,r),t}function nP(e){var t=[],r=vt;return e||(e={}),e.Application="SheetJS",t[t.length]=Ya,t[t.length]=vt("Properties",null,{xmlns:wi.EXT_PROPS,"xmlns:vt":wi.vt}),L0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=jn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+jn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var uK=/<[^>]+>[^<]*/g;function fK(e,t){var r={},n="",a=e.match(uK);if(a)for(var i=0;i!=a.length;++i){var l=a[i],o=hr(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Zr(o.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var u=l.split(">"),f=u[0].slice(4),h=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Zr(h);break;case"bool":r[n]=Zn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=ta(h);break;case"cy":case"error":r[n]=Zr(h);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,f,u)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}function aP(e){var t=[Ya,vt("Properties",null,{xmlns:wi.CUST_PROPS,"xmlns:vt":wi.vt})];if(!e)return t.join("");var r=1;return Ia(e).forEach(function(a){++r,t[t.length]=vt("property",bG(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:jn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var oN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ow;function dK(e,t,r){Ow||(Ow=f2(oN)),t=Ow[t]||t,e[t]=r}function hK(e,t){var r=[];return Ia(oN).map(function(n){for(var a=0;a<Uo.length;++a)if(Uo[a][1]==n)return Uo[a];for(a=0;a<L0.length;++a)if(L0[a][1]==n)return L0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(is(oN[n[1]]||n[1],a))}}),vt("DocumentProperties",r.join(""),{xmlns:Kl.o})}function mK(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ia(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Uo.length;++l)if(i==Uo[l][1])return;for(l=0;l<L0.length;++l)if(i==L0[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),a.push(vt(ZE(i),o,{"dt:dt":u}))}}),t&&Ia(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),a.push(vt(ZE(i),l,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Kl.o+'">'+a.join("")+"</"+n+">"}function g3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function pK(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=Ze(8);return l.write_shift(4,n),l.write_shift(4,a),l}function iP(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function sP(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function lP(e,t,r){return t===31?sP(e):iP(e,t,r)}function cN(e,t,r){return lP(e,t,r===!1?0:4)}function xK(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return lP(e,t,0)}function gK(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(tl,""),e.l-a&2&&(e.l+=2)}return r}function vK(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(tl,"");return r}function yK(e){var t=e.l,r=cy(e,YF);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=cy(e,_l);return[r,n]}function bK(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(yK(e));return r}function hk(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),l=e.read_shift(4);n[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(tl,"").replace(Nx,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function oP(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function wK(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function cy(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==uk&&n!==t&&ZG.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===uk?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return iP(e,n,4).replace(tl,"");case 31:return sP(e);case 64:return g3(e);case 65:return oP(e);case 71:return wK(e);case 80:return cN(e,n,!i.raw).replace(tl,"");case 81:return xK(e,n).replace(tl,"");case 4108:return bK(e);case 4126:case 4127:return n==4127?gK(e):vK(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function mk(e,t){var r=Ze(4),n=Ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ze(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=pK(t);break;case 31:case 80:for(n=Ze(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ui([r,n])}function pk(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0,o=0,u=-1,f={};for(l=0;l!=a;++l){var h=e.read_shift(4),m=e.read_shift(4);i[l]=[h,m+r]}i.sort(function(E,S){return E[1]-S[1]});var g={};for(l=0;l!=a;++l){if(e.l!==i[l][1]){var x=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(x=!1,e.l=i[l][1]),x)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var b=t[i[l][0]];if(g[b.n]=cy(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Nc(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(i[l][0]===1){if(o=g.CodePage=cy(e,p3),Nc(o),u!==-1){var v=e.l;e.l=i[u][1],f=hk(e,o),e.l=v}}else if(i[l][0]===0){if(o===0){u=l,e.l=i[l+1][1];continue}f=hk(e,o)}else{var w=f[i[l][0]],N;switch(e[e.l]){case 65:e.l+=4,N=oP(e);break;case 30:e.l+=4,N=cN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,N=cN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,N=e.read_shift(4,"i");break;case 19:e.l+=4,N=e.read_shift(4);break;case 5:e.l+=4,N=e.read_shift(8,"f");break;case 11:e.l+=4,N=$a(e,4);break;case 64:e.l+=4,N=ta(g3(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[w]=N}}return e.l=r+n,g}var cP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function NK(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function xk(e,t,r){var n=Ze(8),a=[],i=[],l=8,o=0,u=Ze(8),f=Ze(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),i.push(u),a.push(f),l+=8+u.length,!t){f=Ze(8),f.write_shift(4,0),a.unshift(f);var h=[Ze(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(u=Ze(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=Ui(h),i.unshift(u),l+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(cP.indexOf(e[o][0])>-1||tP.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],x=0;if(t){x=+t[e[o][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}u=mk(b.t,g)}else{var w=NK(g);w==-1&&(w=31,g=String(g)),u=mk(w,g)}i.push(u),f=Ze(8),f.write_shift(4,t?x:2+o),a.push(f),l+=8+u.length}var N=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,N),N+=i[o].length;return n.write_shift(4,l),n.write_shift(4,i.length),Ui([n].concat(a).concat(i))}function gk(e,t,r){var n=e.content;if(!n)return{};as(n,0);var a,i,l,o,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),h=n.read_shift(16);if(h!==nr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(l=n.read_shift(16),u=n.read_shift(4));var m=pk(n,t),g={SystemIdentifier:f};for(var x in m)g[x]=m[x];if(g.FMTID=i,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var b;try{b=pk(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[i,l],g}function vk(e,t,r,n,a,i){var l=Ze(a?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,nr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var u=xk(e,r,n);if(o.push(u),a){var f=xk(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+u.length),o.push(f)}return Ui(o)}function fd(e,t){return e.read_shift(t),null}function _K(e,t){t||(t=Ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function jK(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function $a(e,t){return e.read_shift(t)===1}function Ks(e,t){return t||(t=Ze(2)),t.write_shift(2,+!!e),t}function ni(e){return e.read_shift(2,"u")}function Lo(e,t){return t||(t=Ze(2)),t.write_shift(2,e),t}function uP(e,t){return jK(e,t,ni)}function SK(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function fP(e,t,r){return r||(r=Ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Eg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function AK(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),l=0,o,u={};a&&(l=e.read_shift(2)),n&&(o=e.read_shift(4));var f=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,f);return a&&(e.l+=4*l),n&&(e.l+=o),u.t=h,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function EK(e){var t=e.t||"",r=Ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ze(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ui(a)}function Q0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function kg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Q0(e,n,r)}function gh(e,t,r){if(r.biff>5)return kg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function dP(e,t,r){return r||(r=Ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function kK(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function CK(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(tl,"");return n&&(e.l+=24),a}function TK(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(tl,"");return r+l}function OK(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return CK(e);case"0303000000000000c000000000000046":return TK(e);default:throw new Error("Unsupported Moniker "+r)}}function tv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(tl,""):"";return r}function yk(e,t){t||(t=Ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function DK(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,l,o,u,f="",h,m;a&16&&(i=tv(e,r-e.l)),a&128&&(l=tv(e,r-e.l)),(a&257)===257&&(o=tv(e,r-e.l)),(a&257)===1&&(u=OK(e,r-e.l)),a&8&&(f=tv(e,r-e.l)),a&32&&(h=e.read_shift(16)),a&64&&(m=g3(e)),e.l=r;var g=l||o||u||"";g&&f&&(g+="#"+f),g||(g="#"+f),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),m&&(x.time=m),i&&(x.Tooltip=i),x}function FK(e){var t=Ze(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),yk(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&yk(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function hP(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function mP(e,t){var r=hP(e);return r[3]=0,r}function xu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Z0(e,t,r,n){return n||(n=Ze(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function PK(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function LK(e,t,r){return t===0?"":gh(e,t,r)}function MK(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,i,l]}function pP(e){var t=e.read_shift(2),r=m3(e);return[t,r]}function RK(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Eg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function m2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function xP(e,t){return t||(t=Ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function gP(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var IK=gP;function vP(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function BK(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function UK(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ps(e){e.l+=2,e.l+=e.read_shift(2)}var zK={0:ps,4:ps,5:ps,6:ps,7:UK,8:ps,9:ps,10:ps,11:ps,12:ps,13:BK,14:ps,15:ps,16:ps,17:ps,18:ps,19:ps,20:ps,21:vP};function qK(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(zK[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function rv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function v3(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ze(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function $K(e,t){return t===0||e.read_shift(2),1200}function HK(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=gh(e,0,r);return e.read_shift(t+n-e.l),a}function VK(e,t){var r=!t||t.biff==8,n=Ze(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function WK(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function GK(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=Eg(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:a,dt:i,name:l}}function KK(e,t){var r=!t||t.biff>=8?2:1,n=Ze(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function YK(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],l=0;l!=a&&e.l<r;++l)i.push(AK(e));return i.Count=n,i.Unique=a,i}function XK(e,t){var r=Ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=EK(e[a]);var i=Ui([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function QK(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function ZK(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function JK(e){var t=PK(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function eY(e){return e.read_shift(2),e.read_shift(4)}function bk(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function tY(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:l,FirstTab:o,Selected:u,TabRatio:f}}function rY(){var e=Ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function nY(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function aY(e){var t=Ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function iY(){}function sY(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Eg(e,0,r),n}function lY(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ze(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function oY(e){var t=xu(e);return t.isst=e.read_shift(4),t}function cY(e,t,r,n){var a=Ze(10);return Z0(e,t,n,a),a.write_shift(4,r),a}function uY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=xu(e);r.biff==2&&e.l++;var i=kg(e,n-e.l,r);return a.val=i,a}function fY(e,t,r,n,a){var i=!a||a.biff==8,l=Ze(8+ +i+(1+i)*r.length);return Z0(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function dY(e,t,r){var n=e.read_shift(2),a=gh(e,0,r);return[n,a]}function hY(e,t,r,n){var a=r&&r.biff==5;n||(n=Ze(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var mY=gh;function wk(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:l,c:u}}}function pY(e,t){var r=t.biff==8||!t.biff?4:2,n=Ze(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function xY(e){var t=e.read_shift(2),r=e.read_shift(2),n=pP(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function gY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(pP(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:l,rkrec:i}}function vY(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:l,ixfe:i}}function yY(e,t,r,n){var a={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return a.patternType=JG[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=l&15,a.dgRight=l>>4&15,a.dgTop=l>>8&15,a.dgBottom=l>>12&15,a.icvLeft=l>>16&127,a.icvRight=l>>23&127,a.grbitDiag=l>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function bY(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=yY(e,t,n.fStyle,r),n}function Nk(e,t,r,n){var a=r&&r.biff==5;n||(n=Ze(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function wY(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function NY(e){var t=Ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function _k(e,t,r){var n=xu(e);(r.biff==2||t==9)&&++e.l;var a=SK(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function _Y(e,t,r,n,a,i){var l=Ze(8);return Z0(e,t,n,l),fP(r,i,l),l}function jY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=xu(e),a=Ss(e);return n.val=a,n}function SY(e,t,r,n){var a=Ze(14);return Z0(e,t,n,a),X0(r,a),a}var jk=LK;function AY(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=Q0(e,i),o=[];n>e.l;)o.push(kg(e));return[i,a,l,o]}function Sk(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=RK(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var EY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Ak(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=Q0(e,l,r);a&32&&(f=EY[f.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var m=n==e.l||o===0||!(h>0)?[]:qJ(e,h,r,o);return{chKey:i,Name:f,itab:u,rgce:m}}function yP(e,t,r){if(r.biff<8)return kY(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(MK(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function kY(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Eg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function CY(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Q0(e,n,r),l=Q0(e,a,r);return[i,l]}function TY(e,t,r){var n=gP(e);e.l++;var a=e.read_shift(1);return t-=8,[$J(e,t,r),a,n]}function Ek(e,t,r){var n=IK(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,UJ(e,t,r)]}function OY(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function DY(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=gh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,l,i]}}function FY(e,t,r){return DY(e,t,r)}function PY(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(m2(e));return r}function LY(e){var t=Ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)xP(e[r],t);return t}function MY(e,t,r){if(r&&r.biff<8)return IY(e,t,r);var n=vP(e),a=qK(e,t-22,n[1]);return{cmo:n,ft:a}}var RY={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function IY(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((RY[n]||Ds)(e,t,r)),{cmo:[a,n,i],ft:l}}function BY(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=kK(e,6,r);var o=e.read_shift(2);e.read_shift(2),ni(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var h=e[e.l],m=Q0(e,e.lens[f+1]-e.lens[f]-1);if(a+=m,a.length>=(h?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function UY(e,t){var r=m2(e);e.l+=16;var n=DK(e,t-24);return[r,n]}function zY(e){var t=Ze(24),r=ja(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ui([t,FK(e[1])])}function qY(e,t){e.read_shift(2);var r=m2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(tl,""),[r,n]}function $Y(e){var t=e[1].Tooltip,r=Ze(10+2*(t.length+1));r.write_shift(2,2048);var n=ja(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function HY(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=fk[r]||r,r=e.read_shift(2),t[1]=fk[r]||r,t}function VY(e){return e||(e=Ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function WY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(mP(e));return r}function GY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(mP(e));return r}function KY(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function bP(e,t,r){if(!r.cellStyles)return Ds(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:l,ixfe:o,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function YY(e,t){var r=Ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function XY(e,t){var r={};return t<32||(e.l+=16,r.header=Ss(e),r.footer=Ss(e),e.l+=2),r}function QY(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function ZY(e){for(var t=Ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var JY=xu,eX=uP,tX=kg;function rX(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function nX(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=xu(e);++e.l;var a=gh(e,t-7,r);return n.t="str",n.val=a,n}function aX(e){var t=xu(e);++e.l;var r=Ss(e);return t.t="n",t.val=r,t}function iX(e,t,r){var n=Ze(15);return Dg(n,e,t),n.write_shift(8,r,"f"),n}function sX(e){var t=xu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function lX(e,t,r){var n=Ze(9);return Dg(n,e,t),n.write_shift(2,r),n}function oX(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function cX(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function uX(e,t,r){var n=e.l+t,a=xu(e),i=e.read_shift(2),l=Q0(e,i,r);return e.l=n,a.t="str",a.val=l,a}var fX=[2,3,48,49,131,139,140,245],uN=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=f2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,u){var f=[],h=Ed(1);switch(u.type){case"base64":h=Ql(ro(o));break;case"binary":h=Ql(o);break;case"buffer":case"array":h=o;break}as(h,0);var m=h.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,w=521;m==2&&(v=h.read_shift(2)),h.l+=3,m!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(w=h.read_shift(2));var N=h.read_shift(2),E=u.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var S=[],D={},F=Math.min(h.length,m==2?521:w-10-(x?264:0)),O=b?32:11;h.l<F&&h[h.l]!=13;)switch(D={},D.name=Gx.utils.decode(E,h.slice(h.l,h.l+O)).replace(/[\u0000\r\n].*$/g,""),h.l+=O,D.type=String.fromCharCode(h.read_shift(1)),m!=2&&!b&&(D.offset=h.read_shift(4)),D.len=h.read_shift(1),m==2&&(D.offset=h.read_shift(2)),D.dec=h.read_shift(1),D.name.length&&S.push(D),m!=2&&(h.l+=b?13:14),D.type){case"B":(!x||D.len!=8)&&u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var T=0,M=0;for(f[0]=[],M=0;M!=S.length;++M)f[0][M]=S[M].name;for(;v-- >0;){if(h[h.l]===42){h.l+=N;continue}for(++h.l,f[++T]=[],M=0,M=0;M!=S.length;++M){var B=h.slice(h.l,h.l+S[M].len);h.l+=S[M].len,as(B,0);var H=Gx.utils.decode(E,B);switch(S[M].type){case"C":H.trim().length&&(f[T][M]=H.replace(/\s+$/,""));break;case"D":H.length===8?f[T][M]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):f[T][M]=H;break;case"F":f[T][M]=parseFloat(H.trim());break;case"+":case"I":f[T][M]=b?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":f[T][M]=!0;break;case"N":case"F":f[T][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[T][M]="##MEMO##"+(b?parseInt(H.trim(),10):B.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(f[T][M]=+H||0);break;case"@":f[T][M]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":f[T][M]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":f[T][M]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[T][M]=-B.read_shift(-8,"f");break;case"B":if(x&&S[M].len==8){f[T][M]=B.read_shift(8,"f");break}case"G":case"P":B.l+=S[M].len;break;case"0":if(S[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[M].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=S,f}function n(o,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=cp(r(o,f),f);return h["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,h}function a(o,u){try{return Bd(n(o,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,u){var f=u||{};if(+f.codepage>=0&&Nc(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=Al(),m=dy(o,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),b=o["!cols"]||[],v=0,w=0,N=0,E=1;for(v=0;v<g.length;++v){if(((b[v]||{}).DBF||{}).name){g[v]=b[v].DBF.name,++N;continue}if(g[v]!=null){if(++N,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(w=0;w<1024;++w)if(g.indexOf(g[v]+"_"+w)==-1){g[v]+="_"+w;break}}}}var S=en(o["!ref"]),D=[],F=[],O=[];for(v=0;v<=S.e.c-S.s.c;++v){var T="",M="",B=0,H=[];for(w=0;w<x.length;++w)x[w][v]!=null&&H.push(x[w][v]);if(H.length==0||g[v]==null){D[v]="?";continue}for(w=0;w<H.length;++w){switch(typeof H[w]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=H[w]instanceof Date?"D":"C";break;default:M="C"}B=Math.max(B,String(H[w]).length),T=T&&T!=M?"C":M}B>250&&(B=250),M=((b[v]||{}).DBF||{}).type,M=="C"&&b[v].DBF.len>B&&(B=b[v].DBF.len),T=="B"&&M=="N"&&(T="N",O[v]=b[v].DBF.dec,B=b[v].DBF.len),F[v]=T=="C"||M=="N"?B:i[T]||0,E+=F[v],D[v]=T}var R=h.next(32);for(R.write_shift(4,318902576),R.write_shift(4,x.length),R.write_shift(2,296+32*N),R.write_shift(2,E),v=0;v<4;++v)R.write_shift(4,0);for(R.write_shift(4,0|(+t[cF]||3)<<8),v=0,w=0;v<g.length;++v)if(g[v]!=null){var U=h.next(32),K=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,K,"sbcs"),U.write_shift(1,D[v]=="?"?"C":D[v],"sbcs"),U.write_shift(4,w),U.write_shift(1,F[v]||i[D[v]]||0),U.write_shift(1,O[v]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),w+=F[v]||i[D[v]]||0}var ee=h.next(264);for(ee.write_shift(4,13),v=0;v<65;++v)ee.write_shift(4,0);for(v=0;v<x.length;++v){var pe=h.next(E);for(pe.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(D[w]){case"L":pe.write_shift(1,x[v][w]==null?63:x[v][w]?84:70);break;case"B":pe.write_shift(8,x[v][w]||0,"f");break;case"N":var re="0";for(typeof x[v][w]=="number"&&(re=x[v][w].toFixed(O[w]||0)),N=0;N<F[w]-re.length;++N)pe.write_shift(1,32);pe.write_shift(1,re,"sbcs");break;case"D":x[v][w]?(pe.write_shift(4,("0000"+x[v][w].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(x[v][w].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+x[v][w].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var se=String(x[v][w]!=null?x[v][w]:"").slice(0,F[w]);for(pe.write_shift(1,se,"sbcs"),N=0;N<F[w]-se.length;++N)pe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}})(),wP=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?IE(b):b},n=function(g,x,b){var v=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return v==59?g:IE(v)};e["|"]=254;function a(g,x){switch(x.type){case"base64":return i(ro(g),x);case"binary":return i(g,x);case"buffer":return i(Cr&&Buffer.isBuffer(g)?g.toString("binary"):Id(g),x);case"array":return i(Y0(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var b=g.split(/[\n\r]+/),v=-1,w=-1,N=0,E=0,S=[],D=[],F=null,O={},T=[],M=[],B=[],H=0,R;for(+x.codepage>=0&&Nc(+x.codepage);N!==b.length;++N){H=0;var U=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),K=U.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),ee=K[0],pe;if(U.length>0)switch(ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&D.push(U.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,se=!1,ye=!1,oe=!1,ge=-1,Y=-1;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"A":break;case"X":w=parseInt(K[E].slice(1))-1,se=!0;break;case"Y":for(v=parseInt(K[E].slice(1))-1,se||(w=0),R=S.length;R<=v;++R)S[R]=[];break;case"K":pe=K[E].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(Sc(pe))?isNaN(zm(pe).getDate())||(pe=ta(pe)):(pe=Sc(pe),F!==null&&lp(F)&&(pe=h2(pe))),re=!0;break;case"E":oe=!0;var P=Dm(K[E].slice(1),{r:v,c:w});S[v][w]=[S[v][w],P];break;case"S":ye=!0,S[v][w]=[S[v][w],"S5S"];break;case"G":break;case"R":ge=parseInt(K[E].slice(1))-1;break;case"C":Y=parseInt(K[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}if(re&&(S[v][w]&&S[v][w].length==2?S[v][w][0]=pe:S[v][w]=pe,F=null),ye){if(oe)throw new Error("SYLK shared formula cannot have own formula");var L=ge>-1&&S[ge][Y];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");S[v][w][1]=BP(L[1],{r:v-ge,c:w-Y})}break;case"F":var q=0;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"X":w=parseInt(K[E].slice(1))-1,++q;break;case"Y":for(v=parseInt(K[E].slice(1))-1,R=S.length;R<=v;++R)S[R]=[];break;case"M":H=parseInt(K[E].slice(1))/20;break;case"F":break;case"G":break;case"P":F=D[parseInt(K[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=K[E].slice(1).split(" "),R=parseInt(B[0],10);R<=parseInt(B[1],10);++R)H=parseInt(B[2],10),M[R-1]=H===0?{hidden:!0}:{wch:H},kd(M[R-1]);break;case"C":w=parseInt(K[E].slice(1))-1,M[w]||(M[w]={});break;case"R":v=parseInt(K[E].slice(1))-1,T[v]||(T[v]={}),H>0?(T[v].hpt=H,T[v].hpx=$m(H)):H===0&&(T[v].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}q<1&&(F=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}}return T.length>0&&(O["!rows"]=T),M.length>0&&(O["!cols"]=M),x&&x.sheetRows&&(S=S.slice(0,x.sheetRows)),[S,O]}function l(g,x){var b=a(g,x),v=b[0],w=b[1],N=cp(v,x);return Ia(w).forEach(function(E){N[E]=w[E]}),N}function o(g,x){return Bd(l(g,x),x)}function u(g,x,b,v){var w="C;Y"+(b+1)+";X"+(v+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+j3(g.f,{r:b,c:v}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(g,x){x.forEach(function(b,v){var w="F;W"+(v+1)+" "+(v+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=tg(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=rg(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function h(g,x){x.forEach(function(b,v){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*ng(b.hpx)+";"),w.length>2&&g.push(w+"R"+(v+1))})}function m(g,x){var b=["ID;PWXL;N;E"],v=[],w=en(g["!ref"]),N,E=Array.isArray(g),S=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&f(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var D=w.s.r;D<=w.e.r;++D)for(var F=w.s.c;F<=w.e.c;++F){var O=fr({r:D,c:F});N=E?(g[D]||[])[F]:g[O],!(!N||N.v==null&&(!N.f||N.F))&&v.push(u(N,g,D,F))}return b.join(S)+S+v.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:l,from_sheet:m}})(),NP=(function(){function e(i,l){switch(l.type){case"base64":return t(ro(i),l);case"binary":return t(i,l);case"buffer":return t(Cr&&Buffer.isBuffer(i)?i.toString("binary"):Id(i),l);case"array":return t(Y0(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),u=-1,f=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++u]=[],f=0;continue}if(!(u<0)){var g=o[h].trim().split(","),x=g[0],b=g[1];++h;for(var v=o[h]||"";(v.match(/["]/g)||[]).length&1&&h<o.length-1;)v+=`
`+o[++h];switch(v=v.trim(),+x){case-1:if(v==="BOT"){m[++u]=[],f=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[u][f]=!0:v==="FALSE"?m[u][f]=!1:isNaN(Sc(b))?isNaN(zm(b).getDate())?m[u][f]=b:m[u][f]=ta(b):m[u][f]=Sc(b),++f;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[u][f++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function r(i,l){return cp(e(i,l),l)}function n(i,l){return Bd(r(i,l),l)}var a=(function(){var i=function(u,f,h,m,g){u.push(f),u.push(h+","+m),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,f,h,m){u.push(f+","+h),u.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var f=[],h=en(u["!ref"]),m,g=Array.isArray(u);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){l(f,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var v=fr({r:x,c:b});if(m=g?(u[x]||[])[b]:u[v],!m){l(f,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?l(f,1,0,"="+m.f):l(f,1,0,""):l(f,0,w,"V");break;case"b":l(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=qo(m.z||cr[14],Ni(ta(m.v)))),l(f,0,m.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var N=`\r
`,E=f.join(N);return E}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),_P=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var x=m.split(`
`),b=-1,v=-1,w=0,N=[];w!==x.length;++w){var E=x[w].trim().split(":");if(E[0]==="cell"){var S=ja(E[1]);if(N.length<=S.r)for(b=N.length;b<=S.r;++b)N[b]||(N[b]=[]);switch(b=S.r,v=S.c,E[2]){case"t":N[b][v]=e(E[3]);break;case"v":N[b][v]=+E[3];break;case"vtf":var D=E[E.length-1];case"vtc":switch(E[3]){case"nl":N[b][v]=!!+E[4];break;default:N[b][v]=+E[4];break}E[2]=="vtf"&&(N[b][v]=[N[b][v],D])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(m,g){return cp(r(m,g),g)}function a(m,g){return Bd(n(m,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,v="",w=Cl(m["!ref"]),N=Array.isArray(m),E=w.s.r;E<=w.e.r;++E)for(var S=w.s.c;S<=w.e.c;++S)if(v=fr({r:E,c:S}),b=N?(m[E]||[])[S]:m[v],!(!b||b.v==null||b.t==="z")){switch(x=["cell",v,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var D=Ni(ta(b.v));x[2]="vtc",x[3]="nd",x[4]=""+D,x[5]=b.w||qo(b.z||cr[14],D);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(m){return[i,l,o,l,f(m),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),qm=(function(){function e(h,m,g,x,b){b.raw?m[g][x]=h:h===""||(h==="TRUE"?m[g][x]=!0:h==="FALSE"?m[g][x]=!1:isNaN(Sc(h))?isNaN(zm(h).getDate())?m[g][x]=h:m[g][x]=ta(h):m[g][x]=Sc(h))}function t(h,m){var g=m||{},x=[];if(!h||h.length===0)return x;for(var b=h.split(/[\r\n]/),v=b.length-1;v>=0&&b[v].length===0;)--v;for(var w=10,N=0,E=0;E<=v;++E)N=b[E].indexOf(" "),N==-1?N=b[E].length:N++,w=Math.max(w,N);for(E=0;E<=v;++E){x[E]=[];var S=0;for(e(b[E].slice(0,w).trim(),x,E,S,g),S=1;S<=(b[E].length-w)/10+1;++S)e(b[E].slice(w+(S-1)*10,w+S*10).trim(),x,E,S,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var m={},g=!1,x=0,b=0;x<h.length;++x)(b=h.charCodeAt(x))==34?g=!g:!g&&b in r&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(v,w){return v[0]-w[0]||n[v[1]]-n[w[1]]}),r[b.pop()[1]]||44}function i(h,m){var g=m||{},x="",b=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=a(h.slice(0,1024)):g&&g.FS?x=g.FS:x=a(h.slice(0,1024));var w=0,N=0,E=0,S=0,D=0,F=x.charCodeAt(0),O=!1,T=0,M=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?QW(g.dateNF):null;function H(){var R=h.slice(S,D),U={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)U.t="z";else if(g.raw)U.t="s",U.v=R;else if(R.trim().length===0)U.t="s",U.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(U.t="s",U.v=R.slice(2,-1).replace(/""/g,'"')):AZ(R)?(U.t="n",U.f=R.slice(1)):(U.t="s",U.v=R);else if(R=="TRUE")U.t="b",U.v=!0;else if(R=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=Sc(R)))U.t="n",g.cellText!==!1&&(U.w=R),U.v=E;else if(!isNaN(zm(R).getDate())||B&&R.match(B)){U.z=g.dateNF||cr[14];var K=0;B&&R.match(B)&&(R=ZW(R,g.dateNF,R.match(B)||[]),K=1),g.cellDates?(U.t="d",U.v=ta(R,K)):(U.t="n",U.v=Ni(ta(R,K))),g.cellText!==!1&&(U.w=qo(U.z,U.v instanceof Date?Ni(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=R;if(U.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][N]=U):b[fr({c:N,r:w})]=U),S=D+1,M=h.charCodeAt(S),v.e.c<N&&(v.e.c=N),v.e.r<w&&(v.e.r=w),T==F)++N;else if(N=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;D<h.length;++D)switch(T=h.charCodeAt(D)){case 34:M===34&&(O=!O);break;case F:case 10:case 13:if(!O&&H())break e;break}return D-S>0&&H(),b["!ref"]=Nr(v),b}function l(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):cp(t(h,m),m)}function o(h,m){var g="",x=m.type=="string"?[0,0,0,0]:D3(h,m);switch(m.type){case"base64":g=ro(h);break;case"binary":g=h;break;case"buffer":m.codepage==65001?g=h.toString("utf8"):m.codepage&&typeof Gx<"u"||(g=Cr&&Buffer.isBuffer(h)?h.toString("binary"):Id(h));break;case"array":g=Y0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Fn(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Fn(g):m.type=="binary"&&typeof Gx<"u",g.slice(0,19)=="socialcalc:version:"?_P.to_sheet(m.type=="string"?g:Fn(g),m):l(g,m)}function u(h,m){return Bd(o(h,m),m)}function f(h){for(var m=[],g=en(h["!ref"]),x,b=Array.isArray(h),v=g.s.r;v<=g.e.r;++v){for(var w=[],N=g.s.c;N<=g.e.c;++N){var E=fr({r:v,c:N});if(x=b?(h[v]||[])[N]:h[E],!x||x.v==null){w.push("          ");continue}for(var S=(x.w||(hf(x),x.w)||"").slice(0,10);S.length<10;)S+=" ";w.push(S+(N===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:f}})();function dX(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=wP.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return qm.to_workbook(e,t)}}var M0=(function(){function e(P,L,q){if(P){as(P,P.l||0);for(var W=q.Enum||ge;P.l<P.length;){var X=P.read_shift(2),ce=W[X]||W[65535],ue=P.read_shift(2),ae=P.l+ue,Se=ce.f&&ce.f(P,ue,q);if(P.l=ae,L(Se,ce,X))return}}}function t(P,L){switch(L.type){case"base64":return r(Ql(ro(P)),L);case"binary":return r(Ql(P),L);case"buffer":case"array":return r(P,L)}throw"Unsupported type "+L.type}function r(P,L){if(!P)return P;var q=L||{},W=q.dense?[]:{},X="Sheet1",ce="",ue=0,ae={},Se=[],De=[],Z={s:{r:0,c:0},e:{r:0,c:0}},Ke=q.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)q.Enum=ge,e(P,function(Xe,Nt,lt){switch(lt){case 0:q.vers=Xe,Xe>=4096&&(q.qpro=!0);break;case 6:Z=Xe;break;case 204:Xe&&(ce=Xe);break;case 222:ce=Xe;break;case 15:case 51:q.qpro||(Xe[1].v=Xe[1].v.slice(1));case 13:case 14:case 16:lt==14&&(Xe[2]&112)==112&&(Xe[2]&15)>1&&(Xe[2]&15)<15&&(Xe[1].z=q.dateNF||cr[14],q.cellDates&&(Xe[1].t="d",Xe[1].v=h2(Xe[1].v))),q.qpro&&Xe[3]>ue&&(W["!ref"]=Nr(Z),ae[X]=W,Se.push(X),W=q.dense?[]:{},Z={s:{r:0,c:0},e:{r:0,c:0}},ue=Xe[3],X=ce||"Sheet"+(ue+1),ce="");var At=q.dense?(W[Xe[0].r]||[])[Xe[0].c]:W[fr(Xe[0])];if(At){At.t=Xe[1].t,At.v=Xe[1].v,Xe[1].z!=null&&(At.z=Xe[1].z),Xe[1].f!=null&&(At.f=Xe[1].f);break}q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[fr(Xe[0])]=Xe[1];break}},q);else if(P[2]==26||P[2]==14)q.Enum=Y,P[2]==14&&(q.qpro=!0,P.l=0),e(P,function(Xe,Nt,lt){switch(lt){case 204:X=Xe;break;case 22:Xe[1].v=Xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Xe[3]>ue&&(W["!ref"]=Nr(Z),ae[X]=W,Se.push(X),W=q.dense?[]:{},Z={s:{r:0,c:0},e:{r:0,c:0}},ue=Xe[3],X="Sheet"+(ue+1)),Ke>0&&Xe[0].r>=Ke)break;q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[fr(Xe[0])]=Xe[1],Z.e.c<Xe[0].c&&(Z.e.c=Xe[0].c),Z.e.r<Xe[0].r&&(Z.e.r=Xe[0].r);break;case 27:Xe[14e3]&&(De[Xe[14e3][0]]=Xe[14e3][1]);break;case 1537:De[Xe[0]]=Xe[1],Xe[0]==ue&&(X=Xe[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(W["!ref"]=Nr(Z),ae[ce||X]=W,Se.push(ce||X),!De.length)return{SheetNames:Se,Sheets:ae};for(var Ce={},xe=[],dt=0;dt<De.length;++dt)ae[Se[dt]]?(xe.push(De[dt]||Se[dt]),Ce[De[dt]]=ae[De[dt]]||ae[Se[dt]]):(xe.push(De[dt]),Ce[De[dt]]={"!ref":"A1"});return{SheetNames:xe,Sheets:Ce}}function n(P,L){var q=L||{};if(+q.codepage>=0&&Nc(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Al(),X=en(P["!ref"]),ce=Array.isArray(P),ue=[];bt(W,0,i(1030)),bt(W,6,u(X));for(var ae=Math.min(X.e.r,8191),Se=X.s.r;Se<=ae;++Se)for(var De=Ka(Se),Z=X.s.c;Z<=X.e.c;++Z){Se===X.s.r&&(ue[Z]=_a(Z));var Ke=ue[Z]+De,Ce=ce?(P[Se]||[])[Z]:P[Ke];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?bt(W,13,x(Se,Z,Ce.v)):bt(W,14,v(Se,Z,Ce.v));else{var xe=hf(Ce);bt(W,15,m(Se,Z,xe.slice(0,239)))}}return bt(W,1),W.end()}function a(P,L){var q=L||{};if(+q.codepage>=0&&Nc(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Al();bt(W,0,l(P));for(var X=0,ce=0;X<P.SheetNames.length;++X)(P.Sheets[P.SheetNames[X]]||{})["!ref"]&&bt(W,27,oe(P.SheetNames[X],ce++));var ue=0;for(X=0;X<P.SheetNames.length;++X){var ae=P.Sheets[P.SheetNames[X]];if(!(!ae||!ae["!ref"])){for(var Se=en(ae["!ref"]),De=Array.isArray(ae),Z=[],Ke=Math.min(Se.e.r,8191),Ce=Se.s.r;Ce<=Ke;++Ce)for(var xe=Ka(Ce),dt=Se.s.c;dt<=Se.e.c;++dt){Ce===Se.s.r&&(Z[dt]=_a(dt));var Xe=Z[dt]+xe,Nt=De?(ae[Ce]||[])[dt]:ae[Xe];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")bt(W,23,H(Ce,dt,ue,Nt.v));else{var lt=hf(Nt);bt(W,22,T(Ce,dt,ue,lt.slice(0,239)))}}++ue}}return bt(W,1),W.end()}function i(P){var L=Ze(2);return L.write_shift(2,P),L}function l(P){var L=Ze(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var q=0,W=0,X=0,ce=0;ce<P.SheetNames.length;++ce){var ue=P.SheetNames[ce],ae=P.Sheets[ue];if(!(!ae||!ae["!ref"])){++X;var Se=Cl(ae["!ref"]);q<Se.e.r&&(q=Se.e.r),W<Se.e.c&&(W=Se.e.c)}}return q>8191&&(q=8191),L.write_shift(2,q),L.write_shift(1,X),L.write_shift(1,W),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function o(P,L,q){var W={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&q.qpro?(W.s.c=P.read_shift(1),P.l++,W.s.r=P.read_shift(2),W.e.c=P.read_shift(1),P.l++,W.e.r=P.read_shift(2),W):(W.s.c=P.read_shift(2),W.s.r=P.read_shift(2),L==12&&q.qpro&&(P.l+=2),W.e.c=P.read_shift(2),W.e.r=P.read_shift(2),L==12&&q.qpro&&(P.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function u(P){var L=Ze(8);return L.write_shift(2,P.s.c),L.write_shift(2,P.s.r),L.write_shift(2,P.e.c),L.write_shift(2,P.e.r),L}function f(P,L,q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(W[0].c=P.read_shift(1),W[3]=P.read_shift(1),W[0].r=P.read_shift(2),P.l+=2):(W[2]=P.read_shift(1),W[0].c=P.read_shift(2),W[0].r=P.read_shift(2)),W}function h(P,L,q){var W=P.l+L,X=f(P,L,q);if(X[1].t="s",q.vers==20768){P.l++;var ce=P.read_shift(1);return X[1].v=P.read_shift(ce,"utf8"),X}return q.qpro&&P.l++,X[1].v=P.read_shift(W-P.l,"cstr"),X}function m(P,L,q){var W=Ze(7+q.length);W.write_shift(1,255),W.write_shift(2,L),W.write_shift(2,P),W.write_shift(1,39);for(var X=0;X<W.length;++X){var ce=q.charCodeAt(X);W.write_shift(1,ce>=128?95:ce)}return W.write_shift(1,0),W}function g(P,L,q){var W=f(P,L,q);return W[1].v=P.read_shift(2,"i"),W}function x(P,L,q){var W=Ze(7);return W.write_shift(1,255),W.write_shift(2,L),W.write_shift(2,P),W.write_shift(2,q,"i"),W}function b(P,L,q){var W=f(P,L,q);return W[1].v=P.read_shift(8,"f"),W}function v(P,L,q){var W=Ze(13);return W.write_shift(1,255),W.write_shift(2,L),W.write_shift(2,P),W.write_shift(8,q,"f"),W}function w(P,L,q){var W=P.l+L,X=f(P,L,q);if(X[1].v=P.read_shift(8,"f"),q.qpro)P.l=W;else{var ce=P.read_shift(2);D(P.slice(P.l,P.l+ce),X),P.l+=ce}return X}function N(P,L,q){var W=L&32768;return L&=-32769,L=(W?P:0)+(L>=8192?L-16384:L),(W?"":"$")+(q?_a(L):Ka(L))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(P,L){as(P,0);for(var q=[],W=0,X="",ce="",ue="",ae="";P.l<P.length;){var Se=P[P.l++];switch(Se){case 0:q.push(P.read_shift(8,"f"));break;case 1:ce=N(L[0].c,P.read_shift(2),!0),X=N(L[0].r,P.read_shift(2),!1),q.push(ce+X);break;case 2:{var De=N(L[0].c,P.read_shift(2),!0),Z=N(L[0].r,P.read_shift(2),!1);ce=N(L[0].c,P.read_shift(2),!0),X=N(L[0].r,P.read_shift(2),!1),q.push(De+Z+":"+ce+X)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(P.read_shift(2));break;case 6:{for(var Ke="";Se=P[P.l++];)Ke+=String.fromCharCode(Se);q.push('"'+Ke.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ae=q.pop(),ue=q.pop(),q.push(["AND","OR"][Se-20]+"("+ue+","+ae+")");break;default:if(Se<32&&S[Se])ae=q.pop(),ue=q.pop(),q.push(ue+S[Se]+ae);else if(E[Se]){if(W=E[Se][1],W==69&&(W=P[P.l++]),W>q.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+q.join("|")+"|");return}var Ce=q.slice(-W);q.length-=W,q.push(E[Se][0]+"("+Ce.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}q.length==1?L[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function F(P){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=P.read_shift(2),L[3]=P[P.l++],L[0].c=P[P.l++],L}function O(P,L){var q=F(P);return q[1].t="s",q[1].v=P.read_shift(L-4,"cstr"),q}function T(P,L,q,W){var X=Ze(6+W.length);X.write_shift(2,P),X.write_shift(1,q),X.write_shift(1,L),X.write_shift(1,39);for(var ce=0;ce<W.length;++ce){var ue=W.charCodeAt(ce);X.write_shift(1,ue>=128?95:ue)}return X.write_shift(1,0),X}function M(P,L){var q=F(P);q[1].v=P.read_shift(2);var W=q[1].v>>1;if(q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return q[1].v=W,q}function B(P,L){var q=F(P),W=P.read_shift(4),X=P.read_shift(4),ce=P.read_shift(2);if(ce==65535)return W===0&&X===3221225472?(q[1].t="e",q[1].v=15):W===0&&X===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ue=ce&32768;return ce=(ce&32767)-16446,q[1].v=(1-ue*2)*(X*Math.pow(2,ce+32)+W*Math.pow(2,ce)),q}function H(P,L,q,W){var X=Ze(14);if(X.write_shift(2,P),X.write_shift(1,q),X.write_shift(1,L),W==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var ce=0,ue=0,ae=0,Se=0;return W<0&&(ce=1,W=-W),ue=Math.log2(W)|0,W/=Math.pow(2,ue-31),Se=W>>>0,(Se&2147483648)==0&&(W/=2,++ue,Se=W>>>0),W-=Se,Se|=2147483648,Se>>>=0,W*=Math.pow(2,32),ae=W>>>0,X.write_shift(4,ae),X.write_shift(4,Se),ue+=16383+(ce?32768:0),X.write_shift(2,ue),X}function R(P,L){var q=B(P);return P.l+=L-14,q}function U(P,L){var q=F(P),W=P.read_shift(4);return q[1].v=W>>6,q}function K(P,L){var q=F(P),W=P.read_shift(8,"f");return q[1].v=W,q}function ee(P,L){var q=K(P);return P.l+=L-10,q}function pe(P,L){return P[P.l+L-1]==0?P.read_shift(L,"cstr"):""}function re(P,L){var q=P[P.l++];q>L-1&&(q=L-1);for(var W="";W.length<q;)W+=String.fromCharCode(P[P.l++]);return W}function se(P,L,q){if(!(!q.qpro||L<21)){var W=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var X=P.read_shift(L-21,"cstr");return[W,X]}}function ye(P,L){for(var q={},W=P.l+L;P.l<W;){var X=P.read_shift(2);if(X==14e3){for(q[X]=[0,""],q[X][0]=P.read_shift(2);P[P.l];)q[X][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return q}function oe(P,L){var q=Ze(5+P.length);q.write_shift(2,14e3),q.write_shift(2,L);for(var W=0;W<P.length;++W){var X=P.charCodeAt(W);q[q.l++]=X>127?95:X}return q[q.l++]=0,q}var ge={0:{n:"BOF",f:ni},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ye},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function hX(e){var t={},r=e.match(Ps),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=hr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=Y_[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var mX=(function(){var e=Xx("t"),t=Xx("rPr");function r(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:Zr(l[1])},u=i.match(t);return u&&(o.s=hX(u[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(a).map(r).filter(function(o){return o.v})}})(),pX=(function(){var t=/(\r\n|\n)/g;function r(a,i,l){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),l.push("</b>")),a.i&&(i.push("<i>"),l.push("</i>")),a.strike&&(i.push("<s>"),l.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),l.push("</"+u+">")),l.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),xX=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,gX=/<(?:\w+:)?r>/,vX=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function y3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Zr(Fn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Fn(e),r&&(n.h=i3(n.t))):e.match(gX)&&(n.r=Fn(e),n.t=Zr(Fn((e.replace(vX,"").match(xX)||[]).join("").replace(Ps,""))),r&&(n.h=pX(mX(n.r)))),n):{t:""}}var yX=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,bX=/<(?:\w+:)?(?:si|sstItem)>/g,wX=/<\/(?:\w+:)?(?:si|sstItem)>/;function NX(e,t){var r=[],n="";if(!e)return r;var a=e.match(yX);if(a){n=a[2].replace(bX,"").split(wX);for(var i=0;i!=n.length;++i){var l=y3(n[i].trim(),t);l!=null&&(r[r.length]=l)}a=hr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var _X=/^\s|\s$|[\t\n\r]/;function jP(e,t){if(!t.bookSST)return"";var r=[Ya];r[r.length]=vt("sst",null,{xmlns:dh[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(_X)&&(i+=' xml:space="preserve"'),i+=">"+jn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function jX(e){return[e.read_shift(4),e.read_shift(4)]}function SX(e,t){var r=[],n=!1;return Nf(e,function(i,l,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function AX(e,t){return t||(t=Ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var EX=RG;function kX(e){var t=Al();ct(t,159,AX(e));for(var r=0;r<e.length;++r)ct(t,19,EX(e[r]));return ct(t,160),t.end()}function SP(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function lf(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function CX(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=lf(e,4),t.U=lf(e,4),t.W=lf(e,4),t}function TX(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function OX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(TX(e));return t}function DX(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function FX(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=lf(e,4),t.U=lf(e,4),t.W=lf(e,4),t}function PX(e){var t=FX(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function AP(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function EP(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function LX(e){var t=lf(e);switch(t.Minor){case 2:return[t.Minor,MX(e)];case 3:return[t.Minor,RX()];case 4:return[t.Minor,IX(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function MX(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=AP(e,r),a=EP(e,e.length-e.l);return{t:"Std",h:n,v:a}}function RX(){throw new Error("File is password-protected: ECMA-376 Extensible")}function IX(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ps,function(i){var l=hr(i);switch(pu(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=l[o]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function BX(e,t){var r={},n=r.EncryptionVersionInfo=lf(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=AP(e,a),t-=a,r.EncryptionVerifier=EP(e,t),r}function UX(e){var t={},r=t.EncryptionVersionInfo=lf(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function b3(e){var t=0,r,n=SP(e),a=n.length+1,i,l,o,u,f;for(r=Ed(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],o=(t&16384)===0?0:1,u=t<<1&32767,f=o|u,t=f^l;return t^52811}var kP=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},a=function(l,o){return n(l^o)},i=function(l){for(var o=t[l.length-1],u=104,f=l.length-1;f>=0;--f)for(var h=l[f],m=0;m!=7;++m)h&64&&(o^=r[u]),h*=2,--u;return o};return function(l){for(var o=SP(l),u=i(o),f=o.length,h=Ed(16),m=0;m!=16;++m)h[m]=0;var g,x,b;for((f&1)===1&&(g=u>>8,h[f]=a(e[0],g),--f,g=u&255,x=o[o.length-1],h[f]=a(x,g));f>0;)--f,g=u>>8,h[f]=a(o[f],g),--f,g=u&255,h[f]=a(o[f],g);for(f=15,b=15-o.length;b>0;)g=u>>8,h[f]=a(e[b],g),--f,--b,g=u&255,h[f]=a(o[f],g),--f,--b;return h}})(),zX=function(e,t,r,n,a){a||(a=t),n||(n=kP(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=n[r],l=(l>>5|l<<3)&255,a[i]=l,++r;return[a,r,n]},qX=function(e){var t=0,r=kP(e);return function(n){var a=zX("",n,t,r);return t=a[1],a[0]}};function $X(e,t,r,n){var a={key:ni(e),verificationBytes:ni(e)};return r.password&&(a.verifier=b3(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=qX(r.password)),a}function HX(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=UX(e):n.Data=BX(e,t),n}function VX(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?HX(e,t-2,n):$X(e,r.biff>=8?t:t-2,r,n),n}var CP=(function(){function e(a,i){switch(i.type){case"base64":return t(ro(a),i);case"binary":return t(a,i);case"buffer":return t(Cr&&Buffer.isBuffer(a)?a.toString("binary"):Id(a),i);case"array":return t(Y0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var l=i||{},o=l.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var g=/\\\w+\b/g,x=0,b,v=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(x,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++v,w.length){var N={v:w,t:"s"};Array.isArray(o)?o[m][v]=N:o[fr({r:m,c:v})]=N}break}x=g.lastIndex}v>f.e.c&&(f.e.c=v)}),o["!ref"]=Nr(f),o}function r(a,i){return Bd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=en(a["!ref"]),o,u=Array.isArray(a),f=l.s.r;f<=l.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var m=fr({r:f,c:h});o=u?(a[f]||[])[h]:a[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(hf(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function WX(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function eg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function GX(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),l=a-i;if(l===0)return[0,0,t];var o=0,u=0,f=a+i;switch(u=l/(f>1?2-f:f),a){case t:o=((r-n)/l+6)%6;break;case r:o=(n-t)/l+2;break;case n:o=(t-r)/l+4;break}return[o/6,u,f/2]}function KX(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,l=[i,i,i],o=6*t,u;if(r!==0)switch(o|0){case 0:case 6:u=a*o,l[0]+=a,l[1]+=u;break;case 1:u=a*(2-o),l[0]+=u,l[1]+=a;break;case 2:u=a*(o-2),l[1]+=a,l[2]+=u;break;case 3:u=a*(4-o),l[1]+=u,l[2]+=a;break;case 4:u=a*(o-4),l[2]+=a,l[0]+=u;break;case 5:u=a*(6-o),l[2]+=u,l[0]+=a;break}for(var f=0;f!=3;++f)l[f]=Math.round(l[f]*255);return l}function uy(e,t){if(t===0)return e;var r=GX(WX(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),eg(KX(r))}var TP=6,YX=15,XX=1,_s=TP;function tg(e){return Math.floor((e+Math.round(128/_s)/256)*_s)}function rg(e){return Math.floor((e-5)/_s*100+.5)/100}function fy(e){return Math.round((e*_s+5)/_s*256)/256}function Dw(e){return fy(rg(tg(e)))}function w3(e){var t=Math.abs(e-Dw(e)),r=_s;if(t>.005)for(_s=XX;_s<YX;++_s)Math.abs(e-Dw(e))<=t&&(t=Math.abs(e-Dw(e)),r=_s);_s=r}function kd(e){e.width?(e.wpx=tg(e.width),e.wch=rg(e.wpx),e.MDW=_s):e.wpx?(e.wch=rg(e.wpx),e.width=fy(e.wch),e.MDW=_s):typeof e.wch=="number"&&(e.width=fy(e.wch),e.wpx=tg(e.width),e.MDW=_s),e.customWidth&&delete e.customWidth}var QX=96,OP=QX;function ng(e){return e*96/OP}function $m(e){return e*OP/96}var ZX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function JX(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ps)||[]).forEach(function(l){var o=hr(l);switch(pu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Zn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Zn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function eQ(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ps)||[]).forEach(function(l){var o=hr(l);switch(pu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function tQ(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ps)||[]).forEach(function(l){var o=hr(l);switch(pu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Fn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Zn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Zn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Zn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Zn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Zn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Zn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Zn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Y_[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Zn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var u=P0[a.color.index];a.color.index==81&&(u=P0[1]),u||(u=P0[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=uy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function rQ(e,t,r){t.NumberFmt=[];for(var n=Ia(cr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=cr[n[a]];var i=e[0].match(Ps);if(i)for(a=0;a<i.length;++a){var l=hr(i[a]);switch(pu(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Zr(Fn(l.formatCode)),u=parseInt(l.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}sf(o,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function nQ(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=vt("numFmt",null,{numFmtId:n,formatCode:jn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=vt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var nv=["numFmtId","fillId","fontId","borderId","xfId"],av=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function aQ(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ps)||[]).forEach(function(i){var l=hr(i),o=0;switch(pu(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],o=0;o<nv.length;++o)n[nv[o]]&&(n[nv[o]]=parseInt(n[nv[o]],10));for(o=0;o<av.length;++o)n[av[o]]&&(n[av[o]]=Zn(n[av[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};l.vertical&&(u.vertical=l.vertical),l.horizontal&&(u.horizontal=l.horizontal),l.textRotation!=null&&(u.textRotation=l.textRotation),l.indent&&(u.indent=l.indent),l.wrapText&&(u.wrapText=Zn(l.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function iQ(e){var t=[];return t[t.length]=vt("cellXfs",null),e.forEach(function(r){t[t.length]=vt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=vt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var sQ=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&rQ(m,h,f),(m=o.match(a))&&tQ(m,h,u,f),(m=o.match(n))&&eQ(m,h,u,f),(m=o.match(i))&&JX(m,h,u,f),(m=o.match(r))&&aQ(m,h,f),h}})();function DP(e,t){var r=[Ya,vt("styleSheet",null,{xmlns:dh[0],"xmlns:vt":wi.vt})],n;return e.SSF&&(n=nQ(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=iQ(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function lQ(e,t){var r=e.read_shift(2),n=Cs(e);return[r,n]}function oQ(e,t,r){r||(r=Ze(6+4*t.length)),r.write_shift(2,e),zi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function cQ(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=HG(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var o=e.read_shift(1);o>0&&(n.family=o);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=$G(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Cs(e),n}function uQ(e,t){t||(t=Ze(153)),t.write_shift(2,e.sz*20),VG(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),ly(e.color,t);var n=0;return n=2,t.write_shift(1,n),zi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var fQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Fw,dQ=Ds;function kk(e,t){t||(t=Ze(84)),Fw||(Fw=f2(fQ));var r=Fw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(ly({auto:1},t),ly({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function hQ(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function FP(e,t,r){r||(r=Ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function ux(e,t){return t||(t=Ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var mQ=Ds;function pQ(e,t){return t||(t=Ze(51)),t.write_shift(1,0),ux(null,t),ux(null,t),ux(null,t),ux(null,t),ux(null,t),t.length>t.l?t.slice(0,t.l):t}function xQ(e,t){return t||(t=Ze(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),sy(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function gQ(e,t,r){var n=Ze(2052);return n.write_shift(4,e),sy(t,n),sy(r,n),n.length>n.l?n.slice(0,n.l):n}function vQ(e,t,r){var n={};n.NumberFmt=[];for(var a in cr)n.NumberFmt[a]=cr[a];n.CellXf=[],n.Fonts=[];var i=[],l=!1;return Nf(e,function(u,f,h){switch(h){case 44:n.NumberFmt[u[0]]=u[1],sf(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=uy(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(h),l=!0;break;case 38:i.pop(),l=!1;break;default:if(f.T>0)i.push(h);else if(f.T<0)i.pop();else if(!l||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}function yQ(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ct(e,615,Ac(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ct(e,44,oQ(a,t[a]))}),ct(e,616))}}function bQ(e){var t=1;ct(e,611,Ac(t)),ct(e,43,uQ({sz:12,color:{theme:1},name:"Calibri",family:2})),ct(e,612)}function wQ(e){var t=2;ct(e,603,Ac(t)),ct(e,45,kk({patternType:"none"})),ct(e,45,kk({patternType:"gray125"})),ct(e,604)}function NQ(e){var t=1;ct(e,613,Ac(t)),ct(e,46,pQ()),ct(e,614)}function _Q(e){var t=1;ct(e,626,Ac(t)),ct(e,47,FP({numFmtId:0},65535)),ct(e,627)}function jQ(e,t){ct(e,617,Ac(t.length)),t.forEach(function(r){ct(e,47,FP(r,0))}),ct(e,618)}function SQ(e){var t=1;ct(e,619,Ac(t)),ct(e,48,xQ({xfId:0,name:"Normal"})),ct(e,620)}function AQ(e){var t=0;ct(e,505,Ac(t)),ct(e,506)}function EQ(e){var t=0;ct(e,508,gQ(t,"TableStyleMedium9","PivotStyleMedium4")),ct(e,509)}function kQ(e,t){var r=Al();return ct(r,278),yQ(r,e.SSF),bQ(r),wQ(r),NQ(r),_Q(r),jQ(r,t.cellXfs),SQ(r),AQ(r),EQ(r),ct(r,279),r.end()}var CQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function TQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ps)||[]).forEach(function(a){var i=hr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[CQ.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function OQ(){}function DQ(){}var FQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,PQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,LQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function MQ(e,t,r){t.themeElements={};var n;[["clrScheme",FQ,TQ],["fontScheme",PQ,OQ],["fmtScheme",LQ,DQ]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var RQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function PP(e,t){(!e||e.length===0)&&(e=N3());var r,n={};if(!(r=e.match(RQ)))throw new Error("themeElements not found in theme");return MQ(r[0],n,t),n.raw=e,n}function N3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ya];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function IQ(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var l;try{l=AF(i,{type:"array"})}catch{return}var o=Zl(l,"theme/theme/theme1.xml",!0);if(o)return PP(o,r)}}function BQ(e){return e.read_shift(4)}function UQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=zQ(e,4);break;case 2:t.xclrValue=hP(e);break;case 3:t.xclrValue=BQ(e);break;case 4:e.l+=4;break}return e.l+=8,t}function zQ(e,t){return Ds(e,t)}function qQ(e,t){return Ds(e,t)}function $Q(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=UQ(e);break;case 6:n[1]=qQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function HQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push($Q(e,r-e.l));return{ixfe:n,ext:i}}function VQ(e,t){t.forEach(function(r){r[0]})}function WQ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Cs(e)}}function GQ(e){var t=Ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),zi(e.name,t),t.slice(0,t.l)}function KQ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function YQ(e){var t=Ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function XQ(e,t){var r=Ze(8+2*t.length);return r.write_shift(4,e),zi(t,r),r.slice(0,r.l)}function QQ(e){return e.l+=4,e.read_shift(4)!=0}function ZQ(e,t){var r=Ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function JQ(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],l=!1,o=2;return Nf(e,function(u,f,h){switch(h){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:i.push(h),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!f.T){if(!l||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function eZ(){var e=Al();return ct(e,332),ct(e,334,Ac(1)),ct(e,335,GQ({name:"XLDAPR",version:12e4,flags:3496657072})),ct(e,336),ct(e,339,XQ(1,"XLDAPR")),ct(e,52),ct(e,35,Ac(514)),ct(e,4096,Ac(0)),ct(e,4097,Lo(1)),ct(e,36),ct(e,53),ct(e,340),ct(e,337,ZQ(1)),ct(e,51,YQ([[1,0]])),ct(e,338),ct(e,333),e.end()}function tZ(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,l;return e.replace(Ps,function(o){var u=hr(o);switch(pu(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==u.name&&(l=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),n}function LP(){var e=[Ya];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function rZ(e){var t=[];if(!e)return t;var r=1;return(e.match(Ps)||[]).forEach(function(n){var a=hr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function nZ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=fr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function aZ(e,t,r){var n=[];return Nf(e,function(i,l,o){switch(o){case 63:n.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function iZ(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Nf(e,function(o,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},a)}function sZ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var jm=1024;function MP(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[vt("xml",null,{"xmlns:v":Kl.v,"xmlns:o":Kl.o,"xmlns:x":Kl.x,"xmlns:mv":Kl.mv}).replace(/\/>/,">"),vt("o:shapelayout",vt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),vt("v:shapetype",[vt("v:stroke",null,{joinstyle:"miter"}),vt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];jm<e*1e3;)jm+=1e3;return t.forEach(function(i){var l=ja(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var u=o.type=="gradient"?vt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=vt("v:fill",u,o),h={on:"t",obscured:"t"};++jm,a=a.concat(["<v:shape"+Qx({id:"_x0000_s"+jm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,vt("v:shadow",null,h),vt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",is("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),is("x:AutoFill","False"),is("x:Row",String(l.r)),is("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Ck(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(l){var o=ja(l.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[l.ref]=i;var u=en(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var f=Nr(u);f!==e["!ref"]&&(e["!ref"]=f)}i.c||(i.c=[]);var h={a:l.author,t:l.t,r:l.r,T:r};l.h&&(h.h=l.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}i.c.push(h)})}function lZ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=hr(o[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=ja(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!m&&!!m[1]&&y3(m[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=g.h),n.push(f)}}}}),n}function RP(e){var t=[Ya,vt("comments",null,{xmlns:dh[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=jn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(jn(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(is("t",jn(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(is("t",jn(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function oZ(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ps,function(o,u){var f=hr(o);switch(pu(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=u+o.length;break;case"</text>":a.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),r}function cZ(e,t,r){var n=[Ya,vt("ThreadedComments",null,{xmlns:wi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=u.id:u.parentId=i,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(vt("threadedComment",is("text",l.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function uZ(e,t){var r=[],n=!1;return e.replace(Ps,function(i){var l=hr(i);switch(pu(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}function fZ(e){var t=[Ya,vt("personList",null,{xmlns:wi.TCMNT,"xmlns:x":dh[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(vt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function dZ(e){var t={};t.iauthor=e.read_shift(4);var r=xh(e);return t.rfx=r.s,t.ref=fr(r.s),e.l+=16,t}function hZ(e,t){return t==null&&(t=Ze(36)),t.write_shift(4,e[1].iauthor),up(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var mZ=Cs;function pZ(e){return zi(e.slice(0,54))}function xZ(e,t){var r=[],n=[],a={},i=!1;return Nf(e,function(o,u,f){switch(f){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}function gZ(e){var t=Al(),r=[];return ct(t,628),ct(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ct(t,632,pZ(a.a)))})}),ct(t,631),ct(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ja(n[0]),e:ja(n[0])};ct(t,635,hZ([i,a])),a.t&&a.t.length>0&&ct(t,637,BG(a)),ct(t,636),delete a.iauthor})}),ct(t,634),ct(t,629),t.end()}var vZ="application/vnd.ms-office.vbaProject";function yZ(e){var t=nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),nr.write(t)}function bZ(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var IP=["xlsb","xlsm","xlam","biff8","xla"];function wZ(){return{"!type":"dialog"}}function NZ(){return{"!type":"dialog"}}function _Z(){return{"!type":"macro"}}function jZ(){return{"!type":"macro"}}var Dm=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,l){var o=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return o?h+=t.c:--h,u?f+=t.r:--f,a+(o?"":"$")+_a(h)+(u?"":"$")+Ka(f)}return function(a,i){return t=i,a.replace(e,r)}})(),_3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,j3=(function(){return function(t,r){return t.replace(_3,function(n,a,i,l,o,u){var f=u3(l)-(i?0:r.c),h=c3(u)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",g=f==0?"":i?f+1:"["+f+"]";return a+"R"+m+"C"+g})}})();function BP(e,t){return e.replace(_3,function(r,n,a,i,l,o){return n+(a=="$"?a+i:_a(u3(i)+t.c))+(l=="$"?l+o:Ka(c3(o)+t.r))})}function SZ(e,t,r){var n=Cl(t),a=n.s,i=ja(r),l={r:i.r-a.r,c:i.c-a.c};return BP(e,l)}function AZ(e){return e.length!=1}function Tk(e){return e.replace(/_xlfn\./g,"")}function ti(e){e.l+=1}function Cd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function UP(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return zP(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),l=Cd(e),o=Cd(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function zP(e){var t=Cd(e),r=Cd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function EZ(e,t,r){if(r.biff<8)return zP(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Cd(e),l=Cd(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function qP(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return kZ(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Cd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function kZ(e){var t=Cd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function CZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function TZ(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return OZ(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:o}}function OZ(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function DZ(e,t,r){var n=(e[e.l++]&96)>>5,a=UP(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function FZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=UP(e,i,r);return[n,a,l]}function PZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function LZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function MZ(e,t,r){var n=(e[e.l++]&96)>>5,a=EZ(e,t-1,r);return[n,a]}function RZ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Ok(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function IZ(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function BZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function UZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function zZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function qZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function $P(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function $Z(e){return e.read_shift(2),$P(e)}function HZ(e){return e.read_shift(2),$P(e)}function VZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=qP(e,0,r);return[n,a]}function WZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=TZ(e,0,r);return[n,a]}function GZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=qP(e,0,r);return[n,a,i]}function KZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[QJ[a],WP[a],n]}function YZ(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:XZ(e);return[a,(i[0]===0?WP:XJ)[i[1]]]}function XZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function QZ(e,t,r){e.l+=r&&r.biff==2?3:4}function ZZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function JZ(e){return e.l++,_f[e.read_shift(1)]}function eJ(e){return e.l++,e.read_shift(2)}function tJ(e){return e.l++,e.read_shift(1)!==0}function rJ(e){return e.l++,Ss(e)}function nJ(e,t,r){return e.l++,Eg(e,t-1,r)}function aJ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$a(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=_f[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ss(e);break;case 2:r[1]=gh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function iJ(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?xh:m2)(e));return a}function sJ(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var o=0;o!=a;++o)l[i][o]=aJ(e,r.biff);return l}function lJ(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function oJ(e,t,r){if(r.biff==5)return cJ(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function cJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function uJ(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function fJ(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dJ(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function hJ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var mJ=Ds,pJ=Ds,xJ=Ds;function Cg(e,t,r){return e.l+=2,[CZ(e)]}function S3(e){return e.l+=6,[]}var gJ=Cg,vJ=S3,yJ=S3,bJ=Cg;function HP(e){return e.l+=2,[ni(e),e.read_shift(2)&1]}var wJ=Cg,NJ=HP,_J=S3,jJ=Cg,SJ=Cg,AJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function EJ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),l=AJ[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:i}}function kJ(e){return e.l+=2,[e.read_shift(4)]}function CJ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function TJ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function OJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function DJ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function FJ(e){return e.l+=4,[0,0]}var Dk={1:{n:"PtgExp",f:ZZ},2:{n:"PtgTbl",f:xJ},3:{n:"PtgAdd",f:ti},4:{n:"PtgSub",f:ti},5:{n:"PtgMul",f:ti},6:{n:"PtgDiv",f:ti},7:{n:"PtgPower",f:ti},8:{n:"PtgConcat",f:ti},9:{n:"PtgLt",f:ti},10:{n:"PtgLe",f:ti},11:{n:"PtgEq",f:ti},12:{n:"PtgGe",f:ti},13:{n:"PtgGt",f:ti},14:{n:"PtgNe",f:ti},15:{n:"PtgIsect",f:ti},16:{n:"PtgUnion",f:ti},17:{n:"PtgRange",f:ti},18:{n:"PtgUplus",f:ti},19:{n:"PtgUminus",f:ti},20:{n:"PtgPercent",f:ti},21:{n:"PtgParen",f:ti},22:{n:"PtgMissArg",f:ti},23:{n:"PtgStr",f:nJ},26:{n:"PtgSheet",f:CJ},27:{n:"PtgEndSheet",f:TJ},28:{n:"PtgErr",f:JZ},29:{n:"PtgBool",f:tJ},30:{n:"PtgInt",f:eJ},31:{n:"PtgNum",f:rJ},32:{n:"PtgArray",f:RZ},33:{n:"PtgFunc",f:KZ},34:{n:"PtgFuncVar",f:YZ},35:{n:"PtgName",f:lJ},36:{n:"PtgRef",f:VZ},37:{n:"PtgArea",f:DZ},38:{n:"PtgMemArea",f:uJ},39:{n:"PtgMemErr",f:mJ},40:{n:"PtgMemNoMem",f:pJ},41:{n:"PtgMemFunc",f:fJ},42:{n:"PtgRefErr",f:dJ},43:{n:"PtgAreaErr",f:PZ},44:{n:"PtgRefN",f:WZ},45:{n:"PtgAreaN",f:MZ},46:{n:"PtgMemAreaN",f:OJ},47:{n:"PtgMemNoMemN",f:DJ},57:{n:"PtgNameX",f:oJ},58:{n:"PtgRef3d",f:GZ},59:{n:"PtgArea3d",f:FZ},60:{n:"PtgRefErr3d",f:hJ},61:{n:"PtgAreaErr3d",f:LZ},255:{}},PJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},LJ={1:{n:"PtgElfLel",f:HP},2:{n:"PtgElfRw",f:jJ},3:{n:"PtgElfCol",f:gJ},6:{n:"PtgElfRwV",f:SJ},7:{n:"PtgElfColV",f:bJ},10:{n:"PtgElfRadical",f:wJ},11:{n:"PtgElfRadicalS",f:_J},13:{n:"PtgElfColS",f:vJ},15:{n:"PtgElfColSV",f:yJ},16:{n:"PtgElfRadicalLel",f:NJ},25:{n:"PtgList",f:EJ},29:{n:"PtgSxName",f:kJ},255:{}},MJ={0:{n:"PtgAttrNoop",f:FJ},1:{n:"PtgAttrSemi",f:qZ},2:{n:"PtgAttrIf",f:UZ},4:{n:"PtgAttrChoose",f:IZ},8:{n:"PtgAttrGoto",f:BZ},16:{n:"PtgAttrSum",f:QZ},32:{n:"PtgAttrBaxcel",f:Ok},33:{n:"PtgAttrBaxcel",f:Ok},64:{n:"PtgAttrSpace",f:$Z},65:{n:"PtgAttrSpaceSemi",f:HZ},128:{n:"PtgAttrIfError",f:zZ},255:{}};function Tg(e,t,r,n){if(n.biff<8)return Ds(e,t);for(var a=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=sJ(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=iJ(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&i.push(Ds(e,t)),i}function Og(e,t,r){for(var n=e.l+t,a,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Dk[i]||Dk[PJ[i]],(i===24||i===25)&&(a=(i===24?LJ:MJ)[e[e.l+1]]),!a||!a.f?Ds(e,t):l.push([a.n,a.f(e,t,r)]);return l}function RJ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var IJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function BJ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function VP(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Fk(e,t,r){var n=VP(e,t,r);return n=="#REF"?n:BJ(n,r)}function Ns(e,t,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},o=[],u,f,h,m=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var v=-1,w="",N=0,E=e[0].length;N<E;++N){var S=e[0][N];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),f=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:w=Pa(" ",e[0][v][1][1]);break;case 1:w=Pa("\r",e[0][v][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}f=f+w,v=-1}o.push(f+IJ[S[0]]+u);break;case"PtgIsect":u=o.pop(),f=o.pop(),o.push(f+" "+u);break;case"PtgUnion":u=o.pop(),f=o.pop(),o.push(f+","+u);break;case"PtgRange":u=o.pop(),f=o.pop(),o.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Cx(S[1][1],l,a),o.push(Tx(h,i));break;case"PtgRefN":h=r?Cx(S[1][1],r,a):S[1][1],o.push(Tx(h,i));break;case"PtgRef3d":m=S[1][1],h=Cx(S[1][2],l,a),b=Fk(n,m,a),o.push(b+"!"+Tx(h,i));break;case"PtgFunc":case"PtgFuncVar":var D=S[1][0],F=S[1][1];D||(D=0),D&=127;var O=D==0?[]:o.slice(-D);o.length-=D,F==="User"&&(F=O.shift()),o.push(F+"("+O.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":x=ok(S[1][1],r?{s:r}:l,a),o.push(Cw(x,a));break;case"PtgArea":x=ok(S[1][1],l,a),o.push(Cw(x,a));break;case"PtgArea3d":m=S[1][1],x=S[1][2],b=Fk(n,m,a),o.push(b+"!"+Cw(x,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=S[1][2];var T=(n.names||[])[g-1]||(n[0]||[])[g],M=T?T.Name:"SH33TJSNAME"+String(g);M&&M.slice(0,6)=="_xlfn."&&!a.xlfn&&(M=M.slice(6)),o.push(M);break;case"PtgNameX":var B=S[1][1];g=S[1][2];var H;if(a.biff<=5)B<0&&(B=-B),n[B]&&(H=n[B][g]);else{var R="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(R=n.SheetNames[n[B][g].itab-1]+"!"):R=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])R+=n[B][g].Name;else if(n[0]&&n[0][g])R+=n[0][g].Name;else{var U=(VP(n,B,a)||"").split(";;");U[g-1]?R=U[g-1]:R+="SH33TJSERRX"}o.push(R);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var K="(",ee=")";if(v>=0){switch(w="",e[0][v][1][0]){case 2:K=Pa(" ",e[0][v][1][1])+K;break;case 3:K=Pa("\r",e[0][v][1][1])+K;break;case 4:ee=Pa(" ",e[0][v][1][1])+ee;break;case 5:ee=Pa("\r",e[0][v][1][1])+ee;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(K+o.pop()+ee);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:S[1][1],r:S[1][0]};var pe={c:r.c,r:r.r};if(n.sharedf[fr(h)]){var re=n.sharedf[fr(h)];o.push(Ns(re,l,pe,n,a))}else{var se=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(Ns(f[1],l,pe,n,a)),se=!0;break}se||o.push(S[1])}break;case"PtgArray":o.push("{"+RJ(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var ye=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&ye.indexOf(e[0][N][0])==-1){S=e[0][v];var oe=!0;switch(S[1][0]){case 4:oe=!1;case 0:w=Pa(" ",S[1][1]);break;case 5:oe=!1;case 1:w=Pa("\r",S[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((oe?w:"")+o.pop()+(oe?"":w)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function UJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],Ds(e,t-2)];var o=Og(e,l,r);return t!==l+a&&(i=Tg(e,t-l-a,o,r)),e.l=n,[o,i]}function zJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,l=e.read_shift(a);if(l==65535)return[[],Ds(e,t-2)];var o=Og(e,l,r);return t!==l+a&&(i=Tg(e,t-l-a,o,r)),e.l=n,[o,i]}function qJ(e,t,r,n){var a=e.l+t,i=Og(e,n,r),l;return a!==e.l&&(l=Tg(e,a-e.l,i,r)),[i,l]}function $J(e,t,r){var n=e.l+t,a,i=e.read_shift(2),l=Og(e,i,r);return i==65535?[[],Ds(e,t-2)]:(t!==i+2&&(a=Tg(e,n-i-2,l,r)),[l,a])}function HJ(e){var t;if(Zu(e,e.l+6)!==65535)return[Ss(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function VJ(e){if(e==null){var t=Ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return X0(e);return X0(0)}function Pw(e,t,r){var n=e.l+t,a=xu(e);r.biff==2&&++e.l;var i=HJ(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=zJ(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function WJ(e,t,r,n,a){var i=Z0(t,r,a),l=VJ(e.v),o=Ze(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var f=Ze(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var m=Ui([i,l,o,f]);return m}function p2(e,t,r){var n=e.read_shift(4),a=Og(e,n,r),i=e.read_shift(4),l=i>0?Tg(e,i,a,r):null;return[a,l]}var GJ=p2,x2=p2,KJ=p2,YJ=p2,XJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},WP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},QJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Pk(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function ZJ(e){var t="of:="+e.replace(_3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Lw(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function JJ(e){return e.replace(/\./,"!")}var Dx={},Fm={},Fx=typeof Map<"u";function A3(e,t,r){var n=0,a=e.length;if(r){if(Fx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Fx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Fx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function g2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(_s=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=rg(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=fy(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function R0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ud(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){sf(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function GP(e,t,r,n,a,i){try{n.cellNF&&(e.z=cr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ta(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(cr[t]==null&&sf(XW[t]||"General",t),e.t==="e")e.w=e.w||_f[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yx(e.v);else if(e.t==="d"){var l=Ni(e.v);(l|0)===l?e.w=l.toString(10):e.w=Yx(l)}else{if(e.v===void 0)return"";e.w=K0(e.v,Fm)}else e.t==="d"?e.w=qo(t,Ni(e.v),Fm):e.w=qo(t,e.v,Fm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=uy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=uy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function eee(e,t,r){if(e&&e["!ref"]){var n=en(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function tee(e,t){var r=en(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Nr(r))}var ree=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,nee=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,aee=/<(?:\w:)?hyperlink [^>]*>/mg,iee=/"(\w*:\w*)"/,see=/<(?:\w:)?col\b[^>]*[\/]?>/g,lee=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,oee=/<(?:\w:)?pageMargins[^>]*\/>/g,KP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,cee=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,uee=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function fee(e,t,r,n,a,i,l){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",m=e.match(nee);m?(f=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):f=h=e;var g=f.match(KP);g?E3(g[0],o,a,r):(g=f.match(cee))&&hee(g[0],g[1]||"",o,a,r);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=f.slice(x,x+50).match(iee);b&&tee(o,b[1])}var v=f.match(uee);v&&v[1]&&Aee(v[1],a);var w=[];if(t.cellStyles){var N=f.match(see);N&&wee(w,N)}m&&Cee(m[1],o,t,u,i,l);var E=h.match(lee);E&&(o["!autofilter"]=_ee(E[0]));var S=[],D=h.match(ree);if(D)for(x=0;x!=D.length;++x)S[x]=en(D[x].slice(D[x].indexOf('"')+1));var F=h.match(aee);F&&vee(o,F,n);var O=h.match(oee);if(O&&(o["!margins"]=yee(hr(O[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=Nr(u)),t.sheetRows>0&&o["!ref"]){var T=en(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>u.e.r&&(T.e.r=u.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>u.e.c&&(T.e.c=u.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Nr(T))}return w.length>0&&(o["!cols"]=w),S.length>0&&(o["!merges"]=S),o}function dee(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Nr(e[r])+'"/>';return t+"</mergeCells>"}function E3(e,t,r,n){var a=hr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Zr(Fn(a.codeName)))}function hee(e,t,r,n,a){E3(e.slice(0,e.indexOf(">")),r,n,a)}function mee(e,t,r,n,a){var i=!1,l={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,l.codeName=ou(jn(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),o=(o||"")+vt("outlinePr",null,f)}!i&&!o||(a[a.length]=vt("sheetPr",o,l))}var pee=["objects","scenarios","selectLockedCells","selectUnlockedCells"],xee=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function gee(e){var t={sheet:1};return pee.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),xee.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=b3(e.password).toString(16).toUpperCase()),vt("sheetProtection",null,t)}function vee(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=hr(Fn(t[a]),!0);if(!i.ref)return;var l=((r||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+Zr(i.location))):(i.Target="#"+Zr(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=en(i.ref),u=o.s.r;u<=o.e.r;++u)for(var f=o.s.c;f<=o.e.c;++f){var h=fr({c:f,r:u});n?(e[u]||(e[u]=[]),e[u][f]||(e[u][f]={t:"z",v:void 0}),e[u][f].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function yee(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function bee(e){return R0(e),vt("pageMargins",null,e)}function wee(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=hr(t[n],!0);a.hidden&&(a.hidden=Zn(a.hidden));var i=parseInt(a.min,10)-1,l=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,w3(a.width)),kd(a);i<=l;)e[i++]=ra(a)}}function Nee(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=vt("col",null,g2(a,n)));return r[r.length]="</cols>",r.join("")}function _ee(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function jee(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Nr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=Cl(a);l.s.r==l.e.r&&(l.e.r=Cl(t["!ref"]).e.r,a=Nr(l));for(var o=0;o<i.length;++o){var u=i[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),vt("autoFilter",null,{ref:a})}var See=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Aee(e,t){t.Views||(t.Views=[{}]),(e.match(See)||[]).forEach(function(r,n){var a=hr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Zn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function Eee(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),vt("sheetViews",vt("sheetView",null,a),{})}function kee(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=_f[e.v];break;case"d":n&&n.cellDates?a=ta(e.v,-1).toISOString():(e=ra(e),e.t="n",a=""+(e.v=Ni(ta(e.v)))),typeof e.z>"u"&&(e.z=cr[14]);break;default:a=e.v;break}var o=is("v",jn(a)),u={r:t},f=Ud(n.cellXfs,e,n);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=is("v",""+A3(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=vt("f",jn(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),vt("c",o,u)}var Cee=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Xx("v"),l=Xx("f");return function(u,f,h,m,g,x){for(var b=0,v="",w=[],N=[],E=0,S=0,D=0,F="",O,T,M=0,B=0,H,R,U=0,K=0,ee=Array.isArray(x.CellXf),pe,re=[],se=[],ye=Array.isArray(f),oe=[],ge={},Y=!1,P=!!h.sheetStubs,L=u.split(t),q=0,W=L.length;q!=W;++q){v=L[q].trim();var X=v.length;if(X!==0){var ce=0;e:for(b=0;b<X;++b)switch(v[b]){case">":if(v[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(T=hr(v.slice(ce,b),!0),M=T.r!=null?parseInt(T.r,10):M+1,B=-1,h.sheetRows&&h.sheetRows<M)continue;ge={},Y=!1,T.ht&&(Y=!0,ge.hpt=parseFloat(T.ht),ge.hpx=$m(ge.hpt)),T.hidden=="1"&&(Y=!0,ge.hidden=!0),T.outlineLevel!=null&&(Y=!0,ge.level=+T.outlineLevel),Y&&(oe[M-1]=ge)}break;case"<":ce=b;break}if(ce>=b)break;if(T=hr(v.slice(ce,b),!0),M=T.r!=null?parseInt(T.r,10):M+1,B=-1,!(h.sheetRows&&h.sheetRows<M)){m.s.r>M-1&&(m.s.r=M-1),m.e.r<M-1&&(m.e.r=M-1),h&&h.cellStyles&&(ge={},Y=!1,T.ht&&(Y=!0,ge.hpt=parseFloat(T.ht),ge.hpx=$m(ge.hpt)),T.hidden=="1"&&(Y=!0,ge.hidden=!0),T.outlineLevel!=null&&(Y=!0,ge.level=+T.outlineLevel),Y&&(oe[M-1]=ge)),w=v.slice(b).split(e);for(var ue=0;ue!=w.length&&w[ue].trim().charAt(0)=="<";++ue);for(w=w.slice(ue),b=0;b!=w.length;++b)if(v=w[b].trim(),v.length!==0){if(N=v.match(r),E=b,S=0,D=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,N!=null&&N.length===2){for(E=0,F=N[1],S=0;S!=F.length&&!((D=F.charCodeAt(S)-64)<1||D>26);++S)E=26*E+D;--E,B=E}else++B;for(S=0;S!=v.length&&v.charCodeAt(S)!==62;++S);if(++S,T=hr(v.slice(0,S),!0),T.r||(T.r=fr({r:M-1,c:B})),F=v.slice(S),O={t:""},(N=F.match(i))!=null&&N[1]!==""&&(O.v=Zr(N[1])),h.cellFormula){if((N=F.match(l))!=null&&N[1]!==""){if(O.f=Zr(Fn(N[1])).replace(/\r\n/g,`
`),h.xlfn||(O.f=Tk(O.f)),N[0].indexOf('t="array"')>-1)O.F=(F.match(a)||[])[1],O.F.indexOf(":")>-1&&re.push([en(O.F),O.F]);else if(N[0].indexOf('t="shared"')>-1){R=hr(N[0]);var ae=Zr(Fn(N[1]));h.xlfn||(ae=Tk(ae)),se[parseInt(R.si,10)]=[R,ae,T.r]}}else(N=F.match(/<f[^>]*\/>/))&&(R=hr(N[0]),se[R.si]&&(O.f=SZ(se[R.si][1],se[R.si][2],T.r)));var Se=ja(T.r);for(S=0;S<re.length;++S)Se.r>=re[S][0].s.r&&Se.r<=re[S][0].e.r&&Se.c>=re[S][0].s.c&&Se.c<=re[S][0].e.c&&(O.F=re[S][1])}if(T.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(P)O.t="z";else continue;else O.t=T.t||"n";switch(m.s.c>B&&(m.s.c=B),m.e.c<B&&(m.e.c=B),O.t){case"n":if(O.v==""||O.v==null){if(!P)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!P)continue;O.t="z"}else H=Dx[parseInt(O.v,10)],O.v=H.t,O.r=H.r,h.cellHTML&&(O.h=H.h);break;case"str":O.t="s",O.v=O.v!=null?Fn(O.v):"",h.cellHTML&&(O.h=i3(O.v));break;case"inlineStr":N=F.match(n),O.t="s",N!=null&&(H=y3(N[1]))?(O.v=H.t,h.cellHTML&&(O.h=H.h)):O.v="";break;case"b":O.v=Zn(O.v);break;case"d":h.cellDates?O.v=ta(O.v,1):(O.v=Ni(ta(O.v,1)),O.t="n");break;case"e":(!h||h.cellText!==!1)&&(O.w=O.v),O.v=XF[O.v];break}if(U=K=0,pe=null,ee&&T.s!==void 0&&(pe=x.CellXf[T.s],pe!=null&&(pe.numFmtId!=null&&(U=pe.numFmtId),h.cellStyles&&pe.fillId!=null&&(K=pe.fillId))),GP(O,U,K,h,g,x),h.cellDates&&ee&&O.t=="n"&&lp(cr[U])&&(O.t="d",O.v=h2(O.v)),T.cm&&h.xlmeta){var De=(h.xlmeta.Cell||[])[+T.cm-1];De&&De.type=="XLDAPR"&&(O.D=!0)}if(ye){var Z=ja(T.r);f[Z.r]||(f[Z.r]=[]),f[Z.r][Z.c]=O}else f[T.r]=O}}}}oe.length>0&&(f["!rows"]=oe)}})();function Tee(e,t,r,n){var a=[],i=[],l=en(e["!ref"]),o="",u,f="",h=[],m=0,g=0,x=e["!rows"],b=Array.isArray(e),v={r:f},w,N=-1;for(g=l.s.c;g<=l.e.c;++g)h[g]=_a(g);for(m=l.s.r;m<=l.e.r;++m){for(i=[],f=Ka(m),g=l.s.c;g<=l.e.c;++g){u=h[g]+f;var E=b?(e[m]||[])[g]:e[u];E!==void 0&&(o=kee(E,u,e,t))!=null&&i.push(o)}(i.length>0||x&&x[m])&&(v={r:f},x&&x[m]&&(w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=ng(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level)),a[a.length]=vt("row",i.join(""),v))}if(x)for(;m<x.length;++m)x&&x[m]&&(v={r:m+1},w=x[m],w.hidden&&(v.hidden=1),N=-1,w.hpx?N=ng(w.hpx):w.hpt&&(N=w.hpt),N>-1&&(v.ht=N,v.customHeight=1),w.level&&(v.outlineLevel=w.level),a[a.length]=vt("row","",v));return a.join("")}function YP(e,t,r,n){var a=[Ya,vt("worksheet",null,{xmlns:dh[0],"xmlns:r":wi.r})],i=r.SheetNames[e],l=0,o="",u=r.Sheets[i];u==null&&(u={});var f=u["!ref"]||"A1",h=en(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=Nr(h)}n||(n={}),u["!comments"]=[];var m=[];mee(u,r,e,t,a),a[a.length]=vt("dimension",null,{ref:f}),a[a.length]=Eee(u,t,e,r),t.sheetFormat&&(a[a.length]=vt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=Nee(u,u["!cols"])),a[l=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=Tee(u,t),o.length>0&&(a[a.length]=o)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),u["!protect"]&&(a[a.length]=gee(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=jee(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=dee(u["!merges"]));var g=-1,x,b=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(v){v[1].Target&&(x={ref:v[0]},v[1].Target.charAt(0)!="#"&&(b=wn(n,-1,jn(v[1].Target).replace(/#.*$/,""),Or.HLINK),x["r:id"]="rId"+b),(g=v[1].Target.indexOf("#"))>-1&&(x.location=jn(v[1].Target.slice(g+1))),v[1].Tooltip&&(x.tooltip=jn(v[1].Tooltip)),a[a.length]=vt("hyperlink",null,x))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=bee(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=is("ignoredErrors",vt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(b=wn(n,-1,"../drawings/drawing"+(e+1)+".xml",Or.DRAW),a[a.length]=vt("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=m),u["!comments"].length>0&&(b=wn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Or.VML),a[a.length]=vt("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Oee(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Dee(e,t,r){var n=Ze(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=ng(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var o=0,u=n.l;n.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,g=-1,x=h<<10;x<h+1<<10;++x){f.c=x;var b=Array.isArray(r)?(r[f.r]||[])[f.c]:r[fr(f)];b&&(m<0&&(m=x),g=x)}m<0||(++o,n.write_shift(4,m),n.write_shift(4,g))}var v=n.l;return n.l=u,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function Fee(e,t,r,n){var a=Dee(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ct(e,0,a)}var Pee=xh,Lee=up;function Mee(){}function Ree(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=UG(e),r}function Iee(e,t,r){r==null&&(r=Ze(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return ly({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),VF(e,r),r.slice(0,r.l)}function Bee(e){var t=Go(e);return[t]}function Uee(e,t,r){return r==null&&(r=Ze(8)),hh(t,r)}function zee(e){var t=mh(e);return[t]}function qee(e,t,r){return r==null&&(r=Ze(4)),ph(t,r)}function $ee(e){var t=Go(e),r=e.read_shift(1);return[t,r,"b"]}function Hee(e,t,r){return r==null&&(r=Ze(9)),hh(t,r),r.write_shift(1,e.v?1:0),r}function Vee(e){var t=mh(e),r=e.read_shift(1);return[t,r,"b"]}function Wee(e,t,r){return r==null&&(r=Ze(5)),ph(t,r),r.write_shift(1,e.v?1:0),r}function Gee(e){var t=Go(e),r=e.read_shift(1);return[t,r,"e"]}function Kee(e,t,r){return r==null&&(r=Ze(9)),hh(t,r),r.write_shift(1,e.v),r}function Yee(e){var t=mh(e),r=e.read_shift(1);return[t,r,"e"]}function Xee(e,t,r){return r==null&&(r=Ze(8)),ph(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Qee(e){var t=Go(e),r=e.read_shift(4);return[t,r,"s"]}function Zee(e,t,r){return r==null&&(r=Ze(12)),hh(t,r),r.write_shift(4,t.v),r}function Jee(e){var t=mh(e),r=e.read_shift(4);return[t,r,"s"]}function ete(e,t,r){return r==null&&(r=Ze(8)),ph(t,r),r.write_shift(4,t.v),r}function tte(e){var t=Go(e),r=Ss(e);return[t,r,"n"]}function rte(e,t,r){return r==null&&(r=Ze(16)),hh(t,r),X0(e.v,r),r}function XP(e){var t=mh(e),r=Ss(e);return[t,r,"n"]}function nte(e,t,r){return r==null&&(r=Ze(12)),ph(t,r),X0(e.v,r),r}function ate(e){var t=Go(e),r=m3(e);return[t,r,"n"]}function ite(e,t,r){return r==null&&(r=Ze(12)),hh(t,r),WF(e.v,r),r}function ste(e){var t=mh(e),r=m3(e);return[t,r,"n"]}function lte(e,t,r){return r==null&&(r=Ze(8)),ph(t,r),WF(e.v,r),r}function ote(e){var t=Go(e),r=f3(e);return[t,r,"is"]}function cte(e){var t=Go(e),r=Cs(e);return[t,r,"str"]}function ute(e,t,r){return r==null&&(r=Ze(12+4*e.v.length)),hh(t,r),zi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function fte(e){var t=mh(e),r=Cs(e);return[t,r,"str"]}function dte(e,t,r){return r==null&&(r=Ze(8+4*e.v.length)),ph(t,r),zi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function hte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function mte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function pte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=Ss(e),l=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}function xte(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=Cs(e),l=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=x2(e,n-e.l,r);l[3]=Ns(o,null,a,r.supbooks,r)}else e.l=n;return l}var gte=xh,vte=up;function yte(e,t){return t==null&&(t=Ze(4)),t.write_shift(4,e),t}function bte(e,t){var r=e.l+t,n=xh(e),a=d3(e),i=Cs(e),l=Cs(e),o=Cs(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:o};return l&&(u.Tooltip=l),u}function wte(e,t){var r=Ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));up({s:ja(e[0]),e:ja(e[0])},r),h3("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return zi(a||"",r),zi(e[1].Tooltip||"",r),zi("",r),r.slice(0,r.l)}function Nte(){}function _te(e,t,r){var n=e.l+t,a=GF(e),i=e.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var o=GJ(e,n-e.l,r);l[1]=o}else e.l=n;return l}function jte(e,t,r){var n=e.l+t,a=xh(e),i=[a];if(r.cellFormula){var l=YJ(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function Ste(e,t,r){r==null&&(r=Ze(18));var n=g2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var QP=["left","right","top","bottom","header","footer"];function Ate(e){var t={};return QP.forEach(function(r){t[r]=Ss(e)}),t}function Ete(e,t){return t==null&&(t=Ze(48)),R0(e),QP.forEach(function(r){X0(e[r],t)}),t}function kte(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Cte(e,t,r){r==null&&(r=Ze(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Tte(e){var t=Ze(24);return t.write_shift(4,4),t.write_shift(4,1),up(e,t),t}function Ote(e,t){return t==null&&(t=Ze(66)),t.write_shift(2,e.password?b3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Dte(){}function Fte(){}function Pte(e,t,r,n,a,i,l){if(!e)return e;var o=t||{};n||(n={"!id":{}});var u=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,x,b,v,w,N,E,S,D,F,O=[];o.biff=12,o["!row"]=0;var T=0,M=!1,B=[],H={},R=o.supbooks||a.supbooks||[[]];if(R.sharedf=H,R.arrayf=B,R.SheetNames=a.SheetNames||a.Sheets.map(function(ye){return ye.name}),!o.supbooks&&(o.supbooks=R,a.Names))for(var U=0;U<a.Names.length;++U)R[0][U+1]=a.Names[U];var K=[],ee=[],pe=!1;ag[16]={n:"BrtShortReal",f:XP};var re;if(Nf(e,function(oe,ge,Y){if(!g)switch(Y){case 148:f=oe;break;case 0:x=oe,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),D=Ka(w=x.r),o["!row"]=x.r,(oe.hidden||oe.hpt||oe.level!=null)&&(oe.hpt&&(oe.hpx=$m(oe.hpt)),ee[oe.r]=oe);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:oe[2]},oe[2]){case"n":b.v=oe[1];break;case"s":S=Dx[oe[1]],b.v=S.t,b.r=S.r;break;case"b":b.v=!!oe[1];break;case"e":b.v=oe[1],o.cellText!==!1&&(b.w=_f[b.v]);break;case"str":b.t="s",b.v=oe[1];break;case"is":b.t="s",b.v=oe[1].t;break}if((v=l.CellXf[oe[0].iStyleRef])&&GP(b,v.numFmtId,null,o,i,l),N=oe[0].c==-1?N+1:oe[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[_a(N)+D]=b,o.cellFormula){for(M=!1,T=0;T<B.length;++T){var P=B[T];x.r>=P[0].s.r&&x.r<=P[0].e.r&&N>=P[0].s.c&&N<=P[0].e.c&&(b.F=Nr(P[0]),M=!0)}!M&&oe.length>3&&(b.f=oe[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),o.cellDates&&v&&b.t=="n"&&lp(cr[v.numFmtId])){var L=C0(b.v);L&&(b.t="d",b.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}re&&(re.type=="XLDAPR"&&(b.D=!0),re=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;b={t:"z",v:void 0},N=oe[0].c==-1?N+1:oe[0].c,o.dense?(u[w]||(u[w]=[]),u[w][N]=b):u[_a(N)+D]=b,h.s.r>x.r&&(h.s.r=x.r),h.s.c>N&&(h.s.c=N),h.e.r<x.r&&(h.e.r=x.r),h.e.c<N&&(h.e.c=N),re&&(re.type=="XLDAPR"&&(b.D=!0),re=void 0);break;case 176:O.push(oe);break;case 49:re=((o.xlmeta||{}).Cell||[])[oe-1];break;case 494:var q=n["!id"][oe.relId];for(q?(oe.Target=q.Target,oe.loc&&(oe.Target+="#"+oe.loc),oe.Rel=q):oe.relId==""&&(oe.Target="#"+oe.loc),w=oe.rfx.s.r;w<=oe.rfx.e.r;++w)for(N=oe.rfx.s.c;N<=oe.rfx.e.c;++N)o.dense?(u[w]||(u[w]=[]),u[w][N]||(u[w][N]={t:"z",v:void 0}),u[w][N].l=oe):(E=fr({c:N,r:w}),u[E]||(u[E]={t:"z",v:void 0}),u[E].l=oe);break;case 426:if(!o.cellFormula)break;B.push(oe),F=o.dense?u[w][N]:u[_a(N)+D],F.f=Ns(oe[1],h,{r:x.r,c:N},R,o),F.F=Nr(oe[0]);break;case 427:if(!o.cellFormula)break;H[fr(oe[0].s)]=oe[1],F=o.dense?u[w][N]:u[_a(N)+D],F.f=Ns(oe[1],h,{r:x.r,c:N},R,o);break;case 60:if(!o.cellStyles)break;for(;oe.e>=oe.s;)K[oe.e--]={width:oe.w/256,hidden:!!(oe.flags&1),level:oe.level},pe||(pe=!0,w3(oe.w/256)),kd(K[oe.e+1]);break;case 161:u["!autofilter"]={ref:Nr(oe)};break;case 476:u["!margins"]=oe;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),oe.name&&(a.Sheets[r].CodeName=oe.name),(oe.above||oe.left)&&(u["!outline"]={above:oe.above,left:oe.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),oe.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!ge.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=Nr(f||h)),o.sheetRows&&u["!ref"]){var se=en(u["!ref"]);o.sheetRows<=+se.e.r&&(se.e.r=o.sheetRows-1,se.e.r>h.e.r&&(se.e.r=h.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>h.e.c&&(se.e.c=h.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Nr(se))}return O.length>0&&(u["!merges"]=O),K.length>0&&(u["!cols"]=K),ee.length>0&&(u["!rows"]=ee),u}function Lte(e,t,r,n,a,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ra(t),t.z=t.z||cr[14],t.v=Ni(ta(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var u={r,c:n};switch(u.s=Ud(a.cellXfs,t,a),t.l&&i["!links"].push([fr(u),t.l]),t.c&&i["!comments"].push([fr(u),t.c]),t.t){case"s":case"str":return a.bookSST?(o=A3(a.Strings,t.v,a.revStrings),u.t="s",u.v=o,l?ct(e,18,ete(t,u)):ct(e,7,Zee(t,u))):(u.t="str",l?ct(e,17,dte(t,u)):ct(e,6,ute(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?ct(e,13,lte(t,u)):ct(e,2,ite(t,u)):l?ct(e,16,nte(t,u)):ct(e,5,rte(t,u)),!0;case"b":return u.t="b",l?ct(e,15,Wee(t,u)):ct(e,4,Hee(t,u)),!0;case"e":return u.t="e",l?ct(e,14,Xee(t,u)):ct(e,3,Kee(t,u)),!0}return l?ct(e,12,qee(t,u)):ct(e,1,Uee(t,u)),!0}function Mte(e,t,r,n){var a=en(t["!ref"]||"A1"),i,l="",o=[];ct(e,145);var u=Array.isArray(t),f=a.e.r;t["!rows"]&&(f=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=f;++h){l=Ka(h),Fee(e,t,a,h);var m=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(o[g]=_a(g)),i=o[g]+l;var x=u?(t[h]||[])[g]:t[i];if(!x){m=!1;continue}m=Lte(e,x,h,g,n,t,m)}}ct(e,146)}function Rte(e,t){!t||!t["!merges"]||(ct(e,177,yte(t["!merges"].length)),t["!merges"].forEach(function(r){ct(e,176,vte(r))}),ct(e,178))}function Ite(e,t){!t||!t["!cols"]||(ct(e,390),t["!cols"].forEach(function(r,n){r&&ct(e,60,Ste(n,r))}),ct(e,391))}function Bte(e,t){!t||!t["!ref"]||(ct(e,648),ct(e,649,Tte(en(t["!ref"]))),ct(e,650))}function Ute(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=wn(r,-1,n[1].Target.replace(/#.*$/,""),Or.HLINK);ct(e,494,wte(n,a))}}),delete t["!links"]}function zte(e,t,r,n){if(t["!comments"].length>0){var a=wn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Or.VML);ct(e,551,h3("rId"+a)),t["!legacy"]=a}}function qte(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Nr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=Cl(i);o.s.r==o.e.r&&(o.e.r=Cl(t["!ref"]).e.r,i=Nr(o));for(var u=0;u<l.length;++u){var f=l[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ct(e,161,up(en(i))),ct(e,162)}}function $te(e,t,r){ct(e,133),ct(e,137,Cte(t,r)),ct(e,138),ct(e,134)}function Hte(e,t){t["!protect"]&&ct(e,535,Ote(t["!protect"]))}function Vte(e,t,r,n){var a=Al(),i=r.SheetNames[e],l=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var u=en(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ct(a,129),(r.vbaraw||l["!outline"])&&ct(a,147,Iee(o,l["!outline"])),ct(a,148,Lee(u)),$te(a,l,r.Workbook),Ite(a,l),Mte(a,l,e,t),Hte(a,l),qte(a,l,r,e),Rte(a,l),Ute(a,l,n),l["!margins"]&&ct(a,476,Ete(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Bte(a,l),zte(a,l,e,n),ct(a,130),a.end()}function Wte(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var a=Zr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Gte(e,t,r,n,a,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,u=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var g=Wte(m);h.s.r=h.s.c=0,h.e.c=o,f=_a(o),g[0].forEach(function(x,b){l[f+Ka(b)]={t:"n",v:x,z:g[1]},u=b}),h.e.r<u&&(h.e.r=u),++o}),o>0&&(l["!ref"]=Nr(h)),l}function Kte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(KP);return o&&E3(o[0],i,a,r),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Yte(e,t){e.l+=10;var r=Cs(e);return{name:r}}function Xte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Nf(e,function(u,f,h){switch(h){case 550:i["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var k3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Qte=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Zte=[],Jte=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Lk(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Zn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function Mk(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Zn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function ZP(e){Mk(e.WBProps,k3),Mk(e.CalcPr,Jte),Lk(e.WBView,Qte),Lk(e.Sheets,Zte),Fm.date1904=Zn(e.WBProps.date1904)}function ere(e){return!e.Workbook||!e.Workbook.WBProps?"false":Zn(e.Workbook.WBProps.date1904)?"true":"false"}var tre="][*?/\\".split("");function JP(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return tre.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function rre(e,t,r){e.forEach(function(n,a){JP(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function nre(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];rre(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)eee(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var are=/<\w+:workbook/;function ire(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},l=0;if(e.replace(Ps,function(u,f){var h=hr(u);switch(pu(h[0])){case"<?xml":break;case"<workbook":u.match(are)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=h[a];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":k3.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=Zn(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=Fn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Zr(Fn(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Fn(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),Zn(h.hidden||"0")&&(i.Hidden=!0),l=f+u.length;break;case"</definedName>":i.Ref=Zr(Fn(e.slice(l,f))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),dh.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return ZP(r),r}function eL(e){var t=[Ya];t[t.length]=vt("workbook",null,{xmlns:dh[0],"xmlns:r":wi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(k3.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=vt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:jn(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=vt("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=vt("definedName",jn(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function sre(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=aN(e),r.name=Cs(e),r}function lre(e,t){return t||(t=Ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),h3(e.strRelID,t),zi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ore(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Cs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function cre(e,t){t||(t=Ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),VF(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function ure(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function fre(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=zG(e),l=KJ(e,0,r),o=d3(e);e.l=n;var u={Name:i,Ptg:l};return a<268435455&&(u.Sheet=a),o&&(u.Comment=o),u}function dre(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],ag[16]={n:"BrtFRTArchID$",f:ure},Nf(e,function(u,f,h){switch(h){case 156:l.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=Ns(u.Ptg,null,null,l,t),delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([h,u]):l[0]=[h,u],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(u),l.XTI=l.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(h),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!f.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),ZP(r),r.Names=i,r.supbooks=l,r}function hre(e,t){ct(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ct(e,156,lre(a))}ct(e,144)}function mre(e,t){t||(t=Ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return zi("SheetJS",t),zi(ey.version,t),zi(ey.version,t),zi("7262",t),t.length>t.l?t.slice(0,t.l):t}function pre(e,t){t||(t=Ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function xre(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ct(e,135),ct(e,158,pre(a)),ct(e,136))}}function gre(e,t){var r=Al();return ct(r,131),ct(r,128,mre()),ct(r,153,cre(e.Workbook&&e.Workbook.WBProps||null)),xre(r,e),hre(r,e),ct(r,132),r.end()}function vre(e,t,r){return t.slice(-4)===".bin"?dre(e,r):ire(e,r)}function yre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?Pte(e,n,r,a,i,l,o):fee(e,n,r,a,i,l,o)}function bre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?Xte(e,n,r,a,i):Kte(e,n,r,a,i)}function wre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?_Z():jZ()}function Nre(e,t,r,n,a,i,l,o){return t.slice(-4)===".bin"?wZ():NZ()}function _re(e,t,r,n){return t.slice(-4)===".bin"?vQ(e,r,n):sQ(e,r,n)}function jre(e,t,r){return PP(e,r)}function Sre(e,t,r){return t.slice(-4)===".bin"?SX(e,r):NX(e,r)}function Are(e,t,r){return t.slice(-4)===".bin"?xZ(e,r):lZ(e,r)}function Ere(e,t,r){return t.slice(-4)===".bin"?aZ(e):rZ(e)}function kre(e,t,r,n){return r.slice(-4)===".bin"?iZ(e,t,r,n):void 0}function Cre(e,t,r){return t.slice(-4)===".bin"?JQ(e,t,r):tZ(e,t,r)}function Tre(e,t,r){return(t.slice(-4)===".bin"?gre:eL)(e)}function Ore(e,t,r,n,a){return(t.slice(-4)===".bin"?Vte:YP)(e,r,n,a)}function Dre(e,t,r){return(t.slice(-4)===".bin"?kQ:DP)(e,r)}function Fre(e,t,r){return(t.slice(-4)===".bin"?kX:jP)(e,r)}function Pre(e,t,r){return(t.slice(-4)===".bin"?gZ:RP)(e)}function Lre(e){return(e.slice(-4)===".bin"?eZ:LP)()}var tL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,rL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function vc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(tL),i,l,o,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(rL),(l=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Mre(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(tL),a,i,l,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(rL),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(i+1),r[l]=a[2].slice(1,a[2].length-1));return r}var Px;function Rre(e,t){var r=Px[e]||Zr(e);return r==="General"?K0(t):qo(r,t)}function Ire(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Zn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ta(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Zr(t)]=a}function Bre(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||_f[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yx(e.v):e.w=K0(e.v):e.w=Rre(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Px[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&lp(n)){var a=C0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Ure(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=ZX[n.Pattern]||n.Pattern)}e[t.ID]=t}function zre(e,t,r,n,a,i,l,o,u,f){var h="General",m=n.StyleID,g={};f=f||{};var x=[],b=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&l&&(m=l.StyleID);i[m]!==void 0&&(i[m].nf&&(h=i[m].nf),i[m].Interior&&x.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Zn(e);break;case"String":n.t="s",n.r=JE(Zr(e)),n.v=e.indexOf("<")>-1?Zr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ta(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Zr(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=XF[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=JE(t||e));break}if(Bre(n,h,f),f.cellFormula!==!1)if(n.Formula){var v=Zr(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Dm(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Dm("RC:RC",a):n.ArrayRange&&(n.F=Dm(n.ArrayRange,a),u.push([en(n.F),n.F]))}else for(b=0;b<u.length;++b)a.r>=u[b][0].s.r&&a.r<=u[b][0].e.r&&a.c>=u[b][0].s.c&&a.c<=u[b][0].e.c&&(n.F=u[b][1]);f.cellStyles&&(x.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function qre(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Mw(e,t){var r=t||{};op();var n=wx(s3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Fn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var l=ra(r);return l.type="string",qm.to_workbook(n,l)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Nt){a.indexOf("<"+Nt)>=0&&(i=!0)}),i)return Ene(n,r);Px={"General Number":"General","General Date":cr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":cr[15],"Short Date":cr[14],"Long Time":cr[19],"Medium Time":cr[18],"Short Time":cr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:cr[2],Standard:cr[4],Percent:cr[10],Scientific:cr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],f,h={},m=[],g=r.dense?[]:{},x="",b={},v={},w=vc('<Data ss:Type="String">'),N=0,E=0,S=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},F={},O={},T="",M=0,B=[],H={},R={},U=0,K=[],ee=[],pe={},re=[],se,ye=!1,oe=[],ge=[],Y={},P=0,L=0,q={Sheets:[],WBProps:{date1904:!1}},W={};Zx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var X="";o=Zx.exec(n);)switch(o[3]=(X=o[3]).toLowerCase()){case"data":if(X=="data"){if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?zre(n.slice(N,o.index),T,w,u[u.length-1][0]=="comment"?pe:b,{c:E,r:S},F,re[E],v,oe,r):(T="",w=vc(o[0]),N=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ee.length>0&&(b.c=ee),(!r.sheetRows||r.sheetRows>S)&&b.v!==void 0&&(r.dense?(g[S]||(g[S]=[]),g[S][E]=b):g[_a(E)+Ka(S)]=b),b.HRef&&(b.l={Target:Zr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(P=E+(parseInt(b.MergeAcross,10)|0),L=S+(parseInt(b.MergeDown,10)|0),B.push({s:{c:E,r:S},e:{c:P,r:L}})),!r.sheetStubs)b.MergeAcross?E=P+1:++E;else if(b.MergeAcross||b.MergeDown){for(var ce=E;ce<=P;++ce)for(var ue=S;ue<=L;++ue)(ce>E||ue>S)&&(r.dense?(g[ue]||(g[ue]=[]),g[ue][ce]={t:"z"}):g[_a(ce)+Ka(ue)]={t:"z"});E=P+1}else++E;else b=Mre(o[0]),b.Index&&(E=+b.Index-1),E<D.s.c&&(D.s.c=E),E>D.e.c&&(D.e.c=E),o[0].slice(-2)==="/>"&&++E,ee=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(S<D.s.r&&(D.s.r=S),S>D.e.r&&(D.e.r=S),o[0].slice(-2)==="/>"&&(v=vc(o[0]),v.Index&&(S=+v.Index-1)),E=0,++S):(v=vc(o[0]),v.Index&&(S=+v.Index-1),Y={},(v.AutoFitHeight=="0"||v.Height)&&(Y.hpx=parseInt(v.Height,10),Y.hpt=ng(Y.hpx),ge[S]=Y),v.Hidden=="1"&&(Y.hidden=!0,ge[S]=Y));break;case"worksheet":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));m.push(x),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(g["!ref"]=Nr(D),r.sheetRows&&r.sheetRows<=D.e.r&&(g["!fullref"]=g["!ref"],D.e.r=r.sheetRows-1,g["!ref"]=Nr(D))),B.length&&(g["!merges"]=B),re.length>0&&(g["!cols"]=re),ge.length>0&&(g["!rows"]=ge),h[x]=g}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=E=0,u.push([o[3],!1]),f=vc(o[0]),x=Zr(f.Name),g=r.dense?[]:{},B=[],oe=[],ge=[],W={name:x,Hidden:0},q.Sheets.push(W);break;case"table":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),re=[],ye=!1}break;case"style":o[1]==="/"?Ure(F,O,r):O=vc(o[0]);break;case"numberformat":O.nf=Zr(vc(o[0]).Format||"General"),Px[O.nf]&&(O.nf=Px[O.nf]);for(var ae=0;ae!=392&&cr[ae]!=O.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(cr[ae]==null){sf(O.nf,ae);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(se=vc(o[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!ye&&se.wpx>10){ye=!0,_s=TP;for(var Se=0;Se<re.length;++Se)re[Se]&&kd(re[Se])}ye&&kd(se),re[se.Index-1||re.length]=se;for(var De=0;De<+se.Span;++De)re[re.length]=ra(se);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var Z=hr(o[0]),Ke={Name:Z.Name,Ref:Dm(Z.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Ke.Sheet=q.Sheets.length-1),q.Names.push(Ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(M,o.index):M=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=vc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?dK(H,X,n.slice(U,o.index)):U=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));qre(pe),ee.push(pe)}else u.push([o[3],!1]),f=vc(o[0]),pe={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=vc(o[0]);g["!autofilter"]={ref:Dm(Ce.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return zk(n,r);var xe=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(U,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else U=o.index+o[0].length;break;case"header":g["!margins"]||R0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].header=+hr(o[0]).Margin);break;case"footer":g["!margins"]||R0(g["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(g["!margins"].footer=+hr(o[0]).Margin);break;case"pagemargins":var dt=hr(o[0]);g["!margins"]||R0(g["!margins"]={},"xlml"),isNaN(+dt.Top)||(g["!margins"].top=+dt.Top),isNaN(+dt.Left)||(g["!margins"].left=+dt.Left),isNaN(+dt.Right)||(g["!margins"].right=+dt.Right),isNaN(+dt.Bottom)||(g["!margins"].bottom=+dt.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Ire(R,X,K,n.slice(U,o.index)):(K=o,U=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var Xe={};return!r.bookSheets&&!r.bookProps&&(Xe.Sheets=h),Xe.SheetNames=m,Xe.Workbook=q,Xe.SSF=ra(cr),Xe.Props=H,Xe.Custprops=R,Xe}function fN(e,t){switch(T3(t=t||{}),t.type||"base64"){case"base64":return Mw(ro(e),t);case"binary":case"buffer":case"file":return Mw(e,t);case"array":return Mw(Id(e),t)}}function $re(e,t){var r=[];return e.Props&&r.push(hK(e.Props,t)),e.Custprops&&r.push(mK(e.Props,e.Custprops)),r.join("")}function Hre(){return""}function Vre(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(vt("NumberFormat",null,{"ss:Format":jn(cr[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(vt("Style",i.join(""),l))}),vt("Styles",r.join(""))}function nL(e){return vt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+j3(e.Ref,{r:0,c:0})})}function Wre(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(nL(a)))}return vt("Names",r.join(""))}function Gre(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var o=a[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(nL(o)))}return i.join("")}function Kre(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(vt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(vt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(vt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(vt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(is("ProtectContents","True")),e["!protect"].objects&&a.push(is("ProtectObjects","True")),e["!protect"].scenarios&&a.push(is("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(is("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(is("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":vt("WorksheetOptions",a.join(""),{xmlns:Kl.x})}function Yre(e){return e.map(function(t){var r=xG(t.t||""),n=vt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return vt("Comment",n,{"ss:Author":t.a})}).join("")}function Xre(e,t,r,n,a,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+jn(j3(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=ja(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=jn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=jn(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=l.c||f[h].s.r!=l.r||(f[h].e.c>f[h].s.c&&(o["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(o["ss:MergeDown"]=f[h].e.r-f[h].s.r));var m="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(e.v);break;case"b":m="Boolean",g=e.v?"1":"0";break;case"e":m="Error",g=_f[e.v];break;case"d":m="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||cr[14]);break;case"s":m="String",g=pG(e.v||"");break}var x=Ud(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=l.c+1;var b=e.v!=null?g:"",v=e.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(e.c||[]).length>0&&(v+=Yre(e.c)),vt("Cell",v,o)}function Qre(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=$m(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Zre(e,t,r,n){if(!e["!ref"])return"";var a=en(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(w,N){kd(w);var E=!!w.width,S=g2(N,w),D={"ss:Index":N+1};E&&(D["ss:Width"]=tg(S.width)),w.hidden&&(D["ss:Hidden"]="1"),o.push(vt("Column",null,D))});for(var u=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var h=[Qre(f,(e["!rows"]||[])[f])],m=a.s.c;m<=a.e.c;++m){var g=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>f)&&!(i[l].e.c<m)&&!(i[l].e.r<f)){(i[l].s.c!=m||i[l].s.r!=f)&&(g=!0);break}if(!g){var x={r:f,c:m},b=fr(x),v=u?(e[f]||[])[m]:e[b];h.push(Xre(v,b,e,t,r,n,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function Jre(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],l=i?Gre(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?Zre(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(Kre(i,t,e,r)),n.join("")}function ene(e,t){t||(t={}),e.SSF||(e.SSF=ra(cr)),e.SSF&&(op(),u2(e.SSF),t.revssf=d2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ud(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push($re(e,t)),r.push(Hre()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(vt("Worksheet",Jre(n,t,e),{"ss:Name":jn(e.SheetNames[n])}));return r[2]=Vre(e,t),r[3]=Wre(e),Ya+vt("Workbook",r.join(""),{xmlns:Kl.ss,"xmlns:o":Kl.o,"xmlns:x":Kl.x,"xmlns:ss":Kl.ss,"xmlns:dt":Kl.dt,"xmlns:html":Kl.html})}function tne(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=WG(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=GG(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var rne=[60,1084,2066,2165,2175];function nne(e,t,r,n,a){var i=n,l=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}l.push(o),r.l+=i;for(var u=Zu(r,r.l),f=dN[u],h=0;f!=null&&rne.indexOf(u)>-1;)i=Zu(r,r.l+2),h=r.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),o=r.slice(h,r.l+4+i),l.push(o),r.l+=4+i,f=dN[u=Zu(r,r.l)];var m=Ui(l);as(m,0);var g=0;m.lens=[];for(var x=0;x<l.length;++x)m.lens.push(g),g+=l[x].length;if(m.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+n;return t.f(m,m.length,a)}function nu(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=cr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||_f[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yx(e.v):e.w=K0(e.v):e.w=qo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&lp(cr[n]||String(n))){var a=C0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function iv(e,t,r){return{v:e,ixfe:t,t:r}}function ane(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},l={},o=null,u=[],f="",h={},m,g="",x,b,v,w,N={},E=[],S,D,F=[],O=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},B=function(gt){return gt<8?P0[gt]:gt<64&&O[gt-8]||P0[gt]},H=function(gt,St,_r){var Yt=St.XF.data;if(!(!Yt||!Yt.patternType||!_r||!_r.cellStyles)){St.s={},St.s.patternType=Yt.patternType;var jt;(jt=eg(B(Yt.icvFore)))&&(St.s.fgColor={rgb:jt}),(jt=eg(B(Yt.icvBack)))&&(St.s.bgColor={rgb:jt})}},R=function(gt,St,_r){if(!(Y>1)&&!(_r.sheetRows&&gt.r>=_r.sheetRows)){if(_r.cellStyles&&St.XF&&St.XF.data&&H(gt,St,_r),delete St.ixfe,delete St.XF,m=gt,g=fr(gt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),gt.r<l.s.r&&(l.s.r=gt.r),gt.c<l.s.c&&(l.s.c=gt.c),gt.r+1>l.e.r&&(l.e.r=gt.r+1),gt.c+1>l.e.c&&(l.e.c=gt.c+1),_r.cellFormula&&St.f){for(var Yt=0;Yt<E.length;++Yt)if(!(E[Yt][0].s.c>gt.c||E[Yt][0].s.r>gt.r)&&!(E[Yt][0].e.c<gt.c||E[Yt][0].e.r<gt.r)){St.F=Nr(E[Yt][0]),(E[Yt][0].s.c!=gt.c||E[Yt][0].s.r!=gt.r)&&delete St.f,St.f&&(St.f=""+Ns(E[Yt][1],l,gt,oe,U));break}}_r.dense?(a[gt.r]||(a[gt.r]=[]),a[gt.r][gt.c]=St):a[g]=St}},U={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var K,ee=[],pe=[],re=[],se=[],ye=!1,oe=[];oe.SheetNames=U.snames,oe.sharedf=U.sharedf,oe.arrayf=U.arrayf,oe.names=[],oe.XTI=[];var ge=0,Y=0,P=0,L=[],q=[],W;U.codepage=1200,Nc(1200);for(var X=!1;e.l<e.length-1;){var ce=e.l,ue=e.read_shift(2);if(ue===0&&ge===10)break;var ae=e.l===e.length?0:e.read_shift(2),Se=dN[ue];if(Se&&Se.f){if(t.bookSheets&&ge===133&&ue!==133)break;if(ge=ue,Se.r===2||Se.r==12){var De=e.read_shift(2);if(ae-=2,!U.enc&&De!==ue&&((De&255)<<8|De>>8)!==ue)throw new Error("rt mismatch: "+De+"!="+ue);Se.r==12&&(e.l+=10,ae-=10)}var Z={};if(ue===10?Z=Se.f(e,ae,U):Z=nne(ue,Se,e,ae,U),Y==0&&[9,521,1033,2057].indexOf(ge)===-1)continue;switch(ue){case 34:r.opts.Date1904=T.WBProps.date1904=Z;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=Z,!t.password)throw new Error("File is password-protected");if(Z.valid==null)throw new Error("Encryption scheme unsupported");if(!Z.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Z;break;case 66:var Ke=Number(Z);switch(Ke){case 21010:Ke=1200;break;case 32768:Ke=1e4;break;case 32769:Ke=1252;break}Nc(U.codepage=Ke),X=!0;break;case 317:U.rrtabid=Z;break;case 25:U.winlocked=Z;break;case 439:r.opts.RefreshAll=Z;break;case 12:r.opts.CalcCount=Z;break;case 16:r.opts.CalcDelta=Z;break;case 17:r.opts.CalcIter=Z;break;case 13:r.opts.CalcMode=Z;break;case 14:r.opts.CalcPrecision=Z;break;case 95:r.opts.CalcSaveRecalc=Z;break;case 15:U.CalcRefMode=Z;break;case 2211:r.opts.FullCalc=Z;break;case 129:Z.fDialog&&(a["!type"]="dialog"),Z.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Z.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:F.push(Z);break;case 430:oe.push([Z]),oe[oe.length-1].XTI=[];break;case 35:case 547:oe[oe.length-1].push(Z);break;case 24:case 536:W={Name:Z.Name,Ref:Ns(Z.rgce,l,null,oe,U)},Z.itab>0&&(W.Sheet=Z.itab-1),oe.names.push(W),oe[0]||(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].push(Z),Z.Name=="_xlnm._FilterDatabase"&&Z.itab>0&&Z.rgce&&Z.rgce[0]&&Z.rgce[0][0]&&Z.rgce[0][0][0]=="PtgArea3d"&&(q[Z.itab-1]={ref:Nr(Z.rgce[0][0][1][2])});break;case 22:U.ExternCount=Z;break;case 23:oe.length==0&&(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].XTI=oe[oe.length-1].XTI.concat(Z),oe.XTI=oe.XTI.concat(Z);break;case 2196:if(U.biff<8)break;W!=null&&(W.Comment=Z[1]);break;case 18:a["!protect"]=Z;break;case 19:Z!==0&&U.WTF&&console.error("Password verifier: "+Z);break;case 133:i[Z.pos]=Z,U.snames.push(Z.name);break;case 10:{if(--Y)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,a["!ref"]=Nr(l),t.sheetRows&&t.sheetRows<=l.e.r){var Ce=l.e.r;l.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Nr(l),l.e.r=Ce}l.e.r++,l.e.c++}ee.length>0&&(a["!merges"]=ee),pe.length>0&&(a["!objects"]=pe),re.length>0&&(a["!cols"]=re),se.length>0&&(a["!rows"]=se),T.Sheets.push(M)}f===""?h=a:n[f]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Z.BIFFVer]||8),U.biffguess=Z.BIFFVer==0,Z.BIFFVer==0&&Z.dt==4096&&(U.biff=5,X=!0,Nc(U.codepage=28591)),U.biff==8&&Z.BIFFVer==0&&Z.dt==16&&(U.biff=2),Y++)break;if(a=t.dense?[]:{},U.biff<8&&!X&&(X=!0,Nc(U.codepage=t.codepage||1252)),U.biff<5||Z.BIFFVer==0&&Z.dt==4096){f===""&&(f="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-ae,name:f};i[xe.pos]=xe,U.snames.push(f)}else f=(i[ce]||{name:""}).name;Z.dt==32&&(a["!type"]="chart"),Z.dt==64&&(a["!type"]="macro"),ee=[],pe=[],U.arrayf=E=[],re=[],se=[],ye=!1,M={Hidden:(i[ce]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Z.r]||[])[Z.c]:a[fr({c:Z.c,r:Z.r})])&&++Z.c,S={ixfe:Z.ixfe,XF:F[Z.ixfe]||{},v:Z.val,t:"n"},P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:Z.c,r:Z.r},S,t);break;case 5:case 517:S={ixfe:Z.ixfe,XF:F[Z.ixfe],v:Z.val,t:Z.t},P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:Z.c,r:Z.r},S,t);break;case 638:S={ixfe:Z.ixfe,XF:F[Z.ixfe],v:Z.rknum,t:"n"},P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:Z.c,r:Z.r},S,t);break;case 189:for(var dt=Z.c;dt<=Z.C;++dt){var Xe=Z.rkrec[dt-Z.c][0];S={ixfe:Xe,XF:F[Xe],v:Z.rkrec[dt-Z.c][1],t:"n"},P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:dt,r:Z.r},S,t)}break;case 6:case 518:case 1030:{if(Z.val=="String"){o=Z;break}if(S=iv(Z.val,Z.cell.ixfe,Z.tt),S.XF=F[S.ixfe],t.cellFormula){var Nt=Z.formula;if(Nt&&Nt[0]&&Nt[0][0]&&Nt[0][0][0]=="PtgExp"){var lt=Nt[0][0][1][0],At=Nt[0][0][1][1],pt=fr({r:lt,c:At});N[pt]?S.f=""+Ns(Z.formula,l,Z.cell,oe,U):S.F=((t.dense?(a[lt]||[])[At]:a[pt])||{}).F}else S.f=""+Ns(Z.formula,l,Z.cell,oe,U)}P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R(Z.cell,S,t),o=Z}break;case 7:case 519:if(o)o.val=Z,S=iv(Z,o.cell.ixfe,"s"),S.XF=F[S.ixfe],t.cellFormula&&(S.f=""+Ns(o.formula,l,o.cell,oe,U)),P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R(o.cell,S,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(Z);var Qt=fr(Z[0].s);if(x=t.dense?(a[Z[0].s.r]||[])[Z[0].s.c]:a[Qt],t.cellFormula&&x){if(!o||!Qt||!x)break;x.f=""+Ns(Z[1],l,Z[0],oe,U),x.F=Nr(Z[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;N[fr(o.cell)]=Z[0],x=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[fr(o.cell)],(x||{}).f=""+Ns(Z[0],l,m,oe,U)}}break;case 253:S=iv(u[Z.isst].t,Z.ixfe,"s"),u[Z.isst].h&&(S.h=u[Z.isst].h),S.XF=F[S.ixfe],P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:Z.c,r:Z.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:Z.ixfe,XF:F[Z.ixfe],t:"z"},P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:Z.c,r:Z.r},S,t));break;case 190:if(t.sheetStubs)for(var Pt=Z.c;Pt<=Z.C;++Pt){var Vt=Z.ixfe[Pt-Z.c];S={ixfe:Vt,XF:F[Vt],t:"z"},P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:Pt,r:Z.r},S,t)}break;case 214:case 516:case 4:S=iv(Z.val,Z.ixfe,"s"),S.XF=F[S.ixfe],P>0&&(S.z=L[S.ixfe>>8&63]),nu(S,t,r.opts.Date1904),R({c:Z.c,r:Z.r},S,t);break;case 0:case 512:Y===1&&(l=Z);break;case 252:u=Z;break;case 1054:if(U.biff==4){L[P++]=Z[1];for(var Zt=0;Zt<P+163&&cr[Zt]!=Z[1];++Zt);Zt>=163&&sf(Z[1],P+163)}else sf(Z[1],Z[0]);break;case 30:{L[P++]=Z;for(var Jt=0;Jt<P+163&&cr[Jt]!=Z;++Jt);Jt>=163&&sf(Z,P+163)}break;case 229:ee=ee.concat(Z);break;case 93:pe[Z.cmo[0]]=U.lastobj=Z;break;case 438:U.lastobj.TxO=Z;break;case 127:U.lastobj.ImData=Z;break;case 440:for(w=Z[0].s.r;w<=Z[0].e.r;++w)for(v=Z[0].s.c;v<=Z[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[fr({c:v,r:w})],x&&(x.l=Z[1]);break;case 2048:for(w=Z[0].s.r;w<=Z[0].e.r;++w)for(v=Z[0].s.c;v<=Z[0].e.c;++v)x=t.dense?(a[w]||[])[v]:a[fr({c:v,r:w})],x&&x.l&&(x.l.Tooltip=Z[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;x=t.dense?(a[Z[0].r]||[])[Z[0].c]:a[fr(Z[0])];var Dr=pe[Z[2]];x||(t.dense?(a[Z[0].r]||(a[Z[0].r]=[]),x=a[Z[0].r][Z[0].c]={t:"z"}):x=a[fr(Z[0])]={t:"z"},l.e.r=Math.max(l.e.r,Z[0].r),l.s.r=Math.min(l.s.r,Z[0].r),l.e.c=Math.max(l.e.c,Z[0].c),l.s.c=Math.min(l.s.c,Z[0].c)),x.c||(x.c=[]),b={a:Z[1],t:Dr.TxO.t},x.c.push(b)}break;case 2173:VQ(F[Z.ixfe],Z.ext);break;case 125:{if(!U.cellStyles)break;for(;Z.e>=Z.s;)re[Z.e--]={width:Z.w/256,level:Z.level||0,hidden:!!(Z.flags&1)},ye||(ye=!0,w3(Z.w/256)),kd(re[Z.e+1])}break;case 520:{var Ut={};Z.level!=null&&(se[Z.r]=Ut,Ut.level=Z.level),Z.hidden&&(se[Z.r]=Ut,Ut.hidden=!0),Z.hpt&&(se[Z.r]=Ut,Ut.hpt=Z.hpt,Ut.hpx=$m(Z.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||R0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=Z;break;case 161:a["!margins"]||R0(a["!margins"]={}),a["!margins"].header=Z.header,a["!margins"].footer=Z.footer;break;case 574:Z.RTL&&(T.Views[0].RTL=!0);break;case 146:O=Z;break;case 2198:K=Z;break;case 140:D=Z;break;case 442:f?M.CodeName=Z||M.name:T.WBProps.CodeName=Z||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=ae}return r.SheetNames=Ia(i).sort(function(Ct,gt){return Number(Ct)-Number(gt)}).map(function(Ct){return i[Ct].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&q.forEach(function(Ct,gt){r.Sheets[r.SheetNames[gt]]["!autofilter"]=Ct}),r.Strings=u,r.SSF=ra(cr),U.enc&&(r.Encryption=U.enc),K&&(r.Themes=K),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),oe.names.length>0&&(T.Names=oe.names),r.Workbook=T,r}var Lx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ine(e,t,r){var n=nr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=gk(n,iN,Lx.DSI);for(var i in a)t[i]=a[i]}catch(f){if(r.WTF)throw f}var l=nr.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=gk(l,sN,Lx.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(rP(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function sne(e,t){var r=[],n=[],a=[],i=0,l,o=GE(iN,"n"),u=GE(sN,"n");if(e.Props)for(l=Ia(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?n:a).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Ia(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(u,l[i])?n:a).push([l[i],e.Custprops[l[i]]]);var f=[];for(i=0;i<a.length;++i)cP.indexOf(a[i][0])>-1||tP.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);n.length&&nr.utils.cfb_add(t,"/SummaryInformation",vk(n,Lx.SI,u,sN)),(r.length||f.length)&&nr.utils.cfb_add(t,"/DocumentSummaryInformation",vk(r,Lx.DSI,o,iN,f.length?f:null,Lx.UDI))}function aL(e,t){t||(t={}),T3(t),Q_(),t.codepage&&X_(t.codepage);var r,n;if(e.FullPaths){if(nr.find(e,"/encryption"))throw new Error("File is password-protected");r=nr.find(e,"!CompObj"),n=nr.find(e,"/Workbook")||nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Ql(ro(e));break;case"binary":e=Ql(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}as(e,0),n={content:e}}var a,i;if(r&&tne(r),t.bookProps&&!t.bookSheets)a={};else{var l=Cr?"buffer":"array";if(n&&n.content)a=ane(n.content,t);else if((i=nr.find(e,"PerfectOffice_MAIN"))&&i.content)a=M0.to_workbook(i.content,(t.type=l,t));else if((i=nr.find(e,"NativeContent_MAIN"))&&i.content)a=M0.to_workbook(i.content,(t.type=l,t));else throw(i=nr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=yZ(e))}var o={};return e.FullPaths&&ine(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function lne(e,t){var r=t||{},n=nr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nr.utils.cfb_add(n,a,iL(e,r)),r.biff==8&&(e.Props||e.Custprops)&&sne(e,n),r.biff==8&&e.vbaraw&&bZ(n,nr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ag={0:{f:Oee},1:{f:Bee},2:{f:ate},3:{f:Gee},4:{f:$ee},5:{f:tte},6:{f:cte},7:{f:Qee},8:{f:xte},9:{f:pte},10:{f:hte},11:{f:mte},12:{f:zee},13:{f:ste},14:{f:Yee},15:{f:Vee},16:{f:XP},17:{f:fte},18:{f:Jee},19:{f:f3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:fre},40:{},42:{},43:{f:cQ},44:{f:lQ},45:{f:dQ},46:{f:mQ},47:{f:hQ},48:{},49:{f:PG},50:{},51:{f:KQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:bP},62:{f:ote},63:{f:nZ},64:{f:Dte},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:kte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ree},148:{f:Pee,p:16},151:{f:Nte},152:{},153:{f:ore},154:{},155:{},156:{f:sre},157:{},158:{},159:{T:1,f:jX},160:{T:-1},161:{T:1,f:xh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:gte},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:WQ},336:{T:-1},337:{f:QQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:aN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:yP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_te},427:{f:jte},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ate},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Mee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:bte},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:aN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mZ},633:{T:1},634:{T:-1},635:{T:1,f:dZ},636:{T:-1},637:{f:IG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Yte},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Fte},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},dN={6:{f:Pw},10:{f:fd},12:{f:ni},13:{f:ni},14:{f:$a},15:{f:$a},16:{f:Ss},17:{f:$a},18:{f:$a},19:{f:ni},20:{f:jk},21:{f:jk},23:{f:yP},24:{f:Ak},25:{f:$a},26:{},27:{},28:{f:FY},29:{},34:{f:$a},35:{f:Sk},38:{f:Ss},39:{f:Ss},40:{f:Ss},41:{f:Ss},42:{f:$a},43:{f:$a},47:{f:VX},49:{f:sY},51:{f:ni},60:{},61:{f:tY},64:{f:$a},65:{f:iY},66:{f:ni},77:{},80:{},81:{},82:{},85:{f:ni},89:{},90:{},91:{},92:{f:HK},93:{f:MY},94:{},95:{f:$a},96:{},97:{},99:{f:$a},125:{f:bP},128:{f:wY},129:{f:WK},130:{f:ni},131:{f:$a},132:{f:$a},133:{f:GK},134:{},140:{f:HY},141:{f:ni},144:{},146:{f:GY},151:{},152:{},153:{},154:{},155:{},156:{f:ni},157:{},158:{},160:{f:eX},161:{f:XY},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:gY},190:{f:vY},193:{f:fd},197:{},198:{},199:{},200:{},201:{},202:{f:$a},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ni},220:{},221:{f:$a},222:{},224:{f:bY},225:{f:$K},226:{f:fd},227:{},229:{f:PY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:YK},253:{f:oY},255:{f:QK},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:uP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$a},353:{f:fd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:AY},431:{f:$a},432:{},433:{},434:{},437:{},438:{f:BY},439:{f:$a},440:{f:UY},441:{},442:{f:kg},443:{},444:{f:ni},445:{},446:{},448:{f:fd},449:{f:eY,r:2},450:{f:fd},512:{f:wk},513:{f:JY},515:{f:jY},516:{f:uY},517:{f:_k},519:{f:tX},520:{f:ZK},523:{},545:{f:Ek},549:{f:bk},566:{},574:{f:nY},638:{f:xY},659:{},1048:{},1054:{f:dY},1084:{},1212:{f:TY},2048:{f:qY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:rv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:fd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:KY,r:12},2173:{f:HQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$a,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:CY,r:12},2197:{},2198:{f:IQ,r:12},2199:{},2200:{},2201:{},2202:{f:OY,r:12},2203:{f:fd},2204:{},2205:{},2206:{},2207:{},2211:{f:JK},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ni},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:QY},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:WY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:wk},1:{},2:{f:sX},3:{f:aX},4:{f:nX},5:{f:_k},7:{f:oX},8:{},9:{f:rv},11:{},22:{f:ni},30:{f:mY},31:{},32:{},33:{f:Ek},36:{},37:{f:bk},50:{f:cX},62:{},52:{},67:{},68:{f:ni},69:{},86:{},126:{},127:{f:rX},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:uX},223:{},234:{},354:{},421:{},518:{f:Pw},521:{f:rv},536:{f:Ak},547:{f:Sk},561:{},579:{},1030:{f:Pw},1033:{f:rv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function bt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&o3(r)&&e.push(r)}}function one(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return bt(e,t,r,a);var i=t;if(!isNaN(i)){for(var l=r.parts||[],o=0,u=0,f=0;f+(l[o]||8224)<=8224;)f+=l[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<a;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(l[o]||8224)<=8224;)f+=l[o]||8224,o++;h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function Dg(e,t,r){return e||(e=Ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function cne(e,t,r,n){var a=Ze(9);return Dg(a,e,t),fP(r,n||"b",a),a}function une(e,t,r){var n=Ze(8+2*r.length);return Dg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function fne(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ni(ta(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?bt(e,2,lX(r,n,a)):bt(e,3,iX(r,n,a));return;case"b":case"e":bt(e,5,cne(r,n,t.v,t.t));return;case"s":case"str":bt(e,4,une(r,n,(t.v||"").slice(0,255)));return}bt(e,1,Dg(null,r,n))}function dne(e,t,r,n){var a=Array.isArray(t),i=en(t["!ref"]||"A1"),l,o="",u=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Nr(i)}for(var f=i.s.r;f<=i.e.r;++f){o=Ka(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(u[h]=_a(h)),l=u[h]+o;var m=a?(t[f]||[])[h]:t[l];m&&fne(e,m,f,h)}}}function hne(e,t){for(var r=t||{},n=Al(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return bt(n,r.biff==4?1033:r.biff==3?521:9,v3(e,16,r)),dne(n,e.Sheets[e.SheetNames[a]],a,r),bt(n,10),n.end()}function mne(e,t,r){bt(e,49,lY({sz:12,name:"Arial"},r))}function pne(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&bt(e,1054,hY(a,t[a],r))})}function xne(e,t){var r=Ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),bt(e,2151,r),r=Ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),xP(en(t["!ref"]||"A1"),r),r.write_shift(4,4),bt(e,2152,r)}function gne(e,t){for(var r=0;r<16;++r)bt(e,224,Nk({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){bt(e,224,Nk(n,0,t))})}function vne(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];bt(e,440,zY(n)),n[1].Tooltip&&bt(e,2048,$Y(n))}delete t["!links"]}function yne(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&bt(e,125,YY(g2(a,n),a))})}}function bne(e,t,r,n,a){var i=16+Ud(a.cellXfs,t,a);if(t.v==null&&!t.bf){bt(e,513,Z0(r,n,i));return}if(t.bf)bt(e,6,WJ(t,r,n,a,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?Ni(ta(t.v)):t.v;bt(e,515,SY(r,n,l,i));break;case"b":case"e":bt(e,517,_Y(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=A3(a.Strings,t.v,a.revStrings);bt(e,253,cY(r,n,o,i))}else bt(e,516,fY(r,n,(t.v||"").slice(0,255),i,a));break;default:bt(e,513,Z0(r,n,i))}}function wne(e,t,r){var n=Al(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[e]||{},u=Array.isArray(i),f=t.biff==8,h,m="",g=[],x=en(i["!ref"]||"A1"),b=f?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}bt(n,2057,v3(r,16,t)),bt(n,13,Lo(1)),bt(n,12,Lo(100)),bt(n,15,Ks(!0)),bt(n,17,Ks(!1)),bt(n,16,X0(.001)),bt(n,95,Ks(!0)),bt(n,42,Ks(!1)),bt(n,43,Ks(!1)),bt(n,130,Lo(1)),bt(n,128,NY()),bt(n,131,Ks(!1)),bt(n,132,Ks(!1)),f&&yne(n,i["!cols"]),bt(n,512,pY(x,t)),f&&(i["!links"]=[]);for(var v=x.s.r;v<=x.e.r;++v){m=Ka(v);for(var w=x.s.c;w<=x.e.c;++w){v===x.s.r&&(g[w]=_a(w)),h=g[w]+m;var N=u?(i[v]||[])[w]:i[h];N&&(bne(n,N,v,w,t),f&&N.l&&i["!links"].push([h,N.l]))}}var E=o.CodeName||o.name||a;return f&&bt(n,574,aY((l.Views||[])[0])),f&&(i["!merges"]||[]).length&&bt(n,229,LY(i["!merges"])),f&&vne(n,i),bt(n,442,dP(E)),f&&xne(n,i),bt(n,10),n.end()}function Nne(e,t,r){var n=Al(),a=(e||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},o=r.biff==8,u=r.biff==5;if(bt(n,2057,v3(e,5,r)),r.bookType=="xla"&&bt(n,135),bt(n,225,o?Lo(1200):null),bt(n,193,_K(2)),u&&bt(n,191),u&&bt(n,192),bt(n,226),bt(n,92,VK("SheetJS",r)),bt(n,66,Lo(o?1200:1252)),o&&bt(n,353,Lo(0)),o&&bt(n,448),bt(n,317,ZY(e.SheetNames.length)),o&&e.vbaraw&&bt(n,211),o&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";bt(n,442,dP(f))}bt(n,156,Lo(17)),bt(n,25,Ks(!1)),bt(n,18,Ks(!1)),bt(n,19,Lo(0)),o&&bt(n,431,Ks(!1)),o&&bt(n,444,Lo(0)),bt(n,61,rY()),bt(n,64,Ks(!1)),bt(n,141,Lo(0)),bt(n,34,Ks(ere(e)=="true")),bt(n,14,Ks(!0)),o&&bt(n,439,Ks(!1)),bt(n,218,Lo(0)),mne(n,e,r),pne(n,e.SSF,r),gne(n,r),o&&bt(n,352,Ks(!1));var h=n.end(),m=Al();o&&bt(m,140,VY()),o&&r.Strings&&one(m,252,XK(r.Strings)),bt(m,10);var g=m.end(),x=Al(),b=0,v=0;for(v=0;v<e.SheetNames.length;++v)b+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var w=h.length+b+g.length;for(v=0;v<e.SheetNames.length;++v){var N=i[v]||{};bt(x,133,KK({pos:w,hs:N.Hidden||0,dt:0,name:e.SheetNames[v]},r)),w+=t[v].length}var E=x.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var S=[];return h.length&&S.push(h),E.length&&S.push(E),g.length&&S.push(g),Ui(S)}function _ne(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=ra(cr)),e&&e.SSF&&(op(),u2(e.SSF),r.revssf=d2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,O3(r),r.cellXfs=[],Ud(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=wne(a,r,e);return n.unshift(Nne(e,n,r)),Ui(n)}function iL(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Cl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return _ne(e,t);case 4:case 3:case 2:return hne(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Rk(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=a.index,o=i&&i.index||e.length,u=lG(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,m=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(l=0;l<u.length;++l){var v=u[l].trim(),w=v.slice(0,3).toLowerCase();if(w=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var N=v.split(/<\/t[dh]>/i);for(o=0;o<N.length;++o){var E=N[o].trim();if(E.match(/<t[dh]/i)){for(var S=E,D=0;S.charAt(0)=="<"&&(D=S.indexOf(">"))>-1;)S=S.slice(D+1);for(var F=0;F<b.length;++F){var O=b[F];O.s.c==h&&O.s.r<f&&f<=O.e.r&&(h=O.e.c+1,F=-1)}var T=hr(E.slice(0,E.indexOf(">")));g=T.colspan?+T.colspan:1,((m=+T.rowspan)>1||g>1)&&b.push({s:{r:f,c:h},e:{r:f+(m||1)-1,c:h+g-1}});var M=T.t||T["data-t"]||"";if(!S.length){h+=g;continue}if(S=CF(S),x.s.r>f&&(x.s.r=f),x.e.r<f&&(x.e.r=f),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!S.length){h+=g;continue}var B={t:"s",v:S};r.raw||!S.trim().length||M=="s"||(S==="TRUE"?B={t:"b",v:!0}:S==="FALSE"?B={t:"b",v:!1}:isNaN(Sc(S))?isNaN(zm(S).getDate())||(B={t:"d",v:ta(S)},r.cellDates||(B={t:"n",v:Ni(B.v)}),B.z=r.dateNF||cr[14]):B={t:"n",v:Sc(S)}),r.dense?(n[f]||(n[f]=[]),n[f][h]=B):n[fr({r:f,c:h})]=B,h+=g}}}}return n["!ref"]=Nr(x),b.length&&(n["!merges"]=b),n}function jne(e,t,r,n){for(var a=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,u=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>l)&&!(a[f].e.r<r||a[f].e.c<l)){if(a[f].s.r<r||a[f].s.c<l){o=-1;break}o=a[f].e.r-a[f].s.r+1,u=a[f].e.c-a[f].s.c+1;break}if(!(o<0)){var h=fr({r,c:l}),m=n.dense?(e[r]||[])[l]:e[h],g=m&&m.v!=null&&(m.h||i3(m.w||(hf(m),m.w)||""))||"",x={};o>1&&(x.rowspan=o),u>1&&(x.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,i.push(vt("td",g,x))}}var b="<tr>";return b+i.join("")+"</tr>"}var Sne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Ane="</body></html>";function Ene(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Bd(Rk(r[0],t),t);var n=P3();return r.forEach(function(a,i){L3(n,Rk(a,t),"Sheet"+(i+1))}),n}function kne(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function sL(e,t){var r=t||{},n=r.header!=null?r.header:Sne,a=r.footer!=null?r.footer:Ane,i=[n],l=Cl(e["!ref"]);r.dense=Array.isArray(e),i.push(kne(e,l,r));for(var o=l.s.r;o<=l.e.r;++o)i.push(jne(e,l,o,r));return i.push("</table>"+a),i.join("")}function lL(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?ja(n.origin):n.origin;a=l.r,i=l.c}var o=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=Cl(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),a==-1&&(f.e.r=a=h.e.r+1)}var m=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,v=0,w=0,N=0,E=0,S=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&v<u;++b){var D=o[b];if(Ik(D)){if(n.display)continue;x[v]={hidden:!0}}var F=D.children;for(w=N=0;w<F.length;++w){var O=F[w];if(!(n.display&&Ik(O))){var T=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):CF(O.innerHTML),M=O.getAttribute("data-z")||O.getAttribute("z");for(g=0;g<m.length;++g){var B=m[g];B.s.c==N+i&&B.s.r<v+a&&v+a<=B.e.r&&(N=B.e.c+1-i,g=-1)}S=+O.getAttribute("colspan")||1,((E=+O.getAttribute("rowspan")||1)>1||S>1)&&m.push({s:{r:v+a,c:N+i},e:{r:v+a+(E||1)-1,c:N+i+(S||1)-1}});var H={t:"s",v:T},R=O.getAttribute("data-t")||O.getAttribute("t")||"";T!=null&&(T.length==0?H.t=R||"z":n.raw||T.trim().length==0||R=="s"||(T==="TRUE"?H={t:"b",v:!0}:T==="FALSE"?H={t:"b",v:!1}:isNaN(Sc(T))?isNaN(zm(T).getDate())||(H={t:"d",v:ta(T)},n.cellDates||(H={t:"n",v:Ni(H.v)}),H.z=n.dateNF||cr[14]):H={t:"n",v:Sc(T)})),H.z===void 0&&M!=null&&(H.z=M);var U="",K=O.getElementsByTagName("A");if(K&&K.length)for(var ee=0;ee<K.length&&!(K[ee].hasAttribute("href")&&(U=K[ee].getAttribute("href"),U.charAt(0)!="#"));++ee);U&&U.charAt(0)!="#"&&(H.l={Target:U}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][N+i]=H):e[fr({c:N+i,r:v+a})]=H,f.e.c<N+i&&(f.e.c=N+i),N+=S}}++v}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,v-1+a),e["!ref"]=Nr(f),v>=u&&(e["!fullref"]=Nr((f.e.r=o.length-b+v-1+a,f))),e}function oL(e,t){var r=t||{},n=r.dense?[]:{};return lL(n,e,t)}function Cne(e,t){return Bd(oL(e,t),t)}function Ik(e){var t="",r=Tne(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Tne(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function One(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Zr(t.replace(/<[^>]*>/g,""));return[r]}var Bk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function cL(e,t){var r=t||{},n=s3(e),a=[],i,l,o={name:""},u="",f=0,h,m,g={},x=[],b=r.dense?[]:{},v,w,N={value:""},E="",S=0,D=[],F=-1,O=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,B={},H=[],R={},U=0,K=0,ee=[],pe=1,re=1,se=[],ye={Names:[]},oe={},ge=["",""],Y=[],P={},L="",q=0,W=!1,X=!1,ce=0;for(Zx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Zx.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?b["!ref"]=Nr(T):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(b["!fullref"]=b["!ref"],T.e.r=r.sheetRows-1,b["!ref"]=Nr(T)),H.length&&(b["!merges"]=H),ee.length&&(b["!rows"]=ee),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=b,X=!1):v[0].charAt(v[0].length-2)!=="/"&&(h=hr(v[0],!1),F=O=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,b=r.dense?[]:{},H=[],ee=[],X=!0);break;case"table-row-group":v[1]==="/"?--M:++M;break;case"table-row":case"":if(v[1]==="/"){F+=pe,pe=1;break}if(m=hr(v[0],!1),m.?F=m.-1:F==-1&&(F=0),pe=+m["number-rows-repeated"]||1,pe<10)for(ce=0;ce<pe;++ce)M>0&&(ee[F+ce]={level:M});O=-1;break;case"covered-table-cell":v[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(b[F]||(b[F]=[]),b[F][O]={t:"z"}):b[fr({r:F,c:O})]={t:"z"}),E="",D=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++O,N=hr(v[0],!1),re=parseInt(N["number-columns-repeated"]||"1",10),w={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(w.f=Pk(Zr(N.formula))),(N.||N["value-type"])=="string"&&(w.t="s",w.v=Zr(N["string-value"]||""),r.dense?(b[F]||(b[F]=[]),b[F][O]=w):b[fr({r:F,c:O})]=w),O+=re-1;else if(v[1]!=="/"){++O,E="",S=0,D=[],re=1;var ue=pe?F+pe-1:F;if(O>T.e.c&&(T.e.c=O),O<T.s.c&&(T.s.c=O),F<T.s.r&&(T.s.r=F),ue>T.e.r&&(T.e.r=ue),N=hr(v[0],!1),Y=[],P={},w={t:N.||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=Zr(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(U=parseInt(N["number-matrix-rows-spanned"],10)||0,K=parseInt(N["number-matrix-columns-spanned"],10)||0,R={s:{r:F,c:O},e:{r:F+U-1,c:O+K-1}},w.F=Nr(R),se.push([R,w.F])),N.formula)w.f=Pk(N.formula);else for(ce=0;ce<se.length;++ce)F>=se[ce][0].s.r&&F<=se[ce][0].e.r&&O>=se[ce][0].s.c&&O<=se[ce][0].e.c&&(w.F=se[ce][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(U=parseInt(N["number-rows-spanned"],10)||0,K=parseInt(N["number-columns-spanned"],10)||0,R={s:{r:F,c:O},e:{r:F+U-1,c:O+K-1}},H.push(R)),N["number-columns-repeated"]&&(re=parseInt(N["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Zn(N["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(N.value);break;case"percentage":w.t="n",w.v=parseFloat(N.value);break;case"currency":w.t="n",w.v=parseFloat(N.value);break;case"date":w.t="d",w.v=ta(N["date-value"]),r.cellDates||(w.t="n",w.v=Ni(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=aG(N["time-value"])/86400,r.cellDates&&(w.t="d",w.v=h2(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(N.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",N["string-value"]!=null&&(E=Zr(N["string-value"]),D=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(W=!1,w.t==="s"&&(w.v=E||"",D.length&&(w.R=D),W=S==0),oe.Target&&(w.l=oe),Y.length>0&&(w.c=Y,Y=[]),E&&r.cellText!==!1&&(w.w=E),W&&(w.t="z",delete w.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=F))for(var ae=0;ae<pe;++ae){if(re=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(b[F+ae]||(b[F+ae]=[]),b[F+ae][O]=ae==0?w:ra(w);--re>0;)b[F+ae][O+re]=ra(w);else for(b[fr({r:F+ae,c:O})]=w;--re>0;)b[fr({r:F+ae,c:O+re})]=ra(w);T.e.c<=O&&(T.e.c=O)}re=parseInt(N["number-columns-repeated"]||"1",10),O+=re-1,re=0,w={},E="",D=[]}oe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;P.t=E,D.length&&(P.R=D),P.a=L,Y.push(P)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);L="",q=0,E="",S=0,D=[];break;case"creator":v[1]==="/"?L=n.slice(q,v.index):q=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);E="",S=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(B[o.name]=u,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(u="",o=hr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=Bk[v[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":l=hr(v[0],!1),u+=Bk[v[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(f,v.index);break}else f=v.index+v[0].length;break;case"named-range":l=hr(v[0],!1),ge=Lw(l["cell-range-address"]);var Se={Name:l.name,Ref:ge[0]+"!"+ge[1]};X&&(Se.Sheet=x.length),ye.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!N||!N["string-value"])){var De=One(n.slice(S,v.index));E=(E.length>0?E+`
`:"")+De[0]}else hr(v[0],!1),S=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ge=Lw(hr(v[0])["target-range-address"]),g[ge[0]]["!autofilter"]={ref:ge[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(oe=hr(v[0],!1),!oe.href)break;oe.Target=Zr(oe.href),delete oe.href,oe.Target.charAt(0)=="#"&&oe.Target.indexOf(".")>-1?(ge=Lw(oe.Target.slice(1)),oe.Target="#"+ge[0]+"!"+ge[1]):oe.Target.match(/^\.\.[\\\/]/)&&(oe.Target=oe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var Z={Sheets:g,SheetNames:x,Workbook:ye};return r.bookSheets&&delete Z.Sheets,Z}function Uk(e,t){t=t||{},Po(e,"META-INF/manifest.xml")&&aK(ri(e,"META-INF/manifest.xml"),t);var r=Zl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=cL(Fn(r),t);return Po(e,"meta.xml")&&(n.Props=JF(ri(e,"meta.xml"))),n}function zk(e,t){return cL(e,t)}var Dne=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Qx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ya+t}})(),qk=(function(){var e=function(i){return jn(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,o){var u=[];u.push('      <table:table table:name="'+jn(l.SheetNames[o])+`" table:style-name="ta1">
`);var f=0,h=0,m=Cl(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var v="",w=i["!rows"]||[];for(f=0;f<m.s.r;++f)v=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;f<=m.e.r;++f){for(v=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+v+`>
`),h=0;h<m.s.c;++h)u.push(t);for(;h<=m.e.c;++h){var N=!1,E={},S="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>f)&&!(g[x].e.c<h)&&!(g[x].e.r<f)){(g[x].s.c!=h||g[x].s.r!=f)&&(N=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){u.push(r);continue}var D=fr({r:f,c:h}),F=b?(i[f]||[])[h]:i[D];if(F&&F.f&&(E["table:formula"]=jn(ZJ(F.f)),F.F&&F.F.slice(0,D.length)==D)){var O=Cl(F.F);E["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,E["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!F){u.push(t);continue}switch(F.t){case"b":S=F.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=F.v?"true":"false";break;case"n":S=F.w||String(F.v||0),E["office:value-type"]="float",E["office:value"]=F.v||0;break;case"s":case"str":S=F.v==null?"":F.v,E["office:value-type"]="string";break;case"d":S=F.w||ta(F.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=ta(F.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var T=e(S);if(F.l&&F.l.Target){var M=F.l.Target;M=M.charAt(0)=="#"?"#"+JJ(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),T=vt("text:a",T,{"xlink:href":M.replace(/&/g,"&amp;")})}u.push("          "+vt("table:table-cell",vt("text:p",T,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var m=f["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;kd(m),m.ods=o;var g=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var m=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var u=[Ya],f=Qx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Qx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(ZF().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),a(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(n(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),o.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function uL(e,t){if(t.bookType=="fods")return qk(e,t);var r=r3(),n="",a=[],i=[];return n="mimetype",Sr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Sr(r,n,qk(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Sr(r,n,Dne(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Sr(r,n,Ya+ZF()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Sr(r,n,lK(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Sr(r,n,iK(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function J0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function hN(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Fn(Id(e))}function Fne(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ql(ou(e))}function Pne(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Td(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function $k(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Lne(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Mne(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function ig(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function bn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ra(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function nn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=ig(e,r),i=a&7;a=Math.floor(a/8);var l=0,o;if(a==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);o=e.slice(u,r[0])}break;case 5:l=4,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=ig(e,r),o=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:o,type:i};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function ts(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(bn(n*8+a.type)),a.type==2&&t.push(bn(a.data.length)),t.push(a.data))})}),Td(t)}function C3(e,t){return e?.map(function(r){return t(r.data)})||[]}function Oo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=ig(e,n),i=nn(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:Ra(i[1][0].data),messages:[]};i[2].forEach(function(o){var u=nn(o.data),f=Ra(u[3][0].data);l.messages.push({meta:u,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=i[3])!=null&&t[0]&&(l.merge=Ra(i[3][0].data)>>>0>0),r.push(l)}return r}function mm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:bn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:bn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:bn(l.data.length)}],n[2].push({data:ts(l.meta),type:2})});var i=ts(n);t.push(bn(i.length)),t.push(i),a.forEach(function(l){return t.push(l)})}),Td(t)}function Rne(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=ig(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[r[0]],o>1&&(l|=t[r[0]+1]<<8),o>2&&(l|=t[r[0]+2]<<16),o>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var u=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Td(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(a.push(a[0].slice(-u)),f-=u;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-u,-u+f))}}var h=Td(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Do(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Rne(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Td(t)}function pm(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=bn(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return Td(t)}function Ine(e,t,r,n){var a=J0(e),i=a.getUint32(4,!0),l=(n>1?12:8)+$k(i&(n>1?3470:398))*4,o=-1,u=-1,f=NaN,h=new Date(2001,0,1);i&512&&(o=a.getUint32(l,!0),l+=4),l+=$k(i&(n>1?12288:4096))*4,i&16&&(u=a.getUint32(l,!0),l+=4),i&32&&(f=a.getFloat64(l,!0),l+=8),i&64&&(h.setTime(h.getTime()+a.getFloat64(l,!0)*1e3),l+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:f};break;case 3:m={t:"s",v:t[u]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(u>-1)m={t:"s",v:t[u]};else if(!isNaN(f))m={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function Bne(e,t,r){var n=J0(e),a=n.getUint32(8,!0),i=12,l=-1,o=-1,u=NaN,f=NaN,h=new Date(2001,0,1);a&1&&(u=Lne(e,i),i+=16),a&2&&(f=n.getFloat64(i,!0),i+=8),a&4&&(h.setTime(h.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(l=n.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return m}function Rw(e,t){var r=new Uint8Array(32),n=J0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Mne(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Iw(e,t){var r=new Uint8Array(32),n=J0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Une(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Ine(e,t,r,e[0]);case 5:return Bne(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ws(e){var t=nn(e);return ig(t[1][0].data)}function Hk(e,t){var r=nn(t.data),n=Ra(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(l){var o=nn(l.data),u=Ra(o[1][0].data)>>>0;switch(n){case 1:i[u]=hN(o[3][0].data);break;case 8:{var f=e[ws(o[9][0].data)][0],h=nn(f.data),m=e[ws(h[1][0].data)][0],g=Ra(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=nn(m.data);i[u]=x[3].map(function(b){return hN(b.data)}).join("")}break}}),i}function zne(e,t){var r,n,a,i,l,o,u,f,h,m,g,x,b,v,w=nn(e),N=Ra(w[1][0].data)>>>0,E=Ra(w[2][0].data)>>>0,S=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&Ra(w[8][0].data)>0||!1,D,F;if((i=(a=w[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(l=w[7])==null?void 0:l[0])==null?void 0:o.data,F=(f=(u=w[6])==null?void 0:u[0])==null?void 0:f.data;else if((m=(h=w[4])==null?void 0:h[0])!=null&&m.data&&t!=1)D=(x=(g=w[4])==null?void 0:g[0])==null?void 0:x.data,F=(v=(b=w[3])==null?void 0:b[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=S?4:1,T=J0(D),M=[],B=0;B<D.length/2;++B){var H=T.getUint16(B*2,!0);H<65535&&M.push([B,H])}if(M.length!=E)throw"Expected ".concat(E," cells, found ").concat(M.length);var R=[];for(B=0;B<M.length-1;++B)R[M[B][0]]=F.subarray(M[B][1]*O,M[B+1][1]*O);return M.length>=1&&(R[M[M.length-1][0]]=F.subarray(M[M.length-1][1]*O)),{R:N,cells:R}}function qne(e,t){var r,n=nn(t.data),a=(r=n?.[7])!=null&&r[0]?Ra(n[7][0].data)>>>0>0?1:0:-1,i=C3(n[5],function(l){return zne(l,a)});return{nrows:Ra(n[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(u,f){if(l[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));l[o.R][f]=u}),l},[])}}function $ne(e,t,r){var n,a=nn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ra(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ra(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Nr(i);var l=nn(a[4][0].data),o=Hk(e,e[ws(l[4][0].data)][0]),u=(n=l[17])!=null&&n[0]?Hk(e,e[ws(l[17][0].data)][0]):[],f=nn(l[3][0].data),h=0;f[1].forEach(function(m){var g=nn(m.data),x=e[ws(g[2][0].data)][0],b=Ra(x.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var v=qne(e,x);v.data.forEach(function(w,N){w.forEach(function(E,S){var D=fr({r:h+N,c:S}),F=Une(E,o,u);F&&(r[D]=F)})}),h+=v.nrows})}function Hne(e,t){var r=nn(t.data),n={"!ref":"A1"},a=e[ws(r[2][0].data)],i=Ra(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return $ne(e,a[0],n),n}function Vne(e,t){var r,n=nn(t.data),a={name:(r=n[1])!=null&&r[0]?hN(n[1][0].data):"",sheets:[]},i=C3(n[2],ws);return i.forEach(function(l){e[l].forEach(function(o){var u=Ra(o.meta[1][0].data);u==6e3&&a.sheets.push(Hne(e,o))})}),a}function Wne(e,t){var r=P3(),n=nn(t.data),a=C3(n[1],ws);if(a.forEach(function(i){e[i].forEach(function(l){var o=Ra(l.meta[1][0].data);if(o==2){var u=Vne(e,l);u.sheets.forEach(function(f,h){L3(r,f,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Bw(e){var t,r,n,a,i={},l=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var f;try{f=Do(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var h;try{h=Oo(f)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){i[m.id]=m.messages,l.push(m.id)})}}),!l.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ra(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(u){i[u].forEach(function(f){var h=Ra(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Wne(i,o)}function Gne(e,t,r){var n,a,i,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Ra(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var u=0,f=J0(e[7][0].data),h=0,m=[],g=J0(e[4][0].data),x=0,b=[],v=0;v<t.length;++v){if(t[v]==null){f.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}f.setUint16(v*2,h,!0),g.setUint16(v*2,x,!0);var w,N;switch(typeof t[v]){case"string":w=Rw({t:"s",v:t[v]},r),N=Iw({t:"s",v:t[v]},r);break;case"number":w=Rw({t:"n",v:t[v]},r),N=Iw({t:"n",v:t[v]},r);break;case"boolean":w=Rw({t:"b",v:t[v]},r),N=Iw({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}m.push(w),h+=w.length,b.push(N),x+=N.length,++u}for(e[2][0].data=bn(u);v<e[7][0].data.length/2;++v)f.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return e[6][0].data=Td(m),e[3][0].data=Td(b),u}function Kne(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Cl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Nr(n)));var i=dy(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(L){return L.forEach(function(q){typeof q=="string"&&l.push(q)})});var o={},u=[],f=nr.read(t.numbers,{type:"base64"});f.FileIndex.map(function(L,q){return[L,f.FullPaths[q]]}).forEach(function(L){var q=L[0],W=L[1];if(q.type==2&&q.name.match(/\.iwa/)){var X=q.content,ce=Do(X),ue=Oo(ce);ue.forEach(function(ae){u.push(ae.id),o[ae.id]={deps:[],location:W,type:Ra(ae.messages[0].meta[1][0].data)}})}}),u.sort(function(L,q){return L-q});var h=u.filter(function(L){return L>1}).map(function(L){return[L,bn(L)]});f.FileIndex.map(function(L,q){return[L,f.FullPaths[q]]}).forEach(function(L){var q=L[0];if(L[1],!!q.name.match(/\.iwa/)){var W=Oo(Do(q.content));W.forEach(function(X){X.messages.forEach(function(ce){h.forEach(function(ue){X.messages.some(function(ae){return Ra(ae.meta[1][0].data)!=11006&&Pne(ae.data,ue[1])})&&o[ue[0]].deps.push(X.id)})})})}});for(var m=nr.find(f,o[1].location),g=Oo(Do(m.content)),x,b=0;b<g.length;++b){var v=g[b];v.id==1&&(x=v)}var w=ws(nn(x.messages[0].data)[1][0].data);for(m=nr.find(f,o[w].location),g=Oo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=ws(nn(x.messages[0].data)[2][0].data),m=nr.find(f,o[w].location),g=Oo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);for(w=ws(nn(x.messages[0].data)[2][0].data),m=nr.find(f,o[w].location),g=Oo(Do(m.content)),b=0;b<g.length;++b)v=g[b],v.id==w&&(x=v);var N=nn(x.messages[0].data);{N[6][0].data=bn(n.e.r+1),N[7][0].data=bn(n.e.c+1);var E=ws(N[46][0].data),S=nr.find(f,o[E].location),D=Oo(Do(S.content));{for(var F=0;F<D.length&&D[F].id!=E;++F);if(D[F].id!=E)throw"Bad ColumnRowUIDMapArchive";var O=nn(D[F].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var T=0;T<=n.e.c;++T){var M=[];M[1]=M[2]=[{type:0,data:bn(T+420690)}],O[1].push({type:2,data:ts(M)}),O[2].push({type:0,data:bn(T)}),O[3].push({type:0,data:bn(T)})}O[4]=[],O[5]=[],O[6]=[];for(var B=0;B<=n.e.r;++B)M=[],M[1]=M[2]=[{type:0,data:bn(B+726270)}],O[4].push({type:2,data:ts(M)}),O[5].push({type:0,data:bn(B)}),O[6].push({type:0,data:bn(B)});D[F].messages[0].data=ts(O)}S.content=pm(mm(D)),S.size=S.content.length,delete N[46];var H=nn(N[4][0].data);{H[7][0].data=bn(n.e.r+1);var R=nn(H[1][0].data),U=ws(R[2][0].data);S=nr.find(f,o[U].location),D=Oo(Do(S.content));{if(D[0].id!=U)throw"Bad HeaderStorageBucket";var K=nn(D[0].messages[0].data);for(B=0;B<i.length;++B){var ee=nn(K[2][0].data);ee[1][0].data=bn(B),ee[4][0].data=bn(i[B].length),K[2][B]={type:K[2][0].type,data:ts(ee)}}D[0].messages[0].data=ts(K)}S.content=pm(mm(D)),S.size=S.content.length;var pe=ws(H[2][0].data);S=nr.find(f,o[pe].location),D=Oo(Do(S.content));{if(D[0].id!=pe)throw"Bad HeaderStorageBucket";for(K=nn(D[0].messages[0].data),T=0;T<=n.e.c;++T)ee=nn(K[2][0].data),ee[1][0].data=bn(T),ee[4][0].data=bn(n.e.r+1),K[2][T]={type:K[2][0].type,data:ts(ee)};D[0].messages[0].data=ts(K)}S.content=pm(mm(D)),S.size=S.content.length;var re=ws(H[4][0].data);(function(){for(var L=nr.find(f,o[re].location),q=Oo(Do(L.content)),W,X=0;X<q.length;++X){var ce=q[X];ce.id==re&&(W=ce)}var ue=nn(W.messages[0].data);{ue[3]=[];var ae=[];l.forEach(function(Z,Ke){ae[1]=[{type:0,data:bn(Ke)}],ae[2]=[{type:0,data:bn(1)}],ae[3]=[{type:2,data:Fne(Z)}],ue[3].push({type:2,data:ts(ae)})})}W.messages[0].data=ts(ue);var Se=mm(q),De=pm(Se);L.content=De,L.size=L.content.length})();var se=nn(H[3][0].data);{var ye=se[1][0];delete se[2];var oe=nn(ye.data);{var ge=ws(oe[2][0].data);(function(){for(var L=nr.find(f,o[ge].location),q=Oo(Do(L.content)),W,X=0;X<q.length;++X){var ce=q[X];ce.id==ge&&(W=ce)}var ue=nn(W.messages[0].data);{delete ue[6],delete se[7];var ae=new Uint8Array(ue[5][0].data);ue[5]=[];for(var Se=0,De=0;De<=n.e.r;++De){var Z=nn(ae);Se+=Gne(Z,i[De],l),Z[1][0].data=bn(De),ue[5].push({data:ts(Z),type:2})}ue[1]=[{type:0,data:bn(n.e.c+1)}],ue[2]=[{type:0,data:bn(n.e.r+1)}],ue[3]=[{type:0,data:bn(Se)}],ue[4]=[{type:0,data:bn(n.e.r+1)}]}W.messages[0].data=ts(ue);var Ke=mm(q),Ce=pm(Ke);L.content=Ce,L.size=L.content.length})()}ye.data=ts(oe)}H[3][0].data=ts(se)}N[4][0].data=ts(H)}x.messages[0].data=ts(N);var Y=mm(g),P=pm(Y);return m.content=P,m.size=m.content.length,f}function fL(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function T3(e){fL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function O3(e){fL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Yne(e){return Or.WS.indexOf(e)>-1?"sheet":e==Or.CS?"chart":e==Or.DS?"dialog":e==Or.MS?"macro":e&&e.length?e:"sheet"}function Xne(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Yne(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Qne(e,t,r,n,a,i,l,o,u,f,h,m){try{i[n]=Ox(Zl(e,r,!0),t);var g=ri(e,t),x;switch(o){case"sheet":x=yre(g,t,a,u,i[n],f,h,m);break;case"chart":if(x=bre(g,t,a,u,i[n],f,h,m),!x||!x["!drawel"])break;var b=_x(x["!drawel"].Target,t),v=Jx(b),w=sZ(Zl(e,b,!0),Ox(Zl(e,v,!0),b)),N=_x(w,b),E=Jx(N);x=Gte(Zl(e,N,!0),N,u,Ox(Zl(e,E,!0),N),f,x);break;case"macro":x=wre(g,t,a,u,i[n],f,h,m);break;case"dialog":x=Nre(g,t,a,u,i[n],f,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}l[n]=x;var S=[];i&&i[n]&&Ia(i[n]).forEach(function(D){var F="";if(i[n][D].Type==Or.CMNT){F=_x(i[n][D].Target,t);var O=Are(ri(e,F,!0),F,u);if(!O||!O.length)return;Ck(x,O,!1)}i[n][D].Type==Or.TCMNT&&(F=_x(i[n][D].Target,t),S=S.concat(oZ(ri(e,F,!0),u)))}),S&&S.length&&Ck(x,S,!0,u.people||[])}catch(D){if(u.WTF)throw D}}function Ao(e){return e.charAt(0)=="/"?e.slice(1):e}function Zne(e,t){if(op(),t=t||{},T3(t),Po(e,"META-INF/manifest.xml")||Po(e,"objectdata.xml"))return Uk(e,t);if(Po(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Bw<"u"){if(e.FileIndex)return Bw(e);var r=nr.utils.cfb_new();return XE(e).forEach(function(ee){Sr(r,ee,cG(e,ee))}),Bw(r)}throw new Error("Unsupported NUMBERS file")}if(!Po(e,"[Content_Types].xml"))throw Po(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Po(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=XE(e),a=rK(Zl(e,"[Content_Types].xml")),i=!1,l,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ri(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ri(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},f={};if(!t.bookSheets&&!t.bookProps){if(Dx=[],a.sst)try{Dx=Sre(ri(e,Ao(a.sst)),a.sst,t)}catch(ee){if(t.WTF)throw ee}t.cellStyles&&a.themes.length&&(u=jre(Zl(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(f=_re(ri(e,Ao(a.style)),a.style,u,t))}a.links.map(function(ee){try{var pe=Ox(Zl(e,Jx(Ao(ee))),ee);return kre(ri(e,Ao(ee)),pe,ee,t)}catch{}});var h=vre(ri(e,Ao(a.workbooks[0])),a.workbooks[0],t),m={},g="";a.coreprops.length&&(g=ri(e,Ao(a.coreprops[0]),!0),g&&(m=JF(g)),a.extprops.length!==0&&(g=ri(e,Ao(a.extprops[0]),!0),g&&cK(g,m,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(g=Zl(e,Ao(a.custprops[0]),!0),g&&(x=fK(g,t)));var b={};if((t.bookSheets||t.bookProps)&&(h.Sheets?l=h.Sheets.map(function(pe){return pe.name}):m.Worksheets&&m.SheetNames.length>0&&(l=m.SheetNames),t.bookProps&&(b.Props=m,b.Custprops=x),t.bookSheets&&typeof l<"u"&&(b.SheetNames=l),t.bookSheets?b.SheetNames:t.bookProps))return b;l={};var v={};t.bookDeps&&a.calcchain&&(v=Ere(ri(e,Ao(a.calcchain)),a.calcchain));var w=0,N={},E,S;{var D=h.Sheets;m.Worksheets=D.length,m.SheetNames=[];for(var F=0;F!=D.length;++F)m.SheetNames[F]=D[F].name}var O=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),M=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Po(e,M)||(M="xl/_rels/workbook."+O+".rels");var B=Ox(Zl(e,M,!0),M.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Cre(ri(e,Ao(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=uZ(ri(e,Ao(a.people[0])),t)),B&&(B=Xne(B,h.Sheets));var H=ri(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=m.Worksheets;++w){var R="sheet";if(B&&B[w]?(E="xl/"+B[w][1].replace(/[\/]?xl\//,""),Po(e,E)||(E=B[w][1]),Po(e,E)||(E=M.replace(/_rels\/.*$/,"")+B[w][1]),R=B[w][2]):(E="xl/worksheets/sheet"+(w+1-H)+"."+O,E=E.replace(/sheet0\./,"sheet.")),S=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(m.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,K=0;K!=t.sheets.length;++K)typeof t.sheets[K]=="number"&&t.sheets[K]==w&&(U=1),typeof t.sheets[K]=="string"&&t.sheets[K].toLowerCase()==m.SheetNames[w].toLowerCase()&&(U=1);if(!U)continue e}}Qne(e,E,S,m.SheetNames[w],w,N,l,R,t,h,u,f)}return b={Directory:a,Workbook:h,Props:m,Custprops:x,Deps:v,Sheets:l,SheetNames:m.SheetNames,Strings:Dx,Styles:f,Themes:u,SSF:ra(cr)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(ee,pe){ee=ee.replace(/^Root Entry[\/]/,""),b.keys.push(ee),b.files[ee]=e.FileIndex[pe]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=ri(e,Ao(a.vba[0]),!0):a.defaults&&a.defaults.bin===vZ&&(b.vbaraw=ri(e,"xl/vbaProject.bin",!0))),b}function Jne(e,t){var r=t||{},n="Workbook",a=nr.find(e,n);try{if(n="/!DataSpaces/Version",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(CX(a.content),n="/!DataSpaces/DataSpaceMap",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=OX(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=DX(a.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);PX(a.content)}catch{}if(n="/EncryptionInfo",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=LX(a.content);if(n="/EncryptedPackage",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function eae(e,t){return t.bookType=="ods"?uL(e,t):t.bookType=="numbers"?Kne(e,t):t.bookType=="xlsb"?tae(e,t):rae(e,t)}function tae(e,t){jm=1024,e&&!e.SSF&&(e.SSF=ra(cr)),e&&e.SSF&&(op(),u2(e.SSF),t.revssf=d2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Fx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=IP.indexOf(t.bookType)>-1,a=x3();O3(t=t||{});var i=r3(),l="",o=0;if(t.cellXfs=[],Ud(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(i,l,eP(e.Props,t)),a.coreprops.push(l),wn(t.rels,2,l,Or.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Sr(i,l,nP(e.Props)),a.extprops.push(l),wn(t.rels,3,l,Or.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(i,l,aP(e.Custprops)),a.custprops.push(l),wn(t.rels,4,l,Or.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(i,l,Ore(o-1,l,t,e,h)),a.sheets.push(l),wn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(m){var x=m["!comments"],b=!1,v="";x&&x.length>0&&(v="xl/comments"+o+"."+r,Sr(i,v,Pre(x,v)),a.comments.push(v),wn(h,-1,"../comments"+o+"."+r,Or.CMNT),b=!0),m["!legacy"]&&b&&Sr(i,"xl/drawings/vmlDrawing"+o+".vml",MP(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Sr(i,Jx(l),Om(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(i,l,Fre(t.Strings,l,t)),a.strs.push(l),wn(t.wbrels,-1,"sharedStrings."+r,Or.SST)),l="xl/workbook."+r,Sr(i,l,Tre(e,l)),a.workbooks.push(l),wn(t.rels,1,l,Or.WB),l="xl/theme/theme1.xml",Sr(i,l,N3(e.Themes,t)),a.themes.push(l),wn(t.wbrels,-1,"theme/theme1.xml",Or.THEME),l="xl/styles."+r,Sr(i,l,Dre(e,l,t)),a.styles.push(l),wn(t.wbrels,-1,"styles."+r,Or.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(i,l,e.vbaraw),a.vba.push(l),wn(t.wbrels,-1,"vbaProject.bin",Or.VBA)),l="xl/metadata."+r,Sr(i,l,Lre(l)),a.metadata.push(l),wn(t.wbrels,-1,"metadata."+r,Or.XLMETA),Sr(i,"[Content_Types].xml",QF(a,t)),Sr(i,"_rels/.rels",Om(t.rels)),Sr(i,"xl/_rels/workbook."+r+".rels",Om(t.wbrels)),delete t.revssf,delete t.ssf,i}function rae(e,t){jm=1024,e&&!e.SSF&&(e.SSF=ra(cr)),e&&e.SSF&&(op(),u2(e.SSF),t.revssf=d2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Fx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=IP.indexOf(t.bookType)>-1,a=x3();O3(t=t||{});var i=r3(),l="",o=0;if(t.cellXfs=[],Ud(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Sr(i,l,eP(e.Props,t)),a.coreprops.push(l),wn(t.rels,2,l,Or.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Sr(i,l,nP(e.Props)),a.extprops.push(l),wn(t.rels,3,l,Or.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Sr(i,l,aP(e.Custprops)),a.custprops.push(l),wn(t.rels,4,l,Or.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Sr(i,l,YP(o-1,t,e,m)),a.sheets.push(l),wn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(g){var b=g["!comments"],v=!1,w="";if(b&&b.length>0){var N=!1;b.forEach(function(E){E[1].forEach(function(S){S.T==!0&&(N=!0)})}),N&&(w="xl/threadedComments/threadedComment"+o+"."+r,Sr(i,w,cZ(b,h,t)),a.threadedcomments.push(w),wn(m,-1,"../threadedComments/threadedComment"+o+"."+r,Or.TCMNT)),w="xl/comments"+o+"."+r,Sr(i,w,RP(b)),a.comments.push(w),wn(m,-1,"../comments"+o+"."+r,Or.CMNT),v=!0}g["!legacy"]&&v&&Sr(i,"xl/drawings/vmlDrawing"+o+".vml",MP(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&Sr(i,Jx(l),Om(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Sr(i,l,jP(t.Strings,t)),a.strs.push(l),wn(t.wbrels,-1,"sharedStrings."+r,Or.SST)),l="xl/workbook."+r,Sr(i,l,eL(e)),a.workbooks.push(l),wn(t.rels,1,l,Or.WB),l="xl/theme/theme1.xml",Sr(i,l,N3(e.Themes,t)),a.themes.push(l),wn(t.wbrels,-1,"theme/theme1.xml",Or.THEME),l="xl/styles."+r,Sr(i,l,DP(e,t)),a.styles.push(l),wn(t.wbrels,-1,"styles."+r,Or.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Sr(i,l,e.vbaraw),a.vba.push(l),wn(t.wbrels,-1,"vbaProject.bin",Or.VBA)),l="xl/metadata."+r,Sr(i,l,LP()),a.metadata.push(l),wn(t.wbrels,-1,"metadata."+r,Or.XLMETA),h.length>1&&(l="xl/persons/person.xml",Sr(i,l,fZ(h)),a.people.push(l),wn(t.wbrels,-1,"persons/person.xml",Or.PEOPLE)),Sr(i,"[Content_Types].xml",QF(a,t)),Sr(i,"_rels/.rels",Om(t.rels)),Sr(i,"xl/_rels/workbook."+r+".rels",Om(t.wbrels)),delete t.revssf,delete t.ssf,i}function D3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ro(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function nae(e,t){return nr.find(e,"EncryptedPackage")?Jne(e,t):aL(e,t)}function aae(e,t){var r,n=e,a=t||{};return a.type||(a.type=Cr&&Buffer.isBuffer(e)?"buffer":"base64"),r=AF(n,a),Zne(r,a)}function dL(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return fN(e.slice(r),t);default:break e}return qm.to_workbook(e,t)}function iae(e,t){var r="",n=D3(e,t);switch(t.type){case"base64":r=ro(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Y0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Fn(r)),t.type="binary",dL(r,t)}function sae(e,t){var r=e;return t.type=="base64"&&(r=ro(r)),r=Gx.utils.decode(1200,r.slice(2),"str"),t.type="binary",dL(r,t)}function lae(e){return e.match(/[^\x00-\x7F]/)?ou(e):e}function Uw(e,t,r,n){return n?(r.type="string",qm.to_workbook(e,r)):qm.to_workbook(t,r)}function mN(e,t){Q_();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return mN(new Uint8Array(e),(r=ra(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Fm={},r.dateNF&&(Fm.dateNF=r.dateNF),r.type||(r.type=Cr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Cr?"buffer":"binary",n=tG(e),typeof Uint8Array<"u"&&!Cr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=lae(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return r=ra(r),r.type="array",mN(Z_(n),r)}switch((a=D3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return nae(nr.read(n,r),r);break;case 9:if(a[1]<=8)return aL(n,r);break;case 60:return fN(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return dX(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return NP.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?aae(n,r):Uw(e,n,r,i);case 239:return a[3]===60?fN(n,r):Uw(e,n,r,i);case 255:if(a[1]===254)return sae(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return M0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return M0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return uN.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return CP.to_workbook(n,r);break;case 10:case 13:case 32:return iae(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return fX.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?uN.to_workbook(n,r):Uw(e,n,r,i)}function hL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Sg(t.file,nr.write(e,{type:Cr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nr.write(e,t)}function oae(e,t){var r=ra(t||{}),n=eae(e,r);return cae(n,r)}function cae(e,t){var r={},n=Cr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?nr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(c2(a))}return t.password&&typeof encrypt_agile<"u"?hL(encrypt_agile(a,t.password),t):t.type==="file"?Sg(t.file,a):t.type=="string"?Fn(a):a}function uae(e,t){var r=t||{},n=lne(e,r);return hL(n,r)}function su(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Kx(ou(n));case"binary":return ou(n);case"string":return e;case"file":return Sg(t.file,n,"utf8");case"buffer":return Cr?wf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):su(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fae(e,t){switch(t.type){case"base64":return Kx(e);case"binary":return e;case"string":return e;case"file":return Sg(t.file,e,"binary");case"buffer":return Cr?wf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function sv(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Kx(r):t.type=="string"?Fn(r):r;case"file":return Sg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function mL(e,t){Q_(),nre(e);var r=ra(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=mL(e,r);return r.type="array",c2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return su(ene(e,r),r);case"slk":case"sylk":return su(wP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return su(sL(e.Sheets[e.SheetNames[a]],r),r);case"txt":return fae(pL(e.Sheets[e.SheetNames[a]],r),r);case"csv":return su(F3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return su(NP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return sv(uN.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return su(qm.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return su(CP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return su(_P.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return su(uL(e,r),r);case"wk1":return sv(M0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return sv(M0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),sv(iL(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),uae(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return oae(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function dae(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function hae(e,t,r){var n={};return n.type="file",n.file=t,dae(n),mL(e,n)}function mae(e,t,r,n,a,i,l,o){var u=Ka(r),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=l?e[r][x]:e[n[x]+u];if(b===void 0||b.t===void 0){if(f===void 0)continue;i[x]!=null&&(g[i[x]]=f);continue}var v=b.v;switch(b.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(v==null)if(b.t=="e"&&v===null)g[i[x]]=null;else if(f!==void 0)g[i[x]]=f;else if(h&&v===null)g[i[x]]=null;else continue;else g[i[x]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?v:hf(b,v,o);v!=null&&(m=!1)}}return{row:g,isempty:m}}function dy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":u=en(h);break;case"number":u=en(e["!ref"]),u.s.r=h;break;default:u=h}n>0&&(a=0);var m=Ka(u.s.r),g=[],x=[],b=0,v=0,w=Array.isArray(e),N=u.s.r,E=0,S={};w&&!e[N]&&(e[N]=[]);var D=f.skipHidden&&e["!cols"]||[],F=f.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(D[E]||{}).hidden)switch(g[E]=_a(E),r=w?e[N][E]:e[g[E]+m],n){case 1:i[E]=E-u.s.c;break;case 2:i[E]=g[E];break;case 3:i[E]=f.header[E-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=hf(r,null,f),v=S[l]||0,!v)S[l]=1;else{do o=l+"_"+v++;while(S[o]);S[l]=v,S[o]=1}i[E]=o}for(N=u.s.r+a;N<=u.e.r;++N)if(!(F[N]||{}).hidden){var O=mae(e,u,N,g,n,i,w,f);(O.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[b++]=O.row)}return x.length=b,x}var Vk=/"/g;function pae(e,t,r,n,a,i,l,o){for(var u=!0,f=[],h="",m=Ka(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+m];if(x==null)h="";else if(x.v!=null){u=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:hf(x,null,o));for(var b=0,v=0;b!==h.length;++b)if((v=h.charCodeAt(b))===a||v===i||v===34||o.forceQuotes){h='"'+h.replace(Vk,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(u=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(Vk,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&u?null:f.join(l)}function F3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=en(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,u=o.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(m[b]=_a(b));for(var v=0,w=a.s.r;w<=a.e.r;++w)(x[w]||{}).hidden||(h=pae(e,a,w,m,l,u,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((v++?o:"")+h)));return delete n.dense,r.join("")}function pL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=F3(e,t);return r}function xae(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=en(e["!ref"]),i="",l=[],o,u=[],f=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)l[o]=_a(o);for(var h=a.s.r;h<=a.e.r;++h)for(i=Ka(h),o=a.s.c;o<=a.e.c;++o)if(t=l[o]+i,r=f?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function xL(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},l=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var u=typeof n.origin=="string"?ja(n.origin):n.origin;l=u.r,o=u.c}var f,h={s:{c:0,r:0},e:{c:o,r:l+t.length-1+a}};if(i["!ref"]){var m=en(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(l=m.e.r+1,h.e.r=l+t.length-1+a)}else l==-1&&(l=0,h.e.r=t.length-1+a);var g=n.header||[],x=0;t.forEach(function(v,w){Ia(v).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var E=v[N],S="z",D="",F=fr({c:o+x,r:l+w+a});f=sg(i,F),E&&typeof E=="object"&&!(E instanceof Date)?i[F]=E:(typeof E=="number"?S="n":typeof E=="boolean"?S="b":typeof E=="string"?S="s":E instanceof Date?(S="d",n.cellDates||(S="n",E=Ni(E)),D=n.dateNF||cr[14]):E===null&&n.nullError&&(S="e",E=0),f?(f.t=S,f.v=E,delete f.w,delete f.R,D&&(f.z=D)):i[F]=f={t:S,v:E},D&&(f.z=D))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Ka(l);if(a)for(x=0;x<g.length;++x)i[_a(x+o)+b]={t:"s",v:g[x]};return i["!ref"]=Nr(h),i}function gae(e,t){return xL(null,e,t)}function sg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ja(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?sg(e,fr(t)):sg(e,fr({r:t,c:r||0}))}function vae(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function P3(){return{SheetNames:[],Sheets:{}}}function L3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(JP(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function yae(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=vae(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function bae(e,t){return e.z=t,e}function gL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function wae(e,t,r){return gL(e,"#"+t,r)}function Nae(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function _ae(e,t,r,n){for(var a=typeof t!="string"?t:en(t),i=typeof t=="string"?t:Nr(t),l=a.s.r;l<=a.e.r;++l)for(var o=a.s.c;o<=a.e.c;++o){var u=sg(e,l,o);u.t="n",u.F=i,delete u.v,l==a.s.r&&o==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var lv={encode_col:_a,encode_row:Ka,encode_cell:fr,encode_range:Nr,decode_col:u3,decode_row:c3,split_cell:FG,decode_cell:ja,decode_range:Cl,format_cell:hf,sheet_add_aoa:HF,sheet_add_json:xL,sheet_add_dom:lL,aoa_to_sheet:cp,json_to_sheet:gae,table_to_sheet:oL,table_to_book:Cne,sheet_to_csv:F3,sheet_to_txt:pL,sheet_to_json:dy,sheet_to_html:sL,sheet_to_formulae:xae,sheet_to_row_object_array:dy,sheet_get_cell:sg,book_new:P3,book_append_sheet:L3,book_set_sheet_visibility:yae,cell_set_number_format:bae,cell_set_hyperlink:gL,cell_set_internal_link:wae,cell_add_comment:Nae,sheet_set_array_formula:_ae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ec={async getAll(){return at.get("/cities")},async getById(e){try{return await at.get(`/cities/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async getBySegment(e){return at.get(`/cities/by-segment/${e}`)},async create(e,t){return at.post("/cities",{id:e,...t})},async update(e){const{id:t,...r}=e;return at.put(`/cities/${t}`,r)},async delete(e){return at.delete(`/cities/${e}`)}},es=[];for(let e=0;e<256;++e)es.push((e+256).toString(16).slice(1));function jae(e,t=0){return(es[e[t+0]]+es[e[t+1]]+es[e[t+2]]+es[e[t+3]]+"-"+es[e[t+4]]+es[e[t+5]]+"-"+es[e[t+6]]+es[e[t+7]]+"-"+es[e[t+8]]+es[e[t+9]]+"-"+es[e[t+10]]+es[e[t+11]]+es[e[t+12]]+es[e[t+13]]+es[e[t+14]]+es[e[t+15]]).toLowerCase()}let zw;const Sae=new Uint8Array(16);function Aae(){if(!zw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");zw=crypto.getRandomValues.bind(crypto)}return zw(Sae)}const Eae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wk={randomUUID:Eae};function kae(e,t,r){e=e||{};const n=e.random??e.rng?.()??Aae();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,jae(n)}function zd(e,t,r){return Wk.randomUUID&&!e?Wk.randomUUID():kae(e)}const fp=()=>ur({queryKey:["cities"],queryFn:()=>Ec.getAll()}),Cae=e=>ur({queryKey:["cities",e],queryFn:()=>Ec.getById(e),enabled:!!e}),Tae=()=>{const e=Ft();return Bt({mutationFn:async t=>{const r=zd();return Ec.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Oae=()=>{const e=Ft();return Bt({mutationFn:t=>Ec.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Dae=()=>{const e=Ft();return Bt({mutationFn:t=>Ec.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Fae=()=>{const e=Ft();return Bt({mutationFn:async t=>{const r={success:0,errors:[]},n=await Ec.getAll();for(let a=0;a<t.length;a++){const i=t[a];try{if(!i.name||!i.code||!i.segment_id){r.errors.push({row:a+2,error:"Donnes manquantes (nom, code ou segment)",data:i});continue}if(n.find(u=>u.name.trim()===i.name.trim()&&u.segment_id===i.segment_id)){r.errors.push({row:a+2,error:`Une ville avec le nom "${i.name}" existe dj dans ce segment`,data:i});continue}const o=zd();await Ec.create(o,{name:i.name.trim(),code:i.code.trim(),segment_id:i.segment_id}),r.success++}catch(l){r.errors.push({row:a+2,error:l instanceof Error?l.message:"Erreur inconnue",data:i})}}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})};function Pae({segmentId:e,segmentName:t,onClose:r}){const[n,a]=C.useState(null),[i,l]=C.useState(!1),[o,u]=C.useState(null),f=C.useRef(null),h=Fae(),m=b=>{b.target.files&&b.target.files[0]&&(a(b.target.files[0]),u(null))},g=async()=>{if(n){l(!0),u(null);try{const b=await n.arrayBuffer(),v=mN(b),w=v.Sheets[v.SheetNames[0]],E=lv.sheet_to_json(w).map(D=>({name:D.Ville?.toString().trim()||"",code:D.code?.toString().trim().toUpperCase()||"",segment_id:e})),S=await h.mutateAsync(E);u(S)}catch(b){console.error("Erreur lors de l'import:",b),alert("Erreur lors de la lecture du fichier Excel")}finally{l(!1)}}},x=()=>{const b=[{Ville:"Casablanca",code:"A1P07"},{Ville:"Rabat",code:"A1P01"},{Ville:"Tanger",code:"A1P05"}],v=lv.json_to_sheet(b),w=lv.book_new();lv.book_append_sheet(w,v,"Villes"),v["!cols"]=[{wch:25},{wch:15}],hae(w,"template_import_villes.xlsx")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(V0,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import en masse"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Importer des villes pour : ",s.jsx("strong",{children:t})]})]})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ji,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Format du fichier Excel"}),s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Le fichier doit contenir seulement 2 colonnes :"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Ville"})," : Nom de la ville (Ex: Casablanca)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"code"})," : Code de la ville (Ex: A1P07)"]})]}),s.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[" Toutes les villes seront automatiquement associes au segment : ",s.jsx("strong",{children:t})]})]}),s.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[s.jsx(Es,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-blue-600 font-medium",children:"Tlcharger le fichier template"})]}),s.jsxs("div",{children:[s.jsx("input",{ref:f,type:"file",accept:".xlsx,.xls",onChange:m,className:"hidden"}),s.jsxs("button",{onClick:()=>f.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[s.jsx(sp,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-green-600 font-medium",children:n?n.name:"Cliquez pour slectionner un fichier Excel"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts : .xlsx, .xls"})]})]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(si,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-green-800 font-medium",children:[o.success," ville(s) importe(s) avec succs"]})]}),o.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-600"}),s.jsxs("span",{className:"text-red-800 font-medium",children:[o.errors.length," erreur(s) dtecte(s)"]})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:o.errors.map((b,v)=>s.jsxs("div",{className:"p-3 bg-white border border-red-200 rounded-lg text-sm",children:[s.jsxs("p",{className:"font-medium text-red-800",children:["Ligne ",b.row]}),s.jsx("p",{className:"text-red-600",children:b.error}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Ville: ",b.data.name||"N/A"," | Code: ",b.data.code||"N/A"]})]},v))})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:o?"Fermer":"Annuler"}),!o&&s.jsx("button",{onClick:g,disabled:!n||i,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Import en cours...":"Importer"})]})]})]})})}const qd={async getAll(){return at.get("/segments")},async getById(e){try{return await at.get(`/segments/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e,t){return at.post("/segments",{id:e,...t})},async update(e){const{id:t,...r}=e;return at.put(`/segments/${t}`,r)},async delete(e){return at.delete(`/segments/${e}`)}},$d=()=>ur({queryKey:["segments"],queryFn:()=>qd.getAll()}),Lae=()=>{const e=Ft();return Bt({mutationFn:async t=>{const r=zd();return qd.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Mae=()=>{const e=Ft();return Bt({mutationFn:t=>qd.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Rae=()=>{const e=Ft();return Bt({mutationFn:t=>qd.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})};function Iae(){const{data:e=[],isLoading:t,error:r}=$d(),n=Lae(),a=Mae(),i=Rae(),[l,o]=C.useState(!1),[u,f]=C.useState(null),[h,m]=C.useState(!1),[g,x]=C.useState(null),[b,v]=C.useState({name:"",color:"#3b82f6"}),w=async F=>{F.preventDefault();try{u?await a.mutateAsync({id:u,name:b.name,color:b.color}):await n.mutateAsync({name:b.name,color:b.color}),S()}catch(O){console.error("Erreur lors de la sauvegarde:",O),alert("Erreur lors de la sauvegarde du segment")}},N=F=>{v({name:F.name,color:F.color}),f(F.id),o(!0)},E=async F=>{if(confirm("tes-vous sr de vouloir supprimer ce segment ?"))try{await i.mutateAsync(F)}catch(O){console.error("Erreur lors de la suppression:",O),alert("Erreur lors de la suppression du segment")}},S=()=>{v({name:"",color:"#3b82f6"}),f(null),o(!1)},D=F=>{x({id:F.id,name:F.name}),m(!0)};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-800",children:["Erreur lors du chargement des segments: ",r.message]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsx(rt,{variant:"outline",size:"icon",children:s.jsx(Vn,{className:"h-4 w-4"})})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Segments"})]}),s.jsxs(rt,{onClick:()=>o(!l),className:"w-full sm:w-auto",children:[s.jsx(Jn,{className:"mr-2 h-4 w-4"}),"Nouveau Segment"]})]}),l&&s.jsxs(hn,{className:"mb-6",children:[s.jsx(ff,{children:s.jsxs(df,{children:[u?"Modifier":"Nouveau"," Segment"]})}),s.jsx(mn,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du segment"}),s.jsx(Zs,{value:b.name,onChange:F=>v({...b,name:F.target.value}),placeholder:"Ex: Formation Informatique",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Zs,{type:"color",value:b.color,onChange:F=>v({...b,color:F.target.value}),className:"w-20"}),s.jsx(Zs,{value:b.color,onChange:F=>v({...b,color:F.target.value}),placeholder:"#3b82f6"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(rt,{type:"submit",disabled:n.isPending||a.isPending,className:"w-full sm:w-auto",children:n.isPending||a.isPending?"Enregistrement...":u?"Modifier":"Crer"}),s.jsx(rt,{type:"button",variant:"outline",onClick:S,className:"w-full sm:w-auto",children:"Annuler"})]})]})})]}),t&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Chargement des segments..."})}),!t&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(F=>s.jsxs(hn,{style:{borderLeft:`4px solid ${F.color}`},children:[s.jsx(ff,{children:s.jsxs(df,{className:"flex items-center justify-between",children:[s.jsx("span",{children:F.name}),s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:F.color}})]})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(rt,{size:"sm",className:"w-full",onClick:()=>D(F),children:[s.jsx(sp,{className:"h-4 w-4 mr-2"}),"Importer des villes"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(rt,{size:"sm",variant:"outline",onClick:()=>N(F),children:s.jsx(oF,{className:"h-4 w-4"})}),s.jsx(rt,{size:"sm",variant:"destructive",onClick:()=>E(F.id),disabled:i.isPending,children:s.jsx(Hn,{className:"h-4 w-4"})})]})]})})]},F.id))}),!t&&e.length===0&&!l&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucun segment cr pour le moment"})})]}),h&&g&&s.jsx(Pae,{segmentId:g.id,segmentName:g.name,onClose:()=>{m(!1),x(null)}})]})}function Bae({cityId:e,onClose:t}){const[r,n]=C.useState({name:"",code:"",segment_id:""}),{data:a}=Cae(e||""),{data:i=[]}=$d(),l=Tae(),o=Oae(),u=!!e;C.useEffect(()=>{a&&n({name:a.name,code:a.code,segment_id:a.segment_id})},[a]);const f=async h=>{if(h.preventDefault(),!r.name.trim()||!r.code.trim()||!r.segment_id){alert("Veuillez remplir tous les champs obligatoires");return}try{u&&e?await o.mutateAsync({id:e,...r}):await l.mutateAsync(r),t()}catch(m){console.error("Erreur lors de la sauvegarde:",m),alert("Erreur lors de la sauvegarde de la ville")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(ks,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:u?"Modifier la ville":"Nouvelle ville"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:u?"Modifiez les informations":"Ajoutez une nouvelle ville"})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(ji,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Ex: Casablanca",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de la ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(W_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",required:!0,value:r.code,onChange:h=>n({...r,code:h.target.value.toUpperCase()}),placeholder:"Ex: CASA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent uppercase",maxLength:10})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Code court pour identifier la ville (max 10 caractres)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(G_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:h=>n({...r,segment_id:h.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),i.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]}),i.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucun segment disponible. Veuillez crer un segment d'abord."})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending||o.isPending,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending||o.isPending?"Enregistrement...":u?"Mettre  jour":"Crer"})]})]})]})})}function Uae(){const e=pn(),[t,r]=C.useState(""),[n,a]=C.useState(!1),[i,l]=C.useState(null),[o,u]=C.useState("all"),[f,h]=C.useState([]),{data:m=[],isLoading:g}=fp(),{data:x=[]}=$d(),b=Dae(),v=m.filter(O=>{const T=O.name.toLowerCase().includes(t.toLowerCase())||O.code.toLowerCase().includes(t.toLowerCase()),M=o==="all"||O.segment_id===o;return T&&M}),w=O=>{l(O),a(!0)},N=O=>{h(T=>T.includes(O)?T.filter(M=>M!==O):[...T,O])},E=()=>{f.length===v.length&&v.length>0?h([]):h(v.map(O=>O.id))},S=async(O,T)=>{if(window.confirm(`tes-vous sr de vouloir supprimer la ville "${T}" ?`))try{await b.mutateAsync(O)}catch(M){console.error("Erreur lors de la suppression:",M),alert("Erreur lors de la suppression de la ville")}},D=async()=>{if(f.length===0){alert("Veuillez slectionner au moins une ville  supprimer");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${f.length} ville(s) slectionne(s) ?

Cette action est irrversible.`))try{for(const O of f)await b.mutateAsync(O);h([])}catch(O){console.error("Erreur lors de la suppression en masse:",O),alert("Erreur lors de la suppression des villes")}},F=()=>{a(!1),l(null)};return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour au tableau de bord",children:s.jsx(Vn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ks,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-green-600"}),s.jsx("span",{className:"truncate",children:"Gestion des Villes"})]})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 ml-10 sm:ml-12 md:ml-14",children:"Grer les villes et leur affectation"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[s.jsxs("div",{className:"relative flex-1 md:w-80",children:[s.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Rechercher une ville...",value:t,onChange:O=>r(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),s.jsxs("select",{value:o,onChange:O=>u(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),x.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[f.length>0&&s.jsxs("button",{onClick:D,className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Hn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsxs("span",{className:"text-sm sm:text-base",children:["Supprimer (",f.length,")"]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Nouvelle Ville"})]})]})]})}),g?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):v.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx(ks,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:t||o!=="all"?"Aucune ville trouve":"Aucune ville enregistre"}),s.jsx("p",{className:"text-gray-400 mt-2",children:t||o!=="all"?"Essayez de modifier vos critres de recherche":"Commencez par crer une nouvelle ville"})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:f.length===v.length&&v.length>0,onChange:E,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:f.includes(O.id),onChange:()=>N(O.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.code})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ks,{className:"w-4 h-4 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:O.segment_name||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(O.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>w(O.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(ap,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>S(O.id,O.name),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Hn,{className:"w-4 h-4"})})]})})]},O.id))})]})}),s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",v.length," ville(s)",o!=="all"&&" filtre(s)"]})})]}),n&&s.jsx(Bae,{cityId:i,onClose:F})]})}const so={async getAll(){return at.get("/profiles")},async getById(e){try{return await at.get(`/profiles/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return at.post("/profiles",e)},async update(e){const{id:t,...r}=e;return at.put(`/profiles/${t}`,r)},async delete(e){return at.delete(`/profiles/${e}`)}};function zae(e){return ur({queryKey:["users",e],queryFn:async()=>{const t=await so.getAll();return!e||e==="all"?t:t.filter(r=>r.role===e)}})}function qae(){const e=Ft();return Bt({mutationFn:async t=>{const r=zd();return so.create({id:r,...t})},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function $ae(){const e=Ft();return Bt({mutationFn:t=>so.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user"]})}})}function Hae(){const e=Ft();return Bt({mutationFn:t=>so.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function Vae(){const e=Ft();return Bt({mutationFn:async t=>so.update({id:t.user_id,segment_ids:t.segment_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function Wae(){const e=Ft();return Bt({mutationFn:async t=>so.update({id:t.user_id,city_ids:t.city_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function vL(){return ur({queryKey:["segments"],queryFn:()=>qd.getAll()})}function Gae(){return ur({queryKey:["cities"],queryFn:()=>Ec.getAll()})}function Kae(e){return ur({queryKey:["user",e,"segments"],queryFn:async()=>{const t=await so.getById(e);return!t||!t.segment_ids?[]:(await qd.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e})}function Yae(e){return ur({queryKey:["user",e,"cities"],queryFn:async()=>{const t=await so.getById(e);return!t||!t.city_ids?[]:(await Ec.getAll()).filter(n=>t.city_ids?.includes(n.id))},enabled:!!e})}const Xae=()=>{const[e,t]=C.useState("all"),[r,n]=C.useState(!1),[a,i]=C.useState(!1),[l,o]=C.useState(!1),[u,f]=C.useState(!1),[h,m]=C.useState(null),{data:g,isLoading:x}=zae(e),b=qae(),v=$ae(),w=Hae(),N=async D=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{await w.mutateAsync(D)}catch(F){console.error("Error deleting user:",F),alert("Erreur lors de la suppression")}},E=D=>{const O={admin:{label:"Administrateur",color:"bg-red-100 text-red-800",icon:eN},professor:{label:"Professeur",color:"bg-blue-100 text-blue-800",icon:Vx},gerant:{label:"Grant",color:"bg-green-100 text-green-800",icon:ls}}[D];if(!O)return null;const T=O.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${O.color}`,children:[s.jsx(T,{className:"w-3.5 h-3.5"}),O.label]})},S={total:g?.length||0,admin:g?.filter(D=>D.role==="admin").length||0,professor:g?.filter(D=>D.role==="professor").length||0,gerant:g?.filter(D=>D.role==="gerant").length||0};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 flex-col sm:flex-row w-full sm:w-auto",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Crer et grer les comptes utilisateurs (admin, professeur, grant)"})]})]}),s.jsxs(rt,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[s.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:S.admin}),s.jsx("p",{className:"text-sm text-gray-600",children:"Administrateurs"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.professor}),s.jsx("p",{className:"text-sm text-gray-600",children:"Professeurs"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.gerant}),s.jsx("p",{className:"text-sm text-gray-600",children:"Grants"})]})})})]}),s.jsxs(hn,{className:"mb-6",children:[s.jsx(ff,{children:s.jsx(df,{children:"Filtrer par rle"})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(rt,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:["Tous (",S.total,")"]}),s.jsxs(rt,{variant:e==="admin"?"default":"outline",size:"sm",onClick:()=>t("admin"),children:["Administrateurs (",S.admin,")"]}),s.jsxs(rt,{variant:e==="professor"?"default":"outline",size:"sm",onClick:()=>t("professor"),children:["Professeurs (",S.professor,")"]}),s.jsxs(rt,{variant:e==="gerant"?"default":"outline",size:"sm",onClick:()=>t("gerant"),children:["Grants (",S.gerant,")"]})]})})]}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:x?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):!g||g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ls,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur trouv"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom complet"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom d'utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.full_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.username}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(D.role)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(D.created_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(D.role==="professor"||D.role==="gerant")&&s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{m(D),o(!0)},title:"Assigner segments",children:s.jsx(du,{className:"w-4 h-4"})}),(D.role==="professor"||D.role==="gerant")&&s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{m(D),f(!0)},title:"Assigner villes",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{m(D),i(!0)},children:s.jsx(oF,{className:"w-4 h-4"})}),s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>N(D.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Hn,{className:"w-4 h-4"})})]})})]},D.id))})]})})})})]}),r&&s.jsx(Qae,{onClose:()=>n(!1),createUser:b}),a&&h&&s.jsx(Zae,{user:h,onClose:()=>{i(!1),m(null)},updateUser:v}),l&&h&&s.jsx(Jae,{user:h,onClose:()=>{o(!1),m(null)}}),u&&h&&s.jsx(eie,{user:h,onClose:()=>{f(!1),m(null)}})]})},Qae=({onClose:e,createUser:t})=>{const[r,n]=C.useState({username:"",password:"",full_name:"",role:"professor"}),[a,i]=C.useState(!1),l=async o=>{if(o.preventDefault(),!r.username||!r.password||!r.full_name){alert("Veuillez remplir tous les champs");return}try{await t.mutateAsync(r),e()}catch(u){console.error("Error creating user:",u),alert("Erreur lors de la cration de l'utilisateur")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nouvel utilisateur"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.full_name,onChange:o=>n({...r,full_name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jean Dupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.username,onChange:o=>n({...r,username:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jeandupont",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mot de passe ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a?"text":"password",value:r.password,onChange:o=>n({...r,password:o.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:a?s.jsx(Ys,{className:"w-5 h-5"}):s.jsx(Os,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rle ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:r.role,onChange:o=>n({...r,role:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:e,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:t.isPending,children:t.isPending?"Cration...":"Crer"})]})]})]})})},Zae=({user:e,onClose:t,updateUser:r})=>{const[n,a]=C.useState({username:e.username,password:"",full_name:e.full_name,role:e.role}),[i,l]=C.useState(!1),o=async u=>{u.preventDefault();try{const f={id:e.id,username:n.username,full_name:n.full_name,role:n.role};n.password&&(f.password=n.password),await r.mutateAsync(f),t()}catch(f){console.error("Error updating user:",f),alert("Erreur lors de la mise  jour")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Modifier l'utilisateur"}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),s.jsx("input",{type:"text",value:n.full_name,onChange:u=>a({...n,full_name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),s.jsx("input",{type:"text",value:n.username,onChange:u=>a({...n,username:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe (laisser vide pour ne pas modifier)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",value:n.password,onChange:u=>a({...n,password:u.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:i?s.jsx(Ys,{className:"w-5 h-5"}):s.jsx(Os,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),s.jsxs("select",{value:n.role,onChange:u=>a({...n,role:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"professor",children:"Professeur"}),s.jsx("option",{value:"gerant",children:"Grant"}),s.jsx("option",{value:"admin",children:"Administrateur"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:r.isPending,children:r.isPending?"Mise  jour...":"Mettre  jour"})]})]})]})})},Jae=({user:e,onClose:t})=>{const{data:r}=vL(),{data:n}=Kae(e.id),a=Vae(),[i,l]=C.useState([]);vd.useEffect(()=>{n&&l(n.map(f=>f.id))},[n]);const o=async f=>{f.preventDefault();try{await a.mutateAsync({user_id:e.id,segment_ids:i,role:e.role}),t()}catch(h){console.error("Error assigning segments:",h),alert("Erreur lors de l'assignation")}},u=f=>{l(h=>h.includes(f)?h.filter(m=>m!==f):[...h,f])};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des segments  ",e.full_name]}),s.jsxs("form",{onSubmit:o,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(f=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(f.id),onChange:()=>u(f.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"font-medium text-gray-900",children:f.name})}),s.jsx("div",{className:"w-4 h-4 rounded-full ml-2",style:{backgroundColor:f.color}})]},f.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:a.isPending,children:a.isPending?"Assignation...":"Assigner"})]})]})]})})},eie=({user:e,onClose:t})=>{const{data:r}=Gae(),{data:n}=vL(),{data:a}=Yae(e.id),i=Wae(),[l,o]=C.useState([]);vd.useEffect(()=>{a&&o(a.map(m=>m.id))},[a]);const u=async m=>{m.preventDefault();try{await i.mutateAsync({user_id:e.id,city_ids:l,role:e.role}),t()}catch(g){console.error("Error assigning cities:",g),alert("Erreur lors de l'assignation")}},f=m=>{o(g=>g.includes(m)?g.filter(x=>x!==m):[...g,m])},h=m=>n?.find(g=>g.id===m)?.name||"";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des villes  ",e.full_name]}),s.jsxs("form",{onSubmit:u,children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(m=>s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(m.id),onChange:()=>f(m.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:m.name}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",h(m.segment_id),")"]})]})]},m.id))}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:i.isPending,children:i.isPending?"Assignation...":"Assigner"})]})]})]})})};class tie{input="";pos=0;currentChar=null;parse(t){try{if(this.input=t.trim(),this.pos=0,this.currentChar=this.input.length>0?this.input[0]:null,!this.currentChar)return{success:!1,error:"Expression vide"};const r=this.parseExpression();return this.skipWhitespace(),this.currentChar!==null?{success:!1,error:`Caractre inattendu: ${this.currentChar}`}:{success:!0,ast:r}}catch(r){return{success:!1,error:r.message||"Erreur de parsing"}}}advance(){this.pos++,this.currentChar=this.pos<this.input.length?this.input[this.pos]:null}peek(t=1){const r=this.pos+t;return r<this.input.length?this.input[r]:null}skipWhitespace(){for(;this.currentChar&&/\s/.test(this.currentChar);)this.advance()}parseExpression(){let t=this.parseTerm();for(this.skipWhitespace();this.currentChar==="+"||this.currentChar==="-";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseTerm();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parseTerm(){let t=this.parseFactor();for(this.skipWhitespace();this.currentChar==="*"||this.currentChar==="/";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseFactor();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parsePostfix(){let t=this.parsePrimary();return this.skipWhitespace(),this.currentChar==="%"&&(this.advance(),t={type:"postfix",operator:"%",operand:t}),t}parseFactor(){let t=this.parseUnary();for(this.skipWhitespace();this.currentChar==="^";){this.advance(),this.skipWhitespace();const r=this.parseUnary();this.skipWhitespace(),t={type:"binary",operator:"^",left:t,right:r}}return t}parseUnary(){if(this.currentChar==="-"||this.currentChar==="+"){const t=this.currentChar;this.advance();const r=this.parseUnary();return{type:"unary",operator:t,operand:r}}return this.parsePostfix()}parsePrimary(){if(this.skipWhitespace(),this.currentChar&&/[0-9.]/.test(this.currentChar))return this.parseNumber();if(this.currentChar==='"')return this.parseString();if(this.currentChar&&/[A-Za-z_]/.test(this.currentChar))return this.parseIdentifier();if(this.currentChar==="("){this.advance();const t=this.parseExpression();if(this.skipWhitespace(),this.currentChar!==")")throw new Error("Parenthse fermante manquante");return this.advance(),t}if(this.currentChar===">"||this.currentChar==="<"||this.currentChar==="=")return this.parseComparison();throw new Error(`Caractre inattendu: ${this.currentChar}`)}parseNumber(){let t="",r=!1;for(;this.currentChar&&(/[0-9]/.test(this.currentChar)||this.currentChar===".");){if(this.currentChar==="."){if(r)throw new Error("Nombre invalide: deux points dcimaux");r=!0}t+=this.currentChar,this.advance()}const n=parseFloat(t);if(isNaN(n))throw new Error(`Nombre invalide: ${t}`);return{type:"number",value:n}}parseString(){this.advance();let t="";for(;this.currentChar&&this.currentChar!=='"';)this.currentChar==="\\"&&this.peek()==='"'?(this.advance(),t+='"',this.advance()):(t+=this.currentChar,this.advance());if(this.currentChar!=='"')throw new Error("Guillemet fermant manquant");return this.advance(),{type:"string",value:t}}parseIdentifier(){let t="";for(;this.currentChar&&/[A-Za-z0-9_]/.test(this.currentChar);)t+=this.currentChar,this.advance();return this.skipWhitespace(),t.toUpperCase()==="TRUE"?{type:"boolean",value:!0}:t.toUpperCase()==="FALSE"?{type:"boolean",value:!1}:this.currentChar==="("?this.parseFunction(t):{type:"reference",name:t}}parseFunction(t){this.advance();const r=[];if(this.skipWhitespace(),this.currentChar===")")return this.advance(),{type:"function",name:t.toUpperCase(),args:r};for(;;){if(r.push(this.parseExpression()),this.skipWhitespace(),this.currentChar===")"){this.advance();break}if(this.currentChar===","){this.advance(),this.skipWhitespace();continue}throw new Error("Virgule ou parenthse fermante attendue dans la fonction")}return{type:"function",name:t.toUpperCase(),args:r}}parseComparison(){throw new Error("Comparaisons not yet implemented")}}function yL(e){return new tie().parse(e)}const pN={SUM:e=>{let t=0;for(const r of e)if(typeof r=="number")t+=r;else if(typeof r=="string"){const n=parseFloat(r);isNaN(n)||(t+=n)}return t},AVG:e=>{if(e.length===0)return"#ERR";const t=pN.SUM(e);return typeof t=="number"?t/e.length:"#ERR"},MIN:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.min(...t):"#ERR"},MAX:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.max(...t):"#ERR"},COUNT:e=>e.filter(t=>t!=null).length,IF:e=>{if(e.length<2)return"#ERR";const t=e[0],r=e[1],n=e.length>2?e[2]:null;return t?r:n},ROUND:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0])),r=e.length>1&&typeof e[1]=="number"?e[1]:0;if(isNaN(t))return"#TYPE!";const n=Math.pow(10,r);return Math.round(t*n)/n},FLOOR:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.floor(t)},CEIL:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.ceil(t)},ABS:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.abs(t)},LEN:e=>e.length===0?"#ERR":String(e[0]||"").length,CONCAT:e=>e.map(t=>String(t||"")).join(""),COALESCE:e=>{for(const t of e)if(t!=null&&t!=="")return t;return null},TODAY:()=>new Date().toISOString().split("T")[0],DATE:e=>{if(e.length<3)return"#ERR";const t=Number(e[0]),r=Number(e[1]),n=Number(e[2]);return isNaN(t)||isNaN(r)||isNaN(n)?"#TYPE!":new Date(t,r-1,n).toISOString().split("T")[0]},YEAR:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getFullYear()},MONTH:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getMonth()+1},DAY:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getDate()},NUMBER:e=>{if(e.length===0)return"#ERR";const t=parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":t}};class rie{context;constructor(t={}){this.context=t}setContext(t){this.context=t}evaluate(t){try{const r=this.evaluateNode(t),n=typeof r=="string"&&r.startsWith("#");return{value:r,isError:n}}catch{return{value:"#ERR",isError:!0}}}evaluateNode(t){switch(t.type){case"number":return t.value;case"string":return t.value;case"boolean":return t.value;case"reference":return this.evaluateReference(t.name);case"binary":return this.evaluateBinary(t.operator,t.left,t.right);case"unary":return this.evaluateUnary(t.operator,t.operand);case"postfix":return this.evaluatePostfix(t.operator,t.operand);case"function":return this.evaluateFunction(t.name,t.args);case"error":return t.error;default:return"#ERR"}}evaluateReference(t){return t in this.context?this.context[t]:"#REF!"}evaluateBinary(t,r,n){const a=this.evaluateNode(r),i=this.evaluateNode(n);if(typeof a=="string"&&a.startsWith("#"))return a;if(typeof i=="string"&&i.startsWith("#"))return i;const l=typeof a=="number"?a:parseFloat(String(a)),o=typeof i=="number"?i:parseFloat(String(i));if(isNaN(l)||isNaN(o))return"#TYPE!";switch(t){case"+":return l+o;case"-":return l-o;case"*":return l*o;case"/":return o===0?"#DIV/0!":l/o;case"^":return Math.pow(l,o);case">":return l>o;case"<":return l<o;case">=":return l>=o;case"<=":return l<=o;case"=":case"==":return l===o;case"!=":case"<>":return l!==o;default:return"#ERR"}}evaluateUnary(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"-":return-a;case"+":return a;default:return"#ERR"}}evaluatePostfix(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"%":return a/100;default:return"#ERR"}}evaluateFunction(t,r){const n=t.toUpperCase();if(!(n in pN))return"#ERR";const a=[];for(const i of r){const l=this.evaluateNode(i);if(typeof l=="string"&&l.startsWith("#")&&!["SUM","COUNT","COALESCE"].includes(n))return l;a.push(l)}return pN[n](a)}}function nie(e,t={}){return new rie(t).evaluate(e)}class aie{graph={nodes:new Set,edges:new Map,reversEdges:new Map};buildGraph(t){this.graph={nodes:new Set,edges:new Map,reversEdges:new Map};for(const r of t)r.ref&&(this.graph.nodes.add(r.ref),this.graph.edges.set(r.ref,new Set),this.graph.reversEdges.set(r.ref,new Set));for(const r of t)if(r.type==="formula"&&r.ref&&r.props.expression){const n=this.extractDependencies(r.props.expression);this.graph.edges.set(r.ref,new Set(n));for(const a of n)this.graph.reversEdges.has(a)||this.graph.reversEdges.set(a,new Set),this.graph.reversEdges.get(a).add(r.ref)}}extractDependencies(t){const r=[],n=yL(t);return n.success&&n.ast&&this.extractReferencesFromAST(n.ast,r),[...new Set(r)]}extractReferencesFromAST(t,r){if(t){if(t.type==="reference")r.push(t.name);else if(t.type==="binary")this.extractReferencesFromAST(t.left,r),this.extractReferencesFromAST(t.right,r);else if(t.type==="unary")this.extractReferencesFromAST(t.operand,r);else if(t.type==="postfix")this.extractReferencesFromAST(t.operand,r);else if(t.type==="function")for(const n of t.args)this.extractReferencesFromAST(n,r)}}detectCycle(){const t=new Set,r=new Set,n=[];for(const a of this.graph.nodes)if(!t.has(a)&&this.detectCycleDFS(a,t,r,n))return n;return null}detectCycleDFS(t,r,n,a){r.add(t),n.add(t),a.push(t);const i=this.graph.edges.get(t)||new Set;for(const l of i)if(r.has(l)){if(n.has(l))return a.push(l),!0}else if(this.detectCycleDFS(l,r,n,a))return!0;return n.delete(t),a.pop(),!1}getEvaluationOrder(){if(this.detectCycle())return null;const r=new Set,n=[];for(const a of this.graph.nodes)r.has(a)||this.topologicalSortDFS(a,r,n);return n.reverse()}topologicalSortDFS(t,r,n){r.add(t);const a=this.graph.reversEdges.get(t)||new Set;for(const i of a)r.has(i)||this.topologicalSortDFS(i,r,n);n.push(t)}getDependents(t){const r=new Set,n=[t];for(;n.length>0;){const a=n.shift(),i=this.graph.reversEdges.get(a)||new Set;for(const l of i)r.has(l)||(r.add(l),n.push(l))}return r}}function M3(e,t={}){const r=new aie;r.buildGraph(e);const n=r.detectCycle();if(n){const l={...t};for(const o of n)l[o]="#CYCLE!";return l}const a=r.getEvaluationOrder();if(!a)return t;const i={...t};for(const l of a){const o=e.find(u=>u.ref===l);if(o)if(o.type==="formula"&&o.props.expression){const u=yL(o.props.expression);if(!u.success||!u.ast){i[l]="#ERR";continue}const f=nie(u.ast,i);i[l]=f.value}else o.type==="number"&&i[l]===void 0?i[l]=o.props.default!==void 0?o.props.default:0:o.type==="text"&&i[l]===void 0&&(i[l]=o.props.default!==void 0?o.props.default:"")}return i}const kc={async getAll(){return at.get("/calculation-sheets")},async getById(e){try{return await at.get(`/calculation-sheets/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return at.post("/calculation-sheets",e)},async update(e){const{id:t,...r}=e;return at.put(`/calculation-sheets/${t}`,r)},async delete(e){return at.delete(`/calculation-sheets/${e}`)}},iie=()=>ur({queryKey:["calculation-sheets"],queryFn:()=>kc.getAll()}),bL=e=>ur({queryKey:["calculation-sheet",e],queryFn:()=>kc.getById(e),enabled:!!e}),sie=()=>{const e=Ft();return Bt({mutationFn:async t=>{const r=zd(),n=new Date().toISOString();return kc.create({id:r,title:t.title,template_data:t.template_data||"{}",status:t.status||"draft",sheet_date:t.sheet_date||n,segment_ids:t.segment_ids,city_ids:t.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},wL=()=>{const e=Ft();return Bt({mutationFn:t=>kc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},lie=()=>{const e=Ft();return Bt({mutationFn:t=>kc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},oie=()=>{const e=Ft();return Bt({mutationFn:async t=>{const r=await kc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=r.status==="published"?"draft":"published";return kc.update({id:t,title:r.title,template_data:r.template_data,status:n,sheet_date:r.sheet_date,segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},cie=oie,uie=()=>{const e=Ft();return Bt({mutationFn:async t=>{const r=await kc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=zd();return kc.create({id:n,title:`${r.title} (copie)`,template_data:r.template_data,status:"draft",sheet_date:new Date().toISOString(),segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})};function fie(){const{id:e}=io(),[t,r]=U_(),n=t.get("mode")||"user",{data:a,isLoading:i}=bL(e||""),[l,o]=C.useState([]),[u,f]=C.useState("Fiche de Calcul"),[h,m]=C.useState({}),[g,x]=C.useState({}),[b,v]=C.useState(null),[w,N]=C.useState({}),[E]=C.useState({width:1200,height:800});C.useEffect(()=>{if(a&&(f(a.title),a.template_data))try{const T=JSON.parse(a.template_data);T.fields&&T.fields.length>0&&o(T.fields)}catch(T){console.error("Erreur lors du chargement du template:",T)}},[a]),C.useEffect(()=>{const T=M3(l,h);x(T)},[h,l]);const S=(T,M)=>{const B=l.find(R=>R.ref===T);if(!B)return;let H=M;B.type==="number"&&(H=M===""?0:parseFloat(M)||0),m(R=>({...R,[T]:H}))},D=(T,M)=>{N(B=>({...B,[T]:M}))},F=()=>{const T={values:h,calculatedValues:g,timestamp:new Date().toISOString()};localStorage.setItem("calculation_sheet_data",JSON.stringify(T)),v("Donnes sauvegardes avec succs!"),setTimeout(()=>v(null),3e3)};C.useEffect(()=>{const T=localStorage.getItem("calculation_sheet_data");if(T)try{const M=JSON.parse(T);m(M.values||{})}catch(M){console.error("Erreur lors du chargement des donnes:",M)}},[]);const O=T=>{const M=T.layout||{x:0,y:0,w:200,h:40};if(n==="user"&&T.visibility?.hidden)return null;const B=T.visibility?.hidden;if(T.type==="label")return s.jsxs("div",{className:`absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700 ${B?"opacity-60 ring-2 ring-red-400":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:[B&&n==="admin"&&s.jsx(Ys,{className:"w-4 h-4 mr-2 text-red-500"}),T.props.label]},T.id);if(T.type==="text"){const H=h[T.ref],R=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsx("input",{type:"text",value:R,onChange:U=>S(T.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},T.id)}if(T.type==="textarea"){const H=h[T.ref],R=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsx(Ys,{className:"w-4 h-4 text-red-500"})}),s.jsx("textarea",{value:R,onChange:U=>S(T.ref,U.target.value),placeholder:T.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]})},T.id)}if(T.type==="number"){const H=h[T.ref]!==void 0?h[T.ref]:T.props.default||0,R=typeof H=="number"||typeof H=="string"?H:"";return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-10",children:s.jsx(Ys,{className:"w-4 h-4 text-red-500"})}),s.jsx("input",{type:"number",step:"0.01",value:R,onChange:U=>S(T.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})},T.id)}if(T.type==="formula"){const H=g[T.ref],R=typeof H=="string"&&H.startsWith("#");return s.jsx("div",{className:`absolute flex items-center ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:`relative w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${R?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:[B&&n==="admin"&&s.jsx(Ys,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),typeof H=="number"?H.toFixed(T.props.decimals||2):String(H||"0")]})},T.id)}if(T.type==="frame")return s.jsx("div",{className:`absolute border-2 border-orange-400 rounded-lg bg-orange-50/30 ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm flex items-center",children:[B&&n==="admin"&&s.jsx(Ys,{className:"w-3 h-3 mr-2"}),T.props.label||"Cadre"]})},T.id);if(T.type==="file"){const H=w[T.ref];return s.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:H?s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex items-center justify-between gap-2",children:[B&&n==="admin"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ys,{className:"w-4 h-4 text-red-500"})}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(ss,{className:"w-5 h-5 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-teal-900 truncate",children:H.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(H.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>{const R=URL.createObjectURL(H);window.open(R,"_blank")},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Prvisualiser",children:s.jsx(Os,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>{const R=URL.createObjectURL(H),U=document.createElement("a");U.href=R,U.download=H.name,U.click(),URL.revokeObjectURL(R)},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-4 h-4 text-teal-700"})}),s.jsx("button",{onClick:()=>D(T.ref,null),className:"p-1.5 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(ji,{className:"w-4 h-4 text-red-600"})})]})]}):s.jsxs("label",{className:"w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 flex flex-col items-center justify-center cursor-pointer hover:bg-teal-100/50 transition-colors relative",children:[B&&n==="admin"&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(Ys,{className:"w-4 h-4 text-red-500"})}),s.jsx(sp,{className:"w-6 h-6 text-teal-600 mb-1"}),s.jsx("span",{className:"text-sm font-medium text-teal-700",children:T.props.label||"Tlcharger un fichier"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[T.props.accept||"Tous les fichiers"," (max ",T.props.maxSize||5," MB)"]}),s.jsx("input",{type:"file",accept:T.props.accept,onChange:R=>{const U=R.target.files?.[0];if(U){const K=(T.props.maxSize||5)*1024*1024;if(U.size>K){alert(`Le fichier est trop volumineux. Taille maximum: ${T.props.maxSize||5} MB`);return}D(T.ref,U)}},className:"hidden"})]})},T.id)}return null};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la fiche..."})]})}):!a||l.length===0?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(du,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune fiche trouve"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Cette fiche n'existe pas ou n'a pas encore de champs."}),s.jsxs(Ma,{to:"/admin/calculation-sheets",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(Vn,{className:"w-4 h-4"}),"Retour  la liste"]})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 w-full lg:w-auto",children:[s.jsx(Ma,{to:"/admin/calculation-sheets",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour  la liste",children:s.jsx(Vn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[s.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:u}),s.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 w-fit ${n==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:n==="admin"?s.jsxs(s.Fragment,{children:[s.jsx(eN,{className:"w-3 h-3"}),"Mode Admin"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vx,{className:"w-3 h-3"}),"Mode Utilisateur"]})})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:n==="admin"?"Tous les champs visibles - Simulation complte":"Mode Test - Vrifiez vos calculs"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r({mode:"admin"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="admin"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(eN,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),s.jsxs("button",{onClick:()=>r({mode:"user"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Vx,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Utilisateur"})]})]}),b&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 sm:px-4 py-2 rounded-lg",children:[s.jsx(nF,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:b})]}),s.jsxs("button",{onClick:F,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(fh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Sauvegarder Test"})]}),s.jsxs(Ma,{to:`/admin/calculation-sheets/${e}/editor`,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[s.jsx(np,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Modifier"})]})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${E.width}px`,minHeight:`${E.height}px`},children:l.map(T=>O(T))})}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(du,{className:"w-5 h-5"}),"Mode Test - Comment utiliser"]}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("p",{children:[" Saisissez des valeurs dans les champs ",s.jsx("strong",{children:"Nombre"})," et ",s.jsx("strong",{children:"Texte"})]}),s.jsx("p",{children:" Les formules se calculent automatiquement en temps rel"}),s.jsx("p",{children:" Vrifiez que les calculs sont corrects avant d'utiliser en production"}),s.jsx("p",{children:` Cliquez sur "Modifier" pour retourner  l'diteur et ajuster les champs`}),s.jsx("p",{children:" Les donnes de test sont sauvegardes temporairement"})]})]})]})]})}function die(){const e=pn(),[t,r]=C.useState(!1),[n,a]=C.useState(null),{data:i=[],isLoading:l}=iie(),{data:o=[]}=$d(),{data:u=[]}=fp(),f=lie(),h=cie(),m=uie(),g=i.map(N=>({...N,segments:o.filter(E=>N.segment_ids?.includes(E.id)),cities:u.filter(E=>N.city_ids?.includes(E.id))})),x=async(N,E)=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${E}" ?`))try{await f.mutateAsync(N)}catch(S){console.error("Erreur lors de la suppression:",S),alert("Erreur lors de la suppression de la fiche")}},b=async(N,E,S)=>{const D=E==="published"?"dpublier":"publier",F=E==="published"?`tes-vous sr de vouloir dpublier "${S}" ?

Les professeurs ne pourront plus l'utiliser.`:`tes-vous sr de vouloir publier "${S}" ?

Les professeurs pourront utiliser cette fiche.`;if(window.confirm(F))try{await h.mutateAsync(N)}catch(O){console.error(`Erreur lors de la ${D}ication:`,O),alert(`Erreur lors de la ${D}ication de la fiche`)}},v=async(N,E)=>{if(window.confirm(`Voulez-vous dupliquer "${E}" ?

Une copie en brouillon sera cre.`))try{await m.mutateAsync(N)}catch(S){console.error("Erreur lors de la duplication:",S),alert("Erreur lors de la duplication de la fiche")}},w=N=>{try{const E=JSON.parse(N.template_data),S={name:N.title,fields:E.fields||[],version:E.version||"1.0.0"},D=JSON.stringify(S,null,2),F=new Blob([D],{type:"application/json"}),O=URL.createObjectURL(F),T=document.createElement("a");T.href=O,T.download=`${N.title.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(O)}catch(E){console.error("Erreur lors de l'export:",E),alert("Erreur lors de l'export de la fiche")}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(Vn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(V0,{className:"w-8 h-8 text-blue-600"}),"Gestion des Fiches de Calcul"]})]}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Jn,{className:"w-5 h-5"}),"Nouvelle Fiche"]})]}),s.jsx("p",{className:"text-gray-600 ml-14",children:"Crer et grer les templates de fiches de calcul pour les sessions"})]}),l?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des fiches..."})]}):g.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(V0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune fiche cre"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire fiche de calcul"}),s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[s.jsx(Jn,{className:"w-5 h-5"}),"Crer ma premire fiche"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(N=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:N.title}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status==="published"?"Publie":"Brouillon"})]}),s.jsx(du,{className:"w-8 h-8 text-blue-500"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(G_,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Segments (",N.segments.length,")"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.segments.map(E=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:[s.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),E.name]},E.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[s.jsx(ks,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Villes (",N.cities.length,")"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.cities.slice(0,3).map(E=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:E.name},E.id)),N.cities.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",N.cities.length-3," autres"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Modifi le ",new Date(N.updated_at).toLocaleDateString("fr-FR")]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>b(N.id,N.status,N.title),disabled:h.isPending,className:`w-full px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors ${N.status==="published"?"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200":"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200"}`,children:N.status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(Ad,{className:"w-4 h-4"}),"Dpublier"]}):s.jsxs(s.Fragment,{children:[s.jsx(sp,{className:"w-4 h-4"}),"Publier"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ma,{to:`/admin/calculation-sheets/${N.id}`,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(Os,{className:"w-4 h-4"}),"Voir"]}),s.jsx("button",{onClick:()=>a(N),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg text-sm transition-colors",title:"Modifier les informations",children:s.jsx(Jv,{className:"w-4 h-4"})}),s.jsxs(Ma,{to:`/admin/calculation-sheets/${N.id}/editor`,className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[s.jsx(np,{className:"w-4 h-4"}),"Modifier"]})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>w(N),className:"flex-1 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",title:"Exporter en JSON",children:[s.jsx(Es,{className:"w-4 h-4"}),"Exporter"]}),s.jsx("button",{onClick:()=>v(N.id,N.title),className:"px-3 py-2 bg-cyan-50 hover:bg-cyan-100 text-cyan-700 rounded-lg text-sm transition-colors",title:"Dupliquer",children:s.jsx(F0,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>x(N.id,N.title),className:"px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm transition-colors",title:"Supprimer",children:s.jsx(Hn,{className:"w-4 h-4"})})]})]})]})},N.id))}),t&&s.jsx(hie,{onClose:()=>r(!1)}),n&&s.jsx(mie,{sheet:n,onClose:()=>a(null)})]})}function hie({onClose:e}){const[t,r]=C.useState(1),[n,a]=C.useState(""),[i,l]=C.useState([]),[o,u]=C.useState([]),f=pn(),h=sie(),{data:m=[]}=$d(),{data:g=[]}=fp(),x=g.filter(v=>i.includes(v.segment_id)),b=async()=>{try{const v=await h.mutateAsync({title:n,segment_ids:i,city_ids:o});e(),f(`/admin/calculation-sheets/${v.id}/editor`)}catch(v){console.error("Erreur lors de la cration:",v),alert("Erreur lors de la cration de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Crer une Fiche de Calcul"}),s.jsxs("p",{className:"text-green-100 text-sm",children:["tape ",t," sur 3"]})]}),s.jsx("button",{onClick:e,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[t===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",autoFocus:!0})]})]}),t===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",i.length," slectionn",i.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:m.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.includes(v.id),onChange:w=>{if(w.target.checked)l([...i,v.id]);else{l(i.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);u(o.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),t===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",o.length," slectionne",o.length>1?"s":"",")"]}),i.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(v.id),onChange:w=>{w.target.checked?u([...o,v.id]):u(o.filter(N=>N!==v.id))},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx(ks,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),s.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>t>1?r(t-1):e(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:t===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{t<3?r(t+1):b()},disabled:t===1&&!n,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t===3?"Crer la fiche":"Suivant"})]})]})})}function mie({sheet:e,onClose:t}){const[r,n]=C.useState(1),[a,i]=C.useState(e.title),[l,o]=C.useState(e.segment_ids||[]),[u,f]=C.useState(e.city_ids||[]),h=wL(),{data:m=[]}=$d(),{data:g=[]}=fp(),x=g.filter(v=>l.includes(v.segment_id)),b=async()=>{try{await h.mutateAsync({id:e.id,title:a,template_data:e.template_data,status:e.status,sheet_date:e.sheet_date,segment_ids:l,city_ids:u}),t()}catch(v){console.error("Erreur lors de la modification:",v),alert("Erreur lors de la modification de la fiche")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier la Fiche de Calcul"}),s.jsxs("p",{className:"text-purple-100 text-sm",children:["tape ",r," sur 3"]})]}),s.jsx("button",{onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[r===1&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),s.jsx("input",{type:"text",value:a,onChange:v=>i(v.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]})]}),r===2&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",l.length," slectionn",l.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:m.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l.includes(v.id),onChange:w=>{if(w.target.checked)o([...l,v.id]);else{o(l.filter(E=>E!==v.id));const N=g.filter(E=>E.segment_id===v.id).map(E=>E.id);f(u.filter(E=>!N.includes(E)))}},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color}}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name})]},v.id))})]}),r===3&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",u.length," slectionne",u.length>1?"s":"",")"]}),l.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):s.jsx("div",{className:"space-y-2",children:x.map(v=>s.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.includes(v.id),onChange:w=>{w.target.checked?f([...u,v.id]):f(u.filter(N=>N!==v.id))},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(ks,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"flex-1 font-medium text-gray-900",children:v.name}),s.jsx("span",{className:"text-sm text-gray-500",children:m.find(w=>w.id===v.segment_id)?.name})]},v.id))})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsx("button",{onClick:()=>r>1?n(r-1):t(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:r===1?"Annuler":"Prcdent"}),s.jsx("button",{onClick:()=>{r<3?n(r+1):b()},disabled:r===1&&!a||h.isPending,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Sauvegarde...":r===3?"Enregistrer":"Suivant"})]})]})})}function pie(){const{id:e}=io(),t=pn(),[r,n]=C.useState([]),[a,i]=C.useState(null),[l,o]=C.useState(null),[u,f]=C.useState(null),[h,m]=C.useState(1),[g,x]=C.useState("Nouvelle Fiche"),[b,v]=C.useState(!0),[w,N]=C.useState(null),[E,S]=C.useState({width:1200,height:800}),D=C.useRef(null),F=wL(),{data:O}=bL(e||"");C.useEffect(()=>{if(O&&(O.title&&x(O.title),O.template_data))try{const L=JSON.parse(O.template_data);if(L.fields&&L.fields.length>0){n(L.fields);const q=Math.max(...L.fields.map(W=>{const X=W.id.match(/field_(\d+)/);return X?parseInt(X[1]):0}));m(q+1)}}catch(L){console.error("Erreur lors du chargement des donnes:",L)}},[O]);const T=[{type:"label",icon:jd,label:"Label",color:"bg-gray-500"},{type:"text",icon:eW,label:"Texte",color:"bg-blue-500"},{type:"number",icon:W_,label:"Nombre",color:"bg-green-500"},{type:"formula",icon:du,label:"Formule",color:"bg-purple-500"},{type:"textarea",icon:Js,label:"Texte libre",color:"bg-indigo-500"},{type:"frame",icon:_H,label:"Cadre",color:"bg-orange-500"},{type:"file",icon:LV,label:"Pice jointe",color:"bg-teal-500"},{type:"link",icon:$x,label:"Lien",color:"bg-cyan-500"}],M=r.find(L=>L.id===a),B=(L,q,W)=>{const X=`field_${h}`;m(h+1);const ce={id:X,type:L,layout:{x:q,y:W,w:200,h:40}};switch(L){case"label":return{...ce,props:{label:"Nouveau label"}};case"text":return{...ce,ref:`TEXT_${h}`,props:{label:"Texte"}};case"number":return{...ce,ref:`NUM_${h}`,props:{label:"Nombre",decimals:2,default:0}};case"formula":return{...ce,ref:`FORMULA_${h}`,props:{label:"Formule",expression:"",decimals:2}};case"frame":return{...ce,props:{label:"Cadre"},children:[]};case"file":return{...ce,ref:`FILE_${h}`,props:{label:"Pice jointe",accept:".pdf,.jpg,.jpeg,.png",maxSize:5}};case"textarea":return{...ce,layout:{x:q,y:W,w:400,h:120},ref:`TEXTAREA_${h}`,props:{label:"Commentaires"}};case"link":return{...ce,props:{label:"Lien",url:"https://example.com"}};default:return ce}},H=L=>{o({type:L,isNew:!0})},R=(L,q)=>{const W=r.find(ae=>ae.id===q);if(!W)return;const X=L.currentTarget.getBoundingClientRect(),ce=L.clientX-X.left,ue=L.clientY-X.top;o({type:W.type,isNew:!1,fieldId:q,offsetX:ce,offsetY:ue}),i(q)},U=L=>{L.preventDefault()},K=L=>{if(L.preventDefault(),!l||!D.current)return;const q=D.current.getBoundingClientRect(),W=Math.round((L.clientX-q.left-(l.offsetX||0))/10)*10,X=Math.round((L.clientY-q.top-(l.offsetY||0))/10)*10;if(l.isNew){const ce=B(l.type,Math.max(0,W),Math.max(0,X));n([...r,ce]),i(ce.id)}else l.fieldId&&n(r.map(ce=>ce.id===l.fieldId?{...ce,layout:{...ce.layout,x:Math.max(0,W),y:Math.max(0,X)}}:ce));o(null)},ee=L=>{if(l&&!l.isNew&&l.fieldId&&D.current){const q=D.current.getBoundingClientRect(),W=Math.round((L.clientX-q.left-(l.offsetX||0))/10)*10,X=Math.round((L.clientY-q.top-(l.offsetY||0))/10)*10;n(r.map(ce=>ce.id===l.fieldId?{...ce,layout:{...ce.layout,x:Math.max(0,W),y:Math.max(0,X)}}:ce))}if(u&&D.current){const q=D.current.getBoundingClientRect(),W=L.clientX-q.left,X=L.clientY-q.top,ce=W-u.startX,ue=X-u.startY;n(r.map(ae=>{if(ae.id!==u.fieldId)return ae;let Se=u.startW,De=u.startH;return u.direction==="se"?(Se=Math.max(100,u.startW+ce),De=Math.max(50,u.startH+ue)):u.direction==="s"?De=Math.max(50,u.startH+ue):u.direction==="e"&&(Se=Math.max(100,u.startW+ce)),{...ae,layout:{...ae.layout,w:Math.round(Se/10)*10,h:Math.round(De/10)*10}}}))}},pe=()=>{o(null),f(null)},re=(L,q,W)=>{if(L.stopPropagation(),!D.current)return;const X=r.find(ue=>ue.id===q);if(!X)return;const ce=D.current.getBoundingClientRect();f({fieldId:q,direction:W,startX:L.clientX-ce.left,startY:L.clientY-ce.top,startW:X.layout.w,startH:X.layout.h})},se=(L,q,W)=>{n(r.map(X=>{if(X.id!==L)return X;const ce=q.split(".");return ce.length===1?{...X,[q]:W}:ce[0]==="props"?{...X,props:{...X.props,[ce[1]]:W}}:ce[0]==="layout"?{...X,layout:{...X.layout,[ce[1]]:W}}:X}))},ye=L=>{n(r.filter(q=>q.id!==L)),a===L&&i(null)},oe=L=>{const q=r.find(X=>X.id===L);if(!q)return;const W={...q,id:`field_${h}`,ref:q.ref?`${q.ref}_COPY`:void 0,layout:{...q.layout,x:q.layout.x+20,y:q.layout.y+20}};m(h+1),n([...r,W]),i(W.id)},ge=(L,q)=>{const W=r.findIndex(ce=>ce.id===L);if(W===-1)return;const X=[...r];q==="up"&&W<r.length-1?[X[W],X[W+1]]=[X[W+1],X[W]]:q==="down"&&W>0&&([X[W],X[W-1]]=[X[W-1],X[W]]),n(X)},Y=async()=>{if(!e){alert("Aucun ID de fiche trouv");return}try{const L={name:g,fields:r,version:"1.0.0"};await F.mutateAsync({id:e,title:g,template_data:JSON.stringify(L),status:O?.status||"draft",sheet_date:O?.sheet_date||new Date().toISOString()}),N("Fiche sauvegarde avec succs!"),setTimeout(()=>N(null),3e3)}catch(L){console.error("Erreur lors de la sauvegarde:",L),alert("Erreur lors de la sauvegarde de la fiche")}},P=()=>{const q=JSON.stringify({name:g,fields:r,version:"1.0.0"},null,2),W=new Blob([q],{type:"application/json"}),X=URL.createObjectURL(W),ce=document.createElement("a");ce.href=X,ce.download=`${g.toLowerCase().replace(/\s+/g,"-")}.json`,ce.click(),URL.revokeObjectURL(X)};return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"text",value:g,onChange:L=>x(L.target.value),className:"text-xl font-bold border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," champ(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[w&&s.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[s.jsx(rF,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:w})]}),s.jsx("button",{onClick:()=>v(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,title:"Grille",children:s.jsx(V_,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:Y,disabled:F.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(fh,{className:"w-5 h-5"}),F.isPending?"Sauvegarde...":"Sauvegarder"]}),s.jsxs("button",{onClick:P,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Es,{className:"w-5 h-5"}),"Exporter JSON"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=admin`),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Os,{className:"w-5 h-5"}),"Voir (Admin)"]}),s.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=user`),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Os,{className:"w-5 h-5"}),"Voir (Utilisateur)"]})]}),s.jsx("button",{onClick:()=>t("/admin/calculation-sheets"),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",children:"Retour  la liste"})]})]}),s.jsxs("div",{className:"flex-1 flex min-h-0",children:[s.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Composants"}),s.jsx("div",{className:"space-y-2",children:T.map(L=>{const q=L.icon;return s.jsxs("div",{draggable:!0,onDragStart:()=>H(L.type),className:`${L.color} text-white rounded-lg p-3 cursor-move hover:opacity-90 transition-opacity flex items-center gap-2`,children:[s.jsx(q,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:L.label})]},L.type)})}),s.jsxs("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:" Glisser-dposer"}),s.jsx("p",{className:"text-xs",children:"Faites glisser un composant sur le canvas pour l'ajouter"})]})]}),s.jsx("div",{className:"flex-1 bg-gray-100 overflow-auto p-4 min-w-0",children:s.jsxs("div",{ref:D,onDragOver:U,onDrop:K,onMouseMove:ee,onMouseUp:pe,className:"relative bg-white rounded-lg shadow-sm",style:{width:`${E.width}px`,height:`${E.height}px`,backgroundImage:b?"linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)":"none",backgroundSize:b?"20px 20px":"auto"},children:[r.map(L=>{const q=L.id===a,W=T.find(ue=>ue.type===L.type),X=L.type==="frame",ce=L.visibility?.hidden;return X?s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||R(ue,L.id)},onClick:ue=>{ue.stopPropagation(),i(L.id)},className:`absolute border-2 rounded-lg ${ce?"opacity-50":""} ${q?"border-orange-500 bg-orange-50/30":"border-orange-300 bg-orange-50/10 hover:border-orange-400"}`,style:{left:L.layout.x,top:L.layout.y,width:L.layout.w,height:L.layout.h},children:[s.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm cursor-move flex items-center justify-between",children:[s.jsx("span",{children:L.props.label||"Cadre"}),ce&&s.jsx(Ys,{className:"w-4 h-4"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),oe(L.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(F0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ye(L.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Hn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-orange-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"e")},title:"Redimensionner"})]})]},L.id):L.type==="link"?s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||R(ue,L.id)},onClick:ue=>{ue.stopPropagation(),i(L.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${ce?"opacity-50":""} ${q?"border-cyan-500 bg-cyan-50":"border-cyan-300 bg-white hover:border-cyan-400"}`,style:{left:L.layout.x,top:L.layout.y,width:L.layout.w,height:L.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[s.jsx($x,{className:"w-4 h-4 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-cyan-900 truncate",children:L.props.label||"Lien"}),L.props.url&&s.jsx("div",{className:"text-xs text-cyan-600 truncate",children:L.props.url})]}),ce&&s.jsx(Ys,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),oe(L.id)},className:"w-6 h-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(F0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ye(L.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Hn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-cyan-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"e")},title:"Redimensionner"})]})]},L.id):s.jsxs("div",{onMouseDown:ue=>{ue.target.classList.contains("resize-handle")||R(ue,L.id)},onClick:ue=>{ue.stopPropagation(),i(L.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${ce?"opacity-50":""} ${q?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"}`,style:{left:L.layout.x,top:L.layout.y,width:L.layout.w,height:L.layout.h},children:[s.jsxs("div",{className:"flex items-center gap-2 h-full",children:[W&&s.jsx(W.icon,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:L.props.label||L.type}),L.ref&&s.jsx("div",{className:"text-xs text-gray-500 truncate",children:L.ref})]}),ce&&s.jsx(Ys,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),oe(L.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:s.jsx(F0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ye(L.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:s.jsx(Hn,{className:"w-3 h-3"})})]}),s.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"se")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"s")},title:"Redimensionner"}),s.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ue=>{ue.stopPropagation(),re(ue,L.id,"e")},title:"Redimensionner"})]})]},L.id)}),r.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jn,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-lg font-medium",children:"Glissez des composants ici"}),s.jsx("p",{className:"text-sm mt-1",children:"Commencez par ajouter des champs depuis la barre d'outils"})]})})]})}),s.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Proprits"}),s.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Taille du Canvas"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur (px)"}),s.jsx("input",{type:"number",value:E.width,onChange:L=>S({...E,width:Math.max(800,parseInt(L.target.value)||1200)}),min:"800",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur (px)"}),s.jsx("input",{type:"number",value:E.height,onChange:L=>S({...E,height:Math.max(600,parseInt(L.target.value)||800)}),min:"600",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>S({width:1200,height:800}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Standard"}),s.jsx("button",{onClick:()=>S({width:1600,height:1200}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Large"}),s.jsx("button",{onClick:()=>S({width:2e3,height:1600}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"XL"})]})]}),M?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded text-sm font-medium text-gray-900",children:T.find(L=>L.type===M.type)?.label})]}),M.type!=="label"&&M.type!=="frame"&&M.type!=="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rfrence"}),s.jsx("input",{type:"text",value:M.ref||"",onChange:L=>se(M.id,"ref",L.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"EX: MONTANT_TOTAL"})]}),M.type==="file"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Types de fichiers accepts"}),s.jsx("input",{type:"text",value:M.props.accept||"",onChange:L=>se(M.id,"props.accept",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:".pdf,.jpg,.png"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sparez par des virgules (ex: .pdf,.jpg,.png)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille maximum (MB)"}),s.jsx("input",{type:"number",min:"1",max:"50",value:M.props.maxSize||5,onChange:L=>se(M.id,"props.maxSize",parseInt(L.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),M.type==="link"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL du lien"}),s.jsx("input",{type:"url",value:M.props.url||"",onChange:L=>se(M.id,"props.url",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le lien s'ouvrira dans un nouvel onglet"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),s.jsx("input",{type:"text",value:M.props.label||"",onChange:L=>se(M.id,"props.label",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),M.type==="formula"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expression"}),s.jsx("textarea",{value:M.props.expression||"",onChange:L=>se(M.id,"props.expression",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:3,placeholder:"EX: HEURES_REAL*TARIF_H"})]}),(M.type==="number"||M.type==="formula")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dcimales"}),s.jsx("input",{type:"number",min:"0",max:"10",value:M.props.decimals||0,onChange:L=>se(M.id,"props.decimals",parseInt(L.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),M.type==="number"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur par dfaut"}),s.jsx("input",{type:"number",step:"0.01",value:typeof M.props.default=="number"||typeof M.props.default=="string"?M.props.default:0,onChange:L=>se(M.id,"props.default",parseFloat(L.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Position & Taille"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"X"}),s.jsx("input",{type:"number",value:M.layout.x,onChange:L=>se(M.id,"layout.x",parseInt(L.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Y"}),s.jsx("input",{type:"number",value:M.layout.y,onChange:L=>se(M.id,"layout.y",parseInt(L.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur"}),s.jsx("input",{type:"number",value:M.layout.w,onChange:L=>se(M.id,"layout.w",parseInt(L.target.value)||50),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur"}),s.jsx("input",{type:"number",value:M.layout.h,onChange:L=>se(M.id,"layout.h",parseInt(L.target.value)||30),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Visibilit"}),s.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[s.jsx("input",{type:"checkbox",checked:M.visibility?.hidden||!1,onChange:L=>{const q={...M.visibility,hidden:L.target.checked};se(M.id,"visibility",q)},className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ys,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Masquer pour les professeurs"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce champ sera invisible dans le mode test et pour les professeurs"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Actions"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>ge(M.id,"up"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(gH,{className:"w-4 h-4"}),"Avant"]}),s.jsxs("button",{onClick:()=>ge(M.id,"down"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[s.jsx(mH,{className:"w-4 h-4"}),"Arrire"]})]})]})]}):s.jsx("div",{className:"text-center py-12 text-gray-400",children:s.jsx("p",{children:"Slectionnez un champ pour voir ses proprits"})})]})})]})]})}const $i={async getAll(e){const t=e?{professor_id:e}:void 0;return at.get("/declarations",t)},async getById(e){try{return await at.get(`/declarations/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return at.post("/declarations",e)},async update(e){const{id:t,...r}=e;return at.put(`/declarations/${t}`,r)},async delete(e){return at.delete(`/declarations/${e}`)}};function xie(e){return ur({queryKey:["admin-declarations",e],queryFn:async()=>{const t=await $i.getAll();return e&&e!=="all"?t.filter(r=>r.status===e):t}})}function gie(){const e=Ft();return Bt({mutationFn:async t=>$i.update({id:t,status:"approuvee"}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function NL(){const e=Ft();return Bt({mutationFn:async({id:t,reason:r})=>$i.update({id:t,status:"refusee",rejection_reason:r}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function vie(){const e=Ft();return Bt({mutationFn:async({id:t,reason:r})=>{const n=await $i.getById(t);if(!n)throw new Error("Dclaration non trouve");return $i.update({id:t,form_data:n.form_data,status:"en_cours",rejection_reason:r})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function yie(e){return ur({queryKey:["admin-declaration",e],queryFn:()=>$i.getById(e),enabled:!!e})}const _L=vie;function jL(){const e=Ft();return Bt({mutationFn:t=>$i.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]})}})}function bie(){return ur({queryKey:["declaration-stats"],queryFn:async()=>{const e=await $i.getAll();return{total:e.length,soumises:e.filter(t=>t.status==="soumise").length,en_cours:e.filter(t=>t.status==="en_cours").length,approuvees:e.filter(t=>t.status==="approuvee").length,refusees:e.filter(t=>t.status==="refusee").length,brouillon:e.filter(t=>t.status==="brouillon").length,a_declarer:e.filter(t=>t.status==="a_declarer").length}}})}function wie(){const e=Ft();return Bt({mutationFn:async t=>$i.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}function Nie({declaration:e,onClose:t}){const[r,n]=C.useState({segment_id:e.segment_id,city_id:e.city_id,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],status:e.status}),{data:a=[]}=$d(),{data:i=[]}=fp(),l=wie(),o=i.filter(f=>f.segment_id===r.segment_id);C.useEffect(()=>{r.segment_id&&r.city_id&&(i.find(h=>h.id===r.city_id&&h.segment_id===r.segment_id)||n(h=>({...h,city_id:""})))},[r.segment_id,r.city_id,i]);const u=async f=>{if(f.preventDefault(),!r.segment_id||!r.city_id||!r.start_date||!r.end_date){alert("Veuillez remplir tous les champs obligatoires");return}if(new Date(r.end_date)<new Date(r.start_date)){alert("La date de fin doit tre postrieure  la date de dbut");return}try{await l.mutateAsync({id:e.id,...r}),t()}catch(h){console.error("Erreur lors de la modification:",h),alert("Erreur lors de la modification de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(np,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Modifier la dclaration"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["Professeur: ",e.professor_name]})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:s.jsx(ji,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),s.jsxs("div",{className:"relative",children:[s.jsx(G_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.segment_id,onChange:f=>n({...r,segment_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),a.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.city_id,onChange:f=>n({...r,city_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",disabled:!r.segment_id,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),o.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]})]}),!r.segment_id&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Veuillez d'abord slectionner un segment"}),r.segment_id&&o.length===0&&s.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.start_date,onChange:f=>n({...r,start_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",required:!0,value:r.end_date,onChange:f=>n({...r,end_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ZV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsxs("select",{required:!0,value:r.status,onChange:f=>n({...r,status:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[s.jsx("option",{value:"brouillon",children:"Brouillon"}),s.jsx("option",{value:"a_declarer",children:" dclarer"}),s.jsx("option",{value:"en_cours",children:"En cours"}),s.jsx("option",{value:"soumise",children:"Soumise"}),s.jsx("option",{value:"approuvee",children:"Approuve"}),s.jsx("option",{value:"refusee",children:"Refuse"})]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Vous pouvez changer le statut (ex: de brouillon   dclarer)"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:l.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending?"Modification...":"Modifier"})]})]})]})})}const _ie=()=>{const e=pn(),[t,r]=C.useState("all"),[n,a]=C.useState("all"),[i,l]=C.useState("all"),[o,u]=C.useState("all"),[f,h]=C.useState(null),[m,g]=C.useState(""),[x,b]=C.useState(!1),[v,w]=C.useState(!1),[N,E]=C.useState(!1),[S,D]=C.useState(null),{data:F=[],isLoading:O}=xie(t),{data:T}=bie(),M=NL(),B=_L(),H=jL(),R=vd.useMemo(()=>Array.from(new Set(F.map(Y=>Y.professor_name))).sort(),[F]),U=vd.useMemo(()=>Array.from(new Set(F.map(Y=>Y.city_name))).sort(),[F]),K=vd.useMemo(()=>Array.from(new Set(F.map(Y=>Y.segment_name))).sort(),[F]),ee=vd.useMemo(()=>F.filter(ge=>!(n!=="all"&&ge.professor_name!==n||i!=="all"&&ge.city_name!==i||o!=="all"&&ge.segment_name!==o)),[F,n,i,o]),pe={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800",bgColor:"bg-gray-50 border-gray-200",hoverColor:"hover:bg-gray-100",icon:ss},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800",bgColor:"bg-orange-50 border-orange-200",hoverColor:"hover:bg-orange-100",icon:Wr},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800",bgColor:"bg-blue-50 border-blue-200",hoverColor:"hover:bg-blue-100",icon:As},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800",bgColor:"bg-yellow-50 border-yellow-200",hoverColor:"hover:bg-yellow-100",icon:Wr},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800",bgColor:"bg-green-50 border-green-200",hoverColor:"hover:bg-green-100",icon:si},refusee:{label:"Refuse",color:"bg-red-100 text-red-800",bgColor:"bg-red-50 border-red-200",hoverColor:"hover:bg-red-100",icon:Ad}},re=async()=>{if(!f||!m.trim()){alert("Veuillez fournir un motif de refus");return}try{await M.mutateAsync({id:f.id,reason:m}),b(!1),g(""),h(null)}catch(ge){console.error("Error rejecting declaration:",ge),alert("Erreur lors du refus")}},se=async()=>{if(!f||!m.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await B.mutateAsync({id:f.id,reason:m}),w(!1),g(""),h(null)}catch(ge){console.error("Error requesting modification:",ge),alert("Erreur lors de la demande de modification")}},ye=async ge=>{const Y=`tes-vous sr de vouloir supprimer cette dclaration de ${ge.professor_name} ?

Cette action est irrversible.`;if(confirm(Y))try{await H.mutateAsync(ge.id)}catch(P){console.error("Error deleting declaration:",P),alert("Erreur lors de la suppression de la dclaration")}},oe=ge=>new Date(ge).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[s.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"w-full sm:w-auto",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Dclarations"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Valider, refuser ou demander des modifications"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[T&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T.a_declarer||0}),s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.soumises}),s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.en_cours}),s.jsx("p",{className:"text-sm text-gray-600",children:"En cours"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.approuvees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.refusees}),s.jsx("p",{className:"text-sm text-gray-600",children:"Refuses"})]})})})]}),s.jsxs(hn,{className:"mb-6",children:[s.jsx(ff,{children:s.jsx(df,{children:"Filtres"})}),s.jsxs(mn,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par statut"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(rt,{variant:t==="all"?"default":"outline",onClick:()=>r("all"),children:"Toutes"}),s.jsx(rt,{variant:t==="a_declarer"?"default":"outline",onClick:()=>r("a_declarer"),children:" dclarer"}),s.jsx(rt,{variant:t==="soumise"?"default":"outline",onClick:()=>r("soumise"),children:"Soumises"}),s.jsx(rt,{variant:t==="en_cours"?"default":"outline",onClick:()=>r("en_cours"),children:"En cours"}),s.jsx(rt,{variant:t==="approuvee"?"default":"outline",onClick:()=>r("approuvee"),children:"Approuves"}),s.jsx(rt,{variant:t==="refusee"?"default":"outline",onClick:()=>r("refusee"),children:"Refuses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par professeur"}),s.jsxs("select",{value:n,onChange:ge=>a(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les professeurs"}),R.filter(ge=>ge!==void 0).map(ge=>s.jsx("option",{value:ge,children:ge},ge))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par ville"}),s.jsxs("select",{value:i,onChange:ge=>l(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Toutes les villes"}),U.filter(ge=>ge!==void 0).map(ge=>s.jsx("option",{value:ge,children:ge},ge))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par segment"}),s.jsxs("select",{value:o,onChange:ge=>u(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[s.jsx("option",{value:"all",children:"Tous les segments"}),K.filter(ge=>ge!==void 0).map(ge=>s.jsx("option",{value:ge,children:ge},ge))]})]})]})]})]}),s.jsxs(hn,{children:[s.jsx(ff,{children:s.jsxs(df,{children:["Dclarations (",ee.length,")"]})}),s.jsx(mn,{children:O?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):ee.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ss,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Aucune dclaration trouve"})]}):s.jsx("div",{className:"space-y-4",children:ee.map(ge=>{const Y=pe[ge.status].icon,P=pe[ge.status];return s.jsx("div",{className:`border rounded-lg p-4 transition-all ${P.bgColor} ${P.hoverColor}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:ge.professor_name}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${P.color}`,children:[s.jsx(Y,{className:"w-3 h-3"}),P.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",ge.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",ge.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",oe(ge.start_date)," - ",oe(ge.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Soumise le:"})," ",ge.submitted_at?oe(ge.submitted_at):"N/A"]})]}),ge.rejection_reason&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[s.jsx("span",{className:"font-medium",children:"Motif:"})," ",ge.rejection_reason]})]}),s.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[s.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{D(ge),E(!0)},className:"bg-white hover:bg-purple-50 border-purple-300",title:"Modifier les mtadonnes",children:s.jsx(np,{className:"w-4 h-4"})}),s.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>e(`/admin/declarations/${ge.id}`),className:"bg-white hover:bg-blue-50 border-blue-300",children:[s.jsx(o2,{className:"w-4 h-4 mr-1"}),"Ouvrir"]}),s.jsx(rt,{variant:"outline",size:"sm",className:"bg-white text-red-600 hover:bg-red-50 border-red-300",onClick:()=>ye(ge),children:s.jsx(Hn,{className:"w-4 h-4"})})]})]})},ge.id)})})})]})]}),f&&!x&&!v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dtails de la dclaration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Professeur:"})," ",f.professor_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Segment:"})," ",f.segment_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ville:"})," ",f.city_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fiche de calcul:"})," ",f.sheet_title]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priode:"})," ",oe(f.start_date)," - ",oe(f.end_date)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Statut:"})," ",s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${pe[f.status].color}`,children:pe[f.status].label})]}),f.form_data&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Donnes du formulaire:"}),s.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded text-sm overflow-x-auto",children:JSON.stringify(JSON.parse(f.form_data),null,2)})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-6",children:s.jsx(rt,{variant:"outline",onClick:()=>h(null),children:"Fermer"})})]})})}),x&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:f.professor_name})]}),s.jsx("textarea",{value:m,onChange:ge=>g(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{b(!1),g(""),h(null)},children:"Annuler"}),s.jsx(rt,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:re,disabled:!m.trim(),children:"Refuser"})]})]})})}),v&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:f.professor_name})]}),s.jsx("textarea",{value:m,onChange:ge=>g(ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{w(!1),g(""),h(null)},children:"Annuler"}),s.jsx(rt,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:se,disabled:!m.trim(),children:"Demander"})]})]})})}),N&&S&&s.jsx(Nie,{declaration:S,onClose:()=>{E(!1),D(null)}})]})};function jie(){const{user:e}=_i();return ur({queryKey:["professor-declarations",e?.id],queryFn:()=>$i.getAll(e?.id),enabled:!!e?.id})}function Sie(e){return ur({queryKey:["professor-declaration",e],queryFn:()=>$i.getById(e),enabled:!!e})}function Aie(){const e=Ft(),{user:t}=_i();return Bt({mutationFn:async r=>{if(!t?.id)throw new Error("Utilisateur non connect");const n=zd();return $i.create({id:n,professor_id:t.id,...r,form_data:JSON.stringify(r.form_data||{})})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function SL(){const e=Ft();return Bt({mutationFn:async t=>$i.update({id:t.id,form_data:JSON.stringify(t.form_data)}),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function AL(){const e=Ft();return Bt({mutationFn:async t=>{const r=await $i.getById(t);if(!r)throw new Error("Dclaration non trouve");return $i.update({id:t,form_data:r.form_data,status:"soumise"})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function Eie(){const e=Ft();return Bt({mutationFn:t=>$i.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function kie(){return ur({queryKey:["available-calculation-sheets"],queryFn:async()=>(await kc.getAll()).filter(t=>t.status==="published")})}function Cie(){const{user:e}=_i();return ur({queryKey:["professor-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const t=await so.getById(e.id);return!t||!t.segment_ids?[]:(await qd.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e?.id})}function Tie(){const{user:e}=_i(),t=ur({queryKey:["professor-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await so.getById(e.id);return!r||!r.city_ids?[]:(await Ec.getAll()).filter(a=>r.city_ids?.includes(a.id)).map(a=>({id:a.id,name:a.name,segment_id:a.segment_id,segment_name:a.segment_name}))},enabled:!!e?.id});return{data:t.data,isLoading:t.isLoading}}const Oie=({files:e,currentIndex:t,onClose:r,onNavigate:n})=>{const a=e[t];C.useEffect(()=>{const f=h=>{h.key==="Escape"&&r()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r]),C.useEffect(()=>{const f=h=>{h.key==="ArrowLeft"&&t>0?n(t-1):h.key==="ArrowRight"&&t<e.length-1&&n(t+1)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,e.length,n]);const i=()=>{try{const f=a.data.split(",")[1],h=a.data.split(",")[0].split(":")[1].split(";")[0],m=atob(f),g=new ArrayBuffer(m.length),x=new Uint8Array(g);for(let N=0;N<m.length;N++)x[N]=m.charCodeAt(N);const b=new Blob([g],{type:h}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download=a.name,w.click(),URL.revokeObjectURL(v)}catch(f){console.error("Erreur lors du tlchargement:",f),alert("Erreur lors du tlchargement du fichier")}},l=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(2)} KB`:`${(f/(1024*1024)).toFixed(2)} MB`,o=a.type.startsWith("image/"),u=a.type==="application/pdf";return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:r,children:s.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:a.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[l(a.size),"  ",a.type]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Tlcharger",children:[s.jsx(Es,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]}),s.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",title:"Fermer (chap)",children:s.jsx(ji,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-100",children:o?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("img",{src:a.data,alt:a.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):u?s.jsx("iframe",{src:a.data,className:"w-full h-full min-h-[600px] rounded-lg shadow-lg",title:a.name}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(ss,{className:"w-24 h-24 text-gray-400 mb-4"}),s.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Prvisualisation non disponible"}),s.jsxs("p",{className:"text-gray-500 mb-6",children:["Ce type de fichier ne peut pas tre prvisualis.",s.jsx("br",{}),`Cliquez sur "Tlcharger" pour l'ouvrir sur votre ordinateur.`]}),s.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Es,{className:"w-4 h-4"}),"Tlcharger le fichier"]})]})}),e.length>1&&s.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[s.jsxs("button",{onClick:()=>n(t-1),disabled:t===0,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(z_,{className:"w-4 h-4"}),"Prcdent"]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[t+1," / ",e.length]}),s.jsxs("button",{onClick:()=>n(t+1),disabled:t===e.length-1,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Suivant",s.jsx(Io,{className:"w-4 h-4"})]})]})]})})},Die=()=>{const{id:e}=io(),t=pn(),{data:r,isLoading:n}=yie(e),a=gie(),i=NL(),l=_L(),o=SL(),u=jL(),[f,h]=C.useState([]),[m,g]=C.useState({}),[x,b]=C.useState({}),[v,w]=C.useState({width:1200,height:800}),[N,E]=C.useState(!1),[S,D]=C.useState(!1),[F,O]=C.useState(""),[T,M]=C.useState(null),[B,H]=C.useState(!1),[R,U]=C.useState([]),[K,ee]=C.useState(0);C.useEffect(()=>{if(r?.template_data)try{const L=JSON.parse(r.template_data);L.fields&&L.fields.length>0&&h(L.fields),L.canvasSize&&w(L.canvasSize)}catch(L){console.error("Error parsing template:",L)}if(r?.form_data)try{const L=JSON.parse(r.form_data);g(L)}catch(L){console.error("Error parsing form data:",L)}},[r]),C.useEffect(()=>{const L=M3(f,m);b(L)},[m,f]);const pe=(L,q)=>{const W=f.find(ce=>ce.ref===L);if(!W)return;let X=q;W.type==="number"&&(X=q===""?0:parseFloat(q)||0),g(ce=>({...ce,[L]:X}))},re=async()=>{if(e)try{await o.mutateAsync({id:e,form_data:m}),M("Modifications sauvegardes avec succs!"),setTimeout(()=>M(null),3e3)}catch(L){console.error("Error saving declaration:",L),alert("Erreur lors de la sauvegarde")}},se=async()=>{if(confirm("Voulez-vous vraiment approuver cette dclaration ?"))try{await a.mutateAsync(e),t("/admin/declarations")}catch(L){console.error("Error approving declaration:",L),alert("Erreur lors de l'approbation")}},ye=async()=>{if(!F.trim()){alert("Veuillez fournir un motif de refus");return}try{await i.mutateAsync({id:e,reason:F}),t("/admin/declarations")}catch(L){console.error("Error rejecting declaration:",L),alert("Erreur lors du refus")}},oe=async()=>{if(!F.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await l.mutateAsync({id:e,reason:F}),t("/admin/declarations")}catch(L){console.error("Error requesting modification:",L),alert("Erreur lors de la demande de modification")}},ge=async()=>{const L=`tes-vous sr de vouloir supprimer cette dclaration de ${r?.professor_name} ?

Cette action est irrversible.`;if(confirm(L))try{await u.mutateAsync(e),t("/admin/declarations")}catch(q){console.error("Error deleting declaration:",q),alert("Erreur lors de la suppression de la dclaration")}},Y=L=>{const q=L.layout||{x:0,y:0,w:200,h:40},W=L.visibility?.hidden===!0,X=ue=>W?`${ue} ring-2 ring-red-400 ring-offset-2`:ue,ce=()=>W?s.jsx("div",{className:"absolute -top-2 -right-2 z-10 px-2 py-0.5 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:"ADMIN"}):null;if(L.type==="label")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:X("w-full h-full bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700"),children:L.props.label}),s.jsx(ce,{})]},L.id);if(L.type==="text"){const ue=m[L.ref],ae=typeof ue=="string"||typeof ue=="number"?String(ue):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"text",value:ae,onChange:Se=>pe(L.ref,Se.target.value),className:X("w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent")}),s.jsx(ce,{})]},L.id)}if(L.type==="textarea"){const ue=m[L.ref],ae=typeof ue=="string"||typeof ue=="number"?String(ue):"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("textarea",{value:ae,onChange:Se=>pe(L.ref,Se.target.value),placeholder:L.props.label||"crivez vos commentaires ici...",className:X("w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none")}),s.jsx(ce,{})]},L.id)}if(L.type==="number"){const ue=m[L.ref]!==void 0?m[L.ref]:L.props.default||0,ae=typeof ue=="number"||typeof ue=="string"?ue:"";return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("input",{type:"number",step:"0.01",value:ae,onChange:Se=>pe(L.ref,Se.target.value),className:X("w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent")}),s.jsx(ce,{})]},L.id)}if(L.type==="formula"){const ue=x[L.ref],ae=typeof ue=="string"&&ue.startsWith("#");return s.jsxs("div",{className:"absolute flex items-center",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:X(`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${ae?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`),children:typeof ue=="number"?ue.toFixed(L.props.decimals||2):String(ue||"0")}),s.jsx(ce,{})]},L.id)}if(L.type==="frame")return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsx("div",{className:X("w-full h-full border-2 border-orange-400 rounded-lg bg-orange-50/30"),children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:L.props.label||"Cadre"})}),s.jsx(ce,{})]},L.id);if(L.type==="file"){const ue=m[L.ref],ae=ue&&Array.isArray(ue)&&ue.length>0,Se=Ke=>Ke<1024?`${Ke} B`:Ke<1024*1024?`${(Ke/1024).toFixed(2)} KB`:`${(Ke/(1024*1024)).toFixed(2)} MB`,De=Ke=>{try{const Ce=Ke.data.split(",")[1],xe=Ke.data.split(",")[0].split(":")[1].split(";")[0],dt=atob(Ce),Xe=new ArrayBuffer(dt.length),Nt=new Uint8Array(Xe);for(let Qt=0;Qt<dt.length;Qt++)Nt[Qt]=dt.charCodeAt(Qt);const lt=new Blob([Xe],{type:xe}),At=URL.createObjectURL(lt),pt=document.createElement("a");pt.href=At,pt.download=Ke.name,pt.click(),URL.revokeObjectURL(At)}catch(Ce){console.error("Erreur lors du tlchargement:",Ce),alert("Erreur lors du tlchargement du fichier")}},Z=Ke=>{U(ue),ee(Ke),H(!0)};return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:X("w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 overflow-y-auto"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ss,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-700",children:[L.props.label||"Pices jointes"," (",ae?ue.length:0,")"]})]}),ae?s.jsx("div",{className:"space-y-2",children:ue.map((Ke,Ce)=>{const dt=Ke.type.startsWith("image/")?km:ss;return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-teal-200 hover:border-teal-400 transition-colors",children:[s.jsx(dt,{className:"w-4 h-4 text-teal-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:Ke.name}),s.jsx("div",{className:"text-xs text-teal-600",children:Se(Ke.size)})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>Z(Ce),className:"p-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",title:"Voir",children:s.jsx(Os,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>De(Ke),className:"p-1.5 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-3.5 h-3.5"})})]})]},Ce)})}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(ss,{className:"w-8 h-8 text-teal-300 mx-auto mb-2"}),s.jsx("span",{className:"text-xs text-teal-500 italic",children:"Aucune pice jointe"})]})]}),s.jsx(ce,{})]},L.id)}if(L.type==="link"){const ue=m[L.ref]||"",ae=ue&&ue.trim()!==""&&(ue.startsWith("http://")||ue.startsWith("https://"));return s.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[s.jsxs("div",{className:X("w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2"),children:[s.jsx($x,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-cyan-700 mb-1",children:L.props.label||"Lien"}),ae?s.jsx("a",{href:ue,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-900 hover:text-cyan-700 underline truncate block",children:ue}):s.jsx("span",{className:"text-sm text-gray-400 italic",children:"Aucun lien fourni"})]}),ae&&s.jsx("a",{href:ue,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(o2,{className:"w-4 h-4"})})]}),s.jsx(ce,{})]},L.id)}return null},P={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800"},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800"},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800"},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800"},refusee:{label:"Refuse",color:"bg-red-100 text-red-800"}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/declarations"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(Vn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P[r.status].color}`,children:P[r.status].label}),s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Os,{className:"w-3 h-3"}),"Mode Admin"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.professor_name,"  ",r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[T&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:T})}),s.jsxs(rt,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:ge,children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Supprimer"]}),s.jsxs(rt,{variant:"outline",onClick:re,disabled:o.isPending,children:[s.jsx(fh,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),r.status==="soumise"&&s.jsxs(s.Fragment,{children:[s.jsxs(rt,{variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:se,children:[s.jsx(si,{className:"w-4 h-4 mr-2"}),"Approuver"]}),s.jsxs(rt,{variant:"outline",className:"text-yellow-600 hover:bg-yellow-50",onClick:()=>D(!0),children:[s.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Demander modification"]}),s.jsxs(rt,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>E(!0),children:[s.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Refuser"]})]})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:r.status==="refusee"?"Dclaration refuse":"Modifications demandes"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${v.width}px`,minHeight:`${v.height}px`},children:f.map(L=>Y(L))})})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:F,onChange:L=>O(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{E(!1),O("")},children:"Annuler"}),s.jsx(rt,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ye,disabled:!F.trim(),children:"Refuser"})]})]})})}),S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",s.jsx("strong",{children:r.professor_name})]}),s.jsx("textarea",{value:F,onChange:L=>O(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx(rt,{variant:"outline",onClick:()=>{D(!1),O("")},children:"Annuler"}),s.jsx(rt,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:oe,disabled:!F.trim(),children:"Demander"})]})]})})}),B&&R.length>0&&s.jsx(Oie,{files:R,currentIndex:K,onClose:()=>H(!1),onNavigate:L=>ee(L)})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Dclaration introuvable"}),s.jsx(rt,{onClick:()=>t("/admin/declarations"),className:"mt-4",children:"Retour"})]})})},Fie={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800 border-gray-300",icon:ss},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800 border-orange-300",icon:Wr},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:As},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:Wr},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800 border-green-300",icon:nF},refusee:{label:"Refuse",color:"bg-red-100 text-red-800 border-red-300",icon:Ad}},R3=({status:e,className:t=""})=>{const r=Fie[e],n=r.icon;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${r.color} ${t}`,children:[s.jsx(n,{className:"w-3.5 h-3.5"}),r.label]})},Pie=({onClose:e})=>{const t=pn(),r=Aie(),{data:n}=kie(),{data:a=[],isLoading:i}=Cie(),{data:l=[],isLoading:o}=Tie(),[u,f]=C.useState([]),[h,m]=C.useState(""),[g,x]=C.useState(""),[b,v]=C.useState(""),[w,N]=C.useState(""),[E,S]=C.useState("");C.useEffect(()=>{if(h){const F=l.filter(O=>O.segment_id===h);f(F),g&&!F.find(O=>O.id===g)&&x("")}else f([]),x("")},[h,l,g]);const D=async F=>{if(F.preventDefault(),S(""),!h||!g||!b||!w){S("Veuillez remplir tous les champs");return}if(new Date(w)<=new Date(b)){S("La date de fin doit tre postrieure  la date de dbut");return}const O=n?.find(T=>T.segment_ids?.includes(h)&&T.city_ids?.includes(g));if(!O){S("Aucune fiche de calcul publie n'existe pour ce segment et cette ville");return}try{const T=await r.mutateAsync({calculation_sheet_id:O.id,segment_id:h,city_id:g,start_date:b,end_date:w,form_data:{}});t(`/professor/declarations/${T.id}/fill`)}catch(T){console.error("Error creating declaration:",T),S("Erreur lors de la cration de la dclaration")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nouvelle Dclaration"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ji,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[(i||o)&&s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-gray-600",children:"Chargement..."})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:i,children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),a.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]}),!i&&a.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucun segment affect  votre compte"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:g,onChange:F=>x(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:!h||o,children:[s.jsx("option",{value:"",children:"Slectionner une ville"}),u.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]}),!o&&l.length===0&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucune ville affecte  votre compte"}),h&&u.length===0&&l.length>0&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune ville disponible pour ce segment"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:F=>v(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:w,onChange:F=>N(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:b})]}),E&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:E})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:r.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:r.isPending?"Cration...":"Crer"})]})]})]})})},Lie=()=>{const{data:e,isLoading:t}=jie(),r=Eie(),n=AL(),[a,i]=C.useState(!1),l=async f=>{if(window.confirm("tes-vous sr de vouloir supprimer cette dclaration ?"))try{await r.mutateAsync(f)}catch(h){console.error("Error deleting declaration:",h),alert("Erreur lors de la suppression de la dclaration")}},o=async f=>{if(window.confirm("Voulez-vous soumettre cette dclaration pour validation ?"))try{await n.mutateAsync(f)}catch(h){console.error("Error submitting declaration:",h),alert("Erreur lors de la soumission de la dclaration")}},u=f=>new Date(f).toLocaleDateString("fr-FR");return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des dclarations..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:s.jsx(Vn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Dclarations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez vos dclarations de sessions"})]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Jn,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" modifier"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e?.filter(f=>f.status==="en_cours").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e?.filter(f=>f.status==="a_declarer").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Brouillons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-500",children:e?.filter(f=>f.status==="brouillon").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e?.filter(f=>f.status==="soumise").length||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:e?.filter(f=>f.status==="approuvee").length||0})]})]}),!e||e.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx(ss,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune dclaration"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire dclaration"}),s.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[s.jsx(Jn,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Dbut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Fin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(f=>s.jsxs(vd.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.segment_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:f.city_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u(f.start_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:u(f.end_date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(R3,{status:f.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Ma,{to:`/professor/declarations/${f.id}/fill`,className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?"Remplir":"Voir",children:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?s.jsx(np,{className:"w-4 h-4"}):s.jsx(Os,{className:"w-4 h-4"})}),(f.status==="brouillon"||f.status==="a_declarer"||f.status==="en_cours")&&s.jsx("button",{onClick:()=>o(f.id),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded transition-colors",title:"Soumettre",children:s.jsx(Cm,{className:"w-4 h-4"})}),f.status==="brouillon"&&s.jsx("button",{onClick:()=>l(f.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Supprimer",disabled:r.isPending,children:s.jsx(Hn,{className:"w-4 h-4"})})]})})]}),f.status==="en_cours"&&f.rejection_reason&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-3 bg-yellow-50 border-l-4 border-yellow-400",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Modifications demandes par l'administrateur"}),s.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:f.rejection_reason})]})]})})})]},f.id))})]})})})]}),a&&s.jsx(Pie,{onClose:()=>i(!1)})]})},Mie=()=>{const{id:e}=io(),t=pn(),{data:r,isLoading:n}=Sie(e||""),a=SL(),i=AL(),[l,o]=C.useState([]),[u,f]=C.useState({}),[h,m]=C.useState({}),[g,x]=C.useState(null),[b,v]=C.useState({width:1200,height:800}),w=r?.status!=="brouillon"&&r?.status!=="refusee"&&r?.status!=="en_cours"&&r?.status!=="a_declarer";C.useEffect(()=>{if(r?.template_data)try{const M=JSON.parse(r.template_data);M.fields&&M.fields.length>0&&o(M.fields),M.canvasSize&&v(M.canvasSize)}catch(M){console.error("Error parsing template:",M)}if(r?.form_data)try{const M=JSON.parse(r.form_data);f(M)}catch(M){console.error("Error parsing form data:",M)}},[r]),C.useEffect(()=>{const M=M3(l,u);m(M)},[u,l]);const N=(M,B)=>{const H=l.find(U=>U.ref===M);if(!H)return;let R=B;H.type==="number"&&(R=B===""?0:parseFloat(B)||0),f(U=>({...U,[M]:R}))},E=M=>new Promise((B,H)=>{const R=new FileReader;R.readAsDataURL(M),R.onload=()=>B(R.result),R.onerror=U=>H(U)}),S=async(M,B)=>{if(!B){f(H=>({...H,[M]:[]}));return}try{const H=await E(B),R={name:B.name,size:B.size,type:B.type,data:H,uploadedAt:new Date().toISOString()};f(U=>{const K=Array.isArray(U[M])?U[M]:[];return{...U,[M]:[...K,R]}})}catch(H){console.error("Error converting file to base64:",H),alert("Erreur lors du traitement du fichier")}},D=(M,B)=>{f(H=>{const U=(Array.isArray(H[M])?H[M]:[]).filter((K,ee)=>ee!==B);return{...H,[M]:U}})},F=async()=>{if(e)try{await a.mutateAsync({id:e,form_data:u}),x("Brouillon sauvegard avec succs!"),setTimeout(()=>x(null),3e3)}catch(M){console.error("Error saving declaration:",M),alert("Erreur lors de la sauvegarde")}},O=async()=>{if(e&&window.confirm("Voulez-vous soumettre cette dclaration pour validation ? Vous ne pourrez plus la modifier aprs soumission."))try{await a.mutateAsync({id:e,form_data:u}),await i.mutateAsync(e),t("/professor/declarations")}catch(M){console.error("Error submitting declaration:",M),alert("Erreur lors de la soumission")}},T=M=>{const B=M.layout||{x:0,y:0,w:200,h:40};if(M.visibility?.hidden)return null;if(M.type==="label")return s.jsx("div",{className:"absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:M.props.label},M.id);if(M.type==="text"){const H=u[M.ref],R=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"text",value:R,onChange:U=>N(M.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="textarea"){const H=u[M.ref],R=typeof H=="string"||typeof H=="number"?String(H):"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("textarea",{value:R,onChange:U=>N(M.ref,U.target.value),placeholder:M.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="number"){const H=u[M.ref]!==void 0?u[M.ref]:M.props.default||0,R=typeof H=="number"||typeof H=="string"?H:"";return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("input",{type:"number",step:"0.01",value:R,onChange:U=>N(M.ref,U.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="formula"){const H=h[M.ref],R=typeof H=="string"&&H.startsWith("#");return s.jsx("div",{className:"absolute flex items-center",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${R?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:typeof H=="number"?H.toFixed(M.props.decimals||2):String(H||"0")})},M.id)}if(M.type==="frame")return s.jsx("div",{className:"absolute border-2 border-orange-400 rounded-lg bg-orange-50/30",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:M.props.label||"Cadre"})},M.id);if(M.type==="file"){const H=Array.isArray(u[M.ref])?u[M.ref]:[],R=H&&H.length>0;return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex flex-col gap-2 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"w-5 h-5 text-teal-600"}),s.jsxs("span",{className:"text-sm font-medium text-teal-900",children:[M.props.label||"Pices jointes"," (",H.length,")"]})]}),!w&&s.jsxs("label",{className:"cursor-pointer px-2 py-1 bg-teal-600 hover:bg-teal-700 text-white rounded text-xs font-medium transition-colors",children:["+ Ajouter",s.jsx("input",{type:"file",accept:M.props.accept,onChange:U=>{const K=U.target.files?.[0];if(K){const ee=(M.props.maxSize||5)*1024*1024;if(K.size>ee){alert(`Le fichier est trop volumineux. Taille maximum: ${M.props.maxSize||5} MB`);return}S(M.ref,K)}U.target.value=""},className:"hidden"})]})]}),R?s.jsx("div",{className:"space-y-1 flex-1 overflow-y-auto",children:H.map((U,K)=>s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-teal-200",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:U.name}),s.jsxs("div",{className:"text-xs text-teal-600",children:[(U.size/1024/1024).toFixed(2)," MB"]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>{const ee=atob(U.data.split(",")[1]),pe=U.data.split(",")[0].split(":")[1].split(";")[0],re=new ArrayBuffer(ee.length),se=new Uint8Array(re);for(let Y=0;Y<ee.length;Y++)se[Y]=ee.charCodeAt(Y);const ye=new Blob([re],{type:pe}),oe=URL.createObjectURL(ye),ge=document.createElement("a");ge.href=oe,ge.download=U.name,ge.click(),URL.revokeObjectURL(oe)},className:"p-1 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"w-3 h-3 text-teal-700"})}),!w&&s.jsx("button",{onClick:()=>D(M.ref,K),className:"p-1 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:s.jsx(ji,{className:"w-3 h-3 text-red-600"})})]})]},K))}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-60",children:[s.jsx(sp,{className:"w-8 h-8 text-teal-600 mb-2"}),s.jsx("span",{className:"text-xs text-teal-700",children:"Aucune pice jointe"}),s.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[M.props.accept||"Tous fichiers"," (max ",M.props.maxSize||5," MB)"]})]})]})},M.id)}if(M.type==="link"){const H=u[M.ref]||"",R=H&&H.trim()!==""&&(H.startsWith("http://")||H.startsWith("https://"));return s.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:s.jsxs("div",{className:"w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2",children:[s.jsx($x,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-medium text-cyan-700 mb-1",children:M.props.label||"Lien"}),s.jsx("input",{type:"url",value:H,onChange:U=>N(M.ref,U.target.value),disabled:w,placeholder:"https://exemple.com",className:`w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 ${w?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":"bg-white border-cyan-300 text-cyan-900"}`})]}),R&&s.jsx("button",{onClick:()=>window.open(H,"_blank","noopener,noreferrer"),className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:s.jsx(o2,{className:"w-4 h-4"})})]})},M.id)}return null};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement de la dclaration..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/professor/declarations",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:s.jsx(Vn,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),s.jsx(R3,{status:r.status}),w&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Ys,{className:"w-3 h-3"}),"Lecture seule"]})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[g&&s.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:s.jsx("span",{className:"text-sm font-medium",children:g})}),!w&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:F,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:a.isPending,children:[s.jsx(fh,{className:"w-5 h-5"}),"Sauvegarder"]}),s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:i.isPending,children:[s.jsx(Cm,{className:"w-5 h-5"}),"Soumettre"]})]})]})]})}),r.status==="a_declarer"&&s.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-orange-800",children:"Fiche assigne par un grant"}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Cette fiche de session vous a t assigne. Veuillez la remplir et la soumettre."})]})]})}),r.rejection_reason&&s.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Dclaration refuse"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:s.jsx("div",{className:"relative bg-white",style:{width:`${b.width}px`,minHeight:`${b.height}px`},children:l.map(M=>T(M))})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wr,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Dclaration introuvable"}),s.jsxs(Ma,{to:"/professor/declarations",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(Vn,{className:"w-4 h-4"}),"Retour  la liste"]})]})})};function Rie(){const{user:e,isAdmin:t}=_i();return ur({queryKey:["gerant-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await qd.getAll();if(t)return r;const n=await so.getById(e.id);return!n||!n.segment_ids?[]:r.filter(a=>n.segment_ids?.includes(a.id))},enabled:!!e?.id})}function Iie(){const{user:e,isAdmin:t}=_i();return ur({queryKey:["gerant-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Ec.getAll();if(t)return r;const n=await so.getById(e.id);return!n||!n.city_ids?[]:r.filter(a=>n.city_ids?.includes(a.id))},enabled:!!e?.id})}function Bie(){return ur({queryKey:["gerant-declarations"],queryFn:async()=>(await $i.getAll()).filter(t=>t.status==="a_declarer")})}function Uie(e,t){return ur({queryKey:["professors-by-segment-city",e,t],queryFn:async()=>(await so.getAll()).filter(a=>a.role==="professor").filter(a=>!(e&&!a.segment_ids?.includes(e)||t&&!a.city_ids?.includes(t))).map(a=>({id:a.id,full_name:a.full_name,username:a.username})),enabled:!!e||!!t})}function zie(e){return ur({queryKey:["published-sheets-segment",e],queryFn:async()=>(await kc.getAll()).filter(r=>!(r.status!=="published"||e&&r.segment_ids&&!r.segment_ids.includes(e))).map(r=>({id:r.id,title:r.title,template_data:r.template_data,sheet_date:r.sheet_date})),enabled:!!e})}function qie(){const e=Ft();return Bt({mutationFn:async t=>{const r=zd();return $i.create({id:r,...t,form_data:"{}",status:"a_declarer"})},onSuccess:()=>{e.invalidateQueries({queryKey:["gerant-declarations"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}const $ie=()=>{const{data:e,isLoading:t}=Bie(),[r,n]=C.useState("all"),a=e?.filter(o=>r==="all"?!0:o.status===r),i={total:e?.length||0,a_declarer:e?.filter(o=>o.status==="a_declarer").length||0,soumise:e?.filter(o=>o.status==="soumise").length||0,en_cours:e?.filter(o=>o.status==="en_cours").length||0,approuvee:e?.filter(o=>o.status==="approuvee").length||0,refusee:e?.filter(o=>o.status==="refusee").length||0},l=[{label:"Toutes",value:"all",count:i.total},{label:" dclarer",value:"a_declarer",count:i.a_declarer},{label:"Soumises",value:"soumise",count:i.soumise},{label:"En cours",value:"en_cours",count:i.en_cours},{label:"Approuves",value:"approuvee",count:i.approuvee},{label:"Refuses",value:"refusee",count:i.refusee}];return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Dclarations Cres"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les dclarations que vous avez assignes aux professeurs"})]})]}),s.jsx(Ma,{to:"/gerant/create-declaration",children:s.jsxs(rt,{children:[s.jsx($_,{className:"w-4 h-4 mr-2"}),"Crer une dclaration"]})})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.a_declarer}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" dclarer"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.soumise}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Soumises"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.en_cours}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En cours"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.approuvee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Approuves"})]})})}),s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.refusee}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Refuses"})]})})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(o=>s.jsxs(rt,{variant:r===o.value?"default":"outline",size:"sm",onClick:()=>n(o.value),children:[o.label," (",o.count,")"]},o.value))})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:a&&a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professeur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiche de calcul"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.professor_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.segment_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.city_name||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.sheet_title||"N/A"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(o.start_date).toLocaleDateString("fr-FR")," - ",new Date(o.end_date).toLocaleDateString("fr-FR")]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(R3,{status:o.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString("fr-FR")})]},o.id))})]})}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Aucune dclaration trouve."})})})]})]})},Gk=()=>{const e=pn(),{isAdmin:t}=_i(),{data:r,isLoading:n}=Rie(),{data:a,isLoading:i}=Iie(),[l,o]=C.useState(""),[u,f]=C.useState(""),[h,m]=C.useState(""),[g,x]=C.useState(""),[b,v]=C.useState(""),[w,N]=C.useState(null),E=t?"/admin/declarations":"/gerant/declarations",S=a?.filter(R=>R.segment_id===l)||[],{data:D,isLoading:F}=Uie(l,u),{data:O,isLoading:T}=zie(l),M=O&&O.length>0?O[0]:null,B=qie();C.useEffect(()=>{f(""),m("")},[l]),C.useEffect(()=>{m("")},[u]);const H=async R=>{if(R.preventDefault(),N(null),!l){N("Veuillez slectionner un segment");return}if(!u){N("Veuillez slectionner une ville");return}if(!M){N("Aucune fiche de calcul publie pour ce segment");return}if(!h){N("Veuillez slectionner un professeur");return}if(!g||!b){N("Veuillez renseigner les dates de session");return}if(new Date(g)>new Date(b)){N("La date de dbut doit tre antrieure  la date de fin");return}try{await B.mutateAsync({professor_id:h,calculation_sheet_id:M.id,segment_id:l,city_id:u,start_date:g,end_date:b}),e(E)}catch(U){console.error("Error creating declaration:",U),N("Erreur lors de la cration de la dclaration")}};return n||i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):!r||r.length===0?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsx(hn,{children:s.jsx(mn,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wr,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-700 font-medium mb-2",children:"Aucun segment assign"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Contactez un administrateur pour vous assigner des segments et villes."})]})})})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ma,{to:"/dashboard",children:s.jsxs(rt,{variant:"outline",size:"sm",children:[s.jsx(Vn,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Assigner une fiche de session  un professeur"})]})]})})}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("form",{onSubmit:H,children:[s.jsxs(hn,{children:[s.jsx(ff,{children:s.jsx(df,{children:"Informations de la dclaration"})}),s.jsxs(mn,{className:"space-y-6",children:[w&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:w})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:l,onChange:R=>o(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un segment"}),r?.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",s.jsx("span",{className:"text-red-500",children:"*"})]}),S.length>0?s.jsxs("select",{value:u,onChange:R=>f(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez une ville"}),S.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune ville assigne pour ce segment. Contactez un administrateur."})})]}),l&&u&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiche de calcul"}),T?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement..."}):M?s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:M.title}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Date: ",M.sheet_date]})]}):s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-red-800",children:" Aucune fiche de calcul publie pour ce segment"})})]}),l&&u&&M&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professeur ",s.jsx("span",{className:"text-red-500",children:"*"})]}),F?s.jsx("div",{className:"text-sm text-gray-500",children:"Chargement des professeurs..."}):D&&D.length>0?s.jsxs("select",{value:h,onChange:R=>m(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Slectionnez un professeur"}),D.map(R=>s.jsxs("option",{value:R.id,children:[R.full_name," (",R.username,")"]},R.id))]}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Aucun professeur n'a  la fois ce segment et cette ville assigns."})})]}),h&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:g,onChange:R=>x(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:b,onChange:R=>v(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[s.jsx(Ma,{to:E,children:s.jsx(rt,{type:"button",variant:"outline",children:"Annuler"})}),s.jsxs(rt,{type:"submit",disabled:!l||!u||!h||!g||!b||!M||B.isPending,children:[s.jsx(fh,{className:"w-4 h-4 mr-2"}),B.isPending?"Cration...":"Crer la dclaration"]})]})]})})]})},jf={getSessions:()=>at.get("/formations/sessions"),getSession:e=>at.get(`/formations/sessions/${e}`),createSession:e=>at.post("/formations/sessions",e),updateSession:(e,t)=>at.put(`/formations/sessions/${e}`,t),deleteSession:e=>at.delete(`/formations/sessions/${e}`),getSessionStudents:e=>at.get(`/formations/sessions/${e}/students`),enrollStudents:(e,t)=>at.post(`/formations/sessions/${e}/enroll`,t),unenrollStudent:(e,t)=>at.delete(`/formations/sessions/${e}/enroll/${t}`),getAvailableStudents:e=>{const t=e?`?session_id=${e}`:"";return at.get(`/formations/available-students${t}`)},getStats:()=>at.get("/formations/stats")},zn={all:["formations"],sessions:()=>[...zn.all,"sessions"],session:e=>[...zn.all,"session",e],sessionStudents:e=>[...zn.all,"session",e,"students"],availableStudents:e=>[...zn.all,"available-students",e||"all"],stats:()=>[...zn.all,"stats"]};function EL(){return ur({queryKey:zn.sessions(),queryFn:jf.getSessions})}function Hie(e){return ur({queryKey:zn.session(e),queryFn:()=>jf.getSession(e),enabled:!!e})}function Vie(e){return ur({queryKey:zn.availableStudents(e),queryFn:()=>jf.getAvailableStudents(e)})}function Wie(){return ur({queryKey:zn.stats(),queryFn:jf.getStats})}function Gie(){const e=Ft();return Bt({mutationFn:t=>jf.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.stats()})}})}function Kie(){const e=Ft();return Bt({mutationFn:({id:t,data:r})=>jf.updateSession(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.session(r.id)}),e.invalidateQueries({queryKey:zn.stats()})}})}function Yie(){const e=Ft();return Bt({mutationFn:t=>jf.deleteSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.stats()})}})}function Xie(){const e=Ft();return Bt({mutationFn:({sessionId:t,data:r})=>jf.enrollStudents(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zn.session(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.availableStudents()}),e.invalidateQueries({queryKey:zn.stats()})}})}function Qie(){const e=Ft();return Bt({mutationFn:({sessionId:t,studentId:r})=>jf.unenrollStudent(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zn.session(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:zn.sessions()}),e.invalidateQueries({queryKey:zn.availableStudents()}),e.invalidateQueries({queryKey:zn.stats()})}})}const Ls={getFormations:()=>at.get("/cours/formations"),getFormation:e=>at.get(`/cours/formations/${e}`),createFormation:e=>at.post("/cours/formations",e),updateFormation:(e,t)=>at.put(`/cours/formations/${e}`,t),deleteFormation:e=>at.delete(`/cours/formations/${e}`),getModules:e=>at.get(`/cours/formations/${e}/modules`),createModule:(e,t)=>at.post(`/cours/formations/${e}/modules`,t),updateModule:(e,t)=>at.put(`/cours/modules/${e}`,t),deleteModule:e=>at.delete(`/cours/modules/${e}`),reorderModule:(e,t)=>at.put(`/cours/modules/${e}/reorder`,{new_order_index:t}),createVideo:(e,t)=>at.post(`/cours/modules/${e}/videos`,t),updateVideo:(e,t)=>at.put(`/cours/videos/${e}`,t),deleteVideo:e=>at.delete(`/cours/videos/${e}`),createTest:(e,t)=>at.post(`/cours/modules/${e}/tests`,t),getTest:e=>at.get(`/cours/tests/${e}`),updateTest:(e,t)=>at.put(`/cours/tests/${e}`,t),deleteTest:e=>at.delete(`/cours/tests/${e}`),createQuestion:(e,t)=>at.post(`/cours/tests/${e}/questions`,t),updateQuestion:(e,t)=>at.put(`/cours/questions/${e}`,t),deleteQuestion:e=>at.delete(`/cours/questions/${e}`),createChoice:(e,t)=>at.post(`/cours/questions/${e}/choices`,t),updateChoice:(e,t)=>at.put(`/cours/choices/${e}`,t),deleteChoice:e=>at.delete(`/cours/choices/${e}`),getStats:()=>at.get("/cours/stats")},Jr={all:["cours"],formations:()=>[...Jr.all,"formations"],formation:e=>[...Jr.formations(),e],modules:e=>[...Jr.all,"modules",e],test:e=>[...Jr.all,"test",e],stats:()=>[...Jr.all,"stats"]};function Fg(){return ur({queryKey:Jr.formations(),queryFn:()=>Ls.getFormations()})}function dp(e){return ur({queryKey:Jr.formation(e),queryFn:()=>Ls.getFormation(e),enabled:!!e})}function Zie(){const e=Ft();return Bt({mutationFn:t=>Ls.createFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.formations()}),e.invalidateQueries({queryKey:Jr.stats()})}})}function Jie(){const e=Ft();return Bt({mutationFn:({id:t,data:r})=>Ls.updateFormation(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Jr.formations()}),e.invalidateQueries({queryKey:Jr.formation(r)})}})}function ese(){const e=Ft();return Bt({mutationFn:t=>Ls.deleteFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.formations()}),e.invalidateQueries({queryKey:Jr.stats()})}})}function tse(){const e=Ft();return Bt({mutationFn:({formationId:t,data:r})=>Ls.createModule(t,r),onSuccess:(t,{formationId:r})=>{e.invalidateQueries({queryKey:Jr.modules(r)}),e.invalidateQueries({queryKey:Jr.formation(r)}),e.invalidateQueries({queryKey:Jr.stats()})}})}function rse(){const e=Ft();return Bt({mutationFn:({id:t,data:r})=>Ls.updateModule(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Jr.modules(t.formation_id)}),e.invalidateQueries({queryKey:Jr.formation(t.formation_id)})}})}function nse(){const e=Ft();return Bt({mutationFn:t=>Ls.deleteModule(t),onSuccess:t=>{const r=t.module.formation_id;e.invalidateQueries({queryKey:Jr.modules(r)}),e.invalidateQueries({queryKey:Jr.formation(r)}),e.invalidateQueries({queryKey:Jr.stats()})}})}function ase(){const e=Ft();return Bt({mutationFn:({moduleId:t,data:r})=>Ls.createVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all})}})}function ise(){const e=Ft();return Bt({mutationFn:({id:t,data:r})=>Ls.updateVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all})}})}function sse(){const e=Ft();return Bt({mutationFn:t=>Ls.deleteVideo(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all}),e.invalidateQueries({queryKey:Jr.stats()})}})}function lse(){const e=Ft();return Bt({mutationFn:({moduleId:t,data:r})=>Ls.createTest(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all}),e.invalidateQueries({queryKey:Jr.stats()})}})}function ose(){const e=Ft();return Bt({mutationFn:t=>Ls.deleteTest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all}),e.invalidateQueries({queryKey:Jr.stats()})}})}function cse(){const e=Ft();return Bt({mutationFn:({testId:t,data:r})=>Ls.createQuestion(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Jr.test(t.test_id)}),e.invalidateQueries({queryKey:Jr.all})}})}function use(){const e=Ft();return Bt({mutationFn:({questionId:t,data:r})=>Ls.createChoice(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Jr.all})}})}function fse(){return ur({queryKey:Jr.stats(),queryFn:()=>Ls.getStats()})}const Kk=({session:e,onClose:t})=>{const r=!!e,n=Gie(),a=Kie(),{data:i=[]}=$d(),{data:l=[]}=fp(),{data:o=[]}=Fg(),[u,f]=C.useState({name:e?.name||"",description:e?.description||"",formation_id:e?.formation_id||"",start_date:e?.start_date?e.start_date.split("T")[0]:"",end_date:e?.end_date?e.end_date.split("T")[0]:"",segment_id:e?.segment_id||"",city_id:e?.city_id||"",instructor_id:e?.instructor_id||"",max_capacity:e?.max_capacity?.toString()||"",status:e?.status||"planned"}),[h,m]=C.useState({}),[g,x]=C.useState(!1),b=C.useMemo(()=>u.segment_id?l.filter(N=>N.segment_id===u.segment_id):l,[l,u.segment_id]),v=()=>{const N={};return u.name.trim()||(N.name="Le nom est obligatoire"),u.start_date||(N.start_date="La date de dbut est obligatoire"),u.end_date||(N.end_date="La date de fin est obligatoire"),u.start_date&&u.end_date&&u.start_date>u.end_date&&(N.end_date="La date de fin doit tre aprs la date de dbut"),u.max_capacity&&parseInt(u.max_capacity)<1&&(N.max_capacity="La capacit doit tre suprieure  0"),m(N),Object.keys(N).length===0},w=async N=>{if(N.preventDefault(),!!v()){x(!0);try{const E={name:u.name.trim(),description:u.description.trim()||void 0,formation_id:u.formation_id||void 0,start_date:u.start_date,end_date:u.end_date,segment_id:u.segment_id||void 0,city_id:u.city_id||void 0,instructor_id:u.instructor_id||void 0,max_capacity:u.max_capacity?parseInt(u.max_capacity):void 0,status:u.status};r&&e?await a.mutateAsync({id:e.id,data:E}):await n.mutateAsync(E),t()}catch(E){console.error("Error saving session:",E),m({submit:E.message||"Erreur lors de l'enregistrement"})}finally{x(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Bi,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la session":"Nouvelle session"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la session":"Crez une nouvelle session de formation"})]})]}),s.jsx(rt,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ji,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[h.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:h.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom de la session ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Zs,{value:u.name,onChange:N=>f({...u,name:N.target.value}),placeholder:"Ex: Formation React Avanc",className:h.name?"border-red-300":""}),h.name&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:u.description,onChange:N=>f({...u,description:N.target.value}),placeholder:"Description de la session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formation"}),s.jsxs("select",{value:u.formation_id,onChange:N=>f({...u,formation_id:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Slectionner une formation"}),o.map(N=>s.jsx("option",{value:N.id,children:N.title},N.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optionnel - Liez cette session  une formation spcifique"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment"}),s.jsxs("select",{value:u.segment_id,onChange:N=>{f({...u,segment_id:N.target.value,city_id:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Slectionner un segment"}),i.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),s.jsxs("select",{value:u.city_id,onChange:N=>f({...u,city_id:N.target.value}),disabled:!u.segment_id,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Slectionner une ville"}),b.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]}),!u.segment_id&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Slectionnez d'abord un segment"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Zs,{type:"date",value:u.start_date,onChange:N=>f({...u,start_date:N.target.value}),className:h.start_date?"border-red-300":""}),h.start_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.start_date})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Zs,{type:"date",value:u.end_date,onChange:N=>f({...u,end_date:N.target.value}),className:h.end_date?"border-red-300":""}),h.end_date&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.end_date})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacit maximale"}),s.jsx(Zs,{type:"number",min:"1",value:u.max_capacity,onChange:N=>f({...u,max_capacity:N.target.value}),placeholder:"Laissez vide pour illimit",className:h.max_capacity?"border-red-300":""}),h.max_capacity&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.max_capacity})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:u.status,onChange:N=>f({...u,status:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"planned",children:"Planifie"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Termine"}),s.jsx("option",{value:"cancelled",children:"Annule"})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:g,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:g,className:"min-w-[100px]",children:g?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})},dse=({session:e,onClose:t})=>{const{data:r,isLoading:n}=Hie(e.id),{data:a=[]}=Vie(e.id),i=Xie(),l=Qie(),[o,u]=C.useState([]),[f,h]=C.useState(""),[m,g]=C.useState(!1),[x,b]=C.useState(null),v=r?.students||[],w=a.filter(O=>O.full_name.toLowerCase().includes(f.toLowerCase())||O.username.toLowerCase().includes(f.toLowerCase())),N=async()=>{if(o.length===0){b("Veuillez slectionner au moins un tudiant");return}g(!0),b(null);try{await i.mutateAsync({sessionId:e.id,data:{student_ids:o}}),u([]),h("")}catch(O){console.error("Error enrolling students:",O),b(O.message||"Erreur lors de l'inscription des tudiants")}finally{g(!1)}},E=async(O,T)=>{if(window.confirm(`tes-vous sr de vouloir dsinscrire ${T} de cette session ?`))try{await l.mutateAsync({sessionId:e.id,studentId:O})}catch(M){console.error("Error unenrolling student:",M),b(M.message||"Erreur lors de la dsinscription")}},S=O=>{u(T=>T.includes(O)?T.filter(M=>M!==O):[...T,O])},D=O=>{const T={enrolled:{bg:"bg-blue-100",text:"text-blue-700",label:"Inscrit"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Termin"},dropped:{bg:"bg-gray-100",text:"text-gray-700",label:"Abandonn"}},M=T[O]||T.enrolled;return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${M.bg} ${M.text}`,children:M.label})},F=e.max_capacity?v.length>=e.max_capacity:!1;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ls,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des inscriptions"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.name})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ji,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6 max-h-[calc(90vh-140px)] overflow-y-auto",children:[x&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:x})]}),n?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Inscrits"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[v.length,e.max_capacity&&` / ${e.max_capacity}`]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Formation"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.formation_title||"Aucune"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Segment"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.segment_name||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ville"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.city_name||"-"})]})]}),F&&s.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded p-2",children:s.jsx("p",{className:"text-xs text-yellow-800",children:" Capacit maximale atteinte"})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["tudiants inscrits (",v.length,")"]}),v.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucun tudiant inscrit"})]}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"tudiant"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date d'inscription"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.student_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",O.student_username]})]})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(O.enrollment_date).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-4 py-3",children:D(O.enrollment_status)}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("button",{onClick:()=>E(O.student_id,O.student_name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded",title:"Dsinscrire",children:s.jsx(Hn,{className:"h-4 w-4"})})})]},O.enrollment_id))})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ajouter des tudiants"}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:f,onChange:O=>h(O.target.value),placeholder:"Rechercher un tudiant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),w.length===0?s.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-500",children:f?"Aucun tudiant trouv":"Tous les tudiants sont dj inscrits"})}):s.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:s.jsx("div",{className:"divide-y divide-gray-200",children:w.map(O=>s.jsxs("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(O.id),onChange:()=>S(O.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.full_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["@",O.username]})]})]},O.id))})}),o.length>0&&s.jsxs("div",{className:"mt-4 flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:[o.length," tudiant(s) slectionn(s)"]}),s.jsx(rt,{onClick:N,disabled:m||F,className:"flex items-center gap-2",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Inscription..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fW,{className:"h-4 w-4"}),s.jsx("span",{children:"Inscrire"})]})})]})]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:s.jsx(rt,{variant:"outline",onClick:t,children:"Fermer"})})]})})},hse=()=>{const{data:e,isLoading:t,error:r}=EL(),{data:n}=Wie(),a=Yie(),[i,l]=C.useState(!1),[o,u]=C.useState(null),[f,h]=C.useState(null),m=async b=>{if(window.confirm(`tes-vous sr de vouloir supprimer la session "${b.name}" ?`))try{await a.mutateAsync(b.id)}catch(v){console.error("Error deleting session:",v),alert("Erreur lors de la suppression de la session")}},g=b=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[b]||"bg-gray-100 text-gray-700",x=b=>({planned:"Planifie",active:"Active",completed:"Termine",cancelled:"Annule"})[b]||b;return s.jsxs(ha,{title:"Sessions de Formation",subtitle:"Grer les sessions et les inscriptions",children:[s.jsxs("div",{className:"space-y-6",children:[n&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Bi,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.sessions.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Bi,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Planifies"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.sessions.planned})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Bi,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Actives"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.sessions.active})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:s.jsx(Bi,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Termines"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:n.sessions.completed})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(ls,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"tudiants Inscrits"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_students_enrolled})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des sessions"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les sessions de formation et les inscriptions"})]}),s.jsxs(rt,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Nouvelle session"]})]}),t&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.message})]})]}),e&&e.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscrits"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),b.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.formation_title?s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:b.formation_title})}):s.jsx("p",{className:"text-sm text-gray-400",children:"Aucune formation"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.segment_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("p",{className:"text-sm text-gray-900",children:b.city_name||"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-gray-900",children:new Date(b.start_date).toLocaleDateString("fr-FR")}),s.jsx("p",{className:"text-gray-500",children:new Date(b.end_date).toLocaleDateString("fr-FR")})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[b.enrolled_count||0,b.max_capacity&&` / ${b.max_capacity}`]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${g(b.status)}`,children:x(b.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>h(b),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:s.jsx(ls,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>u(b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(ap,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>m(b),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Hn,{className:"h-4 w-4"})})]})})]},b.id))})]})})}),e&&e.length===0&&!t&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Bi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire session de formation"}),s.jsxs(rt,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Crer une session"]})]})]}),i&&s.jsx(Kk,{onClose:()=>l(!1)}),o&&s.jsx(Kk,{session:o,onClose:()=>u(null)}),f&&s.jsx(dse,{session:f,onClose:()=>h(null)})]})},El={getAll:async()=>at.get("/certificate-templates"),getById:async e=>at.get(`/certificate-templates/${e}`),create:async e=>at.post("/certificate-templates",e),update:async(e,t)=>at.put(`/certificate-templates/${e}`,t),delete:async e=>at.delete(`/certificate-templates/${e}`),duplicate:async e=>at.post(`/certificate-templates/${e}/duplicate`),seedDefaults:async()=>at.post("/certificate-templates/seed-defaults"),generatePreview:async(e,t)=>{const r=await fetch(`/api/certificate-templates/${e}/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to generate preview");return r.blob()},uploadLogo:async(e,t)=>{const r=new FormData;r.append("logo",t);const n=await fetch(`/api/certificate-templates/${e}/upload-logo`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload logo");return n.json()},uploadSignature:async(e,t)=>{const r=new FormData;r.append("signature",t);const n=await fetch(`/api/certificate-templates/${e}/upload-signature`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload signature");return n.json()},uploadBackground:async(e,t)=>{const r=new FormData;r.append("background",t);const n=await fetch(`/api/certificate-templates/${e}/upload-background`,{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload background image")}return n.json()},setBackgroundUrl:async(e,t)=>at.post(`/certificate-templates/${e}/background-url`,{url:t}),deleteBackground:async e=>at.delete(`/certificate-templates/${e}/background`),uploadCustomFont:async(e,t)=>{const r=new FormData;r.append("font",e),r.append("fontName",t);const n=await fetch("/api/certificate-templates/custom-fonts/upload",{method:"POST",body:r});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to upload font")}return n.json()},getCustomFonts:async()=>at.get("/certificate-templates/custom-fonts"),deleteCustomFont:async e=>at.delete(`/certificate-templates/custom-fonts/${e}`)},Cc={all:["certificate-templates"],detail:e=>["certificate-templates",e],customFonts:["custom-fonts"]},kL=()=>ur({queryKey:Cc.all,queryFn:El.getAll,staleTime:300*1e3,select:e=>e.templates}),CL=e=>ur({queryKey:Cc.detail(e||""),queryFn:()=>El.getById(e),enabled:!!e,staleTime:300*1e3,select:t=>t.template}),TL=()=>{const e=Ft();return Bt({mutationFn:t=>El.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},OL=()=>{const e=Ft();return Bt({mutationFn:({id:t,data:r})=>El.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Cc.all}),e.invalidateQueries({queryKey:Cc.detail(r.id)})}})},mse=()=>{const e=Ft();return Bt({mutationFn:t=>El.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},pse=()=>{const e=Ft();return Bt({mutationFn:t=>El.duplicate(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},xse=()=>{const e=Ft();return Bt({mutationFn:()=>El.seedDefaults(),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.all})}})},gse=()=>ur({queryKey:Cc.customFonts,queryFn:El.getCustomFonts,staleTime:300*1e3,select:e=>e.fonts}),vse=()=>{const e=Ft();return Bt({mutationFn:({file:t,fontName:r})=>El.uploadCustomFont(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.customFonts})}})},yse=()=>{const e=Ft();return Bt({mutationFn:t=>El.deleteCustomFont(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cc.customFonts})}})},Yk=({formation:e,onClose:t})=>{const r=!!e,n=Zie(),a=Jie(),{data:i}=kL(),[l,o]=C.useState({title:e?.title||"",description:e?.description||"",price:e?.price?.toString()||"",duration_hours:e?.duration_hours?.toString()||"",level:e?.level||"debutant",thumbnail_url:e?.thumbnail_url||"",status:e?.status||"draft",passing_score_percentage:e?.passing_score_percentage?.toString()||"80",default_certificate_template_id:e?.default_certificate_template_id||""}),[u,f]=C.useState({}),[h,m]=C.useState(!1),g=()=>{const b={};l.title.trim()||(b.title="Le titre est obligatoire"),l.price&&parseFloat(l.price)<0&&(b.price="Le prix doit tre positif"),l.duration_hours&&parseInt(l.duration_hours)<1&&(b.duration_hours="La dure doit tre suprieure  0");const v=parseInt(l.passing_score_percentage);return(v<0||v>100)&&(b.passing_score_percentage="Le score doit tre entre 0 et 100"),f(b),Object.keys(b).length===0},x=async b=>{if(b.preventDefault(),!!g()){m(!0);try{const v={title:l.title.trim(),description:l.description.trim()||void 0,price:l.price?parseFloat(l.price):void 0,duration_hours:l.duration_hours?parseInt(l.duration_hours):void 0,level:l.level,thumbnail_url:l.thumbnail_url.trim()||void 0,status:l.status,passing_score_percentage:parseInt(l.passing_score_percentage),default_certificate_template_id:l.default_certificate_template_id||void 0};r&&e?await a.mutateAsync({id:e.id,data:v}):await n.mutateAsync(v),t()}catch(v){console.error("Error saving formation:",v),f({submit:v.message||"Erreur lors de l'enregistrement"})}finally{m(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(qn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la formation":"Nouvelle formation"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la formation":"Crez une nouvelle formation en ligne"})]})]}),s.jsx(rt,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ji,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[u.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:u.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la formation ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Zs,{value:l.title,onChange:b=>o({...l,title:b.target.value}),placeholder:"Ex: Matriser React et TypeScript",className:u.title?"border-red-300":""}),u.title&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:l.description,onChange:b=>o({...l,description:b.target.value}),placeholder:"Description complte de la formation...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),s.jsxs("select",{value:l.level,onChange:b=>o({...l,level:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:l.status,onChange:b=>o({...l,status:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"draft",children:"Brouillon"}),s.jsx("option",{value:"published",children:"Publie"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix (MAD)"}),s.jsx(Zs,{type:"number",min:"0",step:"0.01",value:l.price,onChange:b=>o({...l,price:b.target.value}),placeholder:"0.00",className:u.price?"border-red-300":""}),u.price&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.price}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour gratuit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (heures)"}),s.jsx(Zs,{type:"number",min:"1",value:l.duration_hours,onChange:b=>o({...l,duration_hours:b.target.value}),placeholder:"10",className:u.duration_hours?"border-red-300":""}),u.duration_hours&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.duration_hours})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Zs,{type:"number",min:"0",max:"100",value:l.passing_score_percentage,onChange:b=>o({...l,passing_score_percentage:b.target.value}),className:u.passing_score_percentage?"border-red-300":""}),u.passing_score_percentage&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.passing_score_percentage}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Score minimum requis pour valider les tests (dfaut: 80%)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de l'image"}),s.jsx(Zs,{type:"url",value:l.thumbnail_url,onChange:b=>o({...l,thumbnail_url:b.target.value}),placeholder:"https://example.com/image.jpg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Image de prsentation de la formation (optionnel)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-blue-600"}),"Template de Certificat"]}),s.jsxs("select",{value:l.default_certificate_template_id,onChange:b=>o({...l,default_certificate_template_id:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"Aucun template slectionn"}),i?.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce template sera utilis pour gnrer les certificats de cette formation"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:h,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:h,className:"min-w-[100px]",children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})};function I3(e,t="MAD"){if(e==null)return"Gratuit";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)||r<=0?"Gratuit":`${r.toFixed(2)} ${t}`}const bse=()=>{const e=pn(),{data:t,isLoading:r,error:n}=Fg(),{data:a}=fse(),i=ese(),[l,o]=C.useState(!1),[u,f]=C.useState(null),h=async v=>{if(window.confirm(`tes-vous sr de vouloir supprimer la formation "${v.title}" ? Tous les modules, vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(v.id)}catch(w){console.error("Error deleting formation:",w),alert("Erreur lors de la suppression de la formation")}},m=v=>({draft:"bg-gray-100 text-gray-700",published:"bg-green-100 text-green-700"})[v]||"bg-gray-100 text-gray-700",g=v=>({draft:"Brouillon",published:"Publie"})[v]||v,x=v=>v?{debutant:"Dbutant",intermediaire:"Intermdiaire",avance:"Avanc"}[v]||v:"-",b=v=>v&&{debutant:"bg-blue-50 text-blue-700",intermediaire:"bg-yellow-50 text-yellow-700",avance:"bg-purple-50 text-purple-700"}[v]||"bg-gray-50 text-gray-700";return s.jsxs(ha,{title:"Formations en Ligne",subtitle:"Grer les formations, modules, vidos et tests",children:[s.jsxs("div",{className:"space-y-6",children:[a&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(qn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Formations"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.formations.total})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(qn,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Publies"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.formations.published})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Wx,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Vidos"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.total_videos})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(nf,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Tests"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.total_tests})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des formations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Crez et grez vos formations en ligne"})]}),s.jsxs(rt,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Nouvelle formation"]})]}),r&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),n&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:n.message})]})]}),t&&t.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Niveau"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modules"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dure"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template Certificat"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(v=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.title}),v.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:v.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${b(v.level)}`,children:x(v.level)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:v.module_count||0})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:v.price&&Number(v.price)>0?s.jsxs(s.Fragment,{children:[s.jsx(J4,{className:"h-4 w-4 text-gray-400"}),I3(v.price)]}):s.jsx("span",{className:"text-gray-400",children:"Gratuit"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:v.duration_hours?`${v.duration_hours}h`:"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.certificate_template_name?s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(ii,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-gray-900",children:v.certificate_template_name})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"Dfaut systme"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${m(v.status)}`,children:g(v.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/formations/cours/${v.id}/editor`),className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Grer le contenu (modules, vidos, tests)",children:s.jsx(Jv,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>f(v),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter les informations",children:s.jsx(ap,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>h(v),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer la formation",children:s.jsx(Hn,{className:"h-4 w-4"})})]})})]},v.id))})]})})}),t&&t.length===0&&!r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire formation en ligne"}),s.jsxs(rt,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Crer une formation"]})]})]}),l&&s.jsx(Yk,{onClose:()=>o(!1)}),u&&s.jsx(Yk,{formation:u,onClose:()=>f(null)})]})},wse=({formationId:e,module:t,modules:r=[],onClose:n})=>{const a=!!t,i=tse(),l=rse(),[o,u]=C.useState({title:t?.title||"",description:t?.description||"",module_type:t?.module_type||"video",prerequisite_module_id:t?.prerequisite_module_id||""}),[f,h]=C.useState({}),m=()=>{const v={};return o.title.trim()||(v.title="Le titre est obligatoire"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!m())try{const w={title:o.title.trim(),description:o.description.trim()||void 0,module_type:o.module_type,prerequisite_module_id:o.prerequisite_module_id||void 0};a&&t?await l.mutateAsync({id:t.id,data:w}):await i.mutateAsync({formationId:e,data:w}),n()}catch(w){console.error("Error saving module:",w),h({submit:"Une erreur est survenue lors de la sauvegarde du module"})}},x=r.filter(v=>!a||v.id!==t?.id),b=v=>({video:"Vido",test:"Test",document:"Document"})[v];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Modifier le module":"Ajouter un module"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ji,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:o.title,onChange:v=>u({...o,title:v.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction aux bases de donnes"}),f.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:o.description,onChange:v=>u({...o,description:v.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez le contenu de ce module..."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"module_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de module ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"module_type",value:o.module_type,onChange:v=>u({...o,module_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"video",children:"Vido"}),s.jsx("option",{value:"test",children:"Test"}),s.jsx("option",{value:"document",children:"Document"})]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.module_type==="video"&&"Module contenant des vidos de cours",o.module_type==="test"&&"Module contenant des tests et valuations",o.module_type==="document"&&"Module contenant des documents et ressources"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"prerequisite_module_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Module prrequis"}),s.jsxs("select",{id:"prerequisite_module_id",value:o.prerequisite_module_id,onChange:v=>u({...o,prerequisite_module_id:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Aucun (accessible immdiatement)"}),x.map(v=>s.jsxs("option",{value:v.id,children:["#",v.order_index+1," - ",v.title," (",b(v.module_type),")"]},v.id))]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"L'tudiant devra complter ce module avant d'accder au module actuel"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:i.isPending||l.isPending,className:"min-w-[120px]",children:i.isPending||l.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):a?"Modifier":"Ajouter"})]})]})]})})},Nse=({moduleId:e,video:t,onClose:r})=>{const n=!!t,a=ase(),i=ise(),[l,o]=C.useState({title:t?.title||"",youtube_url:t?.youtube_url||"",duration_seconds:t?.duration_seconds?.toString()||"",description:t?.description||""}),[u,f]=C.useState({}),h=N=>N.trim()?[/^https?:\/\/(www\.)?youtube\.com\/watch\?v=[\w-]+/,/^https?:\/\/(www\.)?youtu\.be\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/embed\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/v\/[\w-]+/].some(S=>S.test(N)):!1,m=N=>{const E=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/v\/([\w-]+)/];for(const S of E){const D=N.match(S);if(D&&D[1])return D[1]}return null},g=()=>{const N={};return l.title.trim()||(N.title="Le titre est obligatoire"),l.youtube_url.trim()?h(l.youtube_url)||(N.youtube_url="L'URL YouTube n'est pas valide. Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."):N.youtube_url="L'URL YouTube est obligatoire",l.duration_seconds&&parseInt(l.duration_seconds)<0&&(N.duration_seconds="La dure doit tre positive"),f(N),Object.keys(N).length===0},x=async N=>{if(N.preventDefault(),!!g())try{const E={title:l.title.trim(),youtube_url:l.youtube_url.trim(),duration_seconds:l.duration_seconds?parseInt(l.duration_seconds):void 0,description:l.description.trim()||void 0};n&&t?await i.mutateAsync({id:t.id,data:E}):await a.mutateAsync({moduleId:e,data:E}),r()}catch(E){console.error("Error saving video:",E),f({submit:"Une erreur est survenue lors de la sauvegarde de la vido"})}},b=m(l.youtube_url),v=b?`https://img.youtube.com/vi/${b}/mqdefault.jpg`:null,w=N=>{const E=Math.floor(N/60),S=N%60;return`${E}min ${S}s`};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Modifier la vido":"Ajouter une vido"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ji,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[u.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:u.submit})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la vido ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:l.title,onChange:N=>o({...l,title:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction  SQL"}),u.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"youtube_url",className:"block text-sm font-medium text-gray-700 mb-2",children:["URL YouTube ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"youtube_url",value:l.youtube_url,onChange:N=>o({...l,youtube_url:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.youtube_url?"border-red-300":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),u.youtube_url&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.youtube_url}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."}),v&&!u.youtube_url&&s.jsxs("div",{className:"mt-3 border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("img",{src:v,alt:"Aperu YouTube",className:"w-full"}),s.jsxs("div",{className:"p-2 bg-gray-50 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Aperu de la vido"}),s.jsxs("a",{href:l.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["Ouvrir sur YouTube",s.jsx(o2,{className:"h-3 w-3"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration_seconds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (en secondes)"}),s.jsx("input",{type:"number",id:"duration_seconds",value:l.duration_seconds,onChange:N=>o({...l,duration_seconds:N.target.value}),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.duration_seconds?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 300"}),u.duration_seconds&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.duration_seconds}),l.duration_seconds&&parseInt(l.duration_seconds)>0&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["quivalent: ",w(parseInt(l.duration_seconds))]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optionnel - Aide les tudiants  planifier leur temps d'apprentissage"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:l.description,onChange:N=>o({...l,description:N.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Dcrivez le contenu de cette vido..."}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Rsum du contenu abord dans la vido"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:a.isPending||i.isPending,className:"min-w-[120px] bg-purple-600 hover:bg-purple-700",children:a.isPending||i.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sauvegarde..."})]}):n?"Modifier":"Ajouter"})]})]})]})})},_se=({moduleId:e,onClose:t})=>{const r=lse(),n=cse(),a=use(),[i,l]=C.useState({title:"",description:"",passing_score:60,time_limit_minutes:"",max_attempts:"",show_correct_answers:!0}),[o,u]=C.useState([{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}]),[f,h]=C.useState({}),[m,g]=C.useState(!1),x=()=>{u([...o,{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}])},b=F=>{if(o.length===1){h({questions:"Un test doit avoir au moins une question"});return}if(u(o.filter(O=>O.tempId!==F)),f.questions){const O={...f};delete O.questions,h(O)}},v=(F,O,T)=>{u(o.map(M=>M.tempId===F?{...M,[O]:T}:M))},w=F=>{u(o.map(O=>O.tempId===F?{...O,choices:[...O.choices,{tempId:`c-${Date.now()}`,choice_text:"",is_correct:!1}]}:O))},N=(F,O)=>{u(o.map(T=>T.tempId===F?T.choices.length<=2?(h({...f,[`choices-${F}`]:"Une question doit avoir au moins 2 choix de rponse"}),T):{...T,choices:T.choices.filter(M=>M.tempId!==O)}:T))},E=(F,O,T,M)=>{u(o.map(B=>B.tempId===F?{...B,choices:B.choices.map(H=>H.tempId===O?{...H,[T]:M}:H)}:B))},S=()=>{const F={};return i.title.trim()||(F.title="Le titre est obligatoire"),(i.passing_score<0||i.passing_score>100)&&(F.passing_score="Le score de russite doit tre entre 0 et 100"),i.time_limit_minutes&&parseInt(i.time_limit_minutes)<1&&(F.time_limit_minutes="La limite de temps doit tre d'au moins 1 minute"),i.max_attempts&&parseInt(i.max_attempts)<1&&(F.max_attempts="Le nombre de tentatives doit tre d'au moins 1"),o.length===0&&(F.questions="Le test doit avoir au moins une question"),o.forEach((O,T)=>{O.question_text.trim()||(F[`question-${O.tempId}`]=`Question ${T+1}: Le texte est obligatoire`),O.points<0&&(F[`points-${O.tempId}`]=`Question ${T+1}: Les points doivent tre positifs`),O.choices.length<2&&(F[`choices-${O.tempId}`]=`Question ${T+1}: Au moins 2 choix requis`),O.choices.some(B=>B.is_correct)||(F[`correct-${O.tempId}`]=`Question ${T+1}: Au moins un choix doit tre marqu comme correct`),O.choices.forEach((B,H)=>{B.choice_text.trim()||(F[`choice-${B.tempId}`]=`Question ${T+1}, Choix ${H+1}: Le texte est obligatoire`)})}),h(F),Object.keys(F).length===0},D=async F=>{if(F.preventDefault(),!!S()){g(!0);try{const O=await r.mutateAsync({moduleId:e,data:{title:i.title.trim(),description:i.description.trim()||void 0,passing_score:i.passing_score,time_limit_minutes:i.time_limit_minutes?parseInt(i.time_limit_minutes):void 0,max_attempts:i.max_attempts?parseInt(i.max_attempts):void 0,show_correct_answers:i.show_correct_answers}});for(let T=0;T<o.length;T++){const M=o[T],B=await n.mutateAsync({testId:O.id,data:{question_text:M.question_text.trim(),points:M.points,order_index:T}});for(let H=0;H<M.choices.length;H++){const R=M.choices[H];await a.mutateAsync({questionId:B.id,data:{choice_text:R.choice_text.trim(),is_correct:R.is_correct,order_index:H}})}}t()}catch(O){console.error("Error creating test:",O),h({submit:"Une erreur est survenue lors de la cration du test"}),g(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10 rounded-t-lg",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un test"}),s.jsx("button",{onClick:t,disabled:m,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:s.jsx(ji,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:D,className:"p-6 space-y-8 max-h-[calc(90vh-140px)] overflow-y-auto",children:[f.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),s.jsxs("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"Informations du test"]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre du test ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"title",value:i.title,onChange:F=>l({...i,title:F.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Quiz sur les bases de donnes relationnelles"}),f.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{id:"description",value:i.description,onChange:F=>l({...i,description:F.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Dcrivez les objectifs et le contenu de ce test..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"passing_score",className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",id:"passing_score",value:i.passing_score,onChange:F=>l({...i,passing_score:parseInt(F.target.value)||0}),min:"0",max:"100",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.passing_score?"border-red-300":"border-gray-300"}`}),f.passing_score&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.passing_score})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"time_limit_minutes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de temps (minutes)"}),s.jsx("input",{type:"number",id:"time_limit_minutes",value:i.time_limit_minutes,onChange:F=>l({...i,time_limit_minutes:F.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Optionnel"}),f.time_limit_minutes&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.time_limit_minutes})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"max_attempts",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de tentatives max"}),s.jsx("input",{type:"number",id:"max_attempts",value:i.max_attempts,onChange:F=>l({...i,max_attempts:F.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Illimit"}),f.max_attempts&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.max_attempts})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Afficher les bonnes rponses"}),s.jsx("div",{className:"flex items-center gap-4 h-[42px]",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.show_correct_answers,onChange:F=>l({...i,show_correct_answers:F.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Montrer les rponses correctes aprs la soumission"})]})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"Questions (",o.length,")"]}),s.jsxs(rt,{type:"button",onClick:x,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Ajouter une question"]})]}),f.questions&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f.questions})}),s.jsx("div",{className:"space-y-6",children:o.map((F,O)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Question ",O+1]}),o.length>1&&s.jsx("button",{type:"button",onClick:()=>b(F.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Supprimer cette question",children:s.jsx(Hn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Texte de la question ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:F.question_text,onChange:T=>v(F.tempId,"question_text",T.target.value),rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`question-${F.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:"Entrez la question..."}),f[`question-${F.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`question-${F.tempId}`]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),s.jsx("input",{type:"number",value:F.points,onChange:T=>v(F.tempId,"points",parseInt(T.target.value)||1),min:"0",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),f[`points-${F.tempId}`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`points-${F.tempId}`]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Choix de rponse (cochez les bonnes rponses)"}),s.jsxs("button",{type:"button",onClick:()=>w(F.tempId),className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Ajouter un choix"]})]}),f[`choices-${F.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f[`choices-${F.tempId}`]})}),f[`correct-${F.tempId}`]&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:s.jsx("p",{className:"text-sm text-red-800",children:f[`correct-${F.tempId}`]})}),s.jsx("div",{className:"space-y-2",children:F.choices.map((T,M)=>s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${T.is_correct?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:T.is_correct,onChange:B=>E(F.tempId,T.tempId,"is_correct",B.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500",title:"Marquer comme bonne rponse"}),T.is_correct&&s.jsx(rF,{className:"h-4 w-4 text-green-600 ml-1"})]}),s.jsx("input",{type:"text",value:T.choice_text,onChange:B=>E(F.tempId,T.tempId,"choice_text",B.target.value),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`choice-${T.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:`Choix ${M+1}`}),F.choices.length>2&&s.jsx("button",{type:"button",onClick:()=>N(F.tempId,T.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-100 p-1 rounded",title:"Supprimer ce choix",children:s.jsx(Hn,{className:"h-4 w-4"})})]},T.tempId))})]})]},F.tempId))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-white",children:[s.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:m,children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:m,className:"min-w-[180px] bg-orange-600 hover:bg-orange-700",children:m?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Cration en cours..."})]}):"Crer le test"})]})]})]})})},jse=()=>{const{id:e}=io(),t=pn(),{data:r,isLoading:n,error:a}=dp(e),i=nse(),l=sse(),o=ose(),[u,f]=C.useState(new Set),[h,m]=C.useState(!1),[g,x]=C.useState(!1),[b,v]=C.useState(!1),[w,N]=C.useState(null),[E,S]=C.useState(null),D=K=>{const ee=new Set(u);ee.has(K)?ee.delete(K):ee.add(K),f(ee)},F=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le module "${K.title}" ? Toutes les vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(K.id)}catch(ee){console.error("Error deleting module:",ee),alert("Erreur lors de la suppression du module")}},O=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer la vido "${K.title}" ?`))try{await l.mutateAsync(K.id)}catch(ee){console.error("Error deleting video:",ee),alert("Erreur lors de la suppression de la vido")}},T=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le test "${K.title}" ? Toutes les questions et rponses associes seront galement supprimes.`))try{await o.mutateAsync(K.id)}catch(ee){console.error("Error deleting test:",ee),alert("Erreur lors de la suppression du test")}},M=K=>K==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",B=K=>K==="published"?"Publie":"Brouillon",H=K=>({video:"bg-purple-50 text-purple-700",test:"bg-orange-50 text-orange-700",document:"bg-blue-50 text-blue-700"})[K]||"bg-gray-50 text-gray-700",R=K=>({video:"Vido",test:"Test",document:"Document"})[K]||K;if(n)return s.jsx(ha,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(a||!r)return s.jsxs(ha,{title:"Erreur",subtitle:"Formation introuvable",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Formation introuvable"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:a?.message||"Cette formation n'existe pas ou a t supprime."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(rt,{onClick:()=>t("/admin/formations/cours"),variant:"outline",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour aux formations"]})})]});const U=r.modules||[];return s.jsxs(ha,{title:r.title,subtitle:"Configuration de la formation",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>t("/admin/formations/cours"),className:"text-gray-600 hover:text-gray-900",children:[s.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Retour"]}),s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${M(r.status)}`,children:B(r.status)})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[r.duration_hours&&s.jsxs("span",{children:[r.duration_hours,"h de contenu"]}),r.price&&Number(r.price)>0&&s.jsx("span",{children:I3(r.price)}),s.jsxs("span",{children:[U.length," module(s)"]})]})]})})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:s.jsx("div",{className:"flex flex-wrap gap-3",children:s.jsxs(rt,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Ajouter un module"]})})}),U.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun module"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer le premier module de votre formation"}),s.jsxs(rt,{onClick:()=>{N(null),m(!0)},className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Crer un module"]})]}):s.jsx("div",{className:"space-y-3",children:U.map(K=>{const ee=u.has(K.id),pe=K.videos||[],re=K.tests||[],se=pe.length>0||re.length>0;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-4 flex items-center gap-3",children:[s.jsx("button",{onClick:()=>D(K.id),className:"text-gray-400 hover:text-gray-600",disabled:!se,children:se?ee?s.jsx(rp,{className:"h-5 w-5"}):s.jsx(Io,{className:"h-5 w-5"}):s.jsx("div",{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",K.order_index+1]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:K.title}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${H(K.module_type)}`,children:R(K.module_type)})]}),K.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:K.description}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:[pe.length," vido(s)"]}),s.jsxs("span",{children:[re.length," test(s)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{S(K.id),x(!0)},className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Ajouter une vido",children:s.jsx(Wx,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{S(K.id),v(!0)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",title:"Ajouter un test",children:s.jsx(nf,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{N(K),m(!0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter le module",children:s.jsx(ap,{className:"h-4 w-4"})}),s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>F(K),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le module",children:s.jsx(Hn,{className:"h-4 w-4"})})]})]}),ee&&se&&s.jsxs("div",{className:"border-t bg-gray-50 px-4 py-3 space-y-2",children:[pe.map(ye=>s.jsxs("div",{className:"bg-white rounded border border-purple-100 p-3 flex items-center gap-3",children:[s.jsx(Wx,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ye.title}),ye.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(ye.duration_seconds/60),"min"," ",ye.duration_seconds%60,"s"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>O(ye),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Hn,{className:"h-3 w-3"})})})]},ye.id)),re.map(ye=>s.jsxs("div",{className:"bg-white rounded border border-orange-100 p-3 flex items-center gap-3",children:[s.jsx(nf,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ye.title}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[s.jsxs("span",{children:[ye.questions?.length||0," question(s)"]}),ye.time_limit_minutes&&s.jsxs("span",{children:[ye.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",ye.passing_score,"%"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>T(ye),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Hn,{className:"h-3 w-3"})})})]},ye.id))]})]},K.id)})})]}),h&&e&&s.jsx(wse,{formationId:e,module:w||void 0,modules:U,onClose:()=>{m(!1),N(null)}}),g&&E&&s.jsx(Nse,{moduleId:E,onClose:()=>{x(!1),S(null)}}),b&&E&&s.jsx(_se,{moduleId:E,onClose:()=>{v(!1),S(null)}})]})};function DL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=DL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function an(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=DL(e))&&(n&&(n+=" "),n+=t);return n}var Sse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function B3(e){if(typeof e!="string")return!1;var t=Sse;return t.includes(e)}var Ase=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function FL(e){if(typeof e!="string")return!1;var t=Ase;return t.includes(e)}function PL(e){return typeof e=="string"&&e.startsWith("data-")}function no(e){var t=Object.entries(e).filter(r=>{var[n]=r;return FL(n)||PL(n)});return Object.fromEntries(t)}function eh(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return no(t)}return typeof e=="object"&&!Array.isArray(e)?no(e):null}function rl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return FL(n)||PL(n)||B3(n)});return Object.fromEntries(t)}function Ese(e){return e==null?null:C.isValidElement(e)?rl(e.props):typeof e=="object"&&!Array.isArray(e)?rl(e):null}var kse=["children","width","height","viewBox","className","style","title","desc"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(null,arguments)}function Cse(e,t){if(e==null)return{};var r,n,a=Tse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U3=C.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:u,desc:f}=e,h=Cse(e,kse),m=i||{width:n,height:a,x:0,y:0},g=an("recharts-surface",l);return C.createElement("svg",xN({},rl(h),{className:g,width:n,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),C.createElement("title",null,u),C.createElement("desc",null,f),r)}),Ose=["children","className"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(null,arguments)}function Dse(e,t){if(e==null)return{};var r,n,a=Fse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var os=C.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Dse(e,Ose),i=an("recharts-layer",n);return C.createElement("g",gN({className:i},rl(a),{ref:t}),r)}),LL=C.createContext(null),Pse=()=>C.useContext(LL);function Un(e){return function(){return e}}const ML=Math.cos,hy=Math.sin,Pc=Math.sqrt,my=Math.PI,v2=2*my,vN=Math.PI,yN=2*vN,N0=1e-6,Lse=yN-N0;function RL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Mse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Rse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RL:Mse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,u=n-t,f=a-r,h=l-t,m=o-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>N0)if(!(Math.abs(m*u-f*h)>N0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,b=a-o,v=u*u+f*f,w=x*x+b*b,N=Math.sqrt(v),E=Math.sqrt(g),S=i*Math.tan((vN-Math.acos((v+g-w)/(2*N*E)))/2),D=S/E,F=S/N;Math.abs(D-1)>N0&&this._append`L${t+D*h},${r+D*m}`,this._append`A${i},${i},0,0,${+(m*x>h*b)},${this._x1=t+F*u},${this._y1=r+F*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),f=t+o,h=r+u,m=1^l,g=l?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>N0||Math.abs(this._y1-h)>N0)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%yN+yN),g>Lse?this._append`A${n},${n},0,1,${m},${t-o},${r-u}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:g>N0&&this._append`A${n},${n},0,${+(g>=vN)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function z3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Rse(t)}function q3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IL(e){this._context=e}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function y2(e){return new IL(e)}function BL(e){return e[0]}function UL(e){return e[1]}function zL(e,t){var r=Un(!0),n=null,a=y2,i=null,l=z3(o);e=typeof e=="function"?e:e===void 0?BL:Un(e),t=typeof t=="function"?t:t===void 0?UL:Un(t);function o(u){var f,h=(u=q3(u)).length,m,g=!1,x;for(n==null&&(i=a(x=l())),f=0;f<=h;++f)!(f<h&&r(m=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,u),+t(m,f,u));if(x)return i=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Un(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Un(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Un(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),o):n},o}function ov(e,t,r){var n=null,a=Un(!0),i=null,l=y2,o=null,u=z3(f);e=typeof e=="function"?e:e===void 0?BL:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UL:Un(+r);function f(m){var g,x,b,v=(m=q3(m)).length,w,N=!1,E,S=new Array(v),D=new Array(v);for(i==null&&(o=l(E=u())),g=0;g<=v;++g){if(!(g<v&&a(w=m[g],g,m))===N)if(N=!N)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=x;--b)o.point(S[b],D[b]);o.lineEnd(),o.areaEnd()}N&&(S[g]=+e(w,g,m),D[g]=+t(w,g,m),o.point(n?+n(w,g,m):S[g],r?+r(w,g,m):D[g]))}if(E)return o=null,E+""||null}function h(){return zL().defined(a).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Un(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Un(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Un(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Un(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Un(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Un(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Un(!!m),f):a},f.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),f):i},f}class qL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ise(e){return new qL(e,!0)}function Bse(e){return new qL(e,!1)}const $3={draw(e,t){const r=Pc(t/my);e.moveTo(r,0),e.arc(0,0,r,0,v2)}},Use={draw(e,t){const r=Pc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$L=Pc(1/3),zse=$L*2,qse={draw(e,t){const r=Pc(t/zse),n=r*$L;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$se={draw(e,t){const r=Pc(t),n=-r/2;e.rect(n,n,r,r)}},Hse=.8908130915292852,HL=hy(my/10)/hy(7*my/10),Vse=hy(v2/10)*HL,Wse=-ML(v2/10)*HL,Gse={draw(e,t){const r=Pc(t*Hse),n=Vse*r,a=Wse*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=v2*i/5,o=ML(l),u=hy(l);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*a,u*n+o*a)}e.closePath()}},qw=Pc(3),Kse={draw(e,t){const r=-Pc(t/(qw*3));e.moveTo(0,r*2),e.lineTo(-qw*r,-r),e.lineTo(qw*r,-r),e.closePath()}},Eo=-.5,ko=Pc(3)/2,bN=1/Pc(12),Yse=(bN/2+1)*3,Xse={draw(e,t){const r=Pc(t/Yse),n=r/2,a=r*bN,i=n,l=r*bN+r,o=-i,u=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,u),e.lineTo(Eo*n-ko*a,ko*n+Eo*a),e.lineTo(Eo*i-ko*l,ko*i+Eo*l),e.lineTo(Eo*o-ko*u,ko*o+Eo*u),e.lineTo(Eo*n+ko*a,Eo*a-ko*n),e.lineTo(Eo*i+ko*l,Eo*l-ko*i),e.lineTo(Eo*o+ko*u,Eo*u-ko*o),e.closePath()}};function Qse(e,t){let r=null,n=z3(a);e=typeof e=="function"?e:Un(e||$3),t=typeof t=="function"?t:Un(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Un(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Un(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function py(){}function xy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VL(e){this._context=e}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zse(e){return new VL(e)}function WL(e){this._context=e}WL.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jse(e){return new WL(e)}function GL(e){this._context=e}GL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ele(e){return new GL(e)}function KL(e){this._context=e}KL.prototype={areaStart:py,areaEnd:py,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tle(e){return new KL(e)}function Xk(e){return e<0?-1:1}function Qk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(Xk(i)+Xk(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function Zk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $w(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function gy(e){this._context=e}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$w(this,this._t0,Zk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$w(this,Zk(this,r=Qk(this,e,t)),r);break;default:$w(this,this._t0,r=Qk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function YL(e){this._context=new XL(e)}(YL.prototype=Object.create(gy.prototype)).point=function(e,t){gy.prototype.point.call(this,t,e)};function XL(e){this._context=e}XL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function rle(e){return new gy(e)}function nle(e){return new YL(e)}function QL(e){this._context=e}QL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Jk(e),a=Jk(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ale(e){return new QL(e)}function b2(e,t){this._context=e,this._t=t}b2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ile(e){return new b2(e,.5)}function sle(e){return new b2(e,0)}function lle(e){return new b2(e,1)}function Hm(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function wN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ole(e,t){return e[t]}function cle(e){const t=[];return t.key=e,t}function ule(){var e=Un([]),t=wN,r=Hm,n=ole;function a(i){var l=Array.from(e.apply(this,arguments),cle),o,u=l.length,f=-1,h;for(const m of i)for(o=0,++f;o<u;++o)(l[o][f]=[0,+n(m,l[o].key,f,i)]).data=m;for(o=0,h=q3(t(l));o<u;++o)l[h[o]].index=o;return r(l,h),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Un(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Un(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?wN:typeof i=="function"?i:Un(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Hm,a):r},a}function fle(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Hm(e,t)}}function dle(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}Hm(e,t)}}function hle(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,u=0,f=0;o<l;++o){for(var h=e[t[o]],m=h[n][1]||0,g=h[n-1][1]||0,x=(m-g)/2,b=0;b<o;++b){var v=e[t[b]],w=v[n][1]||0,N=v[n-1][1]||0;x+=w-N}u+=m,f+=x*m}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,Hm(e,t)}}var Hw={},Vw={},eC;function mle(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Vw)),Vw}var Ww={},tC;function ZL(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ww)),Ww}var Gw={},rC;function H3(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Gw)),Gw}var Kw={},Yw={},nC;function ple(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Yw)),Yw}var aC;function V3(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ple(),r=H3();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let o=0,u="",f="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=a[o];f?m==="\\"&&o+1<l?(o++,u+=a[o]):m===f?f="":u+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,i.push(u),u=""):u+=m:m==="["?(h=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,o++}return u&&i.push(u),i}e.toPath=n})(Kw)),Kw}var iC;function W3(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mle(),r=ZL(),n=H3(),a=V3();function i(o,u,f){if(o==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?r.isDeepKey(u)?i(o,a.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=o[u];return h===void 0?f:h}default:{if(Array.isArray(u))return l(o,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?f:h}}}function l(o,u,f){if(u.length===0)return f;let h=o;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return f;h=h[u[m]]}return h===void 0?f:h}e.get=i})(Hw)),Hw}var Xw,sC;function xle(){return sC||(sC=1,Xw=W3().get),Xw}var gle=xle();const th=bf(gle);var qi=e=>e===0?0:e>0?1:-1,$o=e=>typeof e=="number"&&e!=+e,mf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Kt=e=>(typeof e=="number"||e instanceof Number)&&!$o(e),hu=e=>Kt(e)||typeof e=="string",vle=0,lg=e=>{var t=++vle;return"".concat(e||"").concat(t)},Ts=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Kt(t)&&typeof t!="string")return n;var i;if(mf(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return $o(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},JL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function La(e,t,r){return Kt(e)&&Kt(t)?e+r*(t-e):t}function eM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):th(n,t))===r)}var ma=e=>e===null||typeof e>"u",Pg=e=>ma(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),yle=["type","size","sizeType"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(null,arguments)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){ble(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ble(e,t,r){return(t=wle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wle(e){var t=Nle(e,"string");return typeof t=="symbol"?t:t+""}function Nle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _le(e,t){if(e==null)return{};var r,n,a=jle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tM={symbolCircle:$3,symbolCross:Use,symbolDiamond:qse,symbolSquare:$se,symbolStar:Gse,symbolTriangle:Kse,symbolWye:Xse},Sle=Math.PI/180,Ale=e=>{var t="symbol".concat(Pg(e));return tM[t]||$3},Ele=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Sle;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kle=(e,t)=>{tM["symbol".concat(Pg(e))]=t},G3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=_le(e,yle),i=oC(oC({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var g=Ale(l),x=Qse().type(g).size(Ele(r,n,l)),b=x();if(b!==null)return b},{className:u,cx:f,cy:h}=i,m=rl(i);return f===+f&&h===+h&&r===+r?C.createElement("path",NN({},m,{className:an("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:o()})):null};G3.registerSymbol=kle;var K3=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{B3(a)&&(n[a]=(i=>r[a](r,i)))}),n},Cle=(e,t,r)=>n=>(e(t,r,n),null),Lg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];B3(a)&&typeof i=="function"&&(n||(n={}),n[a]=Cle(i,t,r))}),n};function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_N.apply(null,arguments)}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){Y3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y3(e,t,r){return(t=Ole(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ole(e){var t=Dle(e,"string");return typeof t=="symbol"?t:t+""}function Dle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Co=32;class X3 extends C.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Co/2,i=Co/6,l=Co/3,o=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Co,y2:a,className:"recharts-legend-icon"});if(u==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Co,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return C.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Co/8,"h").concat(Co,"v").concat(Co*3/4,"h").concat(-Co,"z"),className:"recharts-legend-icon"});if(C.isValidElement(t.legendIcon)){var f=Tle({},t);return delete f.legendIcon,C.cloneElement(t.legendIcon,f)}return C.createElement(G3,{fill:o,cx:a,cy:a,size:Co,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,o={x:0,y:0,width:Co,height:Co},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||a,x=an({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,v=g?g(h.value,h,m):h.value;return C.createElement("li",_N({className:x,style:u,key:"legend-item-".concat(m)},Lg(this.props,h,m)),C.createElement(U3,{width:r,height:r,viewBox:o,style:f,"aria-label":"".concat(v," legend icon")},this.renderIcon(h,l)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Y3(X3,"displayName","Legend");Y3(X3,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Qw={},Zw={},uC;function Fle(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(Zw)),Zw}var Jw={},fC;function rM(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Jw)),Jw}var e5={},t5={},r5={},dC;function Ple(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(r5)),r5}var hC;function Q3(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ple();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(t5)),t5}var n5={},mC;function Lle(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(n5)),n5}var pC;function Mle(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q3(),r=Lle();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(e5)),e5}var a5={},i5={},xC;function Rle(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W3();function r(n){return function(a){return t.get(a,n)}}e.property=r})(i5)),i5}var s5={},l5={},o5={},c5={},gC;function nM(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(c5)),c5}var u5={},vC;function aM(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(u5)),u5}var f5={},yC;function iM(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(f5)),f5}var bC;function Ile(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM(),r=aM(),n=iM();function a(h,m,g){return typeof g!="function"?a(h,m,()=>{}):i(h,m,function x(b,v,w,N,E,S){const D=g(b,v,w,N,E,S);return D!==void 0?!!D:i(b,v,x,S)},new Map)}function i(h,m,g,x){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,x);case"function":return Object.keys(m).length>0?i(h,{...m},g,x):n.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:n.eq(h,m)}}function l(h,m,g,x){if(m==null)return!0;if(Array.isArray(m))return u(h,m,g,x);if(m instanceof Map)return o(h,m,g,x);if(m instanceof Set)return f(h,m,g,x);const b=Object.keys(m);if(h==null)return b.length===0;if(b.length===0)return!0;if(x?.has(m))return x.get(m)===h;x?.set(m,h);try{for(let v=0;v<b.length;v++){const w=b[v];if(!r.isPrimitive(h)&&!(w in h)||m[w]===void 0&&h[w]!==void 0||m[w]===null&&h[w]!==null||!g(h[w],m[w],w,h,m,x))return!1}return!0}finally{x?.delete(m)}}function o(h,m,g,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,v]of m.entries()){const w=h.get(b);if(g(w,v,b,h,m,x)===!1)return!1}return!0}function u(h,m,g,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let v=0;v<m.length;v++){const w=m[v];let N=!1;for(let E=0;E<h.length;E++){if(b.has(E))continue;const S=h[E];let D=!1;if(g(S,w,v,h,m,x)&&(D=!0),D){b.add(E),N=!0;break}}if(!N)return!1}return!0}function f(h,m,g,x){return m.size===0?!0:h instanceof Set?u([...h],[...m],g,x):!1}e.isMatchWith=a,e.isSetMatch=f})(o5)),o5}var wC;function sM(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ile();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(l5)),l5}var d5={},h5={},m5={},NC;function Ble(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(m5)),m5}var p5={},_C;function lM(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(p5)),p5}var x5={},jC;function oM(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",v="[object DataView]",w="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",S="[object Uint32Array]",D="[object BigUint64Array]",F="[object Int8Array]",O="[object Int16Array]",T="[object Int32Array]",M="[object BigInt64Array]",B="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=D,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=H,e.functionTag=m,e.int16ArrayTag=O,e.int32ArrayTag=T,e.int8ArrayTag=F,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=S,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=N})(x5)),x5}var g5={},SC;function Ule(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(g5)),g5}var AC;function cM(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ble(),r=lM(),n=oM(),a=aM(),i=Ule();function l(h,m){return o(h,void 0,h,new Map,m)}function o(h,m,g,x=new Map,b=void 0){const v=b?.(h,m,g,x);if(v!==void 0)return v;if(a.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[N,E]of h)w.set(N,o(E,N,g,x,b));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const N of h)w.add(o(N,void 0,g,x,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let N=0;N<h.length;N++)w[N]=o(h[N],N,g,x,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),u(w,h,g,x,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,u(w,h,g,x,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof String){const w=new String(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),u(w,h,g,x,b),w}return h}function u(h,m,g=h,x,b){const v=[...Object.keys(m),...t.getSymbols(m)];for(let w=0;w<v.length;w++){const N=v[w],E=Object.getOwnPropertyDescriptor(h,N);(E==null||E.writable)&&(h[N]=o(m[N],N,g,x,b))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=u})(h5)),h5}var EC;function zle(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(d5)),d5}var kC;function qle(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),r=zle();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(s5)),s5}var v5={},y5={},b5={},CC;function $le(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),r=oM();function n(a,i){return t.cloneDeepWith(a,(l,o,u,f)=>{const h=i?.(l,o,u,f);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(b5)),b5}var TC;function Hle(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$le();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(y5)),y5}var w5={},N5={},OC;function uM(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(N5)),N5}var _5={},DC;function Vle(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(_5)),_5}var FC;function Wle(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL(),r=uM(),n=Vle(),a=V3();function i(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?u=a.toPath(o):u=[o],u.length===0)return!1;let f=l;for(let h=0;h<u.length;h++){const m=u[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=i})(w5)),w5}var PC;function Gle(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),r=H3(),n=Hle(),a=W3(),i=Wle();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(f){const h=a.get(f,o);return h===void 0?i.has(f,o):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=l})(v5)),v5}var LC;function Kle(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM(),r=Rle(),n=qle(),a=Gle();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(a5)),a5}var MC;function Yle(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fle(),r=rM(),n=Mle(),a=Kle();function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(Qw)),Qw}var j5,RC;function Xle(){return RC||(RC=1,j5=Yle().uniqBy),j5}var Qle=Xle();const IC=bf(Qle);function fM(e,t,r){return t===!0?IC(e,r):typeof t=="function"?IC(e,t):e}var S5={exports:{}},A5={},E5={exports:{}},k5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function Zle(){if(BC)return k5;BC=1;var e=Qm();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(m,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),v=b[0].inst,w=b[1];return i(function(){v.value=x,v.getSnapshot=g,u(v)&&w({inst:v})},[m,x,g]),a(function(){return u(v)&&w({inst:v}),m(function(){u(v)&&w({inst:v})})},[m]),l(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!r(m,x)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return k5.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,k5}var UC;function Jle(){return UC||(UC=1,E5.exports=Zle()),E5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function eoe(){if(zC)return A5;zC=1;var e=Qm(),t=Jle();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,u=e.useDebugValue;return A5.useSyncExternalStoreWithSelector=function(f,h,m,g,x){var b=i(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function N(O){if(!E){if(E=!0,S=O,O=g(O),x!==void 0&&v.hasValue){var T=v.value;if(x(T,O))return D=T}return D=O}if(T=D,n(S,O))return T;var M=g(O);return x!==void 0&&x(T,M)?(S=O,T):(S=O,D=M)}var E=!1,S,D,F=m===void 0?null:m;return[function(){return N(h())},F===null?void 0:function(){return N(F())}]},[h,m,g,x]);var w=a(f,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=w},[w]),u(w),w},A5}var qC;function toe(){return qC||(qC=1,S5.exports=eoe()),S5.exports}var roe=toe(),Z3=C.createContext(null),noe=e=>e,pa=()=>{var e=C.useContext(Z3);return e?e.store.dispatch:noe},Iv=()=>{},aoe=()=>Iv,ioe=(e,t)=>e===t;function zt(e){var t=C.useContext(Z3);return roe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:aoe,t?t.store.getState:Iv,t?t.store.getState:Iv,t?e:Iv,ioe)}function soe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function loe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ooe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $C=e=>Array.isArray(e)?e:[e];function coe(e){const t=Array.isArray(e[0])?e[0]:e;return ooe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function uoe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var foe=class{constructor(e){this.value=e}deref(){return this.value}},doe=typeof WeakRef<"u"?WeakRef:foe,hoe=0,HC=1;function cv(){return{s:hoe,v:void 0,o:null,p:null}}function dM(e,t={}){let r=cv();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let o=r;const{length:u}=arguments;for(let m=0,g=u;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const v=b.get(x);v===void 0?(o=cv(),b.set(x,o)):o=v}else{let b=o.p;b===null&&(o.p=b=new Map);const v=b.get(x);v===void 0?(o=cv(),b.set(x,o)):o=v}}const f=o;let h;if(o.s===HC)h=o.v;else if(h=e.apply(null,arguments),i++,n){const m=a?.deref?.()??a;m!=null&&n(m,h)&&(h=m,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new doe(h):h}return f.s=HC,f.v=h,h}return l.clearCache=()=>{r=cv(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function moe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),soe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...u},{memoize:m,memoizeOptions:g=[],argsMemoize:x=dM,argsMemoizeOptions:b=[]}=h,v=$C(g),w=$C(b),N=coe(a),E=m(function(){return i++,f.apply(null,arguments)},...v),S=x(function(){l++;const F=uoe(N,arguments);return o=E.apply(null,F),o},...w);return Object.assign(S,{resultFunc:f,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var He=moe(dM),poe=Object.assign((e,t=He)=>{loe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,u)=>(l[r[u]]=o,l),{}))},{withTypes:()=>poe}),C5={},T5={},O5={},VC;function xoe(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(O5)),O5}var D5={},F5={},WC;function hM(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(F5)),F5}var GC;function goe(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(D5)),D5}var KC;function voe(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xoe(),r=goe(),n=V3();function a(i,l,o,u){if(i==null)return[];o=u?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const f=(x,b)=>{let v=x;for(let w=0;w<b.length&&v!=null;++w)v=v[b[w]];return v},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:f(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?f(b,x):typeof b=="object"?b[x]:b,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let v=0;v<m.length;v++){const w=t.compareValues(x.criteria[v],b.criteria[v],o[v]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=a})(T5)),T5}var P5={},YC;function yoe(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,u)=>{for(let f=0;f<o.length;f++){const h=o[f];Array.isArray(h)&&u<i?l(h,u+1):a.push(h)}};return l(r,0),a}e.flatten=t})(P5)),P5}var L5={},XC;function mM(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM(),r=Q3(),n=nM(),a=iM();function i(l,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?a.eq(u[o],l):!1}e.isIterateeCall=i})(L5)),L5}var QC;function boe(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=voe(),r=yoe(),n=mM();function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(C5)),C5}var M5,ZC;function woe(){return ZC||(ZC=1,M5=boe().sortBy),M5}var Noe=woe();const w2=bf(Noe);var pM=e=>e.legend.settings,_oe=e=>e.legend.size,joe=e=>e.legend.payload,Soe=He([joe,pM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?w2(n,r):n});function Aoe(){return zt(Soe)}var uv=1;function xM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>uv||Math.abs(l.left-t.left)>uv||Math.abs(l.top-t.top)>uv||Math.abs(l.width-t.width)>uv)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function rs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Eoe=typeof Symbol=="function"&&Symbol.observable||"@@observable",JC=Eoe,R5=()=>Math.random().toString(36).substring(7).split("").join("."),koe={INIT:`@@redux/INIT${R5()}`,REPLACE:`@@redux/REPLACE${R5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${R5()}`},vy=koe;function J3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gM(e,t,r){if(typeof e!="function")throw new Error(rs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(rs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(rs(1));return r(gM)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,u=!1;function f(){l===i&&(l=new Map,i.forEach((w,N)=>{l.set(N,w)}))}function h(){if(u)throw new Error(rs(3));return a}function m(w){if(typeof w!="function")throw new Error(rs(4));if(u)throw new Error(rs(5));let N=!0;f();const E=o++;return l.set(E,w),function(){if(N){if(u)throw new Error(rs(6));N=!1,f(),l.delete(E),i=null}}}function g(w){if(!J3(w))throw new Error(rs(7));if(typeof w.type>"u")throw new Error(rs(8));if(typeof w.type!="string")throw new Error(rs(17));if(u)throw new Error(rs(9));try{u=!0,a=n(a,w)}finally{u=!1}return(i=l).forEach(E=>{E()}),w}function x(w){if(typeof w!="function")throw new Error(rs(10));n=w,g({type:vy.REPLACE})}function b(){const w=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(rs(11));function E(){const D=N;D.next&&D.next(h())}return E(),{unsubscribe:w(E)}},[JC](){return this}}}return g({type:vy.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:x,[JC]:b}}function Coe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:vy.INIT})>"u")throw new Error(rs(12));if(typeof r(void 0,{type:vy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rs(13))})}function vM(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{Coe(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let u=!1;const f={};for(let h=0;h<n.length;h++){const m=n[h],g=r[m],x=l[m],b=g(x,o);if(typeof b>"u")throw o&&o.type,new Error(rs(14));f[m]=b,u=u||b!==x}return u=u||n.length!==Object.keys(l).length,u?f:l}}function yy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Toe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(rs(15))};const l={getState:a.getState,dispatch:(u,...f)=>i(u,...f)},o=e.map(u=>u(l));return i=yy(...o)(a.dispatch),{...a,dispatch:i}}}function yM(e){return J3(e)&&"type"in e&&typeof e.type=="string"}var bM=Symbol.for("immer-nothing"),eT=Symbol.for("immer-draftable"),ao=Symbol.for("immer-state");function bc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var og=Object.getPrototypeOf;function rh(e){return!!e&&!!e[ao]}function pf(e){return e?wM(e)||Array.isArray(e)||!!e[eT]||!!e.constructor?.[eT]||Mg(e)||_2(e):!1}var Ooe=Object.prototype.constructor.toString(),tT=new WeakMap;function wM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=tT.get(r);return n===void 0&&(n=Function.toString.call(r),tT.set(r,n)),n===Ooe}function by(e,t,r=!0){N2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function N2(e){const t=e[ao];return t?t.type_:Array.isArray(e)?1:Mg(e)?2:_2(e)?3:0}function jN(e,t){return N2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NM(e,t,r){const n=N2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Doe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mg(e){return e instanceof Map}function _2(e){return e instanceof Set}function _0(e){return e.copy_||e.base_}function SN(e,t){if(Mg(e))return new Map(e);if(_2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ao];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(og(e),n)}else{const n=og(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function ej(e,t=!1){return j2(e)||rh(e)||!pf(e)||(N2(e)>1&&Object.defineProperties(e,{set:fv,add:fv,clear:fv,delete:fv}),Object.freeze(e),t&&Object.values(e).forEach(r=>ej(r,!0))),e}function Foe(){bc(2)}var fv={value:Foe};function j2(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Poe={};function nh(e){const t=Poe[e];return t||bc(0,e),t}var cg;function _M(){return cg}function Loe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rT(e,t){t&&(nh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function AN(e){EN(e),e.drafts_.forEach(Moe),e.drafts_=null}function EN(e){e===cg&&(cg=e.parent_)}function nT(e){return cg=Loe(cg,e)}function Moe(e){const t=e[ao];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ao].modified_&&(AN(t),bc(4)),pf(e)&&(e=wy(t,e),t.parent_||Ny(t,e)),t.patches_&&nh("Patches").generateReplacementPatches_(r[ao].base_,e,t.patches_,t.inversePatches_)):e=wy(t,r,[]),AN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bM?e:void 0}function wy(e,t,r){if(j2(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[ao];if(!a)return by(t,(i,l)=>iT(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Ny(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,o=!1;a.type_===3&&(l=new Set(i),i.clear(),o=!0),by(l,(u,f)=>iT(e,a,i,u,f,r,o),n),Ny(e,i,!1),r&&e.patches_&&nh("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function iT(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const o=j2(a);if(!(o&&!l)){if(rh(a)){const u=i&&t&&t.type_!==3&&!jN(t.assigned_,n)?i.concat(n):void 0,f=wy(e,a,u);if(NM(r,n,f),rh(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(pf(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;wy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Mg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ny(e,a)}}}function Ny(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ej(t,r)}function Roe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_M(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=tj;r&&(a=[n],i=ug);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var tj={get(e,t){if(t===ao)return e;const r=_0(e);if(!jN(r,t))return Ioe(e,r,t);const n=r[t];return e.finalized_||!pf(n)?n:n===I5(e.base_,t)?(B5(e),e.copy_[t]=CN(n,e)):n},has(e,t){return t in _0(e)},ownKeys(e){return Reflect.ownKeys(_0(e))},set(e,t,r){const n=jM(_0(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=I5(_0(e),t),i=a?.[ao];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Doe(r,a)&&(r!==void 0||jN(e.base_,t)))return!0;B5(e),kN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return I5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,B5(e),kN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){bc(11)},getPrototypeOf(e){return og(e.base_)},setPrototypeOf(){bc(12)}},ug={};by(tj,(e,t)=>{ug[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ug.deleteProperty=function(e,t){return ug.set.call(this,e,t,void 0)};ug.set=function(e,t,r){return tj.set.call(this,e[0],t,r,e[0])};function I5(e,t){const r=e[ao];return(r?_0(r):e)[t]}function Ioe(e,t,r){const n=jM(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function jM(e,t){if(!(t in e))return;let r=og(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=og(r)}}function kN(e){e.modified_||(e.modified_=!0,e.parent_&&kN(e.parent_))}function B5(e){e.copy_||(e.copy_=SN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Boe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(u=i,...f){return l.produce(u,h=>r.call(this,h,...f))}}typeof r!="function"&&bc(6),n!==void 0&&typeof n!="function"&&bc(7);let a;if(pf(t)){const i=nT(this),l=CN(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?AN(i):EN(i)}return rT(i,n),aT(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===bM&&(a=void 0),this.autoFreeze_&&ej(a,!0),n){const i=[],l=[];nh("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else bc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,u=>t(u,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pf(e)||bc(8),rh(e)&&(e=of(e));const t=nT(this),r=CN(e,void 0);return r[ao].isManual_=!0,EN(t),r}finishDraft(e,t){const r=e&&e[ao];(!r||!r.isManual_)&&bc(9);const{scope_:n}=r;return rT(n,t),aT(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=nh("Patches").applyPatches_;return rh(e)?n(e,t):this.produce(e,a=>n(a,t))}};function CN(e,t){const r=Mg(e)?nh("MapSet").proxyMap_(e,t):_2(e)?nh("MapSet").proxySet_(e,t):Roe(e,t);return(t?t.scope_:_M()).drafts_.push(r),r}function of(e){return rh(e)||bc(10,e),SM(e)}function SM(e){if(!pf(e)||j2(e))return e;const t=e[ao];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=SN(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=SN(e,!0);return by(r,(a,i)=>{NM(r,a,SM(i))},n),t&&(t.finalized_=!1),r}var Uoe=new Boe,AM=Uoe.produce;function EM(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var zoe=EM(),qoe=EM,$oe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yy:yy.apply(null,arguments)};function Ho(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(to(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>yM(n)&&n.type===e,r}var kM=class jx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,jx.prototype)}static get[Symbol.species](){return jx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new jx(...t[0].concat(this)):new jx(...t.concat(this))}};function sT(e){return pf(e)?AM(e,()=>{}):e}function dv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Hoe(e){return typeof e=="boolean"}var Voe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new kM;return r&&(Hoe(r)?l.push(zoe):l.push(qoe(r.extraArgument))),l},CM="RTK_autoBatch",Xs=()=>e=>({payload:e,meta:{[CM]:!0}}),lT=e=>t=>{setTimeout(t,e)},TM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lT(10):e.type==="callback"?e.queueNotification:lT(e.timeout),f=()=>{l=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>a&&h(),g=n.subscribe(m);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){try{return a=!h?.meta?.[CM],i=!a,i&&(l||(l=!0,u(f))),n.dispatch(h)}finally{a=!0}}})},Woe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new kM(e);return n&&a.push(TM(typeof n=="object"?n:void 0)),a};function Goe(e){const t=Voe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(J3(r))o=vM(r);else throw new Error(to(1));let u;typeof n=="function"?u=n(t):u=t();let f=yy;a&&(f=$oe({trace:!1,...typeof a=="object"&&a}));const h=Toe(...u),m=Woe(h);let g=typeof l=="function"?l(m):m();const x=f(...g);return gM(o,i,x)}function OM(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(to(28));if(o in t)throw new Error(to(29));return t[o]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Koe(e){return typeof e=="function"}function Yoe(e,t){let[r,n,a]=OM(t),i;if(Koe(e))i=()=>sT(e());else{const o=sT(e);i=()=>o}function l(o=i(),u){let f=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[a]),f.reduce((h,m)=>{if(m)if(rh(h)){const x=m(h,u);return x===void 0?h:x}else{if(pf(h))return AM(h,g=>m(g,u));{const g=m(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return l.getInitialState=i,l}var Xoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Qoe=(e=21)=>{let t="",r=e;for(;r--;)t+=Xoe[Math.random()*64|0];return t},Zoe=Symbol.for("rtk-slice-createasyncthunk");function Joe(e,t){return`${e}/${t}`}function ece({creators:e}={}){const t=e?.asyncThunk?.[Zoe];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(to(11));const l=(typeof n.reducers=="function"?n.reducers(rce()):n.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(S,D){const F=typeof S=="string"?S:S.type;if(!F)throw new Error(to(12));if(F in u.sliceCaseReducersByType)throw new Error(to(13));return u.sliceCaseReducersByType[F]=D,f},addMatcher(S,D){return u.sliceMatchers.push({matcher:S,reducer:D}),f},exposeAction(S,D){return u.actionCreators[S]=D,f},exposeCaseReducer(S,D){return u.sliceCaseReducersByName[S]=D,f}};o.forEach(S=>{const D=l[S],F={reducerName:S,type:Joe(a,S),createNotation:typeof n.reducers=="function"};ace(D)?sce(F,D,f,t):nce(F,D,f)});function h(){const[S={},D=[],F=void 0]=typeof n.extraReducers=="function"?OM(n.extraReducers):[n.extraReducers],O={...S,...u.sliceCaseReducersByType};return Yoe(n.initialState,T=>{for(let M in O)T.addCase(M,O[M]);for(let M of u.sliceMatchers)T.addMatcher(M.matcher,M.reducer);for(let M of D)T.addMatcher(M.matcher,M.reducer);F&&T.addDefaultCase(F)})}const m=S=>S,g=new Map,x=new WeakMap;let b;function v(S,D){return b||(b=h()),b(S,D)}function w(){return b||(b=h()),b.getInitialState()}function N(S,D=!1){function F(T){let M=T[S];return typeof M>"u"&&D&&(M=dv(x,F,w)),M}function O(T=m){const M=dv(g,D,()=>new WeakMap);return dv(M,T,()=>{const B={};for(const[H,R]of Object.entries(n.selectors??{}))B[H]=tce(R,T,()=>dv(x,T,w),D);return B})}return{reducerPath:S,getSelectors:O,get selectors(){return O(F)},selectSlice:F}}const E={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...N(i),injectInto(S,{reducerPath:D,...F}={}){const O=D??i;return S.inject({reducerPath:O,reducer:v},F),{...E,...N(O,!0)}}};return E}}function tce(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var lo=ece();function rce(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function nce({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!ice(n))throw new Error(to(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Ho(e,l):Ho(e))}function ace(e){return e._reducerDefinitionType==="asyncThunk"}function ice(e){return e._reducerDefinitionType==="reducerWithPrepare"}function sce({type:e,reducerName:t},r,n,a){if(!a)throw new Error(to(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:u,settled:f,options:h}=r,m=a(e,i,h);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),o&&n.addCase(m.pending,o),u&&n.addCase(m.rejected,u),f&&n.addMatcher(m.settled,f),n.exposeCaseReducer(t,{fulfilled:l||hv,pending:o||hv,rejected:u||hv,settled:f||hv})}function hv(){}var lce="task",DM="listener",FM="completed",rj="cancelled",oce=`task-${rj}`,cce=`task-${FM}`,TN=`${DM}-${rj}`,uce=`${DM}-${FM}`,S2=class{constructor(e){this.code=e,this.message=`${lce} ${rj} (reason: ${e})`}name="TaskAbortError";message},nj=(e,t)=>{if(typeof e!="function")throw new TypeError(to(32))},_y=()=>{},PM=(e,t=_y)=>(e.catch(t),e),LM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),I0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},B0=e=>{if(e.aborted){const{reason:t}=e;throw new S2(t)}};function MM(e,t){let r=_y;return new Promise((n,a)=>{const i=()=>a(new S2(e.reason));if(e.aborted){i();return}r=LM(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=_y})}var fce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof S2?"cancelled":"rejected",error:r}}finally{t?.()}},jy=e=>t=>PM(MM(e,t).then(r=>(B0(e),r))),RM=e=>{const t=jy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Pm}=Object,oT={},A2="listenerMiddleware",dce=(e,t)=>{const r=n=>LM(e,()=>I0(n,e.reason));return(n,a)=>{nj(n);const i=new AbortController;r(i);const l=fce(async()=>{B0(e),B0(i.signal);const o=await n({pause:jy(i.signal),delay:RM(i.signal),signal:i.signal});return B0(i.signal),o},()=>I0(i,cce));return a?.autoJoin&&t.push(l.catch(_y)),{result:jy(e)(l),cancel(){I0(i,oce)}}}},hce=(e,t)=>{const r=async(n,a)=>{B0(t);let i=()=>{};const o=[new Promise((u,f)=>{let h=e({predicate:n,effect:(m,g)=>{g.unsubscribe(),u([m,g.getState(),g.getOriginalState()])}});i=()=>{h(),f()}})];a!=null&&o.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await MM(t,Promise.race(o));return B0(t),u}finally{i()}};return(n,a)=>PM(r(n,a))},IM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Ho(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(to(21));return nj(i),{predicate:a,type:t,effect:i}},BM=Pm(e=>{const{type:t,predicate:r,effect:n}=IM(e);return{id:Qoe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(to(22))}}},{withTypes:()=>BM}),cT=(e,t)=>{const{type:r,effect:n,predicate:a}=IM(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},ON=e=>{e.pending.forEach(t=>{I0(t,TN)})},mce=(e,t)=>()=>{for(const r of t.keys())ON(r);e.clear()},uT=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},UM=Pm(Ho(`${A2}/add`),{withTypes:()=>UM}),pce=Ho(`${A2}/removeAll`),zM=Pm(Ho(`${A2}/remove`),{withTypes:()=>zM}),xce=(...e)=>{console.error(`${A2}/error`,...e)},Rg=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:i,onError:l=xce}=e;nj(l);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&ON(x)}),u=x=>{const b=cT(t,x)??BM(x);return o(b)};Pm(u,{withTypes:()=>u});const f=x=>{const b=cT(t,x);return b&&(b.unsubscribe(),x.cancelActive&&ON(b)),!!b};Pm(f,{withTypes:()=>f});const h=async(x,b,v,w)=>{const N=new AbortController,E=hce(u,N.signal),S=[];try{x.pending.add(N),n(x),await Promise.resolve(x.effect(b,Pm({},v,{getOriginalState:w,condition:(D,F)=>E(D,F).then(Boolean),take:E,delay:RM(N.signal),pause:jy(N.signal),extra:i,signal:N.signal,fork:dce(N.signal,S),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((D,F,O)=>{D!==N&&(I0(D,TN),O.delete(D))})},cancel:()=>{I0(N,TN),x.pending.delete(N)},throwIfCancelled:()=>{B0(N.signal)}})))}catch(D){D instanceof S2||uT(l,D,{raisedBy:"effect"})}finally{await Promise.all(S),I0(N,uce),a(x),x.pending.delete(N)}},m=mce(t,r);return{middleware:x=>b=>v=>{if(!yM(v))return b(v);if(UM.match(v))return u(v.payload);if(pce.match(v)){m();return}if(zM.match(v))return f(v.payload);let w=x.getState();const N=()=>{if(w===oT)throw new Error(to(23));return w};let E;try{if(E=b(v),t.size>0){const S=x.getState(),D=Array.from(t.values());for(const F of D){let O=!1;try{O=F.predicate(v,S,w)}catch(T){O=!1,uT(l,T,{raisedBy:"predicate"})}O&&h(F,v,x,N)}}}finally{w=oT}return E},startListening:u,stopListening:f,clearListeners:m}};function to(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},qM=lo({name:"chartLayout",initialState:gce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:vce,setLayout:yce,setChartSize:bce,setScale:wce}=qM.actions,Nce=qM.reducer;function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){_ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ce(e,t,r){return(t=jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jce(e){var t=Sce(e,"string");return typeof t=="symbol"?t:t+""}function Sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sy=Math.PI/180,Ace=e=>e*180/Math.PI,ai=(e,t,r,n)=>({x:e+Math.cos(-Sy*n)*r,y:t+Math.sin(-Sy*n)*r}),$M=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ece=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},kce=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=Ece({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,u=Math.acos(o);return n>i&&(u=2*Math.PI-u),{radius:l,angle:Ace(u),angleInRadian:u}},Cce=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Tce=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},Oce=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=kce({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:u,endAngle:f}=Cce(t),h=i,m;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=u}return m?dT(dT({},t),{},{radius:a,angle:Tce(h,t)}):null};function HM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){Dce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dce(e,t,r){return(t=Fce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fce(e){var t=Pce(e,"string");return typeof t=="symbol"?t:t+""}function Pce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,r){return ma(e)||ma(t)?r:hu(t)?th(e,t,r):typeof t=="function"?t(e):r}var Lce=(e,t,r,n,a)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<o;u++){var f=u>0?r[u-1].coordinate:r[o-1].coordinate,h=r[u].coordinate,m=u>=o-1?r[0].coordinate:r[u+1].coordinate,g=void 0;if(qi(h-f)!==qi(m-h)){var x=[];if(qi(m-h)===qi(a[1]-a[0])){g=m;var b=h+a[1]-a[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{g=f;var v=m+a[1]-a[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:l}=r[u]);break}}else{var N=Math.min(f,m),E=Math.max(f,m);if(e>(N+h)/2&&e<=(E+h)/2){({index:l}=r[u]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:l}=t[S]);break}}return l},Mce=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Kt(e[i]))return Ro(Ro({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Kt(e[l]))return Ro(Ro({},e),{},{[l]:e[l]+(a||0)})}return e},Hd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",VM=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},WM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:g,axisType:x}=e;if(!l)return null;var b=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(v=x==="angleAxis"&&i&&i.length>=2?qi(i[0]-i[1])*2*v:v,m||g){var w=(m||g||[]).map((N,E)=>{var S=n?n.indexOf(N):N;return{coordinate:l(S)+v,value:N,offset:v,index:E}});return w.filter(N=>!$o(N.coordinate))}return u&&f?f.map((N,E)=>({coordinate:l(N)+v,value:N,index:E,offset:v})):l.ticks&&h!=null?l.ticks(h).map((N,E)=>({coordinate:l(N)+v,value:N,offset:v,index:E})):l.domain().map((N,E)=>({coordinate:l(N)+v,value:n?n[N]:N,index:E,offset:v}))},mT=1e-4,Rce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-mT,i=Math.max(n[0],n[1])+mT,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},Ice=(e,t)=>{if(!t||t.length!==2||!Kt(t[0])||!Kt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Kt(e[0])||e[0]<r)&&(a[0]=r),(!Kt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Bce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=$o(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},Uce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=$o(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},zce={sign:Bce,expand:fle,none:Hm,silhouette:dle,wiggle:hle,positive:Uce},qce=(e,t,r)=>{var n=zce[r],a=ule().keys(t).value((i,l)=>+$n(i,l,0)).order(wN).offset(n);return a(e)};function $ce(e){return e==null?void 0:String(e)}function pT(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ma(a[t.dataKey])){var o=eM(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=$n(a,ma(l)?t.dataKey:l);return ma(u)?null:t.scale(u)}var xT=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=$n(i,t.dataKey,t.scale.domain()[l]);return ma(o)?null:t.scale(o)-a/2+n},Hce=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Vce=e=>{var t=e.flat(2).filter(Kt);return[Math.min(...t),Math.max(...t)]},Wce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Gce=(e,t,r)=>{if(e!=null)return Wce(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((u,f)=>{var h=HM(f,t,r),m=Vce(h);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},gT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fg=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=w2(t,h=>h.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var u=a[l],f=a[l-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function yT(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Ro(Ro({},t),{},{dataKey:r,payload:n,value:a,name:i})}function hp(e,t){if(e)return String(e);if(typeof t=="string")return t}function Kce(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?Oce({x:e,y:t},n):null}var Yce=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Ro(Ro(Ro({},n),ai(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:u}=n;return Ro(Ro(Ro({},n),ai(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{x:0,y:0}},Xce=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Sf=e=>e.layout.width,Af=e=>e.layout.height,Qce=e=>e.layout.scale,GM=e=>e.layout.margin,E2=He(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),k2=He(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),KM="data-recharts-item-index",YM="data-recharts-item-data-key",Ig=60;function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t,r){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tue=e=>e.brush.height;function rue(e){var t=k2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ig;return r+a}return r},0)}function nue(e){var t=k2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ig;return r+a}return r},0)}function aue(e){var t=E2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function iue(e){var t=E2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Si=He([Sf,Af,GM,tue,rue,nue,aue,iue,pM,_oe],(e,t,r,n,a,i,l,o,u,f)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},m={top:(r.top||0)+l,bottom:(r.bottom||0)+o},g=mv(mv({},m),h),x=g.bottom;g.bottom+=n,g=Mce(g,u,f);var b=e-g.left-g.right,v=t-g.top-g.bottom;return mv(mv({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(v,0)})}),sue=He(Si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),aj=He(Sf,Af,(e,t)=>({x:0,y:0,width:e,height:t})),lue=C.createContext(null),nl=()=>C.useContext(lue)!=null,C2=e=>e.brush,T2=He([C2,Si,GM],(e,t,r)=>({height:e.height,x:Kt(e.x)?e.x:t.left,y:Kt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Kt(e.width)?e.width:t.width})),U5={},z5={},q5={},wT;function oue(){return wT||(wT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},m=()=>{f&&h(),v()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{b(),l=void 0,o=null},w=()=>{h()},N=function(...E){if(a?.aborted)return;l=this,o=E;const S=g==null;x(),u&&S&&h()};return N.schedule=x,N.cancel=v,N.flush=w,a?.addEventListener("abort",v,{once:!0}),N}e.debounce=t})(q5)),q5}var NT;function cue(){return NT||(NT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oue();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:u}=i,f=Array(2);l&&(f[0]="leading"),o&&(f[1]="trailing");let h,m=null;const g=t.debounce(function(...v){h=n.apply(this,v),m=null},a,{edges:f}),x=function(...v){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=n.apply(this,v),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},b=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(z5)),z5}var _T;function uue(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cue();function r(n,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(U5)),U5}var $5,jT;function fue(){return jT||(jT=1,$5=uue().throttle),$5}var due=fue();const hue=bf(due);var Ay=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},XM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,o=mf(n)?e:Number(n),u=mf(a)?t:Number(a);return i&&i>0&&(o?u=o/i:u&&(o=u*i),l&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},mue={width:0,height:0,overflow:"visible"},pue={width:0,overflowX:"visible"},xue={height:0,overflowY:"visible"},gue={},vue=e=>{var{width:t,height:r}=e,n=mf(t),a=mf(r);return n&&a?mue:n?pue:a?xue:gue};function yue(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Fs(e){return Number.isFinite(e)}function Vm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(null,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){bue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bue(e,t,r){return(t=wue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wue(e){var t=Nue(e,"string");return typeof t=="symbol"?t:t+""}function Nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QM=C.createContext({width:-1,height:-1});function ZM(e){var{children:t,width:r,height:n}=e,a=C.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:C.createElement(QM.Provider,{value:a},t)}var ij=()=>C.useContext(QM),_ue=C.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:o,maxHeight:u,children:f,debounce:h=0,id:m,className:g,onResize:x,style:b={}}=e,v=C.useRef(null),w=C.useRef();w.current=x,C.useImperativeHandle(t,()=>v.current);var[N,E]=C.useState({containerWidth:n.width,containerHeight:n.height}),S=C.useCallback((M,B)=>{E(H=>{var R=Math.round(M),U=Math.round(B);return H.containerWidth===R&&H.containerHeight===U?H:{containerWidth:R,containerHeight:U}})},[]);C.useEffect(()=>{var M=U=>{var K,{width:ee,height:pe}=U[0].contentRect;S(ee,pe),(K=w.current)===null||K===void 0||K.call(w,ee,pe)};h>0&&(M=hue(M,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(M),{width:H,height:R}=v.current.getBoundingClientRect();return S(H,R),B.observe(v.current),()=>{B.disconnect()}},[S,h]);var{containerWidth:D,containerHeight:F}=N;Ay(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:T}=XM(D,F,{width:a,height:i,aspect:r,maxHeight:u});return Ay(O>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,T,a,i,l,o,r),C.createElement("div",{id:m?"".concat(m):void 0,className:an("recharts-responsive-container",g),style:AT(AT({},b),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:u}),ref:v},C.createElement("div",{style:vue({width:a,height:i})},C.createElement(ZM,{width:O,height:T},f)))}),H5=C.forwardRef((e,t)=>{var r=ij();if(Vm(r.width)&&Vm(r.height))return e.children;var{width:n,height:a}=yue({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=XM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Kt(i)&&Kt(l)?C.createElement(ZM,{width:i,height:l},e.children):C.createElement(_ue,DN({},e,{width:n,height:a,ref:t}))}),O2=()=>{var e,t=nl(),r=zt(sue),n=zt(T2),a=(e=zt(C2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},jue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JM=()=>{var e;return(e=zt(Si))!==null&&e!==void 0?e:jue},sj=()=>zt(Sf),lj=()=>zt(Af),Sue=()=>zt(e=>e.layout.margin),Gr=e=>e.layout.layoutType,D2=()=>zt(Gr),F2=e=>{var t=pa(),r=nl(),{width:n,height:a}=e,i=ij(),l=n,o=a;return i&&(l=i.width>0?i.width:n,o=i.height>0?i.height:a),C.useEffect(()=>{!r&&Vm(l)&&Vm(o)&&t(bce({width:l,height:o}))},[t,r,l,o]),null},Aue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eR=lo({name:"legend",initialState:Aue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Xs()},removeLegendPayload:{reducer(e,t){var r=of(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Xs()}}}),{setLegendSize:ET,setLegendSettings:Eue,addLegendPayload:tR,removeLegendPayload:rR}=eR.actions,kue=eR.reducer,Cue=["contextPayload"];function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(null,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){oj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oj(e,t,r){return(t=Tue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Due(e,t){if(e==null)return{};var r,n,a=Fue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pue(e){return e.value}function Lue(e){var{contextPayload:t}=e,r=Due(e,Cue),n=fM(t,e.payloadUniqBy,Pue),a=Wm(Wm({},r),{},{payload:n});return C.isValidElement(e.content)?C.cloneElement(e.content,a):typeof e.content=="function"?C.createElement(e.content,a):C.createElement(X3,a)}function Mue(e,t,r,n,a,i){var{layout:l,align:o,verticalAlign:u}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?f={left:((n||0)-i.width)/2}:f=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((a||0)-i.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Wm(Wm({},f),h)}function Rue(e){var t=pa();return C.useEffect(()=>{t(Eue(e))},[t,e]),null}function Iue(e){var t=pa();return C.useEffect(()=>(t(ET(e)),()=>{t(ET({width:0,height:0}))}),[t,e]),null}function Bue(e){var t=Aoe(),r=Pse(),n=Sue(),{width:a,height:i,wrapperStyle:l,portal:o}=e,[u,f]=xM([t]),h=sj(),m=lj();if(h==null||m==null)return null;var g=h-(n.left||0)-(n.right||0),x=dg.getWidthOrHeight(e.layout,i,a,g),b=o?l:Wm(Wm({position:"absolute",width:x?.width||a||"auto",height:x?.height||i||"auto"},Mue(l,e,n,h,m,u)),l),v=o??r;if(v==null)return null;var w=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},C.createElement(Rue,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),C.createElement(Iue,{width:u.width,height:u.height}),C.createElement(Lue,FN({},e,x,{margin:n,chartWidth:h,chartHeight:m,contextPayload:t})));return XD.createPortal(w,v)}class dg extends C.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Kt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return C.createElement(Bue,this.props)}}oj(dg,"displayName","Legend");oj(dg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(null,arguments)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uue(e,t,r){return(t=zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zue(e){var t=que(e,"string");return typeof t=="symbol"?t:t+""}function que(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ue(e){return Array.isArray(e)&&hu(e[0])&&hu(e[1])?e.join(" ~ "):e}var Hue=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var F={padding:0,margin:0},O=(o?w2(i,o):i).map((T,M)=>{if(T.type==="none")return null;var B=T.formatter||l||$ue,{value:H,name:R}=T,U=H,K=R;if(B){var ee=B(H,R,T,M,i);if(Array.isArray(ee))[U,K]=ee;else if(ee!=null)U=ee;else return null}var pe=V5({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:pe},hu(K)?C.createElement("span",{className:"recharts-tooltip-item-name"},K):null,hu(K)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},U),C.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:F},O)}return null},b=V5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=V5({margin:0},a),w=!ma(h),N=w?h:"",E=an("recharts-default-tooltip",u),S=an("recharts-tooltip-label",f);w&&m&&i!==void 0&&i!==null&&(N=m(h,i));var D=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",PN({className:E,style:b},D),C.createElement("p",{className:S,style:v},C.isValidElement(N)?N:"".concat(N)),x())},fx="recharts-tooltip-wrapper",Vue={visibility:"hidden"};function Wue(e){var{coordinate:t,translateX:r,translateY:n}=e;return an(fx,{["".concat(fx,"-right")]:Kt(r)&&t&&Kt(t.x)&&r>=t.x,["".concat(fx,"-left")]:Kt(r)&&t&&Kt(t.x)&&r<t.x,["".concat(fx,"-bottom")]:Kt(n)&&t&&Kt(t.y)&&n>=t.y,["".concat(fx,"-top")]:Kt(n)&&t&&Kt(t.y)&&n<t.y})}function TT(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:f}=e;if(i&&Kt(i[n]))return i[n];var h=r[n]-o-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?h:m;var g=u[n];if(g==null)return 0;if(l[n]){var x=h,b=g;return x<b?Math.max(m,g):Math.max(h,g)}if(f==null)return 0;var v=m+o,w=g+f;return v>w?Math.max(h,g):Math.max(m,g)}function Gue(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Kue(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:u}=e,f,h,m;return l.height>0&&l.width>0&&r?(h=TT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=TT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=Gue({translateX:h,translateY:m,useTranslate3d:o})):f=Vue,{cssProperties:f,cssClasses:Wue({translateX:h,translateY:m,coordinate:r})}}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){LN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LN(e,t,r){return(t=Yue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yue(e){var t=Xue(e,"string");return typeof t=="symbol"?t:t+""}function Xue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Que extends C.PureComponent{constructor(){super(...arguments),LN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),LN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:u,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:v,innerRef:w,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:S}=Kue({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:x}),D=N?{}:pv(pv({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),F=pv(pv({},D),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:F,ref:w},i)}}var Zue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vd={devToolsEnabled:!1,isSsr:Zue()},nR=()=>zt(e=>e.rootProps.accessibilityLayer);function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MN.apply(null,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Jue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jue(e,t,r){return(t=efe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function efe(e){var t=tfe(e,"string");return typeof t=="symbol"?t:t+""}function tfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PT={curveBasisClosed:Jse,curveBasisOpen:ele,curveBasis:Zse,curveBumpX:Ise,curveBumpY:Bse,curveLinearClosed:tle,curveLinear:y2,curveMonotoneX:rle,curveMonotoneY:nle,curveNatural:ale,curveStep:ile,curveStepAfter:lle,curveStepBefore:sle},xv=e=>Fs(e.x)&&Fs(e.y),dx=e=>e.x,hx=e=>e.y,rfe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Pg(e));return(r==="curveMonotone"||r==="curveBump")&&t?PT["".concat(r).concat(t==="vertical"?"Y":"X")]:PT[r]||y2},nfe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=rfe(t,a),o=i?r.filter(xv):r,u;if(Array.isArray(n)){var f=i?n.filter(m=>xv(m)):n,h=o.map((m,g)=>FT(FT({},m),{},{base:f[g]}));return a==="vertical"?u=ov().y(hx).x1(dx).x0(m=>m.base.x):u=ov().x(dx).y1(hx).y0(m=>m.base.y),u.defined(xv).curve(l),u(h)}return a==="vertical"&&Kt(n)?u=ov().y(hx).x1(dx).x0(n):Kt(n)?u=ov().x(dx).y1(hx).y0(n):u=zL().x(dx).y(hx),u.defined(xv).curve(l),u(o)},cj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?nfe(e):n;return C.createElement("path",MN({},no(e),K3(e),{className:an("recharts-curve",t),d:i===null?void 0:i,ref:a}))},afe=["x","y","top","left","width","height","className"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RN.apply(null,arguments)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ife(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sfe(e,t,r){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lfe(e){var t=ofe(e,"string");return typeof t=="symbol"?t:t+""}function ofe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cfe(e,t){if(e==null)return{};var r,n,a=ufe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ufe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ffe=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),dfe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,u=cfe(e,afe),f=ife({x:t,y:r,top:n,left:a,width:i,height:l},u);return!Kt(t)||!Kt(r)||!Kt(i)||!Kt(l)||!Kt(n)||!Kt(a)?null:C.createElement("path",RN({},rl(f),{className:an("recharts-cross",o),d:ffe(t,r,i,l,n,a)}))};function hfe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pfe(e,t,r){return(t=xfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xfe(e){var t=gfe(e,"string");return typeof t=="symbol"?t:t+""}function gfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(e,t){var r=mfe({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}function vfe(){}function yfe(e){return e!=null}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){bfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bfe(e,t,r){return(t=wfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wfe(e){var t=Nfe(e,"string");return typeof t=="symbol"?t:t+""}function Nfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _fe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),aR=(e,t,r)=>e.map(n=>"".concat(_fe(n)," ").concat(t,"ms ").concat(r)).join(","),jfe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),hg=(e,t)=>Object.keys(t).reduce((r,n)=>IT(IT({},r),{},{[n]:e(n,t[n])}),{});function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){Sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sfe(e,t,r){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ey=(e,t,r)=>e+(t-e)*r,IN=e=>{var{from:t,to:r}=e;return t!==r},iR=(e,t,r)=>{var n=hg((a,i)=>{if(IN(i)){var[l,o]=e(i.from,i.to,i.velocity);return ns(ns({},i),{},{from:l,velocity:o})}return i},t);return r<1?hg((a,i)=>IN(i)?ns(ns({},i),{},{velocity:Ey(i.velocity,n[a].velocity,r),from:Ey(i.from,n[a].from,r)}):i,t):iR(e,n,r-1)};function kfe(e,t,r,n,a,i){var l,o=n.reduce((g,x)=>ns(ns({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>hg((g,x)=>x.from,o),f=()=>!Object.values(o).filter(IN).length,h=null,m=g=>{l||(l=g);var x=g-l,b=x/r.dt;o=iR(r,o,b),a(ns(ns(ns({},e),t),u())),l=g,f()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{h()})}function Cfe(e,t,r,n,a,i,l){var o=null,u=a.reduce((m,g)=>ns(ns({},m),{},{[g]:[e[g],t[g]]}),{}),f,h=m=>{f||(f=m);var g=(m-f)/n,x=hg((v,w)=>Ey(...w,r(g)),u);if(i(ns(ns(ns({},e),t),x)),g<1)o=l.setTimeout(h);else{var b=hg((v,w)=>Ey(...w,r(1)),u);i(ns(ns(ns({},e),t),b))}};return()=>(o=l.setTimeout(h),()=>{o()})}const Tfe=(e,t,r,n,a,i)=>{var l=jfe(e,t);return r.isStepper===!0?kfe(e,t,r,l,a,i):Cfe(e,t,r,n,l,a,i)};var ky=1e-4,sR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),UT=(e,t)=>r=>{var n=sR(e,t);return lR(n,r)},Ofe=(e,t)=>r=>{var n=sR(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return lR(a,r)},zT=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var u=l[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,a]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([t,n,r,a]=l);var f=UT(t,r),h=UT(n,a),m=Ofe(t,r),g=b=>b>1?1:b<0?0:b,x=b=>{for(var v=b>1?1:b,w=v,N=0;N<8;++N){var E=f(w)-v,S=m(w);if(Math.abs(E-v)<ky||S<ky)return h(w);w=g(w-E/S)}return h(w)};return x.isStepper=!1,x},Dfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,u)=>{var f=-(l-o)*r,h=u*n,m=u+(f-h)*a/1e3,g=u*a/1e3+l;return Math.abs(g-o)<ky&&Math.abs(m)<ky?[o,0]:[g,m]};return i.isStepper=!0,i.dt=a,i},Ffe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zT(e);case"spring":return Dfe();default:if(e.split("(")[0]==="cubic-bezier")return zT(e)}return typeof e=="function"?e:null};function Pfe(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...f]=o;if(typeof u=="number"){a=e.setTimeout(i.bind(null,f),u);return}i(u),a=e.setTimeout(i.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class Lfe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function Mfe(){return Pfe(new Lfe)}var Rfe=C.createContext(Mfe);function Ife(e,t){var r=C.useContext(Rfe);return C.useMemo(()=>t??r(e),[e,t,r])}var Bfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qT={t:0},W5={t:1};function Bg(e){var t=cs(e,Bfe),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:u,children:f}=t,h=Ife(t.animationId,t.animationManager),[m,g]=C.useState(r?qT:W5),x=C.useRef(null);return C.useEffect(()=>{r||g(W5)},[r]),C.useEffect(()=>{if(!r||!n)return vfe;var b=Tfe(qT,W5,Ffe(i),a,g,h.getTimeoutController()),v=()=>{x.current=b()};return h.start([u,l,v,a,o]),()=>{h.stop(),x.current&&x.current(),o()}},[r,n,a,i,l,u,o,h]),f(m.t)}function Ug(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(lg(t)),n=C.useRef(e);return n.current!==e&&(r.current=lg(t),n.current=e),r.current}var Ufe=["radius"],zfe=["radius"];function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){qfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qfe(e,t,r){return(t=$fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $fe(e){var t=Hfe(e,"string");return typeof t=="symbol"?t:t+""}function Hfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function VT(e,t){if(e==null)return{};var r,n,a=Vfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WT=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>i?i:a[m];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+o*h[0],",").concat(t)),f+="L ".concat(e+r-o*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+l*h[1])),f+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-o*h[2],",").concat(t+n)),f+="L ".concat(e+o*h[3],",").concat(t+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-l*h[3])),f+="Z"}else if(i>0&&a===+a&&a>0){var x=Math.min(i,a);f="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+o*x,",").concat(t,`
            L `).concat(e+r-o*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(t+l*x,`
            L `).concat(e+r,",").concat(t+n-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-o*x,",").concat(t+n,`
            L `).concat(e+o*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+n-l*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},Wfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oR=e=>{var t=cs(e,Wfe),r=C.useRef(null),[n,a]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var se=r.current.getTotalLength();se&&a(se)}catch{}},[]);var{x:i,y:l,width:o,height:u,radius:f,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:v}=t,w=C.useRef(o),N=C.useRef(u),E=C.useRef(i),S=C.useRef(l),D=C.useMemo(()=>({x:i,y:l,width:o,height:u,radius:f}),[i,l,o,u,f]),F=Ug(D,"rectangle-");if(i!==+i||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var O=an("recharts-rectangle",h);if(!v){var T=rl(t),{radius:M}=T,B=VT(T,Ufe);return C.createElement("path",Cy({},B,{radius:typeof f=="number"?f:void 0,className:O,d:WT(i,l,o,u,f)}))}var H=w.current,R=N.current,U=E.current,K=S.current,ee="0px ".concat(n===-1?1:n,"px"),pe="".concat(n,"px 0px"),re=aR(["strokeDasharray"],g,typeof m=="string"?m:void 0);return C.createElement(Bg,{animationId:F,key:F,canBegin:n>0,duration:g,easing:m,isActive:v,begin:x},se=>{var ye=La(H,o,se),oe=La(R,u,se),ge=La(U,i,se),Y=La(K,l,se);r.current&&(w.current=ye,N.current=oe,E.current=ge,S.current=Y);var P;b?se>0?P={transition:re,strokeDasharray:pe}:P={strokeDasharray:ee}:P={strokeDasharray:pe};var L=rl(t),{radius:q}=L,W=VT(L,zfe);return C.createElement("path",Cy({},W,{radius:typeof f=="number"?f:void 0,className:O,d:WT(ge,Y,ye,oe,f),ref:r,style:HT(HT({},P),t.style)}))})};function cR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=ai(t,r,n,a),o=ai(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BN.apply(null,arguments)}var Gfe=(e,t)=>{var r=qi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},gv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:u}=e,f=o*(l?1:-1)+n,h=Math.asin(o/f)/Sy,m=u?a:a+i*h,g=ai(t,r,f,m),x=ai(t,r,n,m),b=u?a-i*h:a,v=ai(t,r,f*Math.cos(h*Sy),b);return{center:g,circleTangency:x,lineTangency:v,theta:h}},uR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=Gfe(i,l),u=i+o,f=ai(t,r,a,i),h=ai(t,r,a,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=ai(t,r,n,i),x=ai(t,r,n,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},Kfe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:f}=e,h=qi(f-u),{circleTangency:m,lineTangency:g,theta:x}=gv({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:b,lineTangency:v,theta:w}=gv({cx:t,cy:r,radius:a,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:o}),N=o?Math.abs(u-f):Math.abs(u-f)-x-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):uR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:D,theta:F}=gv({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:O,lineTangency:T,theta:M}=gv({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),B=o?Math.abs(u-f):Math.abs(u-f)-F-M;if(B<0&&i===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},Yfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fR=e=>{var t=cs(e,Yfe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h,className:m}=t;if(i<a||f===h)return null;var g=an("recharts-sector",m),x=i-a,b=Ts(l,x,0,!0),v;return b>0&&Math.abs(f-h)<360?v=Kfe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h}):v=uR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h}),C.createElement("path",BN({},rl(t),{className:g,d:v}))};function Xfe(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:u,innerRadius:f,outerRadius:h,angle:m}=t,g=ai(o,u,f,m),x=ai(o,u,h,m);n=g.x,a=g.y,i=x.x,l=x.y}else return cR(t);return[{x:n,y:a},{x:i,y:l}]}var G5={},K5={},Y5={},GT;function Qfe(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Y5)),Y5}var KT;function Zfe(){return KT||(KT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qfe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(K5)),K5}var YT;function Jfe(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mM(),r=Zfe();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),u=new Array(o);for(let f=0;f<o;f++)u[f]=a,a+=l;return u}e.range=n})(G5)),G5}var X5,XT;function ede(){return XT||(XT=1,X5=Jfe().range),X5}var tde=ede();const dR=bf(tde);function Sd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uj(e){let t,r,n;e.length!==2?(t=Sd,r=(o,u)=>Sd(e(o),u),n=(o,u)=>e(o)-u):(t=e===Sd||e===rde?e:nde,r=e,n=e);function a(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(o[m],u)<0?f=m+1:h=m}while(f<h)}return f}function i(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const m=f+h>>>1;r(o[m],u)<=0?f=m+1:h=m}while(f<h)}return f}function l(o,u,f=0,h=o.length){const m=a(o,u,f,h-1);return m>f&&n(o[m-1],u)>-n(o[m],u)?m-1:m}return{left:a,center:l,right:i}}function nde(){return 0}function hR(e){return e===null?NaN:+e}function*ade(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ide=uj(Sd),zg=ide.right;uj(hR).center;class QT extends Map{constructor(t,r=ode){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(ZT(this,t))}has(t){return super.has(ZT(this,t))}set(t,r){return super.set(sde(this,t),r)}delete(t){return super.delete(lde(this,t))}}function ZT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function sde({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ode(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cde(e=Sd){if(e===Sd)return mR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ude=Math.sqrt(50),fde=Math.sqrt(10),dde=Math.sqrt(2);function Ty(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=ude?10:i>=fde?5:i>=dde?2:1;let o,u,f;return a<0?(f=Math.pow(10,-a)/l,o=Math.round(e*f),u=Math.round(t*f),o/f<e&&++o,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*l,o=Math.round(e/f),u=Math.round(t/f),o*f<e&&++o,u*f>t&&--u),u<o&&.5<=r&&r<2?Ty(e,t,r*2):[o,u,f]}function UN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Ty(t,e,r):Ty(e,t,r);if(!(i>=a))return[];const o=i-a+1,u=new Array(o);if(n)if(l<0)for(let f=0;f<o;++f)u[f]=(i-f)/-l;else for(let f=0;f<o;++f)u[f]=(i-f)*l;else if(l<0)for(let f=0;f<o;++f)u[f]=(a+f)/-l;else for(let f=0;f<o;++f)u[f]=(a+f)*l;return u}function zN(e,t,r){return t=+t,e=+e,r=+r,Ty(e,t,r)[2]}function qN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?zN(t,e,r):zN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function JT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function e8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?mR:cde(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(u-m)/u)*(f-u/2<0?-1:1),x=Math.max(r,Math.floor(t-f*m/u+g)),b=Math.min(n,Math.floor(t+(u-f)*m/u+g));pR(e,t,x,b,a)}const i=e[t];let l=r,o=n;for(mx(e,r,t),a(e[n],i)>0&&mx(e,r,n);l<o;){for(mx(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?mx(e,r,o):(++o,mx(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function mx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hde(e,t,r){if(e=Float64Array.from(ade(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return e8(e);if(t>=1)return JT(e);var n,a=(n-1)*t,i=Math.floor(a),l=JT(pR(e,i).subarray(0,i+1)),o=e8(e.subarray(i+1));return l+(o-l)*(a-i)}}function mde(e,t,r=hR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function pde(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ko(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ef(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $N=Symbol("implicit");function fj(){var e=new QT,t=[],r=[],n=$N;function a(i){let l=e.get(i);if(l===void 0){if(n!==$N)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new QT;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return fj(t,r).unknown(n)},Ko.apply(a,arguments),a}function dj(){var e=fj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,u=0,f=0,h=.5;delete e.unknown;function m(){var g=t().length,x=a<n,b=x?a:n,v=x?n:a;i=(v-b)/Math.max(1,g-u+f*2),o&&(i=Math.floor(i)),b+=(v-b-i*(g-u))*h,l=i*(1-u),o&&(b=Math.round(b),l=Math.round(l));var w=pde(g).map(function(N){return b+i*N});return r(x?w.reverse():w)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,m()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),m()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),m()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return dj(t(),[n,a]).round(o).paddingInner(u).paddingOuter(f).align(h)},Ko.apply(m(),arguments)}function xR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xR(t())},e}function xde(){return xR(dj.apply(null,arguments).paddingInner(1))}function hj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qg(){}var mg=.7,Oy=1/mg,Lm="\\s*([+-]?\\d+)\\s*",pg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gde=/^#([0-9a-f]{3,8})$/,vde=new RegExp(`^rgb\\(${Lm},${Lm},${Lm}\\)$`),yde=new RegExp(`^rgb\\(${fu},${fu},${fu}\\)$`),bde=new RegExp(`^rgba\\(${Lm},${Lm},${Lm},${pg}\\)$`),wde=new RegExp(`^rgba\\(${fu},${fu},${fu},${pg}\\)$`),Nde=new RegExp(`^hsl\\(${pg},${fu},${fu}\\)$`),_de=new RegExp(`^hsla\\(${pg},${fu},${fu},${pg}\\)$`),t8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hj(qg,xg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:r8,formatHex:r8,formatHex8:jde,formatHsl:Sde,formatRgb:n8,toString:n8});function r8(){return this.rgb().formatHex()}function jde(){return this.rgb().formatHex8()}function Sde(){return vR(this).formatHsl()}function n8(){return this.rgb().formatRgb()}function xg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gde.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?a8(t):r===3?new Sl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vde.exec(e))?new Sl(t[1],t[2],t[3],1):(t=yde.exec(e))?new Sl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bde.exec(e))?vv(t[1],t[2],t[3],t[4]):(t=wde.exec(e))?vv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nde.exec(e))?l8(t[1],t[2]/100,t[3]/100,1):(t=_de.exec(e))?l8(t[1],t[2]/100,t[3]/100,t[4]):t8.hasOwnProperty(e)?a8(t8[e]):e==="transparent"?new Sl(NaN,NaN,NaN,0):null}function a8(e){return new Sl(e>>16&255,e>>8&255,e&255,1)}function vv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sl(e,t,r,n)}function Ade(e){return e instanceof qg||(e=xg(e)),e?(e=e.rgb(),new Sl(e.r,e.g,e.b,e.opacity)):new Sl}function HN(e,t,r,n){return arguments.length===1?Ade(e):new Sl(e,t,r,n??1)}function Sl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hj(Sl,HN,gR(qg,{brighter(e){return e=e==null?Oy:Math.pow(Oy,e),new Sl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mg:Math.pow(mg,e),new Sl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sl(U0(this.r),U0(this.g),U0(this.b),Dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i8,formatHex:i8,formatHex8:Ede,formatRgb:s8,toString:s8}));function i8(){return`#${T0(this.r)}${T0(this.g)}${T0(this.b)}`}function Ede(){return`#${T0(this.r)}${T0(this.g)}${T0(this.b)}${T0((isNaN(this.opacity)?1:this.opacity)*255)}`}function s8(){const e=Dy(this.opacity);return`${e===1?"rgb(":"rgba("}${U0(this.r)}, ${U0(this.g)}, ${U0(this.b)}${e===1?")":`, ${e})`}`}function Dy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function U0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function T0(e){return e=U0(e),(e<16?"0":"")+e.toString(16)}function l8(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wc(e,t,r,n)}function vR(e){if(e instanceof wc)return new wc(e.h,e.s,e.l,e.opacity);if(e instanceof qg||(e=xg(e)),!e)return new wc;if(e instanceof wc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,u=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=u<.5?i+a:2-i-a,l*=60):o=u>0&&u<1?0:l,new wc(l,o,u,e.opacity)}function kde(e,t,r,n){return arguments.length===1?vR(e):new wc(e,t,r,n??1)}function wc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hj(wc,kde,gR(qg,{brighter(e){return e=e==null?Oy:Math.pow(Oy,e),new wc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mg:Math.pow(mg,e),new wc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Sl(Q5(e>=240?e-240:e+120,a,n),Q5(e,a,n),Q5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new wc(o8(this.h),yv(this.s),yv(this.l),Dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dy(this.opacity);return`${e===1?"hsl(":"hsla("}${o8(this.h)}, ${yv(this.s)*100}%, ${yv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function o8(e){return e=(e||0)%360,e<0?e+360:e}function yv(e){return Math.max(0,Math.min(1,e||0))}function Q5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mj=e=>()=>e;function Cde(e,t){return function(r){return e+r*t}}function Tde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ode(e){return(e=+e)==1?yR:function(t,r){return r-t?Tde(t,r,e):mj(isNaN(t)?r:t)}}function yR(e,t){var r=t-e;return r?Cde(e,r):mj(isNaN(e)?t:e)}const c8=(function e(t){var r=Ode(t);function n(a,i){var l=r((a=HN(a)).r,(i=HN(i)).r),o=r(a.g,i.g),u=r(a.b,i.b),f=yR(a.opacity,i.opacity);return function(h){return a.r=l(h),a.g=o(h),a.b=u(h),a.opacity=f(h),a+""}}return n.gamma=e,n})(1);function Dde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Fde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Pde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=mp(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function Lde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Mde(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=mp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var VN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z5=new RegExp(VN.source,"g");function Rde(e){return function(){return e}}function Ide(e){return function(t){return e(t)+""}}function Bde(e,t){var r=VN.lastIndex=Z5.lastIndex=0,n,a,i,l=-1,o=[],u=[];for(e=e+"",t=t+"";(n=VN.exec(e))&&(a=Z5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,u.push({i:l,x:Fy(n,a)})),r=Z5.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?u[0]?Ide(u[0].x):Rde(t):(t=u.length,function(f){for(var h=0,m;h<t;++h)o[(m=u[h]).i]=m.x(f);return o.join("")})}function mp(e,t){var r=typeof t,n;return t==null||r==="boolean"?mj(t):(r==="number"?Fy:r==="string"?(n=xg(t))?(t=n,c8):Bde:t instanceof xg?c8:t instanceof Date?Lde:Fde(t)?Dde:Array.isArray(t)?Pde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mde:Fy)(e,t)}function pj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ude(e,t){t===void 0&&(t=e,e=mp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function zde(e){return function(){return e}}function Py(e){return+e}var u8=[0,1];function el(e){return e}function WN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zde(isNaN(t)?NaN:.5)}function qde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function $de(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=WN(a,n),i=r(l,i)):(n=WN(n,a),i=r(i,l)),function(o){return i(n(o))}}function Hde(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=WN(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var u=zg(e,o,1,n)-1;return i[u](a[u](o))}}function $g(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function P2(){var e=u8,t=u8,r=mp,n,a,i,l=el,o,u,f;function h(){var g=Math.min(e.length,t.length);return l!==el&&(l=qde(e[0],e[g-1])),o=g>2?Hde:$de,u=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(u||(u=o(e.map(n),t,r)))(n(l(g)))}return m.invert=function(g){return l(a((f||(f=o(t,e.map(n),Fy)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Py),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=pj,h()},m.clamp=function(g){return arguments.length?(l=g?!0:el,h()):l!==el},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,x){return n=g,a=x,h()}}function xj(){return P2()(el,el)}function Vde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ly(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gm(e){return e=Ly(Math.abs(e)),e?e[1]:NaN}function Wde(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),i.push(r.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Gde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Kde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gg(e){if(!(t=Kde.exec(e)))throw new Error("invalid format: "+e);var t;return new gj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gg.prototype=gj.prototype;function gj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var bR;function Xde(e,t){var r=Ly(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(bR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ly(e,Math.max(0,t+i-1))[0]}function f8(e,t){var r=Ly(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const d8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>f8(e*100,t),r:f8,s:Xde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function h8(e){return e}var m8=Array.prototype.map,p8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qde(e){var t=e.grouping===void 0||e.thousands===void 0?h8:Wde(m8.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?h8:Gde(m8.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=gg(m);var g=m.fill,x=m.align,b=m.sign,v=m.symbol,w=m.zero,N=m.width,E=m.comma,S=m.precision,D=m.trim,F=m.type;F==="n"?(E=!0,F="g"):d8[F]||(S===void 0&&(S=12),D=!0,F="g"),(w||g==="0"&&x==="=")&&(w=!0,g="0",x="=");var O=v==="$"?r:v==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",T=v==="$"?n:/[%p]/.test(F)?l:"",M=d8[F],B=/[defgprs%]/.test(F);S=S===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function H(R){var U=O,K=T,ee,pe,re;if(F==="c")K=M(R)+K,R="";else{R=+R;var se=R<0||1/R<0;if(R=isNaN(R)?u:M(Math.abs(R),S),D&&(R=Yde(R)),se&&+R==0&&b!=="+"&&(se=!1),U=(se?b==="("?b:o:b==="-"||b==="("?"":b)+U,K=(F==="s"?p8[8+bR/3]:"")+K+(se&&b==="("?")":""),B){for(ee=-1,pe=R.length;++ee<pe;)if(re=R.charCodeAt(ee),48>re||re>57){K=(re===46?a+R.slice(ee+1):R.slice(ee))+K,R=R.slice(0,ee);break}}}E&&!w&&(R=t(R,1/0));var ye=U.length+R.length+K.length,oe=ye<N?new Array(N-ye+1).join(g):"";switch(E&&w&&(R=t(oe+R,oe.length?N-K.length:1/0),oe=""),x){case"<":R=U+R+K+oe;break;case"=":R=U+oe+R+K;break;case"^":R=oe.slice(0,ye=oe.length>>1)+U+R+K+oe.slice(ye);break;default:R=oe+U+R+K;break}return i(R)}return H.toString=function(){return m+""},H}function h(m,g){var x=f((m=gg(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Gm(g)/3)))*3,v=Math.pow(10,-b),w=p8[8+b/3];return function(N){return x(v*N)+w}}return{format:f,formatPrefix:h}}var bv,vj,wR;Zde({thousands:",",grouping:[3],currency:["$",""]});function Zde(e){return bv=Qde(e),vj=bv.format,wR=bv.formatPrefix,bv}function Jde(e){return Math.max(0,-Gm(Math.abs(e)))}function e0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gm(t)/3)))*3-Gm(Math.abs(e)))}function t0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gm(t)-Gm(e))+1}function NR(e,t,r,n){var a=qN(e,t,r),i;switch(n=gg(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=e0e(a,l))&&(n.precision=i),wR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=t0e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Jde(a))&&(n.precision=i-(n.type==="%")*2);break}}return vj(n)}function Wd(e){var t=e.domain;return e.ticks=function(r){var n=t();return UN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return NR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],u,f,h=10;for(o<l&&(f=l,l=o,o=f,f=a,a=i,i=f);h-- >0;){if(f=zN(l,o,r),f===u)return n[a]=l,n[i]=o,t(n);if(f>0)l=Math.floor(l/f)*f,o=Math.ceil(o/f)*f;else if(f<0)l=Math.ceil(l*f)/f,o=Math.floor(o*f)/f;else break;u=f}return e},e}function _R(){var e=xj();return e.copy=function(){return $g(e,_R())},Ko.apply(e,arguments),Wd(e)}function jR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Py),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jR(e).unknown(t)},e=arguments.length?Array.from(e,Py):[0,1],Wd(r)}function SR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function x8(e){return Math.log(e)}function g8(e){return Math.exp(e)}function r0e(e){return-Math.log(-e)}function n0e(e){return-Math.exp(-e)}function a0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function i0e(e){return e===10?a0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function s0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function v8(e){return(t,r)=>-e(-t,r)}function yj(e){const t=e(x8,g8),r=t.domain;let n=10,a,i;function l(){return a=s0e(n),i=i0e(n),r()[0]<0?(a=v8(a),i=v8(i),e(r0e,n0e)):e(x8,g8),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const u=r();let f=u[0],h=u[u.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=a(f),x=a(h),b,v;const w=o==null?10:+o;let N=[];if(!(n%1)&&x-g<w){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(b=1;b<n;++b)if(v=g<0?b/i(-g):b*i(g),!(v<f)){if(v>h)break;N.push(v)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(v=g>0?b/i(-g):b*i(g),!(v<f)){if(v>h)break;N.push(v)}N.length*2<w&&(N=UN(f,h,w))}else N=UN(g,x,Math.min(x-g,w)).map(i);return m?N.reverse():N},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=gg(u)).precision==null&&(u.trim=!0),u=vj(u)),o===1/0)return u;const f=Math.max(1,n*o/t.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=f?u(h):""}},t.nice=()=>r(SR(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function AR(){const e=yj(P2()).domain([1,10]);return e.copy=()=>$g(e,AR()).base(e.base()),Ko.apply(e,arguments),e}function y8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function b8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bj(e){var t=1,r=e(y8(t),b8(t));return r.constant=function(n){return arguments.length?e(y8(t=+n),b8(t)):t},Wd(r)}function ER(){var e=bj(P2());return e.copy=function(){return $g(e,ER()).constant(e.constant())},Ko.apply(e,arguments)}function w8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function o0e(e){return e<0?-e*e:e*e}function wj(e){var t=e(el,el),r=1;function n(){return r===1?e(el,el):r===.5?e(l0e,o0e):e(w8(r),w8(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wd(t)}function Nj(){var e=wj(P2());return e.copy=function(){return $g(e,Nj()).exponent(e.exponent())},Ko.apply(e,arguments),e}function c0e(){return Nj.apply(null,arguments).exponent(.5)}function N8(e){return Math.sign(e)*e*e}function u0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kR(){var e=xj(),t=[0,1],r=!1,n;function a(i){var l=u0e(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(N8(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Py)).map(N8)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ko.apply(a,arguments),Wd(a)}function CR(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=mde(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[zg(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Sd),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return CR().domain(e).range(t).unknown(n)},Ko.apply(i,arguments)}function TR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(u){return u!=null&&u<=u?a[zg(n,u,0,r)]:i}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},l.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,o()):a.slice()},l.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return n.slice()},l.copy=function(){return TR().domain([e,t]).range(a).unknown(i)},Ko.apply(Wd(l),arguments)}function OR(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[zg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return OR().domain(e).range(t).unknown(r)},Ko.apply(a,arguments)}const J5=new Date,e4=new Date;function Ai(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const u=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return u;let f;do u.push(f=new Date(+i)),t(i,o),e(i);while(f<i&&i<l);return u},a.filter=i=>Ai(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(J5.setTime(+i),e4.setTime(+l),e(J5),e(e4),Math.floor(r(J5,e4))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const My=Ai(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);My.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ai(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):My);My.range;const Ju=1e3,Bo=Ju*60,ef=Bo*60,xf=ef*24,_j=xf*7,_8=xf*30,t4=xf*365,O0=Ai(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ju)},(e,t)=>(t-e)/Ju,e=>e.getUTCSeconds());O0.range;const jj=Ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getMinutes());jj.range;const Sj=Ai(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getUTCMinutes());Sj.range;const Aj=Ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju-e.getMinutes()*Bo)},(e,t)=>{e.setTime(+e+t*ef)},(e,t)=>(t-e)/ef,e=>e.getHours());Aj.range;const Ej=Ai(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ef)},(e,t)=>(t-e)/ef,e=>e.getUTCHours());Ej.range;const Hg=Ai(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bo)/xf,e=>e.getDate()-1);Hg.range;const L2=Ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xf,e=>e.getUTCDate()-1);L2.range;const DR=Ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xf,e=>Math.floor(e/xf));DR.range;function vh(e){return Ai(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Bo)/_j)}const M2=vh(0),Ry=vh(1),f0e=vh(2),d0e=vh(3),Km=vh(4),h0e=vh(5),m0e=vh(6);M2.range;Ry.range;f0e.range;d0e.range;Km.range;h0e.range;m0e.range;function yh(e){return Ai(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_j)}const R2=yh(0),Iy=yh(1),p0e=yh(2),x0e=yh(3),Ym=yh(4),g0e=yh(5),v0e=yh(6);R2.range;Iy.range;p0e.range;x0e.range;Ym.range;g0e.range;v0e.range;const kj=Ai(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kj.range;const Cj=Ai(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Cj.range;const gf=Ai(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ai(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});gf.range;const vf=Ai(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ai(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vf.range;function FR(e,t,r,n,a,i){const l=[[O0,1,Ju],[O0,5,5*Ju],[O0,15,15*Ju],[O0,30,30*Ju],[i,1,Bo],[i,5,5*Bo],[i,15,15*Bo],[i,30,30*Bo],[a,1,ef],[a,3,3*ef],[a,6,6*ef],[a,12,12*ef],[n,1,xf],[n,2,2*xf],[r,1,_j],[t,1,_8],[t,3,3*_8],[e,1,t4]];function o(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const x=m&&typeof m.range=="function"?m:u(f,h,m),b=x?x.range(f,+h+1):[];return g?b.reverse():b}function u(f,h,m){const g=Math.abs(h-f)/m,x=uj(([,,w])=>w).right(l,g);if(x===l.length)return e.every(qN(f/t4,h/t4,m));if(x===0)return My.every(Math.max(qN(f,h,m),1));const[b,v]=l[g/l[x-1][2]<l[x][2]/g?x-1:x];return b.every(v)}return[o,u]}const[y0e,b0e]=FR(vf,Cj,R2,DR,Ej,Sj),[w0e,N0e]=FR(gf,kj,M2,Hg,Aj,jj);function r4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function n4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function px(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _0e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,u=e.shortMonths,f=xx(a),h=gx(a),m=xx(i),g=gx(i),x=xx(l),b=gx(l),v=xx(o),w=gx(o),N=xx(u),E=gx(u),S={a:se,A:ye,b:oe,B:ge,c:null,d:C8,e:C8,f:W0e,g:rhe,G:ahe,H:$0e,I:H0e,j:V0e,L:PR,m:G0e,M:K0e,p:Y,q:P,Q:D8,s:F8,S:Y0e,u:X0e,U:Q0e,V:Z0e,w:J0e,W:ehe,x:null,X:null,y:the,Y:nhe,Z:ihe,"%":O8},D={a:L,A:q,b:W,B:X,c:null,d:T8,e:T8,f:che,g:yhe,G:whe,H:she,I:lhe,j:ohe,L:MR,m:uhe,M:fhe,p:ce,q:ue,Q:D8,s:F8,S:dhe,u:hhe,U:mhe,V:phe,w:xhe,W:ghe,x:null,X:null,y:vhe,Y:bhe,Z:Nhe,"%":O8},F={a:H,A:R,b:U,B:K,c:ee,d:E8,e:E8,f:B0e,g:A8,G:S8,H:k8,I:k8,j:L0e,L:I0e,m:P0e,M:M0e,p:B,q:F0e,Q:z0e,s:q0e,S:R0e,u:k0e,U:C0e,V:T0e,w:E0e,W:O0e,x:pe,X:re,y:A8,Y:S8,Z:D0e,"%":U0e};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),D.x=O(r,D),D.X=O(n,D),D.c=O(t,D);function O(ae,Se){return function(De){var Z=[],Ke=-1,Ce=0,xe=ae.length,dt,Xe,Nt;for(De instanceof Date||(De=new Date(+De));++Ke<xe;)ae.charCodeAt(Ke)===37&&(Z.push(ae.slice(Ce,Ke)),(Xe=j8[dt=ae.charAt(++Ke)])!=null?dt=ae.charAt(++Ke):Xe=dt==="e"?" ":"0",(Nt=Se[dt])&&(dt=Nt(De,Xe)),Z.push(dt),Ce=Ke+1);return Z.push(ae.slice(Ce,Ke)),Z.join("")}}function T(ae,Se){return function(De){var Z=px(1900,void 0,1),Ke=M(Z,ae,De+="",0),Ce,xe;if(Ke!=De.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Se&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ce=n4(px(Z.y,0,1)),xe=Ce.getUTCDay(),Ce=xe>4||xe===0?Iy.ceil(Ce):Iy(Ce),Ce=L2.offset(Ce,(Z.V-1)*7),Z.y=Ce.getUTCFullYear(),Z.m=Ce.getUTCMonth(),Z.d=Ce.getUTCDate()+(Z.w+6)%7):(Ce=r4(px(Z.y,0,1)),xe=Ce.getDay(),Ce=xe>4||xe===0?Ry.ceil(Ce):Ry(Ce),Ce=Hg.offset(Ce,(Z.V-1)*7),Z.y=Ce.getFullYear(),Z.m=Ce.getMonth(),Z.d=Ce.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),xe="Z"in Z?n4(px(Z.y,0,1)).getUTCDay():r4(px(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(xe+5)%7:Z.w+Z.U*7-(xe+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,n4(Z)):r4(Z)}}function M(ae,Se,De,Z){for(var Ke=0,Ce=Se.length,xe=De.length,dt,Xe;Ke<Ce;){if(Z>=xe)return-1;if(dt=Se.charCodeAt(Ke++),dt===37){if(dt=Se.charAt(Ke++),Xe=F[dt in j8?Se.charAt(Ke++):dt],!Xe||(Z=Xe(ae,De,Z))<0)return-1}else if(dt!=De.charCodeAt(Z++))return-1}return Z}function B(ae,Se,De){var Z=f.exec(Se.slice(De));return Z?(ae.p=h.get(Z[0].toLowerCase()),De+Z[0].length):-1}function H(ae,Se,De){var Z=x.exec(Se.slice(De));return Z?(ae.w=b.get(Z[0].toLowerCase()),De+Z[0].length):-1}function R(ae,Se,De){var Z=m.exec(Se.slice(De));return Z?(ae.w=g.get(Z[0].toLowerCase()),De+Z[0].length):-1}function U(ae,Se,De){var Z=N.exec(Se.slice(De));return Z?(ae.m=E.get(Z[0].toLowerCase()),De+Z[0].length):-1}function K(ae,Se,De){var Z=v.exec(Se.slice(De));return Z?(ae.m=w.get(Z[0].toLowerCase()),De+Z[0].length):-1}function ee(ae,Se,De){return M(ae,t,Se,De)}function pe(ae,Se,De){return M(ae,r,Se,De)}function re(ae,Se,De){return M(ae,n,Se,De)}function se(ae){return l[ae.getDay()]}function ye(ae){return i[ae.getDay()]}function oe(ae){return u[ae.getMonth()]}function ge(ae){return o[ae.getMonth()]}function Y(ae){return a[+(ae.getHours()>=12)]}function P(ae){return 1+~~(ae.getMonth()/3)}function L(ae){return l[ae.getUTCDay()]}function q(ae){return i[ae.getUTCDay()]}function W(ae){return u[ae.getUTCMonth()]}function X(ae){return o[ae.getUTCMonth()]}function ce(ae){return a[+(ae.getUTCHours()>=12)]}function ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Se=O(ae+="",S);return Se.toString=function(){return ae},Se},parse:function(ae){var Se=T(ae+="",!1);return Se.toString=function(){return ae},Se},utcFormat:function(ae){var Se=O(ae+="",D);return Se.toString=function(){return ae},Se},utcParse:function(ae){var Se=T(ae+="",!0);return Se.toString=function(){return ae},Se}}}var j8={"-":"",_:" ",0:"0"},Hi=/^\s*\d+/,j0e=/^%/,S0e=/[\\^$*+?|[\]().{}]/g;function sn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function A0e(e){return e.replace(S0e,"\\$&")}function xx(e){return new RegExp("^(?:"+e.map(A0e).join("|")+")","i")}function gx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function E0e(e,t,r){var n=Hi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function k0e(e,t,r){var n=Hi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function C0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function T0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function O0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function S8(e,t,r){var n=Hi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function A8(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function D0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function F0e(e,t,r){var n=Hi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function P0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function E8(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function L0e(e,t,r){var n=Hi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function k8(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function M0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function R0e(e,t,r){var n=Hi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function I0e(e,t,r){var n=Hi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function B0e(e,t,r){var n=Hi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function U0e(e,t,r){var n=j0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function z0e(e,t,r){var n=Hi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function q0e(e,t,r){var n=Hi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function C8(e,t){return sn(e.getDate(),t,2)}function $0e(e,t){return sn(e.getHours(),t,2)}function H0e(e,t){return sn(e.getHours()%12||12,t,2)}function V0e(e,t){return sn(1+Hg.count(gf(e),e),t,3)}function PR(e,t){return sn(e.getMilliseconds(),t,3)}function W0e(e,t){return PR(e,t)+"000"}function G0e(e,t){return sn(e.getMonth()+1,t,2)}function K0e(e,t){return sn(e.getMinutes(),t,2)}function Y0e(e,t){return sn(e.getSeconds(),t,2)}function X0e(e){var t=e.getDay();return t===0?7:t}function Q0e(e,t){return sn(M2.count(gf(e)-1,e),t,2)}function LR(e){var t=e.getDay();return t>=4||t===0?Km(e):Km.ceil(e)}function Z0e(e,t){return e=LR(e),sn(Km.count(gf(e),e)+(gf(e).getDay()===4),t,2)}function J0e(e){return e.getDay()}function ehe(e,t){return sn(Ry.count(gf(e)-1,e),t,2)}function the(e,t){return sn(e.getFullYear()%100,t,2)}function rhe(e,t){return e=LR(e),sn(e.getFullYear()%100,t,2)}function nhe(e,t){return sn(e.getFullYear()%1e4,t,4)}function ahe(e,t){var r=e.getDay();return e=r>=4||r===0?Km(e):Km.ceil(e),sn(e.getFullYear()%1e4,t,4)}function ihe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sn(t/60|0,"0",2)+sn(t%60,"0",2)}function T8(e,t){return sn(e.getUTCDate(),t,2)}function she(e,t){return sn(e.getUTCHours(),t,2)}function lhe(e,t){return sn(e.getUTCHours()%12||12,t,2)}function ohe(e,t){return sn(1+L2.count(vf(e),e),t,3)}function MR(e,t){return sn(e.getUTCMilliseconds(),t,3)}function che(e,t){return MR(e,t)+"000"}function uhe(e,t){return sn(e.getUTCMonth()+1,t,2)}function fhe(e,t){return sn(e.getUTCMinutes(),t,2)}function dhe(e,t){return sn(e.getUTCSeconds(),t,2)}function hhe(e){var t=e.getUTCDay();return t===0?7:t}function mhe(e,t){return sn(R2.count(vf(e)-1,e),t,2)}function RR(e){var t=e.getUTCDay();return t>=4||t===0?Ym(e):Ym.ceil(e)}function phe(e,t){return e=RR(e),sn(Ym.count(vf(e),e)+(vf(e).getUTCDay()===4),t,2)}function xhe(e){return e.getUTCDay()}function ghe(e,t){return sn(Iy.count(vf(e)-1,e),t,2)}function vhe(e,t){return sn(e.getUTCFullYear()%100,t,2)}function yhe(e,t){return e=RR(e),sn(e.getUTCFullYear()%100,t,2)}function bhe(e,t){return sn(e.getUTCFullYear()%1e4,t,4)}function whe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ym(e):Ym.ceil(e),sn(e.getUTCFullYear()%1e4,t,4)}function Nhe(){return"+0000"}function O8(){return"%"}function D8(e){return+e}function F8(e){return Math.floor(+e/1e3)}var xm,IR,BR;_he({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _he(e){return xm=_0e(e),IR=xm.format,xm.parse,BR=xm.utcFormat,xm.utcParse,xm}function jhe(e){return new Date(e)}function She(e){return e instanceof Date?+e:+new Date(+e)}function Tj(e,t,r,n,a,i,l,o,u,f){var h=xj(),m=h.invert,g=h.domain,x=f(".%L"),b=f(":%S"),v=f("%I:%M"),w=f("%I %p"),N=f("%a %d"),E=f("%b %d"),S=f("%B"),D=f("%Y");function F(O){return(u(O)<O?x:o(O)<O?b:l(O)<O?v:i(O)<O?w:n(O)<O?a(O)<O?N:E:r(O)<O?S:D)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?g(Array.from(O,She)):g().map(jhe)},h.ticks=function(O){var T=g();return e(T[0],T[T.length-1],O??10)},h.tickFormat=function(O,T){return T==null?F:f(T)},h.nice=function(O){var T=g();return(!O||typeof O.range!="function")&&(O=t(T[0],T[T.length-1],O??10)),O?g(SR(T,O)):h},h.copy=function(){return $g(h,Tj(e,t,r,n,a,i,l,o,u,f))},h}function Ahe(){return Ko.apply(Tj(w0e,N0e,gf,kj,M2,Hg,Aj,jj,O0,IR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ehe(){return Ko.apply(Tj(y0e,b0e,vf,Cj,R2,L2,Ej,Sj,O0,BR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function I2(){var e=0,t=1,r,n,a,i,l=el,o=!1,u;function f(m){return m==null||isNaN(m=+m)?u:l(a===0?.5:(m=(i(m)-r)*a,o?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(o=!!m,f):o},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(g){var x,b;return arguments.length?([x,b]=g,l=m(x,b),f):[l(0),l(1)]}}return f.range=h(mp),f.rangeRound=h(pj),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function Gd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UR(){var e=Wd(I2()(el));return e.copy=function(){return Gd(e,UR())},Ef.apply(e,arguments)}function zR(){var e=yj(I2()).domain([1,10]);return e.copy=function(){return Gd(e,zR()).base(e.base())},Ef.apply(e,arguments)}function qR(){var e=bj(I2());return e.copy=function(){return Gd(e,qR()).constant(e.constant())},Ef.apply(e,arguments)}function Oj(){var e=wj(I2());return e.copy=function(){return Gd(e,Oj()).exponent(e.exponent())},Ef.apply(e,arguments)}function khe(){return Oj.apply(null,arguments).exponent(.5)}function $R(){var e=[],t=el;function r(n){if(n!=null&&!isNaN(n=+n))return t((zg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>hde(e,i/n))},r.copy=function(){return $R(t).domain(e)},Ef.apply(r,arguments)}function B2(){var e=0,t=.5,r=1,n=1,a,i,l,o,u,f=el,h,m=!1,g;function x(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-i)*(n*v<n*i?o:u),f(m?Math.max(0,Math.min(1,v)):v))}x.domain=function(v){return arguments.length?([e,t,r]=v,a=h(e=+e),i=h(t=+t),l=h(r=+r),o=a===i?0:.5/(i-a),u=i===l?0:.5/(l-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(v){return arguments.length?(m=!!v,x):m},x.interpolator=function(v){return arguments.length?(f=v,x):f};function b(v){return function(w){var N,E,S;return arguments.length?([N,E,S]=w,f=Ude(v,[N,E,S]),x):[f(0),f(.5),f(1)]}}return x.range=b(mp),x.rangeRound=b(pj),x.unknown=function(v){return arguments.length?(g=v,x):g},function(v){return h=v,a=v(e),i=v(t),l=v(r),o=a===i?0:.5/(i-a),u=i===l?0:.5/(l-i),n=i<a?-1:1,x}}function HR(){var e=Wd(B2()(el));return e.copy=function(){return Gd(e,HR())},Ef.apply(e,arguments)}function VR(){var e=yj(B2()).domain([.1,1,10]);return e.copy=function(){return Gd(e,VR()).base(e.base())},Ef.apply(e,arguments)}function WR(){var e=bj(B2());return e.copy=function(){return Gd(e,WR()).constant(e.constant())},Ef.apply(e,arguments)}function Dj(){var e=wj(B2());return e.copy=function(){return Gd(e,Dj()).exponent(e.exponent())},Ef.apply(e,arguments)}function Che(){return Dj.apply(null,arguments).exponent(.5)}const Sx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dj,scaleDiverging:HR,scaleDivergingLog:VR,scaleDivergingPow:Dj,scaleDivergingSqrt:Che,scaleDivergingSymlog:WR,scaleIdentity:jR,scaleImplicit:$N,scaleLinear:_R,scaleLog:AR,scaleOrdinal:fj,scalePoint:xde,scalePow:Nj,scaleQuantile:CR,scaleQuantize:TR,scaleRadial:kR,scaleSequential:UR,scaleSequentialLog:zR,scaleSequentialPow:Oj,scaleSequentialQuantile:$R,scaleSequentialSqrt:khe,scaleSequentialSymlog:qR,scaleSqrt:c0e,scaleSymlog:ER,scaleThreshold:OR,scaleTime:Ahe,scaleUtc:Ehe,tickFormat:NR},Symbol.toStringTag,{value:"Module"}));var Kd=e=>e.chartData,Fj=He([Kd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),U2=(e,t,r,n)=>n?Fj(e):Kd(e);function ah(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Fs(t)&&Fs(r))return!0}return!1}function P8(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Fs(r))a=r;else if(typeof r=="function")return;if(Fs(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(ah(l))return l}}function The(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ah(n))return P8(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Kt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&gT.test(a)){var u=gT.exec(a);if(u==null||t==null)l=void 0;else{var f=+u[1];l=t[0]-f}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Kt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&vT.test(i)){var h=vT.exec(i);if(h==null||t==null)o=void 0;else{var m=+h[1];o=t[1]+m}}else o=t?.[1];var g=[l,o];if(ah(g))return t==null?g:P8(g,t,r)}}}var pp=1e9,Ohe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lj,fa=!0,Vo="[DecimalError] ",z0=Vo+"Invalid argument: ",Pj=Vo+"Exponent out of range: ",xp=Math.floor,j0=Math.pow,Dhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jl,Ri=1e7,Qn=7,KR=9007199254740991,By=xp(KR/Qn),Dt={};Dt.absoluteValue=Dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Dt.comparedTo=Dt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Dt.dividedBy=Dt.div=function(e){return cf(this,new this.constructor(e))};Dt.dividedToIntegerBy=Dt.idiv=function(e){var t=this,r=t.constructor;return In(cf(t,new r(e),0,1),r.precision)};Dt.equals=Dt.eq=function(e){return!this.cmp(e)};Dt.exponent=function(){return li(this)};Dt.greaterThan=Dt.gt=function(e){return this.cmp(e)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(e){return this.cmp(e)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(e){return this.cmp(e)<0};Dt.lessThanOrEqualTo=Dt.lte=function(e){return this.cmp(e)<1};Dt.logarithm=Dt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jl))throw Error(Vo+"NaN");if(r.s<1)throw Error(Vo+(r.s?"NaN":"-Infinity"));return r.eq(Jl)?new n(0):(fa=!1,t=cf(vg(r,i),vg(e,i),i),fa=!0,In(t,a))};Dt.minus=Dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QR(t,e):YR(t,(e.s=-e.s,e))};Dt.modulo=Dt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vo+"NaN");return r.s?(fa=!1,t=cf(r,e,0,1).times(e),fa=!0,r.minus(t)):In(new n(r),a)};Dt.naturalExponential=Dt.exp=function(){return XR(this)};Dt.naturalLogarithm=Dt.ln=function(){return vg(this)};Dt.negated=Dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Dt.plus=Dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YR(t,e):QR(t,(e.s=-e.s,e))};Dt.precision=Dt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(z0+e);if(t=li(a)+1,n=a.d.length-1,r=n*Qn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Dt.squareRoot=Dt.sqrt=function(){var e,t,r,n,a,i,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Vo+"NaN")}for(e=li(o),fa=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=cu(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=l=r+3;;)if(i=n,n=i.plus(cf(o,i,l+2)).times(.5),cu(i.d).slice(0,l)===(t=cu(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(In(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return fa=!0,In(n,r)};Dt.times=Dt.mul=function(e){var t,r,n,a,i,l,o,u,f,h=this,m=h.constructor,g=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=g.length,f=x.length,u<f&&(i=g,g=x,x=i,l=u,u=f,f=l),i=[],l=u+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)o=i[a]+x[n]*g[a-n-1]+t,i[a--]=o%Ri|0,t=o/Ri|0;i[a]=(i[a]+t)%Ri|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,fa?In(e,m.precision):e};Dt.toDecimalPlaces=Dt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(mu(e,0,pp),t===void 0?t=n.rounding:mu(t,0,8),In(r,e+li(r)+1,t))};Dt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ih(n,!0):(mu(e,0,pp),t===void 0?t=a.rounding:mu(t,0,8),n=In(new a(n),e+1,t),r=ih(n,!0,e+1)),r};Dt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ih(a):(mu(e,0,pp),t===void 0?t=i.rounding:mu(t,0,8),n=In(new i(a),e+li(a)+1,t),r=ih(n.abs(),!1,e+li(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Dt.toInteger=Dt.toint=function(){var e=this,t=e.constructor;return In(new t(e),li(e)+1,t.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(e){var t,r,n,a,i,l,o=this,u=o.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Jl);if(o=new u(o),!o.s){if(e.s<1)throw Error(Vo+"Infinity");return o}if(o.eq(Jl))return o;if(n=u.precision,e.eq(Jl))return In(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=h<0?-h:h)<=KR){for(a=new u(Jl),t=Math.ceil(n/Qn+4),fa=!1;r%2&&(a=a.times(o),M8(a.d,t)),r=xp(r/2),r!==0;)o=o.times(o),M8(o.d,t);return fa=!0,e.s<0?new u(Jl).div(a):In(a,n)}}else if(i<0)throw Error(Vo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,fa=!1,a=e.times(vg(o,n+f)),fa=!0,a=XR(a),a.s=i,a};Dt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=li(a),n=ih(a,r<=i.toExpNeg||r>=i.toExpPos)):(mu(e,1,pp),t===void 0?t=i.rounding:mu(t,0,8),a=In(new i(a),e,t),r=li(a),n=ih(a,e<=r||r<=i.toExpNeg,e)),n};Dt.toSignificantDigits=Dt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(mu(e,1,pp),t===void 0?t=n.rounding:mu(t,0,8)),In(new n(r),e,t)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=li(e),r=e.constructor;return ih(e,t<=r.toExpNeg||t>=r.toExpPos)};function YR(e,t){var r,n,a,i,l,o,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),fa?In(t,m):t;if(u=e.d,f=t.d,l=e.e,a=t.e,u=u.slice(),i=l-a,i){for(i<0?(n=u,i=-i,o=f.length):(n=f,a=l,o=u.length),l=Math.ceil(m/Qn),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=f.length,o-i<0&&(i=o,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Ri|0,u[i]%=Ri;for(r&&(u.unshift(r),++a),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=a,fa?In(t,m):t}function mu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(z0+e)}function cu(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Qn-n.length,r&&(i+=pd(r)),i+=n;l=e[t],n=l+"",r=Qn-n.length,r&&(i+=pd(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var cf=(function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%Ri|0,l=i/Ri|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,u;if(i!=l)u=i>l?1:-1;else for(o=u=0;o<i;o++)if(n[o]!=a[o]){u=n[o]>a[o]?1:-1;break}return u}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Ri+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,u,f,h,m,g,x,b,v,w,N,E,S,D,F,O,T,M,B=n.constructor,H=n.s==a.s?1:-1,R=n.d,U=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(Vo+"Division by zero");for(u=n.e-a.e,T=U.length,F=R.length,x=new B(H),b=x.d=[],f=0;U[f]==(R[f]||0);)++f;if(U[f]>(R[f]||0)&&--u,i==null?E=i=B.precision:l?E=i+(li(n)-li(a))+1:E=i,E<0)return new B(0);if(E=E/Qn+2|0,f=0,T==1)for(h=0,U=U[0],E++;(f<F||h)&&E--;f++)S=h*Ri+(R[f]||0),b[f]=S/U|0,h=S%U|0;else{for(h=Ri/(U[0]+1)|0,h>1&&(U=e(U,h),R=e(R,h),T=U.length,F=R.length),D=T,v=R.slice(0,T),w=v.length;w<T;)v[w++]=0;M=U.slice(),M.unshift(0),O=U[0],U[1]>=Ri/2&&++O;do h=0,o=t(U,v,T,w),o<0?(N=v[0],T!=w&&(N=N*Ri+(v[1]||0)),h=N/O|0,h>1?(h>=Ri&&(h=Ri-1),m=e(U,h),g=m.length,w=v.length,o=t(m,v,g,w),o==1&&(h--,r(m,T<g?M:U,g))):(h==0&&(o=h=1),m=U.slice()),g=m.length,g<w&&m.unshift(0),r(v,m,w),o==-1&&(w=v.length,o=t(U,v,T,w),o<1&&(h++,r(v,T<w?M:U,w))),w=v.length):o===0&&(h++,v=[0]),b[f++]=h,o&&v[0]?v[w++]=R[D]||0:(v=[R[D]],w=1);while((D++<F||v[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=u,In(x,l?i+li(x)+1:i)}})();function XR(e,t){var r,n,a,i,l,o,u=0,f=0,h=e.constructor,m=h.precision;if(li(e)>16)throw Error(Pj+li(e));if(!e.s)return new h(Jl);for(fa=!1,o=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(j0(2,f))/Math.LN10*2+5|0,o+=n,r=a=i=new h(Jl),h.precision=o;;){if(a=In(a.times(e),o),r=r.times(++u),l=i.plus(cf(a,r,o)),cu(l.d).slice(0,o)===cu(i.d).slice(0,o)){for(;f--;)i=In(i.times(i),o);return h.precision=m,t==null?(fa=!0,In(i,m)):i}i=l}}function li(e){for(var t=e.e*Qn,r=e.d[0];r>=10;r/=10)t++;return t}function a4(e,t,r){if(t>e.LN10.sd())throw fa=!0,r&&(e.precision=r),Error(Vo+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function pd(e){for(var t="";e--;)t+="0";return t}function vg(e,t){var r,n,a,i,l,o,u,f,h,m=1,g=10,x=e,b=x.d,v=x.constructor,w=v.precision;if(x.s<1)throw Error(Vo+(x.s?"NaN":"-Infinity"));if(x.eq(Jl))return new v(0);if(t==null?(fa=!1,f=w):f=t,x.eq(10))return t==null&&(fa=!0),a4(v,f);if(f+=g,v.precision=f,r=cu(b),n=r.charAt(0),i=li(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=cu(x.d),n=r.charAt(0),m++;i=li(x),n>1?(x=new v("0."+r),i++):x=new v(n+"."+r.slice(1))}else return u=a4(v,f+2,w).times(i+""),x=vg(new v(n+"."+r.slice(1)),f-g).plus(u),v.precision=w,t==null?(fa=!0,In(x,w)):x;for(o=l=x=cf(x.minus(Jl),x.plus(Jl),f),h=In(x.times(x),f),a=3;;){if(l=In(l.times(h),f),u=o.plus(cf(l,new v(a),f)),cu(u.d).slice(0,f)===cu(o.d).slice(0,f))return o=o.times(2),i!==0&&(o=o.plus(a4(v,f+2,w).times(i+""))),o=cf(o,new v(m),f),v.precision=w,t==null?(fa=!0,In(o,w)):o;o=u,a+=2}}function L8(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=xp(r/Qn),e.d=[],n=(r+1)%Qn,r<0&&(n+=Qn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qn;n<a;)e.d.push(+t.slice(n,n+=Qn));t=t.slice(n),n=Qn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),fa&&(e.e>By||e.e<-By))throw Error(Pj+r)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,r){var n,a,i,l,o,u,f,h,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Qn,a=t,f=m[h=0];else{if(h=Math.ceil((n+1)/Qn),i=m.length,h>=i)return e;for(f=i=m[h],l=1;i>=10;i/=10)l++;n%=Qn,a=n-Qn+l}if(r!==void 0&&(i=j0(10,l-a-1),o=f/i%10|0,u=t<0||m[h+1]!==void 0||f%i,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?a>0?f/j0(10,l-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=li(e),m.length=1,t=t-i-1,m[0]=j0(10,(Qn-t%Qn)%Qn),e.e=xp(-t/Qn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=j0(10,Qn-n),m[h]=a>0?(f/j0(10,l-a)%j0(10,a)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==Ri&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Ri)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(fa&&(e.e>By||e.e<-By))throw Error(Pj+li(e));return e}function QR(e,t){var r,n,a,i,l,o,u,f,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),fa?In(t,x):t;if(u=e.d,m=t.d,n=t.e,f=e.e,u=u.slice(),l=f-n,l){for(h=l<0,h?(r=u,l=-l,o=m.length):(r=m,n=f,o=u.length),a=Math.max(Math.ceil(x/Qn),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=u.length,o=m.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(u[a]!=m[a]){h=u[a]<m[a];break}l=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),o=u.length,a=m.length-o;a>0;--a)u[o++]=0;for(a=m.length;a>l;){if(u[--a]<m[a]){for(i=a;i&&u[--i]===0;)u[i]=Ri-1;--u[i],u[a]+=Ri}u[a]-=m[a]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,fa?In(t,x):t):new g(0)}function ih(e,t,r){var n,a=li(e),i=cu(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+pd(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+pd(-a-1)+i,r&&(n=r-l)>0&&(i+=pd(n))):a>=l?(i+=pd(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+pd(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=pd(n))),e.s<0?"-"+i:i}function M8(e,t){if(e.length>t)return e.length=t,!0}function ZR(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(z0+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return L8(l,i.toString())}else if(typeof i!="string")throw Error(z0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Dhe.test(i))L8(l,i);else throw Error(z0+i)}if(a.prototype=Dt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZR,a.config=a.set=Fhe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Fhe(e){if(!e||typeof e!="object")throw Error(Vo+"Object expected");var t,r,n,a=["precision",1,pp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(xp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(z0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(z0+r+": "+n);return this}var Lj=ZR(Ohe);Jl=new Lj(1);const Nn=Lj;var Phe=e=>e,JR={},e9=e=>e===JR,R8=e=>function t(){return arguments.length===0||arguments.length===1&&e9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},t9=(e,t)=>e===1?t:R8(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==JR).length;return i>=e?t(...n):t9(e-i,R8(function(){for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];var f=n.map(h=>e9(h)?o.shift():h);return t(...f,...o)}))}),z2=e=>t9(e.length,e),GN=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Lhe=z2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Mhe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Phe;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,u)=>u(o),i(...arguments))}},KN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),r9=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var u;return l===((u=t)===null||u===void 0?void 0:u[o])})||(t=a,r=e(...a)),r}};function n9(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function a9(e,t,r){for(var n=new Nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}z2((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});z2((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});z2((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var i9=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},s9=(e,t,r)=>{if(e.lte(0))return new Nn(0);var n=n9(e.toNumber()),a=new Nn(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new Nn(Math.ceil(i.div(l).toNumber())).add(r).mul(l),u=o.mul(a);return t?new Nn(u.toNumber()):new Nn(Math.ceil(u.toNumber()))},Rhe=(e,t,r)=>{var n=new Nn(1),a=new Nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Nn(10).pow(n9(e)-1),a=new Nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nn(Math.floor(e)))}else e===0?a=new Nn(Math.floor((t-1)/2)):r||(a=new Nn(Math.floor(e)));var l=Math.floor((t-1)/2),o=Mhe(Lhe(u=>a.add(new Nn(u-l).mul(n)).toNumber()),GN);return o(0,t)},l9=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var l=s9(new Nn(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Nn(0):(o=new Nn(t).add(r).div(2),o=o.sub(new Nn(o).mod(l)));var u=Math.ceil(o.sub(t).div(l).toNumber()),f=Math.ceil(new Nn(r).sub(o).div(l).toNumber()),h=u+f+1;return h>n?l9(t,r,n,a,i+1):(h<n&&(f=r>0?f+(n-h):f,u=r>0?u:u+(n-h)),{step:l,tickMin:o.sub(new Nn(u).mul(l)),tickMax:o.add(new Nn(f).mul(l))})};function Ihe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=i9([t,r]);if(l===-1/0||o===1/0){var u=o===1/0?[l,...GN(0,n-1).map(()=>1/0)]:[...GN(0,n-1).map(()=>-1/0),o];return t>r?KN(u):u}if(l===o)return Rhe(l,n,a);var{step:f,tickMin:h,tickMax:m}=l9(l,o,i,a,0),g=a9(h,m.add(new Nn(.1).mul(f)),f);return t>r?KN(g):g}function Bhe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=i9([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),u=s9(new Nn(l).sub(i).div(o-1),a,0),f=[...a9(new Nn(i),new Nn(l),u),l];return a===!1&&(f=f.map(h=>Math.round(h))),r>n?KN(f):f}var Uhe=r9(Ihe),zhe=r9(Bhe),o9=e=>e.rootProps.maxBarSize,qhe=e=>e.rootProps.barGap,c9=e=>e.rootProps.barCategoryGap,$he=e=>e.rootProps.barSize,Vg=e=>e.rootProps.stackOffset,Mj=e=>e.options.chartName,Rj=e=>e.rootProps.syncId,u9=e=>e.rootProps.syncMethod,Ij=e=>e.options.eventEmitter,Xu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},q2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Hhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xu.angleAxisId,includeHidden:!1,name:void 0,reversed:Xu.reversed,scale:Xu.scale,tick:Xu.tick,tickCount:void 0,ticks:void 0,type:Xu.type,unit:void 0},Vhe={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:Gl.type,unit:void 0},Whe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xu.scale,tick:Xu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ghe={allowDataOverflow:Gl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:Gl.tickCount,ticks:void 0,type:"category",unit:void 0},Bj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Whe:Hhe,Uj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Ghe:Vhe,$2=e=>e.polarOptions,zj=He([Sf,Af,Si],$M),f9=He([$2,zj],(e,t)=>{if(e!=null)return Ts(e.innerRadius,t,0)}),d9=He([$2,zj],(e,t)=>{if(e!=null)return Ts(e.outerRadius,t,t*.8)}),Khe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},h9=He([$2],Khe);He([Bj,h9],q2);var m9=He([zj,f9,d9],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});He([Uj,m9],q2);var p9=He([Gr,$2,f9,d9,Sf,Af],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:u,endAngle:f}=t;return{cx:Ts(l,a,a/2),cy:Ts(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),xa=(e,t)=>t,Wg=(e,t,r)=>r;function qj(e){return e?.id}var Ei=e=>{var t=Gr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gp=e=>e.tooltip.settings.axisId,ki=e=>{var t=Ei(e),r=gp(e);return Gg(e,t,r)},x9=He([ki],e=>e?.dataKey);function g9(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var h=qj(o);f.forEach((m,g)=>{var x=i==null||a?g:String($n(m,i,null)),b=$n(m,o.dataKey,0),v;l.has(x)?v=l.get(x):v={},Object.assign(v,{[h]:b}),l.set(x,v)})}}),Array.from(l.values())}function H2(e){return e.stackId!=null&&e.dataKey!=null}var V2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function W2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){Yhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yhe(e,t,r){return(t=Xhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xhe(e){var t=Qhe(e,"string");return typeof t=="symbol"?t:t+""}function Qhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YN=[0,"auto"],Vl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},v9=(e,t)=>e.cartesianAxis.xAxis[t],kf=(e,t)=>{var r=v9(e,t);return r??Vl},Wl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:YN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ig},y9=(e,t)=>e.cartesianAxis.yAxis[t],Cf=(e,t)=>{var r=y9(e,t);return r??Wl},Zhe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$j=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Zhe},Sa=(e,t,r)=>{switch(t){case"xAxis":return kf(e,r);case"yAxis":return Cf(e,r);case"zAxis":return $j(e,r);case"angleAxis":return Bj(e,r);case"radiusAxis":return Uj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jhe=(e,t,r)=>{switch(t){case"xAxis":return kf(e,r);case"yAxis":return Cf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Gg=(e,t,r)=>{switch(t){case"xAxis":return kf(e,r);case"yAxis":return Cf(e,r);case"angleAxis":return Bj(e,r);case"radiusAxis":return Uj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},b9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Hj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var G2=e=>e.graphicalItems.cartesianItems,eme=He([xa,Wg],Hj),Vj=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Kg=He([G2,Sa,eme],Vj,{memoizeOptions:{resultEqualityCheck:W2}}),w9=He([Kg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(H2)),N9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),tme=He([Kg],N9),Wj=e=>e.map(t=>t.data).filter(Boolean).flat(1),rme=He([Kg],Wj,{memoizeOptions:{resultEqualityCheck:W2}}),Gj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Kj=He([rme,U2],Gj),Yj=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:$n(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:$n(a,n)}))):e.map(n=>({value:n})),K2=He([Kj,Sa,Kg],Yj);function _9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bv(e){if(hu(e)||e instanceof Date){var t=Number(e);if(Fs(t))return t}}function B8(e){if(Array.isArray(e)){var t=[Bv(e[0]),Bv(e[1])];return ah(t)?t:void 0}var r=Bv(e);if(r!=null)return[r,r]}function vp(e){return e.map(Bv).filter(yfe)}function nme(e,t,r){return!r||typeof t!="number"||$o(t)?[]:r.length?vp(r.flatMap(n=>{var a=$n(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!Fs(i)||!Fs(l)))return[t-i,t+l]})):[]}var ame=He([w9,U2,ki],g9),j9=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,u=o.map(qj);return[l,{stackedData:qce(e,u,r),graphicalItems:o}]}))},XN=He([ame,w9,Vg],j9),S9=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=Gce(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},ime=He([Sa],e=>e.allowDataOverflow),Xj=e=>{var t;if(e==null||!("domain"in e))return YN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=vp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:YN},Qj=He([Sa],Xj),Zj=He([Qj,ime],GR),sme=He([XN,Kd,xa,Zj],S9,{memoizeOptions:{resultEqualityCheck:V2}}),Y2=e=>e.errorBars,lme=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>_9(r,n)),zy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},Jj=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var f,h,m=(f=n[u.id])===null||f===void 0?void 0:f.filter(N=>_9(a,N)),g=$n(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=nme(o,g,m);if(x.length>=2){var b=Math.min(...x),v=Math.max(...x);(i==null||b<i)&&(i=b),(l==null||v>l)&&(l=v)}var w=B8(g);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var u=B8($n(o,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),Fs(i)&&Fs(l))return[i,l]},ome=He([Kj,Sa,tme,Y2,xa],Jj,{memoizeOptions:{resultEqualityCheck:V2}});function cme(e){var{value:t}=e;if(hu(t)||t instanceof Date)return t}var ume=(e,t,r)=>{var n=e.map(cme).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&JL(n))?dR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},A9=e=>e.referenceElements.dots,yp=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),fme=He([A9,xa,Wg],yp),E9=e=>e.referenceElements.areas,dme=He([E9,xa,Wg],yp),k9=e=>e.referenceElements.lines,hme=He([k9,xa,Wg],yp),C9=(e,t)=>{var r=vp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},mme=He(fme,xa,C9),T9=(e,t)=>{var r=vp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},pme=He([dme,xa],T9),O9=(e,t)=>{var r=vp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xme=He(hme,xa,O9),gme=He(mme,xme,pme,(e,t,r)=>zy(e,r,t)),eS=(e,t,r,n,a,i,l,o)=>{if(r!=null)return r;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",f=u?zy(n,i,a):zy(i,a);return The(t,f,e.allowDataOverflow)},vme=He([Sa,Qj,Zj,sme,ome,gme,Gr,xa],eS,{memoizeOptions:{resultEqualityCheck:V2}}),yme=[0,1],tS=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:u}=e,f=Hd(t,i);return f&&o==null?dR(0,r.length):u==="category"?ume(n,e,f):a==="expand"?yme:l}},rS=He([Sa,Gr,Kj,K2,Vg,xa,vme],tS),D9=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Pg(i));return o in Sx?o:"point"}}},bp=He([Sa,Gr,b9,Mj,xa],D9);function bme(e){if(e!=null){if(e in Sx)return Sx[e]();var t="scale".concat(Pg(e));if(t in Sx)return Sx[t]()}}function nS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=bme(t);if(a!=null){var i=a.domain(r).range(n);return Rce(i),i}}}var aS=(e,t,r)=>{var n=Xj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ah(e))return Uhe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ah(e))return zhe(e,t.tickCount,t.allowDecimals)}},iS=He([rS,Gg,bp],aS),sS=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&ah(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},wme=He([Sa,rS,iS,xa],sS),Nme=He(K2,Sa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(vp(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),F9=He(Nme,Gr,c9,Si,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Fs(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Ts(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),_me=(e,t)=>{var r=kf(e,t);return r==null||typeof r.padding!="string"?0:F9(e,"xAxis",t,r.padding)},jme=(e,t)=>{var r=Cf(e,t);return r==null||typeof r.padding!="string"?0:F9(e,"yAxis",t,r.padding)},Sme=He(kf,_me,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Ame=He(Cf,jme,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Eme=He([Si,Sme,T2,C2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),kme=He([Si,Gr,Ame,T2,C2,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Yg=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Eme(e,r,n);case"yAxis":return kme(e,r,n);case"zAxis":return(a=$j(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return h9(e);case"radiusAxis":return m9(e,r);default:return}},P9=He([Sa,Yg],q2),wp=He([Sa,bp,wme,P9],nS);He([Kg,Y2,xa],lme);function L9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var X2=(e,t)=>t,Q2=(e,t,r)=>r,Cme=He(E2,X2,Q2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(L9)),Tme=He(k2,X2,Q2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(L9)),M9=(e,t)=>({width:e.width,height:t.height}),Ome=(e,t)=>{var r=typeof t.width=="number"?t.width:Ig;return{width:r,height:e.height}},R9=He(Si,kf,M9),Dme=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Fme=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Pme=He(Af,Si,Cme,X2,Q2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var u=M9(t,o);l==null&&(l=Dme(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(f)*u.height,l+=(f?-1:1)*u.height}),i}),Lme=He(Sf,Si,Tme,X2,Q2,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var u=Ome(t,o);l==null&&(l=Fme(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(f)*u.width,l+=(f?-1:1)*u.width}),i}),Mme=(e,t)=>{var r=kf(e,t);if(r!=null)return Pme(e,r.orientation,r.mirror)},Rme=He([Si,kf,Mme,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Ime=(e,t)=>{var r=Cf(e,t);if(r!=null)return Lme(e,r.orientation,r.mirror)},Bme=He([Si,Cf,Ime,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),I9=He(Si,Cf,(e,t)=>{var r=typeof t.width=="number"?t.width:Ig;return{width:r,height:e.height}}),U8=(e,t,r)=>{switch(t){case"xAxis":return R9(e,r).width;case"yAxis":return I9(e,r).height;default:return}},B9=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=Hd(e,n),u=t.map(f=>f.value);if(l&&o&&i==="category"&&a&&JL(u))return u}},lS=He([Gr,K2,Sa,xa],B9),U9=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Hd(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},oS=He([Gr,K2,Gg,xa],U9),z8=He([Gr,Jhe,bp,wp,lS,oS,Yg,iS,xa],(e,t,r,n,a,i,l,o,u)=>{if(t==null)return null;var f=Hd(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:o,range:l,realScaleType:r,scale:n}}),Ume=(e,t,r,n,a,i,l,o,u)=>{if(!(t==null||n==null)){var f=Hd(e,u),{type:h,ticks:m,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&i!=null&&i.length>=2?qi(i[0]-i[1])*2*b:b;var v=m||a;if(v){var w=v.map((N,E)=>{var S=l?l.indexOf(N):N;return{index:E,coordinate:n(S)+b,value:N,offset:b}});return w.filter(N=>!$o(N.coordinate))}return f&&o?o.map((N,E)=>({coordinate:n(N)+b,value:N,index:E,offset:b})):n.ticks?n.ticks(g).map(N=>({coordinate:n(N)+b,value:N,offset:b})):n.domain().map((N,E)=>({coordinate:n(N)+b,value:l?l[N]:N,index:E,offset:b}))}},z9=He([Gr,Gg,bp,wp,iS,Yg,lS,oS,xa],Ume),zme=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Hd(e,l),{tickCount:u}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?qi(n[0]-n[1])*2*f:f,o&&i?i.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}},Od=He([Gr,Gg,wp,Yg,lS,oS,xa],zme),Dd=He(Sa,wp,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),qme=He([Sa,bp,rS,P9],nS);He((e,t,r)=>$j(e,r),qme,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})});var $me=He([Gr,E2,k2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),q9=e=>e.options.defaultTooltipEventType,$9=e=>e.options.validateTooltipEventTypes;function H9(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function cS(e,t){var r=q9(e),n=$9(e);return H9(t,r,n)}function Hme(e){return zt(t=>cS(t,e))}var V9=(e,t)=>{var r,n=Number(t);if(!($o(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Vme=e=>e.tooltip.settings,gd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Wme={itemInteraction:{click:gd,hover:gd},axisInteraction:{click:gd,hover:gd},keyboardInteraction:gd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},W9=lo({name:"tooltip",initialState:Wme,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Xs()},removeTooltipEntrySettings:{reducer(e,t){var r=of(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Xs()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Gme,removeTooltipEntrySettings:Kme,setTooltipSettingsState:Yme,setActiveMouseOverItemIndex:G9,mouseLeaveItem:Xme,mouseLeaveChart:K9,setActiveClickItemIndex:Qme,setMouseOverAxisIndex:Y9,setMouseClickAxisIndex:Zme,setSyncInteraction:QN,setKeyboardInteraction:ZN}=W9.actions,Jme=W9.reducer;function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(n){epe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function epe(e,t,r){return(t=tpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tpe(e){var t=rpe(e,"string");return typeof t=="symbol"?t:t+""}function rpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function npe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ape(e){return e.index!=null}var X9=(e,t,r,n)=>{if(t==null)return gd;var a=npe(e,t,r);if(a==null)return gd;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(ape(a)){if(i)return wv(wv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return wv(wv({},gd),{},{coordinate:a.coordinate})},uS=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Fs(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},Q9=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var u=l[0],f=u==null?void 0:o(u.positions,i);if(f!=null)return f;var h=a?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},Z9=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Xg=e=>e.options.tooltipPayloadSearcher,Np=e=>e.tooltip;function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ipe(e,t,r){return(t=spe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function spe(e){var t=lpe(e,"string");return typeof t=="symbol"?t:t+""}function lpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ope(e,t){return e??t}var J9=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:u,dataStartIndex:f,dataEndIndex:h}=r,m=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:v,settings:w}=x,N=ope(v,o),E=Array.isArray(N)?HM(N,f,h):N,S=(b=w?.dataKey)!==null&&b!==void 0?b:n,D=w?.nameKey,F;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?F=eM(E,n,a):F=i(E,t,u,D),Array.isArray(F))F.forEach(T=>{var M=H8(H8({},w),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});g.push(yT({tooltipEntrySettings:M,dataKey:T.dataKey,payload:T.payload,value:$n(T.payload,T.dataKey),name:T.name}))});else{var O;g.push(yT({tooltipEntrySettings:w,dataKey:S,payload:F,value:$n(F,S),name:(O=$n(F,D))!==null&&O!==void 0?O:w?.name}))}return g},m)}},fS=He([ki,Gr,b9,Mj,Ei],D9),cpe=He([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),upe=He([Ei,gp],Hj),Qg=He([cpe,ki,upe],Vj,{memoizeOptions:{resultEqualityCheck:W2}}),fpe=He([Qg],e=>e.filter(H2)),dpe=He([Qg],Wj,{memoizeOptions:{resultEqualityCheck:W2}}),_p=He([dpe,Kd],Gj),hpe=He([fpe,Kd,ki],g9),dS=He([_p,ki,Qg],Yj),eI=He([ki],Xj),mpe=He([ki],e=>e.allowDataOverflow),tI=He([eI,mpe],GR),ppe=He([Qg],e=>e.filter(H2)),xpe=He([hpe,ppe,Vg],j9),gpe=He([xpe,Kd,Ei,tI],S9),vpe=He([Qg],N9),ype=He([_p,ki,vpe,Y2,Ei],Jj,{memoizeOptions:{resultEqualityCheck:V2}}),bpe=He([A9,Ei,gp],yp),wpe=He([bpe,Ei],C9),Npe=He([E9,Ei,gp],yp),_pe=He([Npe,Ei],T9),jpe=He([k9,Ei,gp],yp),Spe=He([jpe,Ei],O9),Ape=He([wpe,Spe,_pe],zy),Epe=He([ki,eI,tI,gpe,ype,Ape,Gr,Ei],eS),rI=He([ki,Gr,_p,dS,Vg,Ei,Epe],tS),kpe=He([rI,ki,fS],aS),Cpe=He([ki,rI,kpe,Ei],sS),nI=e=>{var t=Ei(e),r=gp(e),n=!1;return Yg(e,t,r,n)},aI=He([ki,nI],q2),iI=He([ki,fS,Cpe,aI],nS),Tpe=He([Gr,dS,ki,Ei],B9),Ope=He([Gr,dS,ki,Ei],U9),Dpe=(e,t,r,n,a,i,l,o)=>{if(t){var{type:u}=t,f=Hd(e,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=o==="angleAxis"&&a!=null&&a?.length>=2?qi(a[0]-a[1])*2*m:m,f&&l?l.map((g,x)=>({coordinate:n(g)+m,value:g,index:x,offset:m})):n.domain().map((g,x)=>({coordinate:n(g)+m,value:i?i[g]:g,index:x,offset:m}))}}},Tf=He([Gr,ki,fS,iI,nI,Tpe,Ope,Ei],Dpe),hS=He([q9,$9,Vme],(e,t,r)=>H9(r.shared,e,t)),sI=e=>e.tooltip.settings.trigger,mS=e=>e.tooltip.settings.defaultIndex,Z2=He([Np,hS,sI,mS],X9),Fd=He([Z2,_p],uS),lI=He([Tf,Fd],V9),oI=He([Z2],e=>{if(e)return e.dataKey}),cI=He([Np,hS,sI,mS],Z9),Fpe=He([Sf,Af,Gr,Si,Tf,mS,cI,Xg],Q9),Ppe=He([Z2,Fpe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Lpe=He([Z2],e=>e.active),Mpe=He([cI,Fd,Kd,x9,lI,Xg,hS],J9),Rpe=He([Mpe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){Ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ipe(e,t,r){return(t=Bpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpe(e){var t=Upe(e,"string");return typeof t=="symbol"?t:t+""}function Upe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zpe=()=>zt(ki),qpe=()=>{var e=zpe(),t=zt(Tf),r=zt(iI);return fg(W8(W8({},e),{},{scale:r}),t)},$pe=()=>zt(Mj),pS=(e,t)=>t,uI=(e,t,r)=>r,xS=(e,t,r,n)=>n,Hpe=He(Tf,e=>w2(e,t=>t.coordinate)),gS=He([Np,pS,uI,xS],X9),fI=He([gS,_p],uS),Vpe=(e,t,r)=>{if(t!=null){var n=Np(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},dI=He([Np,pS,uI,xS],Z9),qy=He([Sf,Af,Gr,Si,Tf,xS,dI,Xg],Q9),Wpe=He([gS,qy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),hI=He(Tf,fI,V9),Gpe=He([dI,fI,Kd,x9,hI,Xg,pS],J9),Kpe=He([gS],e=>({isActive:e.active,activeIndex:e.index})),Ype=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var u=Kce(e.chartX,e.chartY,t,r,o);if(u){var f=Xce(u,t),h=Lce(f,l,i,n,a),m=Yce(t,i,h,u);return{activeIndex:String(h),activeCoordinate:m}}}};function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JN.apply(null,arguments)}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(n){Xpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xpe(e,t,r){return(t=Qpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qpe(e){var t=Zpe(e,"string");return typeof t=="symbol"?t:t+""}function Zpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jpe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:u,chartName:f}=e,h=t,m=r,g=n;if(!o||!h||f!=="ScatterChart"&&u!=="axis")return null;var x,b;if(f==="ScatterChart")x=h,b=dfe;else if(f==="BarChart")x=hfe(l,h,a,i),b=oR;else if(l==="radial"){var{cx:v,cy:w,radius:N,startAngle:E,endAngle:S}=cR(h);x={cx:v,cy:w,startAngle:E,endAngle:S,innerRadius:N,outerRadius:N},b=fR}else x={points:Xfe(l,h,a)},b=cj;var D=typeof o=="object"&&"className"in o?o.className:void 0,F=Nv(Nv(Nv(Nv({stroke:"#ccc",pointerEvents:"none"},a),x),eh(o)),{},{payload:m,payloadIndex:g,className:an("recharts-tooltip-cursor",D)});return C.isValidElement(o)?C.cloneElement(o,F):C.createElement(b,F)}function exe(e){var t=qpe(),r=JM(),n=D2(),a=$pe();return C.createElement(Jpe,JN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var mI=C.createContext(null),txe=()=>C.useContext(mI),i4={exports:{}},K8;function rxe(){return K8||(K8=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,m||u,g),b=r?r+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},o.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,b=new Array(x);g<x;g++)b[g]=m[g].fn;return b},o.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(f,h,m,g,x,b){var v=r?r+f:f;if(!this._events[v])return!1;var w=this._events[v],N=arguments.length,E,S;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,g),!0;case 5:return w.fn.call(w.context,h,m,g,x),!0;case 6:return w.fn.call(w.context,h,m,g,x,b),!0}for(S=1,E=new Array(N-1);S<N;S++)E[S-1]=arguments[S];w.fn.apply(w.context,E)}else{var D=w.length,F;for(S=0;S<D;S++)switch(w[S].once&&this.removeListener(f,w[S].fn,void 0,!0),N){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,h);break;case 3:w[S].fn.call(w[S].context,h,m);break;case 4:w[S].fn.call(w[S].context,h,m,g);break;default:if(!E)for(F=1,E=new Array(N-1);F<N;F++)E[F-1]=arguments[F];w[S].fn.apply(w[S].context,E)}}return!0},o.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},o.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},o.prototype.removeListener=function(f,h,m,g){var x=r?r+f:f;if(!this._events[x])return this;if(!h)return l(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&l(this,x);else{for(var v=0,w=[],N=b.length;v<N;v++)(b[v].fn!==h||g&&!b[v].once||m&&b[v].context!==m)&&w.push(b[v]);w.length?this._events[x]=w.length===1?w[0]:w:l(this,x)}return this},o.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(i4)),i4.exports}var nxe=rxe();const axe=bf(nxe);var yg=new axe,e_="recharts.syncEvent.tooltip",Y8="recharts.syncEvent.brush";function vS(e,t){if(t){var r=Number.parseInt(t,10);if(!$o(r))return e?.[r]}}var ixe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pI=lo({name:"options",initialState:ixe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sxe=pI.reducer,{createEventEmitter:lxe}=pI.actions;function oxe(e){return e.tooltip.syncInteraction}var cxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xI=lo({name:"chartData",initialState:cxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:X8,setDataStartEndIndexes:uxe,setComputedData:f3e}=xI.actions,fxe=xI.reducer,dxe=["x","y"];function Q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(r),!0).forEach(function(n){hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t,r){return(t=mxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mxe(e){var t=pxe(e,"string");return typeof t=="symbol"?t:t+""}function pxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xxe(e,t){if(e==null)return{};var r,n,a=gxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gI=()=>{};function vxe(){var e=zt(Rj),t=zt(Ij),r=pa(),n=zt(u9),a=zt(Tf),i=D2(),l=O2(),o=zt(u=>u.rootProps.className);C.useEffect(()=>{if(e==null)return gI;var u=(f,h,m)=>{if(t!==m&&e===f){if(n==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y:v}=x,w=xxe(x,dxe),{x:N,y:E,width:S,height:D}=h.payload.sourceViewBox,F=gm(gm({},w),{},{x:l.x+(S?(b-N)/S:0)*l.width,y:l.y+(D?(v-E)/D:0)*l.height});r(gm(gm({},h),{},{payload:gm(gm({},h.payload),{},{coordinate:F})}))}else r(h);return}if(a!=null){var O;if(typeof n=="function"){var T={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},M=n(a,T);O=a[M]}else n==="value"&&(O=a.find(re=>String(re.value)===h.payload.label));var{coordinate:B}=h.payload;if(O==null||h.payload.active===!1||B==null||l==null){r(QN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:H,y:R}=B,U=Math.min(H,l.x+l.width),K=Math.min(R,l.y+l.height),ee={x:i==="horizontal"?O.coordinate:U,y:i==="horizontal"?K:O.coordinate},pe=QN({active:h.payload.active,coordinate:ee,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(pe)}}};return yg.on(e_,u),()=>{yg.off(e_,u)}},[o,r,t,e,n,a,i,l])}function yxe(){var e=zt(Rj),t=zt(Ij),r=pa();C.useEffect(()=>{if(e==null)return gI;var n=(a,i,l)=>{t!==l&&e===a&&r(uxe(i))};return yg.on(Y8,n),()=>{yg.off(Y8,n)}},[r,t,e])}function bxe(){var e=pa();C.useEffect(()=>{e(lxe())},[e]),vxe(),yxe()}function wxe(e,t,r,n,a,i){var l=zt(x=>Vpe(x,e,t)),o=zt(Ij),u=zt(Rj),f=zt(u9),h=zt(oxe),m=h?.active,g=O2();C.useEffect(()=>{if(!m&&u!=null&&o!=null){var x=QN({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g});yg.emit(e_,u,x,o)}},[m,r,l,a,n,o,u,f,i,g])}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){Nxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nxe(e,t,r){return(t=_xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sxe(e){return e.dataKey}function Axe(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(Hue,t)}var eO=[],Exe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Vd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function s4(e){var t=cs(e,Exe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:u,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:x,wrapperStyle:b,cursor:v,shared:w,trigger:N,defaultIndex:E,portal:S,axisId:D}=t,F=pa(),O=typeof E=="number"?String(E):E;C.useEffect(()=>{F(Yme({shared:w,trigger:N,axisId:D,active:r,defaultIndex:O}))},[F,w,N,D,r,O]);var T=O2(),M=nR(),B=Hme(w),{activeIndex:H,isActive:R}=zt(W=>Kpe(W,B,N,O)),U=zt(W=>Gpe(W,B,N,O)),K=zt(W=>hI(W,B,N,O)),ee=zt(W=>Wpe(W,B,N,O)),pe=U,re=txe(),se=r??R,[ye,oe]=xM([pe,se]),ge=B==="axis"?K:void 0;wxe(B,N,ee,ge,H,se);var Y=S??re;if(Y==null)return null;var P=pe??eO;se||(P=eO),o&&P.length&&(P=fM(pe.filter(W=>W.value!=null&&(W.hide!==!0||t.includeHidden)),h,Sxe));var L=P.length>0,q=C.createElement(Que,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:se,coordinate:ee,hasPayload:L,offset:f,position:m,reverseDirection:g,useTranslate3d:x,viewBox:T,wrapperStyle:b,lastBoundingBox:ye,innerRef:oe,hasPortalFromProps:!!S},Axe(l,J8(J8({},t),{},{payload:P,label:ge,active:se,coordinate:ee,accessibilityLayer:M})));return C.createElement(C.Fragment,null,XD.createPortal(q,Y),se&&C.createElement(exe,{cursor:v,tooltipEventType:B,coordinate:ee,payload:pe,index:H}))}var Zg=e=>null;Zg.displayName="Cell";function kxe(e,t,r){return(t=Cxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Txe(e,"string");return typeof t=="symbol"?t:t+""}function Txe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Oxe{constructor(t){kxe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){Fxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fxe(e,t,r){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pxe(e){var t=Lxe(e,"string");return typeof t=="symbol"?t:t+""}function Lxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mxe={cacheSize:2e3,enableCache:!0},vI=Dxe({},Mxe),rO=new Oxe(vI.cacheSize),Rxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nO="recharts_measurement_span";function Ixe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var aO=(e,t)=>{try{var r=document.getElementById(nO);r||(r=document.createElement("span"),r.setAttribute("id",nO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Rxe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Mx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vd.isSsr)return{width:0,height:0};if(!vI.enableCache)return aO(t,r);var n=Ixe(t,r),a=rO.get(n);if(a)return a;var i=aO(t,r);return rO.set(n,i),i},iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zxe=Object.keys(yI),Sm="NaN";function qxe(e,t){return e*yI[t]}class jl{static parse(t){var r,[,n,a]=(r=Uxe.exec(t))!==null&&r!==void 0?r:[];return new jl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$o(t)&&(this.unit=""),r!==""&&!Bxe.test(r)&&(this.num=NaN,this.unit=""),zxe.includes(r)&&(this.num=qxe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new jl(NaN,""):new jl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new jl(NaN,""):new jl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jl(NaN,""):new jl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jl(NaN,""):new jl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $o(this.num)}}function bI(e){if(e.includes(Sm))return Sm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=iO.exec(t))!==null&&r!==void 0?r:[],l=jl.parse(n??""),o=jl.parse(i??""),u=a==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return Sm;t=t.replace(iO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,g]=(f=sO.exec(t))!==null&&f!==void 0?f:[],x=jl.parse(h??""),b=jl.parse(g??""),v=m==="+"?x.add(b):x.subtract(b);if(v.isNaN())return Sm;t=t.replace(sO,v.toString())}return t}var lO=/\(([^()]*)\)/;function $xe(e){for(var t=e,r;(r=lO.exec(t))!=null;){var[,n]=r;t=t.replace(lO,bI(n))}return t}function Hxe(e){var t=e.replace(/\s+/g,"");return t=$xe(t),t=bI(t),t}function Vxe(e){try{return Hxe(e)}catch{return Sm}}function l4(e){var t=Vxe(e.slice(5,-1));return t===Sm?"":t}var Wxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gxe=["dx","dy","angle","className","breakAll"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(null,arguments)}function oO(e,t){if(e==null)return{};var r,n,a=Kxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wI=/[ \f\n\r\t\v\u2028\u2029]+/,NI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ma(t)||(r?a=t.toString().split(""):a=t.toString().split(wI));var i=a.map(o=>({word:o,width:Mx(o,n).width})),l=r?0:Mx("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},Yxe=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:u}=e,f=Kt(i),h=l,m=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((U,K)=>{var{word:ee,width:pe}=K,re=U[U.length-1];if(re&&(n==null||a||re.width+pe+r<Number(n)))re.words.push(ee),re.width+=pe+r;else{var se={words:[ee],width:pe};U.push(se)}return U},[])},g=m(t),x=H=>H.reduce((R,U)=>R.width>U.width?R:U);if(!f||a)return g;var b=g.length>i||x(g).width>Number(n);if(!b)return g;for(var v="",w=H=>{var R=h.slice(0,H),U=NI({breakAll:u,style:o,children:R+v}).wordsWithComputedWidth,K=m(U),ee=K.length>i||x(K).width>Number(n);return[ee,K]},N=0,E=h.length-1,S=0,D;N<=E&&S<=h.length-1;){var F=Math.floor((N+E)/2),O=F-1,[T,M]=w(O),[B]=w(F);if(!T&&!B&&(N=F+1),T&&B&&(E=F-1),!T&&B){D=M;break}S++}return D||g},cO=e=>{var t=ma(e)?[]:e.toString().split(wI);return[{words:t}]},Xxe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!Vd.isSsr){var o,u,f=NI({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;o=h,u=m}else return cO(n);return Yxe({breakAll:i,children:n,maxLines:l,style:a},o,u,t,r)}return cO(n)},uO="#808080",J2=C.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:u="end",fill:f=uO}=e,h=oO(e,Wxe),m=C.useMemo(()=>Xxe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:x,angle:b,className:v,breakAll:w}=h,N=oO(h,Gxe);if(!hu(r)||!hu(n)||m.length===0)return null;var E=r+(Kt(g)?g:0),S=n+(Kt(x)?x:0),D;switch(u){case"start":D=l4("calc(".concat(i,")"));break;case"middle":D=l4("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:D=l4("calc(".concat(m.length-1," * -").concat(a,")"));break}var F=[];if(l){var O=m[0].width,{width:T}=h;F.push("scale(".concat(Kt(T)?T/O:1,")"))}return b&&F.push("rotate(".concat(b,", ").concat(E,", ").concat(S,")")),F.length&&(N.transform=F.join(" ")),C.createElement("text",t_({},rl(N),{ref:t,x:E,y:S,className:an("recharts-text",v),textAnchor:o,fill:f.includes("url")?uO:f}),m.map((M,B)=>{var H=M.words.join(w?"":" ");return C.createElement("tspan",{x:E,dy:B===0?D:a,key:"".concat(H,"-").concat(B)},H)}))});J2.displayName="Text";var Qxe=["labelRef"];function Zxe(e,t){if(e==null)return{};var r,n,a=Jxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){ege(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ege(e,t,r){return(t=tge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tge(e){var t=rge(e,"string");return typeof t=="symbol"?t:t+""}function rge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(null,arguments)}var _I=C.createContext(null),nge=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,l=C.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return C.createElement(_I.Provider,{value:l},i)},jI=()=>{var e=C.useContext(_I),t=O2();return e||t},age=C.createContext(null),ige=()=>{var e=C.useContext(age),t=zt(p9);return e||t},sge=e=>{var{value:t,formatter:r}=e,n=ma(e.children)?t:e.children;return typeof r=="function"?r(n):n},yS=e=>e!=null&&typeof e=="function",lge=(e,t)=>{var r=qi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},oge=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:o,cy:u,innerRadius:f,outerRadius:h,startAngle:m,endAngle:g,clockWise:x}=a,b=(f+h)/2,v=lge(m,g),w=v>=0?1:-1,N,E;switch(t){case"insideStart":N=m+w*i,E=x;break;case"insideEnd":N=g-w*i,E=!x;break;case"end":N=g+w*i,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=v<=0?E:!E;var S=ai(o,u,b,N),D=ai(o,u,b,N+(E?1:-1)*359),F="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(D.x,",").concat(D.y),O=ma(e.id)?lg("recharts-radial-line-"):e.id;return C.createElement("text",Qu({},n,{dominantBaseline:"central",className:an("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:O,d:F})),C.createElement("textPath",{xlinkHref:"#".concat(O)},r))},cge=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:u}=e,f=(o+u)/2;if(r==="outside"){var{x:h,y:m}=ai(n,a,l+t,f);return{x:h,y:m,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+l)/2,{x,y:b}=ai(n,a,g,f);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},SI=e=>"cx"in e&&Kt(e.cx),uge=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!SI(r)&&(i=r);var{x:l,y:o,width:u,height:f}=t,h=f>=0?1:-1,m=h*n,g=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,v=b*n,w=b>0?"end":"start",N=b>0?"start":"end";if(a==="top"){var E={x:l+u/2,y:o-h*n,textAnchor:"middle",verticalAnchor:g};return Ha(Ha({},E),i?{height:Math.max(o-i.y,0),width:u}:{})}if(a==="bottom"){var S={x:l+u/2,y:o+f+m,textAnchor:"middle",verticalAnchor:x};return Ha(Ha({},S),i?{height:Math.max(i.y+i.height-(o+f),0),width:u}:{})}if(a==="left"){var D={x:l-v,y:o+f/2,textAnchor:w,verticalAnchor:"middle"};return Ha(Ha({},D),i?{width:Math.max(D.x-i.x,0),height:f}:{})}if(a==="right"){var F={x:l+u+v,y:o+f/2,textAnchor:N,verticalAnchor:"middle"};return Ha(Ha({},F),i?{width:Math.max(i.x+i.width-F.x,0),height:f}:{})}var O=i?{width:u,height:f}:{};return a==="insideLeft"?Ha({x:l+v,y:o+f/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideRight"?Ha({x:l+u-v,y:o+f/2,textAnchor:w,verticalAnchor:"middle"},O):a==="insideTop"?Ha({x:l+u/2,y:o+m,textAnchor:"middle",verticalAnchor:x},O):a==="insideBottom"?Ha({x:l+u/2,y:o+f-m,textAnchor:"middle",verticalAnchor:g},O):a==="insideTopLeft"?Ha({x:l+v,y:o+m,textAnchor:N,verticalAnchor:x},O):a==="insideTopRight"?Ha({x:l+u-v,y:o+m,textAnchor:w,verticalAnchor:x},O):a==="insideBottomLeft"?Ha({x:l+v,y:o+f-m,textAnchor:N,verticalAnchor:g},O):a==="insideBottomRight"?Ha({x:l+u-v,y:o+f-m,textAnchor:w,verticalAnchor:g},O):a&&typeof a=="object"&&(Kt(a.x)||mf(a.x))&&(Kt(a.y)||mf(a.y))?Ha({x:l+Ts(a.x,u),y:o+Ts(a.y,f),textAnchor:"end",verticalAnchor:"end"},O):Ha({x:l+u/2,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},fge={offset:5};function xd(e){var t=cs(e,fge),{viewBox:r,position:n,value:a,children:i,content:l,className:o="",textBreakAll:u,labelRef:f}=t,h=ige(),m=jI(),g=n==="center"?m:h??m,x=r||g;if(!x||ma(a)&&ma(i)&&!C.isValidElement(l)&&typeof l!="function")return null;var b=Ha(Ha({},t),{},{viewBox:x});if(C.isValidElement(l)){var{labelRef:v}=b,w=Zxe(b,Qxe);return C.cloneElement(l,w)}var N;if(typeof l=="function"){if(N=C.createElement(l,b),C.isValidElement(N))return N}else N=sge(t);var E=SI(x),S=rl(t);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return oge(t,n,N,S,x);var D=E?cge(x,t.offset,t.position):uge(t,x);return C.createElement(J2,Qu({ref:f,className:an("recharts-label",o)},S,D,{breakAll:u}),N)}xd.displayName="Label";var dge=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?C.createElement(xd,Qu({key:"label-implicit"},n)):hu(e)?C.createElement(xd,Qu({key:"label-implicit",value:e},n)):C.isValidElement(e)?e.type===xd?C.cloneElement(e,Ha({key:"label-implicit"},n)):C.createElement(xd,Qu({key:"label-implicit",content:e},n)):yS(e)?C.createElement(xd,Qu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?C.createElement(xd,Qu({},e,{key:"label-implicit"},n)):null};function hge(e){var{label:t,labelRef:r}=e,n=jI();return dge(t,n,r)||null}var o4={},c4={},dO;function mge(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(c4)),c4}var u4={},hO;function pge(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(u4)),u4}var mO;function xge(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mge(),r=pge(),n=Q3();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(o4)),o4}var f4,pO;function gge(){return pO||(pO=1,f4=xge().last),f4}var vge=gge();const yge=bf(vge);var bge=["valueAccessor"],wge=["dataKey","clockWise","id","textBreakAll"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function xO(e,t){if(e==null)return{};var r,n,a=Nge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _ge=e=>Array.isArray(e.value)?yge(e.value):e.value,AI=C.createContext(void 0),EI=AI.Provider,kI=C.createContext(void 0),jge=kI.Provider;function Sge(){return C.useContext(AI)}function Age(){return C.useContext(kI)}function Uv(e){var{valueAccessor:t=_ge}=e,r=xO(e,bge),{dataKey:n,clockWise:a,id:i,textBreakAll:l}=r,o=xO(r,wge),u=Sge(),f=Age(),h=u||f;return!h||!h.length?null:C.createElement(os,{className:"recharts-label-list"},h.map((m,g)=>{var x,b=ma(n)?t(m,g):$n(m&&m.payload,n),v=ma(i)?{}:{id:"".concat(i,"-").concat(g)};return C.createElement(xd,$y({key:"label-".concat(g)},rl(m),o,v,{fill:(x=r.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:l,viewBox:m.viewBox,index:g}))}))}Uv.displayName="LabelList";function bS(e){var{label:t}=e;return t?t===!0?C.createElement(Uv,{key:"labelList-implicit"}):C.isValidElement(t)||yS(t)?C.createElement(Uv,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(Uv,$y({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(null,arguments)}var CI=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=an("recharts-dot",a);return t===+t&&r===+r&&n===+n?C.createElement("circle",r_({},no(e),K3(e),{className:i,cx:t,cy:r,r:n})):null},TI=e=>e.graphicalItems.polarItems,Ege=He([xa,Wg],Hj),eb=He([TI,Sa,Ege],Vj),kge=He([eb],Wj),tb=He([kge,Fj],Gj),Cge=He([tb,Sa,eb],Yj);He([tb,Sa,eb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=$n(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:$n(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var gO=()=>{},Tge=He([tb,Sa,eb,Y2,xa],Jj),Oge=He([Sa,Qj,Zj,gO,Tge,gO,Gr,xa],eS),OI=He([Sa,Gr,tb,Cge,Vg,xa,Oge],tS),Dge=He([OI,Sa,bp],aS);He([Sa,OI,Dge,xa],sS);var Fge={radiusAxis:{},angleAxis:{}},DI=lo({name:"polarAxis",initialState:Fge,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:d3e,removeRadiusAxis:h3e,addAngleAxis:m3e,removeAngleAxis:p3e}=DI.actions,Pge=DI.reducer;function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){Lge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lge(e,t,r){return(t=Mge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mge(e){var t=Rge(e,"string");return typeof t=="symbol"?t:t+""}function Rge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ige=(e,t)=>t,wS=He([TI,Ige],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Bge=[],NS=(e,t,r)=>r?.length===0?Bge:r,FI=He([Fj,wS,NS],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>yO(yO({},t.presentationProps),i.props))),a!=null)return a}}),Uge=He([FI,wS,NS],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=$n(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:hp(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),zge=He([FI,wS,NS,Si],(e,t,r,n)=>{if(!(t==null||e==null))return z1e({offset:n,pieSettings:t,displayedData:e,cells:r})}),d4={exports:{}},Dn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO;function qge(){if(bO)return Dn;bO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case e:switch(v=v.type,v){case r:case a:case n:case u:case f:case g:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case m:case h:return v;case i:return v;default:return w}}case t:return w}}}return Dn.ContextConsumer=i,Dn.ContextProvider=l,Dn.Element=e,Dn.ForwardRef=o,Dn.Fragment=r,Dn.Lazy=m,Dn.Memo=h,Dn.Portal=t,Dn.Profiler=a,Dn.StrictMode=n,Dn.Suspense=u,Dn.SuspenseList=f,Dn.isContextConsumer=function(v){return b(v)===i},Dn.isContextProvider=function(v){return b(v)===l},Dn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Dn.isForwardRef=function(v){return b(v)===o},Dn.isFragment=function(v){return b(v)===r},Dn.isLazy=function(v){return b(v)===m},Dn.isMemo=function(v){return b(v)===h},Dn.isPortal=function(v){return b(v)===t},Dn.isProfiler=function(v){return b(v)===a},Dn.isStrictMode=function(v){return b(v)===n},Dn.isSuspense=function(v){return b(v)===u},Dn.isSuspenseList=function(v){return b(v)===f},Dn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===f||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===h||v.$$typeof===l||v.$$typeof===i||v.$$typeof===o||v.$$typeof===x||v.getModuleId!==void 0)},Dn.typeOf=b,Dn}var wO;function $ge(){return wO||(wO=1,d4.exports=qge()),d4.exports}var Hge=$ge(),NO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_O=null,h4=null,PI=e=>{if(e===_O&&Array.isArray(h4))return h4;var t=[];return C.Children.forEach(e,r=>{ma(r)||(Hge.isFragment(r)?t=t.concat(PI(r.props.children)):t.push(r))}),h4=t,_O=e,t};function _S(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>NO(a)):n=[NO(t)],PI(e).forEach(a=>{var i=th(a,"type.displayName")||th(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var LI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,m4={},jO;function Vge(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(m4)),m4}var p4,SO;function Wge(){return SO||(SO=1,p4=Vge().isPlainObject),p4}var Gge=Wge();const Kge=bf(Gge);function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Yge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yge(e,t,r){return(t=Xge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xge(e){var t=Qge(e,"string");return typeof t=="symbol"?t:t+""}function Qge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}var kO=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},Zge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jge=e=>{var t=cs(e,Zge),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:o}=t,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,g=C.useRef(null),[x,b]=C.useState(-1),v=C.useRef(a),w=C.useRef(i),N=C.useRef(l),E=C.useRef(r),S=C.useRef(n),D=Ug(e,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ee=g.current.getTotalLength();ee&&b(ee)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var F=an("recharts-trapezoid",o);if(!m)return C.createElement("g",null,C.createElement("path",Hy({},rl(t),{className:F,d:kO(r,n,a,i,l)})));var O=v.current,T=w.current,M=N.current,B=E.current,H=S.current,R="0px ".concat(x===-1?1:x,"px"),U="".concat(x,"px 0px"),K=aR(["strokeDasharray"],f,u);return C.createElement(Bg,{animationId:D,key:D,canBegin:x>0,duration:f,easing:u,isActive:m,begin:h},ee=>{var pe=La(O,a,ee),re=La(T,i,ee),se=La(M,l,ee),ye=La(B,r,ee),oe=La(H,n,ee);g.current&&(v.current=pe,w.current=re,N.current=se,E.current=ye,S.current=oe);var ge=ee>0?{transition:K,strokeDasharray:U}:{strokeDasharray:R};return C.createElement("path",Hy({},rl(t),{className:F,d:kO(ye,oe,pe,re,se),ref:g,style:EO(EO({},ge),t.style)}))})},e1e=["option","shapeType","propTransformer","activeClassName","isActive"];function t1e(e,t){if(e==null)return{};var r,n,a=r1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){n1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n1e(e,t,r){return(t=a1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a1e(e){var t=i1e(e,"string");return typeof t=="symbol"?t:t+""}function i1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s1e(e,t){return Vy(Vy({},t),e)}function l1e(e,t){return e==="symbols"}function TO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return C.createElement(oR,r);case"trapezoid":return C.createElement(Jge,r);case"sector":return C.createElement(fR,r);case"symbols":if(l1e(t))return C.createElement(G3,r);break;default:return null}}function o1e(e){return C.isValidElement(e)?e.props:e}function MI(e){var{option:t,shapeType:r,propTransformer:n=s1e,activeClassName:a="recharts-active-shape",isActive:i}=e,l=t1e(e,e1e),o;if(C.isValidElement(t))o=C.cloneElement(t,Vy(Vy({},l),o1e(t)));else if(typeof t=="function")o=t(l);else if(Kge(t)&&typeof t!="boolean"){var u=n(t,l);o=C.createElement(TO,{shapeType:r,elementProps:u})}else{var f=l;o=C.createElement(TO,{shapeType:r,elementProps:f})}return i?C.createElement(os,{className:a},o):o}var jS=(e,t)=>{var r=pa();return(n,a)=>i=>{e?.(n,a,i),r(G9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},SS=e=>{var t=pa();return(r,n)=>a=>{e?.(r,n,a),t(Xme())}},AS=(e,t)=>{var r=pa();return(n,a)=>i=>{e?.(n,a,i),r(Qme({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function ES(e){var{fn:t,args:r}=e,n=pa(),a=nl();return C.useLayoutEffect(()=>{if(!a){var i=t(r);return n(Gme(i)),()=>{n(Kme(i))}}},[t,r,n,a]),null}var RI=()=>{};function II(e){var{legendPayload:t}=e,r=pa(),n=nl();return C.useLayoutEffect(()=>n?RI:(r(tR(t)),()=>{r(rR(t))}),[r,n,t]),null}function c1e(e){var{legendPayload:t}=e,r=pa(),n=zt(Gr);return C.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?RI:(r(tR(t)),()=>{r(rR(t))}),[r,n,t]),null}var x4,u1e=()=>{var[e]=C.useState(()=>lg("uid-"));return e},f1e=(x4=qz.useId)!==null&&x4!==void 0?x4:u1e;function d1e(e,t){var r=f1e();return t||(e?"".concat(e,"-").concat(r):r)}var h1e=C.createContext(void 0),kS=e=>{var{id:t,type:r,children:n}=e,a=d1e("recharts-".concat(r),t);return C.createElement(h1e.Provider,{value:a},n(a))},m1e={cartesianItems:[],polarItems:[]},BI=lo({name:"graphicalItems",initialState:m1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Xs()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=of(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Xs()},removeCartesianGraphicalItem:{reducer(e,t){var r=of(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Xs()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Xs()},removePolarGraphicalItem:{reducer(e,t){var r=of(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Xs()}}}),{addCartesianGraphicalItem:p1e,replaceCartesianGraphicalItem:x1e,removeCartesianGraphicalItem:g1e,addPolarGraphicalItem:v1e,removePolarGraphicalItem:y1e}=BI.actions,b1e=BI.reducer;function UI(e){var t=pa(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?t(p1e(e)):r.current!==e&&t(x1e({prev:r.current,next:e})),r.current=e},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(g1e(r.current)),r.current=null)},[t]),null}function w1e(e){var t=pa();return C.useLayoutEffect(()=>(t(v1e(e)),()=>{t(y1e(e))}),[t,e]),null}var N1e=["onMouseEnter","onClick","onMouseLeave"],_1e=["id"],j1e=["id"];function CS(e,t){if(e==null)return{};var r,n,a=S1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){A1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A1e(e,t,r){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E1e(e){var t=k1e(e,"string");return typeof t=="symbol"?t:t+""}function k1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}function C1e(e){var t=C.useMemo(()=>_S(e.children,Zg),[e.children]),r=zt(n=>Uge(n,e.id,t));return r==null?null:C.createElement(c1e,{legendPayload:r})}function T1e(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:o,hide:u,tooltipType:f}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:hp(o,t),hide:u,type:f,color:l,unit:""}}}var O1e=(e,t)=>e>t?"start":e<t?"end":"middle",D1e=(e,t,r)=>Ts(typeof t=="function"?t(e):t,r,r*.8),F1e=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,o=$M(i,l),u=a+Ts(e.cx,i,i/2),f=n+Ts(e.cy,l,l/2),h=Ts(e.innerRadius,o,0),m=D1e(r,e.outerRadius,o),g=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:m,maxRadius:g}},P1e=(e,t)=>{var r=qi(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function L1e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var M1e=(e,t)=>{if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return e(t);var r=an("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return C.createElement(cj,Pd({},t,{type:"linear",className:r}))},R1e=(e,t,r)=>{if(C.isValidElement(e))return C.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),C.isValidElement(n)))return n;var a=an("recharts-pie-label-text",L1e(e));return C.createElement(J2,Pd({},t,{alignmentBaseline:"middle",className:a}),n)};function I1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var o=no(r),u=eh(a),f=eh(i),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,m=t.map((g,x)=>{var b=(g.startAngle+g.endAngle)/2,v=ai(g.cx,g.cy,g.outerRadius+h,b),w=ua(ua(ua(ua({},o),g),{},{stroke:"none"},u),{},{index:x,textAnchor:O1e(v.x,g.cx)},v),N=ua(ua(ua(ua({},o),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[ai(g.cx,g.cy,g.outerRadius,b),v],key:"line"});return C.createElement(os,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&M1e(i,N),R1e(a,w,$n(g,l)))});return C.createElement(os,{className:"recharts-pie-labels"},m)}function B1e(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?C.createElement(bS,{label:a}):C.createElement(I1e,{sectors:t,props:r,showLabels:n})}function U1e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=zt(Fd),{onMouseEnter:l,onClick:o,onMouseLeave:u}=a,f=CS(a,N1e),h=jS(l,a.dataKey),m=SS(u),g=AS(o,a.dataKey);return t==null||t.length===0?null:C.createElement(C.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var v=r&&String(b)===i,w=i?n:null,N=v?r:w,E=ua(ua({},x),{},{stroke:x.stroke,tabIndex:-1,[KM]:b,[YM]:a.dataKey});return C.createElement(os,Pd({key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Lg(f,x,b),{onMouseEnter:h(x,b),onMouseLeave:m(x,b),onClick:g(x,b)}),C.createElement(MI,Pd({option:N,isActive:v,shapeType:"sector"},E)))}))}function z1e(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:u,dataKey:f,nameKey:h,tooltipType:m}=r,g=Math.abs(r.minAngle),x=P1e(o,u),b=Math.abs(x),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(O=>$n(O,f,0)!==0).length,N=(b>=360?w:w-1)*v,E=b-w*g-N,S=n.reduce((O,T)=>{var M=$n(T,f,0);return O+(Kt(M)?M:0)},0),D;if(S>0){var F;D=n.map((O,T)=>{var M=$n(O,f,0),B=$n(O,h,T),H=F1e(r,i,O),R=(Kt(M)?M:0)/S,U,K=ua(ua({},O),a&&a[T]&&a[T].props);T?U=F.endAngle+qi(x)*v*(M!==0?1:0):U=o;var ee=U+qi(x)*((M!==0?g:0)+R*E),pe=(U+ee)/2,re=(H.innerRadius+H.outerRadius)/2,se=[{name:B,value:M,payload:K,dataKey:f,type:m}],ye=ai(H.cx,H.cy,re,pe);return F=ua(ua(ua(ua({},r.presentationProps),{},{percent:R,cornerRadius:l,name:B,tooltipPayload:se,midAngle:pe,middleRadius:re,tooltipPosition:ye},K),H),{},{value:M,startAngle:U,endAngle:ee,payload:K,paddingAngle:qi(x)*v}),F})}return D}function q1e(e){var{showLabels:t,sectors:r,children:n}=e,a=C.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return C.createElement(jge,{value:t?a:void 0},n)}function $1e(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:u,inactiveShape:f,onAnimationStart:h,onAnimationEnd:m}=t,g=Ug(t,"recharts-pie-"),x=r.current,[b,v]=C.useState(!1),w=C.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),N=C.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return C.createElement(q1e,{showLabels:!b,sectors:n},C.createElement(Bg,{animationId:g,begin:i,duration:l,isActive:a,easing:o,onAnimationStart:N,onAnimationEnd:w,key:g},E=>{var S=[],D=n&&n[0],F=D?.startAngle;return n?.forEach((O,T)=>{var M=x&&x[T],B=T>0?th(O,"paddingAngle",0):0;if(M){var H=La(M.endAngle-M.startAngle,O.endAngle-O.startAngle,E),R=ua(ua({},O),{},{startAngle:F+B,endAngle:F+H+B});S.push(R),F=R.endAngle}else{var{endAngle:U,startAngle:K}=O,ee=La(0,U-K,E),pe=ua(ua({},O),{},{startAngle:F+B,endAngle:F+ee+B});S.push(pe),F=pe.endAngle}}),r.current=S,C.createElement(os,null,C.createElement(U1e,{sectors:S,activeShape:u,inactiveShape:f,allOtherPieProps:t}))}),C.createElement(B1e,{showLabels:!b,sectors:n,props:t}),t.children)}var H1e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Vd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function V1e(e){var{id:t}=e,r=CS(e,_1e),{hide:n,className:a,rootTabIndex:i}=e,l=C.useMemo(()=>_S(e.children,Zg),[e.children]),o=zt(h=>zge(h,t,l)),u=C.useRef(null),f=an("recharts-pie",a);return n||o==null?(u.current=null,C.createElement(os,{tabIndex:i,className:f})):C.createElement(C.Fragment,null,C.createElement(ES,{fn:T1e,args:ua(ua({},e),{},{sectors:o})}),C.createElement(os,{tabIndex:i,className:f},C.createElement($1e,{props:ua(ua({},r),{},{sectors:o}),previousSectorsRef:u})))}function zI(e){var t=cs(e,H1e),{id:r}=t,n=CS(t,j1e),a=no(n);return C.createElement(kS,{id:r,type:"pie"},i=>C.createElement(C.Fragment,null,C.createElement(w1e,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),C.createElement(C1e,Pd({},n,{id:i})),C.createElement(V1e,Pd({},n,{id:i}))))}zI.displayName="Pie";function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){W1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W1e(e,t,r){return(t=G1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G1e(e){var t=K1e(e,"string");return typeof t=="symbol"?t:t+""}function K1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y1e={xAxis:{},yAxis:{},zAxis:{}},qI=lo({name:"cartesianAxis",initialState:Y1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Xs()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Xs()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Xs()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Xs()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Xs()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Xs()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=FO(FO({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:X1e,removeXAxis:Q1e,addYAxis:Z1e,removeYAxis:J1e,addZAxis:x3e,removeZAxis:g3e,updateYAxisWidth:eve}=qI.actions,tve=qI.reducer,rve=He([Si],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),nve=He([rve,Sf,Af],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),TS=()=>zt(nve),ave=()=>zt(Rpe);function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){ive(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ive(e,t,r){return(t=sve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sve(e){var t=lve(e,"string");return typeof t=="symbol"?t:t+""}function lve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ove=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=LO(LO({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},eh(a)),K3(a)),o;return C.isValidElement(a)?o=C.cloneElement(a,l):typeof a=="function"?o=a(l):o=C.createElement(CI,l),C.createElement(os,{className:"recharts-active-dot"},o)};function cve(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=zt(Fd),l=ave();if(t==null||l==null)return null;var o=t.find(u=>l.includes(u.payload));return ma(o)?null:ove({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var uve="Invariant failed";function fve(e,t){throw new Error(uve)}var dve=["x","y"];function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(null,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){hve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hve(e,t,r){return(t=mve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mve(e){var t=pve(e,"string");return typeof t=="symbol"?t:t+""}function pve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xve(e,t){if(e==null)return{};var r,n,a=gve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vve(e,t){var{x:r,y:n}=e,a=xve(e,dve),i="".concat(r),l=parseInt(i,10),o="".concat(n),u=parseInt(o,10),f="".concat(t.height||a.height),h=parseInt(f,10),m="".concat(t.width||a.width),g=parseInt(m,10);return vx(vx(vx(vx(vx({},t),a),l?{x:l}:{}),u?{y:u}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function OS(e){return C.createElement(MI,n_({shapeType:"rectangle",propTransformer:vve,activeClassName:"recharts-active-bar"},e))}var yve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Kt(t))return t;var i=Kt(n)||ma(n);return i?t(n,a):(i||fve(),r)}},bve={},$I=lo({name:"errorBars",initialState:bve,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:v3e,replaceErrorBar:y3e,removeErrorBar:b3e}=$I.actions,wve=$I.reducer,Nve=["children"];function _ve(e,t){if(e==null)return{};var r,n,a=jve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ave=C.createContext(Sve);function HI(e){var{children:t}=e,r=_ve(e,Nve);return C.createElement(Ave.Provider,{value:r},t)}function DS(e,t){var r,n,a=zt(f=>kf(f,e)),i=zt(f=>Cf(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Vl.allowDataOverflow,o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Wl.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function VI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=TS(),{needClipX:i,needClipY:l,needClip:o}=DS(t,r);if(!o)return null;var{x:u,y:f,width:h,height:m}=a;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:i?u:u-h/2,y:l?f:f-m/2,width:i?h:h*2,height:l?m:m*2}))}var Eve=["onMouseEnter","onMouseLeave","onClick"],kve=["value","background","tooltipPosition"],Cve=["id"],Tve=["onMouseEnter","onClick","onMouseLeave"];function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(null,arguments)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Ove(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ove(e,t,r){return(t=Dve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dve(e){var t=Fve(e,"string");return typeof t=="symbol"?t:t+""}function Fve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(e,t){if(e==null)return{};var r,n,a=Pve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lve=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:hp(r,t),payload:e}]};function Mve(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:hp(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function Rve(e){var t=zt(Fd),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:u}=i,f=Wy(i,Eve),h=jS(l,n),m=SS(o),g=AS(u,n);if(!a||r==null)return null;var x=eh(a);return C.createElement(C.Fragment,null,r.map((b,v)=>{var{value:w,background:N,tooltipPosition:E}=b,S=Wy(b,kve);if(!N)return null;var D=h(b,v),F=m(b,v),O=g(b,v),T=Qs(Qs(Qs(Qs(Qs({option:a,isActive:String(v)===t},S),{},{fill:"#eee"},N),x),Lg(f,b,v)),{},{onMouseEnter:D,onMouseLeave:F,onClick:O,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return C.createElement(OS,Ld({key:"background-bar-".concat(v)},T))}))}function Ive(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var l={x:i.x,y:i.y,width:i.width,height:i.height};return Qs(Qs({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return C.createElement(EI,{value:t?a:void 0},r)}function Bve(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,o=zt(Fd),u=zt(oI),f=r&&String(i)===o&&(u==null||l===u),h=f?r:t;return C.createElement(OS,Ld({},n,{name:String(n.name)},a,{isActive:f,option:h,index:i,dataKey:l}))}function Uve(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return C.createElement(OS,Ld({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function zve(e){var{data:t,props:r}=e,n=no(r),{id:a}=n,i=Wy(n,Cve),{shape:l,dataKey:o,activeBar:u}=r,{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,g=Wy(r,Tve),x=jS(f,o),b=SS(m),v=AS(h,o);return t?C.createElement(C.Fragment,null,t.map((w,N)=>C.createElement(os,Ld({key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(N),className:"recharts-bar-rectangle"},Lg(g,w,N),{onMouseEnter:x(w,N),onMouseLeave:b(w,N),onClick:v(w,N)}),u?C.createElement(Bve,{shape:l,activeBar:u,baseProps:i,entry:w,index:N,dataKey:o}):C.createElement(Uve,{shape:l,baseProps:i,entry:w,index:N,dataKey:o})))):null}function qve(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:u,onAnimationEnd:f,onAnimationStart:h}=t,m=r.current,g=Ug(t,"recharts-bar-"),[x,b]=C.useState(!1),v=!x,w=C.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),N=C.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return C.createElement(Ive,{showLabels:v,rects:n},C.createElement(Bg,{animationId:g,begin:l,duration:o,isActive:i,easing:u,onAnimationEnd:w,onAnimationStart:N,key:g},E=>{var S=E===1?n:n?.map((D,F)=>{var O=m&&m[F];if(O)return Qs(Qs({},D),{},{x:La(O.x,D.x,E),y:La(O.y,D.y,E),width:La(O.width,D.width,E),height:La(O.height,D.height,E)});if(a==="horizontal"){var T=La(0,D.height,E);return Qs(Qs({},D),{},{y:D.y+D.height-T,height:T})}var M=La(0,D.width,E);return Qs(Qs({},D),{},{width:M})});return E>0&&(r.current=S??null),S==null?null:C.createElement(os,null,C.createElement(zve,{props:t,data:S}))}),C.createElement(bS,{label:t.label}),t.children)}function $ve(e){var t=C.useRef(null);return C.createElement(qve,{previousRectanglesRef:t,props:e})}var WI=0,Hve=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$n(e,t)}};class Vve extends C.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:u,id:f}=this.props;if(t||r==null)return null;var h=an("recharts-bar",a),m=f;return C.createElement(os,{className:h,id:f},o&&C.createElement("defs",null,C.createElement(VI,{clipPathId:m,xAxisId:i,yAxisId:l})),C.createElement(os,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},C.createElement(Rve,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),C.createElement($ve,this.props)))}}var Wve={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Vd.isSsr,legendType:"rect",minPointSize:WI,xAxisId:0,yAxisId:0};function Gve(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h}=e,{needClip:m}=DS(t,r),g=D2(),x=nl(),b=_S(e.children,Zg),v=zt(E=>wye(E,t,r,x,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var w,N=v?.[0];return N==null||N.height==null||N.width==null?w=0:w=g==="vertical"?N.height/2:N.width/2,C.createElement(HI,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:Hve,errorBarOffset:w},C.createElement(Vve,Ld({},e,{layout:g,needClip:m,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h})))}function Kve(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:u,yAxisTicks:f,stackedData:h,displayedData:m,offset:g,cells:x,parentViewBox:b}=e,v=t==="horizontal"?o:l,w=h?v.scale.domain():null,N=Hce({numericAxis:v});return m.map((E,S)=>{var D,F,O,T,M,B;h?D=Ice(h[S],w):(D=$n(E,r),Array.isArray(D)||(D=[N,D]));var H=yve(n,WI)(D[1],S);if(t==="horizontal"){var R,[U,K]=[o.scale(D[0]),o.scale(D[1])];F=xT({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:E,index:S}),O=(R=K??U)!==null&&R!==void 0?R:void 0,T=a.size;var ee=U-K;if(M=$o(ee)?0:ee,B={x:F,y:g.top,width:T,height:g.height},Math.abs(H)>0&&Math.abs(M)<Math.abs(H)){var pe=qi(M||H)*(Math.abs(H)-Math.abs(M));O-=pe,M+=pe}}else{var[re,se]=[l.scale(D[0]),l.scale(D[1])];if(F=re,O=xT({axis:o,ticks:f,bandSize:i,offset:a.offset,entry:E,index:S}),T=se-re,M=a.size,B={x:g.left,y:O,width:g.width,height:M},Math.abs(H)>0&&Math.abs(T)<Math.abs(H)){var ye=qi(T||H)*(Math.abs(H)-Math.abs(T));T+=ye}}if(F==null||O==null||T==null||M==null)return null;var oe=Qs(Qs({},E),{},{x:F,y:O,width:T,height:M,value:h?D:D[1],payload:E,background:B,tooltipPosition:{x:F+T/2,y:O+M/2},parentViewBox:b},x&&x[S]&&x[S].props);return oe}).filter(Boolean)}function Yve(e){var t=cs(e,Wve),r=nl();return C.createElement(kS,{id:t.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(II,{legendPayload:Lve(t)}),C.createElement(ES,{fn:Mve,args:t}),C.createElement(UI,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:$ce(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),C.createElement(Gve,Ld({},t,{id:n}))))}var a_=C.memo(Yve);a_.displayName="Bar";function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Xve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xve(e,t,r){return(t=Qve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qve(e){var t=Zve(e,"string");return typeof t=="symbol"?t:t+""}function Zve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jve=(e,t)=>t,eye=(e,t,r)=>r,tye=(e,t,r,n)=>n,rye=(e,t,r,n,a)=>a,Jg=He([G2,rye],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),nye=He([Jg],e=>e?.maxBarSize),aye=(e,t,r,n,a,i)=>i,BO=(e,t,r)=>{var n=r??e;if(!ma(n))return Ts(n,t,0)},iye=He([Gr,G2,Jve,eye,tye],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),sye=(e,t,r,n)=>{var a=Gr(e);return a==="horizontal"?XN(e,"yAxis",r,n):XN(e,"xAxis",t,n)},lye=(e,t,r)=>{var n=Gr(e);return n==="horizontal"?U8(e,"xAxis",t):U8(e,"yAxis",r)},oye=(e,t,r)=>{var n={},a=e.filter(H2),i=e.filter(f=>f.stackId==null),l=a.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),o=Object.entries(l).map(f=>{var[h,m]=f,g=m.map(b=>b.dataKey),x=BO(t,r,m[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),u=i.map(f=>{var h=[f.dataKey].filter(g=>g!=null),m=BO(t,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...o,...u]},cye=He([iye,$he,lye],oye),uye=(e,t,r,n,a)=>{var i,l,o=Jg(e,t,r,n,a);if(o!=null){var u=Gr(e),f=o9(e),{maxBarSize:h}=o,m=ma(h)?f:h,g,x;return u==="horizontal"?(g=Dd(e,"xAxis",t,n),x=Od(e,"xAxis",t,n)):(g=Dd(e,"yAxis",r,n),x=Od(e,"yAxis",r,n)),(i=(l=fg(g,x,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},GI=(e,t,r,n)=>{var a=Gr(e),i,l;return a==="horizontal"?(i=Dd(e,"xAxis",t,n),l=Od(e,"xAxis",t,n)):(i=Dd(e,"yAxis",r,n),l=Od(e,"yAxis",r,n)),fg(i,l)};function fye(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Ts(e,r,0,!0),o,u=[];if(Fs(n[0].barSize)){var f=!1,h=r/i,m=n.reduce((N,E)=>N+(E.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&h>0&&(f=!0,h*=.9,m=i*h);var g=(r-m)/2>>0,x={offset:g-l,size:0};o=n.reduce((N,E)=>{var S,D={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+l,size:f?h:(S=E.barSize)!==null&&S!==void 0?S:0}},F=[...N,D];return x=F[F.length-1].position,F},u)}else{var b=Ts(t,r,0,!0);r-2*b-(i-1)*l<=0&&(l=0);var v=(r-2*b-(i-1)*l)/i;v>1&&(v>>=0);var w=Fs(a)?Math.min(v,a):v;o=n.reduce((N,E,S)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(v+l)*S+(v-w)/2,size:w}}],u)}return o}}var dye=(e,t,r,n,a,i,l)=>{var o=ma(l)?t:l,u=fye(r,n,a!==i?a:i,e,o);return a!==i&&u!=null&&(u=u.map(f=>_v(_v({},f),{},{position:_v(_v({},f.position),{},{offset:f.position.offset-a/2})}))),u},hye=He([cye,o9,qhe,c9,uye,GI,nye],dye),mye=(e,t,r,n)=>Dd(e,"xAxis",t,n),pye=(e,t,r,n)=>Dd(e,"yAxis",r,n),xye=(e,t,r,n)=>Od(e,"xAxis",t,n),gye=(e,t,r,n)=>Od(e,"yAxis",r,n),vye=He([hye,Jg],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),yye=(e,t)=>{var r=qj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},bye=He([sye,Jg],yye),wye=He([Si,aj,mye,pye,xye,gye,vye,Gr,U2,GI,bye,Jg,aye],(e,t,r,n,a,i,l,o,u,f,h,m,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:v}=u;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:w}=m,N;if(w!=null&&w.length>0?N=w:N=x?.slice(b,v+1),N!=null)return Kve({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:N,offset:e,cells:g})}}),KI=e=>{var{chartData:t}=e,r=pa(),n=nl();return C.useEffect(()=>n?()=>{}:(r(X8(t)),()=>{r(X8(void 0))}),[t,r,n]),null},UO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YI=lo({name:"brush",initialState:UO,reducers:{setBrushSettings(e,t){return t.payload==null?UO:t.payload}}}),{setBrushSettings:w3e}=YI.actions,Nye=YI.reducer;function _ye(e,t,r){return(t=jye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jye(e){var t=Sye(e,"string");return typeof t=="symbol"?t:t+""}function Sye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class FS{static create(t){return new FS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}_ye(FS,"EPS",1e-4);function Aye(e){return(e%180+180)%180}var Eye=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Aye(a),l=i*Math.PI/180,o=Math.atan(n/r),u=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(u)},kye={dots:[],areas:[],lines:[]},XI=lo({name:"referenceElements",initialState:kye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=of(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=of(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=of(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:N3e,removeDot:_3e,addArea:j3e,removeArea:S3e,addLine:A3e,removeLine:E3e}=XI.actions,Cye=XI.reducer,Tye=C.createContext(void 0),Oye=e=>{var{children:t}=e,[r]=C.useState("".concat(lg("recharts"),"-clip")),n=TS();if(n==null)return null;var{x:a,y:i,width:l,height:o}=n;return C.createElement(Tye.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function Xm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Dye(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Eye(n,r)}function Fye(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function Gy(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Pye(e,t){return QI(e,t+1)}function Lye(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,u=0,f=1,h=l,m=function(){var b=n?.[u];if(b===void 0)return{v:QI(n,f)};var v=u,w,N=()=>(w===void 0&&(w=r(b,v)),w),E=b.coordinate,S=u===0||Gy(e,E,N,h,o);S||(u=0,h=l,f+=1),S&&(h=E+e*(N()/2+a),u+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){Mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mye(e,t,r){return(t=Rye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rye(e){var t=Iye(e,"string");return typeof t=="symbol"?t:t+""}function Iye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bye(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:u}=t,f=function(g){var x=i[g],b,v=()=>(b===void 0&&(b=r(x,g)),b);if(g===l-1){var w=e*(x.coordinate+e*v()/2-u);i[g]=x=bs(bs({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else i[g]=x=bs(bs({},x),{},{tickCoord:x.coordinate});var N=Gy(e,x.tickCoord,v,o,u);N&&(u=x.tickCoord-e*(v()/2+a),i[g]=bs(bs({},x),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return i}function Uye(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:u,end:f}=t;if(i){var h=n[o-1],m=r(h,o-1),g=e*(h.coordinate+e*m/2-f);l[o-1]=h=bs(bs({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=Gy(e,h.tickCoord,()=>m,u,f);x&&(f=h.tickCoord-e*(m/2+a),l[o-1]=bs(bs({},h),{},{isShow:!0}))}for(var b=i?o-1:o,v=function(E){var S=l[E],D,F=()=>(D===void 0&&(D=r(S,E)),D);if(E===0){var O=e*(S.coordinate-e*F()/2-u);l[E]=S=bs(bs({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else l[E]=S=bs(bs({},S),{},{tickCoord:S.coordinate});var T=Gy(e,S.tickCoord,F,u,f);T&&(u=S.tickCoord+e*(F()/2+a),l[E]=bs(bs({},S),{},{isShow:!0}))},w=0;w<b;w++)v(w);return l}function PS(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:u,tickFormatter:f,unit:h,angle:m}=e;if(!a||!a.length||!n)return[];if(Kt(u)||Vd.isSsr){var g;return(g=Pye(a,Kt(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",v=h&&b==="width"?Mx(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(S,D)=>{var F=typeof f=="function"?f(S.value,D):S.value;return b==="width"?Dye(Mx(F,{fontSize:t,letterSpacing:r}),v,m):Mx(F,{fontSize:t,letterSpacing:r})[b]},N=a.length>=2?qi(a[1].coordinate-a[0].coordinate):1,E=Fye(i,N,b);return u==="equidistantPreserveStart"?Lye(N,E,w,a,l):(u==="preserveStart"||u==="preserveStartEnd"?x=Uye(N,E,w,a,l,u==="preserveStartEnd"):x=Bye(N,E,w,a,l),x.filter(S=>S.isShow))}var zye=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=r?r.getBoundingClientRect().width:0,u=a+i,f=l+u+o+(r?n:0);return Math.round(f)}return 0},qye=["axisLine","width","height","className","hide","ticks"],$ye=["viewBox"],Hye=["viewBox"];function i_(e,t){if(e==null)return{};var r,n,a=Vye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(null,arguments)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){Wye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wye(e,t,r){return(t=Gye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gye(e){var t=Kye(e,"string");return typeof t=="symbol"?t:t+""}function Kye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Yye(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var f=yi(yi(yi({},u),no(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);f=yi(yi({},f),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var m=+(i==="left"&&!l||i==="right"&&l);f=yi(yi({},f),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+a})}return C.createElement("line",sh({},f,{className:an("recharts-cartesian-axis-line",th(o,"className"))}))}function Xye(e,t,r,n,a,i,l,o,u){var f,h,m,g,x,b,v=o?-1:1,w=e.tickSize||l,N=Kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=h=e.coordinate,g=r+ +!o*a,m=g-v*w,b=m-v*u,x=N;break;case"left":m=g=e.coordinate,h=t+ +!o*n,f=h-v*w,x=f-v*u,b=N;break;case"right":m=g=e.coordinate,h=t+ +o*n,f=h+v*w,x=f+v*u,b=N;break;default:f=h=e.coordinate,g=r+ +o*a,m=g+v*w,b=m+v*u,x=N;break}return{line:{x1:f,y1:m,x2:h,y2:g},tick:{x,y:b}}}function Qye(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Zye(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Jye(e){var{option:t,tickProps:r,value:n}=e,a,i=an(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))a=C.cloneElement(t,yi(yi({},r),{},{className:i}));else if(typeof t=="function")a=t(yi(yi({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=an(l,t?.className)),a=C.createElement(J2,sh({},r,{className:l}),n)}return a}function e2e(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:l,padding:o,tickTextProps:u,orientation:f,mirror:h,x:m,y:g,width:x,height:b,tickSize:v,tickMargin:w,fontSize:N,letterSpacing:E,getTicksConfig:S,events:D}=e,F=PS(yi(yi({},S),{},{ticks:t}),N,E),O=Qye(f,h),T=Zye(f,h),M=no(S),B=eh(r),H={};typeof n=="object"&&(H=n);var R=yi(yi({},M),{},{fill:"none"},H),U=F.map((K,ee)=>{var{line:pe,tick:re}=Xye(K,m,g,x,b,f,v,h,w),se=yi(yi(yi(yi({textAnchor:O,verticalAnchor:T},M),{},{stroke:"none",fill:a},B),re),{},{index:ee,payload:K,visibleTicksCount:F.length,tickFormatter:i,padding:o},u);return C.createElement(os,sh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Lg(D,K,ee)),n&&C.createElement("line",sh({},R,pe,{className:an("recharts-cartesian-axis-tick-line",th(n,"className"))})),r&&C.createElement(Jye,{option:r,tickProps:se,value:"".concat(typeof i=="function"?i(K.value,ee):K.value).concat(l||"")}))});return U.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},U):null}var t2e=C.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:o}=e,u=i_(e,qye),[f,h]=C.useState(""),[m,g]=C.useState(""),x=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return zye({ticks:x.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=C.useCallback(v=>{if(v){var w=v.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=w;var N=w[0];if(N){var E=window.getComputedStyle(N),S=E.fontSize,D=E.letterSpacing;(S!==f||D!==m)&&(h(S),g(D))}}},[f,m]);return l||n!=null&&n<=0||a!=null&&a<=0?null:C.createElement(os,{className:an("recharts-cartesian-axis",i),ref:b},C.createElement(Yye,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:no(e)}),C.createElement(e2e,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:m,getTicksConfig:e,events:u}),C.createElement(nge,{x:e.x,y:e.y,width:e.width,height:e.height},C.createElement(hge,{label:e.label,labelRef:e.labelRef}),e.children))}),r2e=C.memo(t2e,(e,t)=>{var{viewBox:r}=e,n=i_(e,$ye),{viewBox:a}=t,i=i_(t,Hye);return Xm(r,a)&&Xm(n,i)}),MS=C.forwardRef((e,t)=>{var r=cs(e,LS);return C.createElement(r2e,sh({},r,{ref:t}))});MS.displayName="CartesianAxis";var n2e=["x1","y1","x2","y2","key"],a2e=["offset"],i2e=["xAxisId","yAxisId"],s2e=["xAxisId","yAxisId"];function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){l2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l2e(e,t,r){return(t=o2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o2e(e){var t=c2e(e,"string");return typeof t=="symbol"?t:t+""}function c2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(null,arguments)}function Ky(e,t){if(e==null)return{};var r,n,a=u2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return C.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZI(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,u=Ky(t,n2e),f=no(u),{offset:h}=f,m=Ky(f,a2e);r=C.createElement("line",D0({},m,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function d2e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Ky(e,i2e),u=a.map((f,h)=>{var m=js(js({},o),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return ZI(n,m)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function h2e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Ky(e,s2e),u=a.map((f,h)=>{var m=js(js({},o),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return ZI(n,m)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function m2e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var f=o.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],b=x?a+l-m:f[g+1]-m;if(b<=0)return null;var v=g%t.length;return C.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:b,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function p2e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(m=>Math.round(m+a-a)).sort((m,g)=>m-g);a!==f[0]&&f.unshift(0);var h=f.map((m,g)=>{var x=!f[g+1],b=x?a+l-m:f[g+1]-m;if(b<=0)return null;var v=g%r.length;return C.createElement("rect",{key:"react-".concat(g),x:m,y:i,width:b,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var x2e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return VM(PS(js(js(js({},LS),r),{},{ticks:WM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},g2e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return VM(PS(js(js(js({},LS),r),{},{ticks:WM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},v2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function s_(e){var t=sj(),r=lj(),n=JM(),a=js(js({},cs(e,v2e)),{},{x:Kt(e.x)?e.x:n.left,y:Kt(e.y)?e.y:n.top,width:Kt(e.width)?e.width:n.width,height:Kt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:u,width:f,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:x}=a,b=nl(),v=zt(B=>z8(B,"xAxis",i,b)),w=zt(B=>z8(B,"yAxis",l,b));if(!Kt(f)||f<=0||!Kt(h)||h<=0||!Kt(o)||o!==+o||!Kt(u)||u!==+u)return null;var N=a.verticalCoordinatesGenerator||x2e,E=a.horizontalCoordinatesGenerator||g2e,{horizontalPoints:S,verticalPoints:D}=a;if((!S||!S.length)&&typeof E=="function"){var F=g&&g.length,O=E({yAxis:w?js(js({},w),{},{ticks:F?g:w.ticks}):void 0,width:t,height:r,offset:n},F?!0:m);Ay(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!D||!D.length)&&typeof N=="function"){var T=x&&x.length,M=N({xAxis:v?js(js({},v),{},{ticks:T?x:v.ticks}):void 0,width:t,height:r,offset:n},T?!0:m);Ay(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(D=M)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(f2e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(m2e,D0({},a,{horizontalPoints:S})),C.createElement(p2e,D0({},a,{verticalPoints:D})),C.createElement(d2e,D0({},a,{offset:n,horizontalPoints:S,xAxis:v,yAxis:w})),C.createElement(h2e,D0({},a,{offset:n,verticalPoints:D,xAxis:v,yAxis:w})))}s_.displayName="CartesianGrid";var JI=(e,t,r,n)=>Dd(e,"xAxis",t,n),eB=(e,t,r,n)=>Od(e,"xAxis",t,n),tB=(e,t,r,n)=>Dd(e,"yAxis",r,n),rB=(e,t,r,n)=>Od(e,"yAxis",r,n),y2e=He([Gr,JI,tB,eB,rB],(e,t,r,n,a)=>Hd(e,"xAxis")?fg(t,n,!1):fg(r,a,!1)),b2e=(e,t,r,n,a)=>a;function w2e(e){return e.type==="line"}var N2e=He([G2,b2e],(e,t)=>e.filter(w2e).find(r=>r.id===t)),_2e=He([Gr,JI,tB,eB,rB,N2e,y2e,U2],(e,t,r,n,a,i,l,o)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u?.slice(f,h+1),x!=null)return W2e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:x})}});function j2e(e){var t=eh(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(o)||o<0)&&(o=n),{r:l,strokeWidth:o}}return{r,strokeWidth:n}}var S2e=["id"],A2e=["type","layout","connectNulls","needClip"],E2e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){k2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k2e(e,t,r){return(t=C2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C2e(e){var t=T2e(e,"string");return typeof t=="symbol"?t:t+""}function T2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RS(e,t){if(e==null)return{};var r,n,a=O2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(null,arguments)}var D2e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:hp(r,t),payload:e}]};function F2e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:hp(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:u}}}var nB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function P2e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var L2e=(e,t,r)=>{var n=r.reduce((m,g)=>m+g);if(!n)return nB(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>i){o=[...r.slice(0,u),i-f];break}var h=o.length%2===0?[0,l]:[l];return[...P2e(r,a),...o,...h].map(m=>"".concat(m,"px")).join(", ")};function M2e(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=an("recharts-line-dot",typeof e!="boolean"?e.className:"");r=C.createElement(CI,lh({},t,{className:n}))}return r}function R2e(e,t){return e==null?!1:t?!0:e.length===1}function I2e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!R2e(r,a))return null;var{id:o}=n,u=RS(n,S2e),f=LI(a),h=no(u),m=Ese(a),g=r.map((b,v)=>{var w=Xl(Xl(Xl({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:b.x,cy:b.y,dataKey:i,value:b.value,payload:b.payload,points:r});return M2e(a,w)}),x={clipPath:l?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return C.createElement(os,lh({className:"recharts-line-dots",key:"dots"},x),g)}function B2e(e){var{showLabels:t,children:r,points:n}=e,a=C.useMemo(()=>n?.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return Xl(Xl({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(EI,{value:t?a:null},r)}function VO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:o,connectNulls:u,needClip:f}=i,h=RS(i,A2e),m=Xl(Xl({},rl(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:o,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return C.createElement(C.Fragment,null,n?.length>1&&C.createElement(cj,lh({},m,{pathRef:r})),C.createElement(I2e,{points:n,clipPathId:t,props:i}))}function U2e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function z2e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:m,animateNewValues:g,width:x,height:b,onAnimationEnd:v,onAnimationStart:w}=r,N=a.current,E=Ug(r,"recharts-line-"),[S,D]=C.useState(!1),F=!S,O=C.useCallback(()=>{typeof v=="function"&&v(),D(!1)},[v]),T=C.useCallback(()=>{typeof w=="function"&&w(),D(!0)},[w]),M=U2e(n.current),B=i.current;return C.createElement(B2e,{points:l,showLabels:F},r.children,C.createElement(Bg,{animationId:E,begin:f,duration:h,isActive:u,easing:m,onAnimationEnd:O,onAnimationStart:T,key:E},H=>{var R=La(B,M+B,H),U=Math.min(R,M),K;if(u)if(o){var ee="".concat(o).split(/[,\s]+/gim).map(se=>parseFloat(se));K=L2e(U,M,ee)}else K=nB(M,U);else K=o==null?void 0:String(o);if(N){var pe=N.length/l.length,re=H===1?l:l.map((se,ye)=>{var oe=Math.floor(ye*pe);if(N[oe]){var ge=N[oe];return Xl(Xl({},se),{},{x:La(ge.x,se.x,H),y:La(ge.y,se.y,H)})}return g?Xl(Xl({},se),{},{x:La(x*2,se.x,H),y:La(b/2,se.y,H)}):Xl(Xl({},se),{},{x:se.x,y:se.y})});return a.current=re,C.createElement(VO,{props:r,points:re,clipPathId:t,pathRef:n,strokeDasharray:K})}return H>0&&M>0&&(a.current=l,i.current=U),C.createElement(VO,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:K})}),C.createElement(bS,{label:r.label}))}function q2e(e){var{clipPathId:t,props:r}=e,n=C.useRef(null),a=C.useRef(0),i=C.useRef(null);return C.createElement(z2e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var $2e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$n(e.payload,t)});class H2e extends C.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:o,left:u,width:f,height:h,id:m,needClip:g}=this.props;if(t)return null;var x=an("recharts-line",a),b=m,{r:v,strokeWidth:w}=j2e(r),N=LI(r),E=v*2+w;return C.createElement(C.Fragment,null,C.createElement(os,{className:x},g&&C.createElement("defs",null,C.createElement(VI,{clipPathId:b,xAxisId:i,yAxisId:l}),!N&&C.createElement("clipPath",{id:"clipPath-dots-".concat(b)},C.createElement("rect",{x:u-E/2,y:o-E/2,width:f+E,height:h+E}))),C.createElement(HI,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:$2e,errorBarOffset:0},C.createElement(q2e,{props:this.props,clipPathId:b}))),C.createElement(cve,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var aB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Vd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function V2e(e){var t=cs(e,aB),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:u,hide:f,isAnimationActive:h,label:m,legendType:g,xAxisId:x,yAxisId:b,id:v}=t,w=RS(t,E2e),{needClip:N}=DS(x,b),E=TS(),S=D2(),D=nl(),F=zt(H=>_2e(H,x,b,D,v));if(S!=="horizontal"&&S!=="vertical"||F==null||E==null)return null;var{height:O,width:T,x:M,y:B}=E;return C.createElement(H2e,lh({},w,{id:v,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:f,label:m,legendType:g,xAxisId:x,yAxisId:b,points:F,layout:S,height:O,width:T,left:M,top:B,needClip:N}))}function W2e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:u}=e;return u.map((f,h)=>{var m=$n(f,l);if(t==="horizontal"){var g=pT({axis:r,ticks:a,bandSize:o,entry:f,index:h}),x=ma(m)?null:n.scale(m);return{x:g,y:x,value:m,payload:f}}var b=ma(m)?null:r.scale(m),v=pT({axis:n,ticks:i,bandSize:o,entry:f,index:h});return b==null||v==null?null:{x:b,y:v,value:m,payload:f}}).filter(Boolean)}function G2e(e){var t=cs(e,aB),r=nl();return C.createElement(kS,{id:t.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(II,{legendPayload:D2e(t)}),C.createElement(ES,{fn:F2e,args:t}),C.createElement(UI,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),C.createElement(V2e,lh({},t,{id:n}))))}var l_=C.memo(G2e);l_.displayName="Line";var K2e=["dangerouslySetInnerHTML","ticks"],Y2e=["id"],X2e=["domain"],Q2e=["domain"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(null,arguments)}function Yy(e,t){if(e==null)return{};var r,n,a=Z2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J2e(e){var t=pa();return C.useLayoutEffect(()=>(t(X1e(e)),()=>{t(Q1e(e))}),[e,t]),null}var ebe=e=>{var{xAxisId:t,className:r}=e,n=zt(aj),a=nl(),i="xAxis",l=zt(w=>wp(w,i,t,a)),o=zt(w=>z9(w,i,t,a)),u=zt(w=>R9(w,t)),f=zt(w=>Rme(w,t)),h=zt(w=>v9(w,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=e,x=Yy(e,K2e),{id:b}=h,v=Yy(h,Y2e);return C.createElement(MS,o_({},x,v,{scale:l,x:f.x,y:f.y,width:u.width,height:u.height,className:an("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},tbe={allowDataOverflow:Vl.allowDataOverflow,allowDecimals:Vl.allowDecimals,allowDuplicatedCategory:Vl.allowDuplicatedCategory,height:Vl.height,hide:!1,mirror:Vl.mirror,orientation:Vl.orientation,padding:Vl.padding,reversed:Vl.reversed,scale:Vl.scale,tickCount:Vl.tickCount,type:Vl.type,xAxisId:0},rbe=e=>{var t,r,n,a,i,l=cs(e,tbe);return C.createElement(C.Fragment,null,C.createElement(J2e,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),C.createElement(ebe,l))},nbe=(e,t)=>{var{domain:r}=e,n=Yy(e,X2e),{domain:a}=t,i=Yy(t,Q2e);return Xm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Xm({domain:r},{domain:a}):!1},c_=C.memo(rbe,nbe);c_.displayName="XAxis";var abe=["dangerouslySetInnerHTML","ticks"],ibe=["id"],sbe=["domain"],lbe=["domain"];function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u_.apply(null,arguments)}function Xy(e,t){if(e==null)return{};var r,n,a=obe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function obe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cbe(e){var t=pa();return C.useLayoutEffect(()=>(t(Z1e(e)),()=>{t(J1e(e))}),[e,t]),null}var ube=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=C.useRef(null),l=C.useRef(null),o=zt(aj),u=nl(),f=pa(),h="yAxis",m=zt(F=>wp(F,h,t,u)),g=zt(F=>I9(F,t)),x=zt(F=>Bme(F,t)),b=zt(F=>z9(F,h,t,u)),v=zt(F=>y9(F,t));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!g||yS(a)||C.isValidElement(a)||v==null)){var F=i.current;if(F){var O=F.getCalculatedWidth();Math.round(g.width)!==Math.round(O)&&f(eve({id:t,width:O}))}}},[b,g,f,a,t,n,v]),g==null||x==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:N}=e,E=Xy(e,abe),{id:S}=v,D=Xy(v,ibe);return C.createElement(MS,u_({},E,D,{ref:i,labelRef:l,scale:m,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:an("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:b}))},fbe={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:Wl.allowDecimals,allowDuplicatedCategory:Wl.allowDuplicatedCategory,hide:!1,mirror:Wl.mirror,orientation:Wl.orientation,padding:Wl.padding,reversed:Wl.reversed,scale:Wl.scale,tickCount:Wl.tickCount,type:Wl.type,width:Wl.width,yAxisId:0},dbe=e=>{var t,r,n,a,i,l=cs(e,fbe);return C.createElement(C.Fragment,null,C.createElement(cbe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(a=l.minTickGap)!==null&&a!==void 0?a:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),C.createElement(ube,l))},hbe=(e,t)=>{var{domain:r}=e,n=Xy(e,sbe),{domain:a}=t,i=Xy(t,lbe);return Xm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Xm({domain:r},{domain:a}):!1},f_=C.memo(dbe,hbe);f_.displayName="YAxis";var g4={exports:{}},v4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function mbe(){if(WO)return v4;WO=1;var e=Qm();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return v4.useSyncExternalStoreWithSelector=function(u,f,h,m,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function w(F){if(!N){if(N=!0,E=F,F=m(F),g!==void 0&&b.hasValue){var O=b.value;if(g(O,F))return S=O}return S=F}if(O=S,r(E,F))return O;var T=m(F);return g!==void 0&&g(O,T)?(E=F,O):(E=F,S=T)}var N=!1,E,S,D=h===void 0?null:h;return[function(){return w(f())},D===null?void 0:function(){return w(D())}]},[f,h,m,g]);var v=n(u,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=v},[v]),o(v),v},v4}var GO;function pbe(){return GO||(GO=1,g4.exports=mbe()),g4.exports}pbe();function xbe(e){e()}function gbe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xbe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var KO={notify(){},get:()=>[]};function vbe(e,t){let r,n=KO,a=0,i=!1;function l(v){h();const w=n.subscribe(v);let N=!1;return()=>{N||(N=!0,w(),m())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return i}function h(){a++,r||(r=e.subscribe(u),n=gbe())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=KO)}function g(){i||(i=!0,h())}function x(){i&&(i=!1,m())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var ybe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bbe=ybe(),wbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nbe=wbe(),_be=()=>bbe||Nbe?C.useLayoutEffect:C.useEffect,jbe=_be(),Sbe=Symbol.for("react-redux-context"),Abe=typeof globalThis<"u"?globalThis:{};function Ebe(){if(!C.createContext)return{};const e=Abe[Sbe]??=new Map;let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var kbe=Ebe();function Cbe(e){const{children:t,context:r,serverState:n,store:a}=e,i=C.useMemo(()=>{const u=vbe(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),l=C.useMemo(()=>a.getState(),[a]);jbe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const o=r||kbe;return C.createElement(o.Provider,{value:i},t)}var Tbe=Cbe,Obe=(e,t)=>t,IS=He([Obe,Gr,p9,Ei,aI,Tf,Hpe,Si],Ype),BS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},iB=Ho("mouseClick"),sB=Rg();sB.startListening({actionCreator:iB,effect:(e,t)=>{var r=e.payload,n=IS(t.getState(),BS(r));n?.activeIndex!=null&&t.dispatch(Zme({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var d_=Ho("mouseMove"),lB=Rg();lB.startListening({actionCreator:d_,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=cS(n,n.tooltip.settings.shared),i=IS(n,BS(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(Y9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(K9()))}});var YO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},oB=lo({name:"rootProps",initialState:YO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:YO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Dbe=oB.reducer,{updateOptions:Fbe}=oB.actions,cB=lo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Pbe}=cB.actions,Lbe=cB.reducer,uB=Ho("keyDown"),fB=Ho("focus"),US=Rg();US.startListening({actionCreator:uB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(uS(a,_p(r))),o=Tf(r);if(i==="Enter"){var u=qy(r,"axis","hover",String(a.index));t.dispatch(ZN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var f=$me(r),h=f==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,g=l+m*h;if(!(o==null||g>=o.length||g<0)){var x=qy(r,"axis","hover",String(g));t.dispatch(ZN({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});US.startListening({actionCreator:fB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=qy(r,"axis","hover",String(i));t.dispatch(ZN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Fo=Ho("externalEvent"),dB=Rg();dB.startListening({actionCreator:Fo,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Ppe(r),activeDataKey:oI(r),activeIndex:Fd(r),activeLabel:lI(r),activeTooltipIndex:Fd(r),isTooltipActive:Lpe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Mbe=He([Np],e=>e.tooltipItemPayloads),Rbe=He([Mbe,Xg,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),hB=Ho("touchMove"),mB=Rg();mB.startListening({actionCreator:hB,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=cS(n,n.tooltip.settings.shared);if(a==="axis"){var i=IS(n,BS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(Y9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(KM),h=(l=u.getAttribute(YM))!==null&&l!==void 0?l:void 0,m=Rbe(t.getState(),f,h);t.dispatch(G9({activeDataKey:h,activeIndex:f,activeCoordinate:m}))}}});var Ibe=vM({brush:Nye,cartesianAxis:tve,chartData:fxe,errorBars:wve,graphicalItems:b1e,layout:Nce,legend:kue,options:sxe,polarAxis:Pge,polarOptions:Lbe,referenceElements:Cye,rootProps:Dbe,tooltip:Jme}),Bbe=function(t){return Goe({reducer:Ibe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([sB.middleware,lB.middleware,US.middleware,dB.middleware,mB.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(TM({type:"raf"}))},devTools:Vd.devToolsEnabled})};function pB(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=nl(),i=C.useRef(null);if(a)return r;i.current==null&&(i.current=Bbe(t));var l=Z3;return C.createElement(Tbe,{context:l,store:i.current},r)}function xB(e){var{layout:t,margin:r}=e,n=pa(),a=nl();return C.useEffect(()=>{a||(n(yce(t)),n(vce(r)))},[n,a,t,r]),null}function gB(e){var t=pa();return C.useEffect(()=>{t(Fbe(e))},[t,e]),null}var Ube=["children"];function zbe(e,t){if(e==null)return{};var r,n,a=qbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}var $be={width:"100%",height:"100%",display:"block"},Hbe=C.forwardRef((e,t)=>{var r=sj(),n=lj(),a=nR();if(!Vm(r)||!Vm(n))return null;var{children:i,otherAttributes:l,title:o,desc:u}=e,f,h;return typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0,C.createElement(U3,Qy({},l,{title:o,desc:u,role:h,tabIndex:f,width:r,height:n,style:$be,ref:t}),i)}),Vbe=e=>{var{children:t}=e,r=zt(T2);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return C.createElement(U3,{width:n,height:a,x:l,y:i},t)},XO=C.forwardRef((e,t)=>{var{children:r}=e,n=zbe(e,Ube),a=nl();return a?C.createElement(Vbe,null,r):C.createElement(Hbe,Qy({ref:t},n),r)});function Wbe(){var e=pa(),[t,r]=C.useState(null),n=zt(Qce);return C.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Fs(i)&&i!==n&&e(wce(i))}},[t,e,n]),r}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Kbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kbe(e,t,r){return(t=Ybe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ybe(e){var t=Xbe(e,"string");return typeof t=="symbol"?t:t+""}function Xbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(null,arguments)}var Qbe=()=>(bxe(),null);function Zy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Zbe=C.forwardRef((e,t)=>{var r,n,a=C.useRef(null),[i,l]=C.useState({containerWidth:Zy((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Zy((n=e.style)===null||n===void 0?void 0:n.height)}),o=C.useCallback((f,h)=>{l(m=>{var g=Math.round(f),x=Math.round(h);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),u=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();o(h,m);var g=b=>{var{width:v,height:w}=b[0].contentRect;o(v,w)},x=new ResizeObserver(g);x.observe(f),a.current=x}},[t,o]);return C.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[o]),C.createElement(C.Fragment,null,C.createElement(F2,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",oh({ref:u},e)))}),Jbe=C.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=C.useState({containerWidth:Zy(r),containerHeight:Zy(n)}),l=C.useCallback((u,f)=>{i(h=>{var m=Math.round(u),g=Math.round(f);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),o=C.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();l(f,h)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(F2,{width:a.containerWidth,height:a.containerHeight}),C.createElement("div",oh({ref:o},e)))}),ewe=C.forwardRef((e,t)=>{var{width:r,height:n}=e;return C.createElement(C.Fragment,null,C.createElement(F2,{width:r,height:n}),C.createElement("div",oh({ref:t},e)))}),twe=C.forwardRef((e,t)=>{var{width:r,height:n}=e;return mf(r)||mf(n)?C.createElement(Jbe,oh({},e,{ref:t})):C.createElement(ewe,oh({},e,{ref:t}))});function rwe(e){return e===!0?Zbe:twe}var nwe=C.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:v,style:w,width:N,responsive:E,dispatchTouchEvents:S=!0}=e,D=C.useRef(null),F=pa(),[O,T]=C.useState(null),[M,B]=C.useState(null),H=Wbe(),R=ij(),U=R?.width>0?R.width:N,K=R?.height>0?R.height:a,ee=C.useCallback(ae=>{H(ae),typeof t=="function"&&t(ae),T(ae),B(ae),ae!=null&&(D.current=ae)},[H,t,T,B]),pe=C.useCallback(ae=>{F(iB(ae)),F(Fo({handler:i,reactEvent:ae}))},[F,i]),re=C.useCallback(ae=>{F(d_(ae)),F(Fo({handler:f,reactEvent:ae}))},[F,f]),se=C.useCallback(ae=>{F(K9()),F(Fo({handler:h,reactEvent:ae}))},[F,h]),ye=C.useCallback(ae=>{F(d_(ae)),F(Fo({handler:m,reactEvent:ae}))},[F,m]),oe=C.useCallback(()=>{F(fB())},[F]),ge=C.useCallback(ae=>{F(uB(ae.key))},[F]),Y=C.useCallback(ae=>{F(Fo({handler:l,reactEvent:ae}))},[F,l]),P=C.useCallback(ae=>{F(Fo({handler:o,reactEvent:ae}))},[F,o]),L=C.useCallback(ae=>{F(Fo({handler:u,reactEvent:ae}))},[F,u]),q=C.useCallback(ae=>{F(Fo({handler:g,reactEvent:ae}))},[F,g]),W=C.useCallback(ae=>{F(Fo({handler:v,reactEvent:ae}))},[F,v]),X=C.useCallback(ae=>{S&&F(hB(ae)),F(Fo({handler:b,reactEvent:ae}))},[F,S,b]),ce=C.useCallback(ae=>{F(Fo({handler:x,reactEvent:ae}))},[F,x]),ue=rwe(E);return C.createElement(mI.Provider,{value:O},C.createElement(LL.Provider,{value:M},C.createElement(ue,{width:U??w?.width,height:K??w?.height,className:an("recharts-wrapper",n),style:Gbe({position:"relative",cursor:"default",width:U,height:K},w),onClick:pe,onContextMenu:Y,onDoubleClick:P,onFocus:oe,onKeyDown:ge,onMouseDown:L,onMouseEnter:re,onMouseLeave:se,onMouseMove:ye,onMouseUp:q,onTouchEnd:ce,onTouchMove:X,onTouchStart:W,ref:ee},C.createElement(Qbe,null),r)))}),awe=["width","height","responsive","children","className","style","compact","title","desc"];function iwe(e,t){if(e==null)return{};var r,n,a=swe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function swe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vB=C.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:o,compact:u,title:f,desc:h}=e,m=iwe(e,awe),g=no(m);return u?C.createElement(C.Fragment,null,C.createElement(F2,{width:r,height:n}),C.createElement(XO,{otherAttributes:g,title:f,desc:h},i)):C.createElement(nwe,{className:l,style:o,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(XO,{otherAttributes:g,title:f,desc:h,ref:t},C.createElement(Oye,null,i)))});function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}var lwe={top:5,right:5,bottom:5,left:5},owe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lwe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},yB=C.forwardRef(function(t,r){var n,a=cs(t.categoricalChartProps,owe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return C.createElement(pB,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},C.createElement(KI,{chartData:f.data}),C.createElement(xB,{layout:a.layout,margin:a.margin}),C.createElement(gB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(vB,h_({},a,{ref:r})))}),cwe=["axis"],uwe=C.forwardRef((e,t)=>C.createElement(yB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cwe,tooltipPayloadSearcher:vS,categoricalChartProps:e,ref:t})),fwe=["axis","item"],dwe=C.forwardRef((e,t)=>C.createElement(yB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fwe,tooltipPayloadSearcher:vS,categoricalChartProps:e,ref:t}));function hwe(e){var t=pa();return C.useEffect(()=>{t(Pbe(e))},[t,e]),null}var mwe=["layout"];function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m_.apply(null,arguments)}function pwe(e,t){if(e==null)return{};var r,n,a=xwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gwe={top:5,right:5,bottom:5,left:5},vwe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gwe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},ywe=C.forwardRef(function(t,r){var n,a=cs(t.categoricalChartProps,vwe),{layout:i}=a,l=pwe(a,mwe),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(pB,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},C.createElement(KI,{chartData:a.data}),C.createElement(xB,{layout:i,margin:a.margin}),C.createElement(gB,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(hwe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),C.createElement(vB,m_({},l,{ref:r})))}),bwe=["item"],wwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Nwe=C.forwardRef((e,t)=>{var r=cs(e,wwe);return C.createElement(ywe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bwe,tooltipPayloadSearcher:vS,categoricalChartProps:r,ref:t})});const dd=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-blue-500",trend:i})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${a} p-3 rounded-lg`,children:s.jsx(n,{className:"h-6 w-6 text-white"})}),i&&s.jsxs("span",{className:`text-sm font-medium ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?"+":"",i.value,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),r&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]}),bh={getOverview:async()=>at.get("/analytics/overview"),getPopularFormations:async(e=10)=>at.get("/analytics/popular-formations",{limit:e.toString()}),getEnrollmentTrends:async(e=6)=>at.get("/analytics/enrollment-trends",{months:e.toString()}),getTestPerformance:async()=>at.get("/analytics/test-performance"),getActiveStudents:async(e=10)=>at.get("/analytics/active-students",{limit:e.toString()}),getStudentProgress:async e=>{const t=await at.get(`/analytics/student-progress/${e}`);return{student:t.student,enrollments:t.enrollments,test_history:t.test_history}},getFormationCompletionRates:async()=>at.get("/analytics/formation-completion-rates"),getPeriodStats:async(e=30)=>{const t=await at.get("/analytics/period-stats",{period:e.toString()});return{period_days:t.period_days,stats:t.stats}}},_we=()=>ur({queryKey:["analytics","overview"],queryFn:bh.getOverview,staleTime:1e3*60*5,refetchInterval:1e3*60*5}),jwe=(e=10)=>ur({queryKey:["analytics","popular-formations",e],queryFn:()=>bh.getPopularFormations(e),staleTime:1e3*60*10}),Swe=(e=6)=>ur({queryKey:["analytics","enrollment-trends",e],queryFn:()=>bh.getEnrollmentTrends(e),staleTime:1e3*60*10}),Awe=(e=10)=>ur({queryKey:["analytics","active-students",e],queryFn:()=>bh.getActiveStudents(e),staleTime:1e3*60*5}),Ewe=e=>ur({queryKey:["analytics","student-progress",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return bh.getStudentProgress(e)},enabled:!!e,staleTime:1e3*60*5}),kwe=()=>ur({queryKey:["analytics","formation-completion-rates"],queryFn:bh.getFormationCompletionRates,staleTime:1e3*60*10}),Cwe=(e=30)=>ur({queryKey:["analytics","period-stats",e],queryFn:()=>bh.getPeriodStats(e),staleTime:1e3*60*5,refetchInterval:1e3*60*5});function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var Tc=Uint8Array,eo=Uint16Array,zS=Int32Array,qS=new Tc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$S=new Tc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ZO=new Tc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bB=function(e,t){for(var r=new eo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new zS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},wB=bB(qS,2),Twe=wB.b,p_=wB.r;Twe[28]=258,p_[258]=28;var Owe=bB($S,0),JO=Owe.r,x_=new eo(32768);for(var ea=0;ea<32768;++ea){var hd=(ea&43690)>>1|(ea&21845)<<1;hd=(hd&52428)>>2|(hd&13107)<<2,hd=(hd&61680)>>4|(hd&3855)<<4,x_[ea]=((hd&65280)>>8|(hd&255)<<8)>>1}var Rx=(function(e,t,r){for(var n=e.length,a=0,i=new eo(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new eo(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(r){o=new eo(1<<t);var u=15-t;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],h=t-e[a],m=l[e[a]-1]++<<h,g=m|(1<<h)-1;m<=g;++m)o[x_[m]>>u]=f}else for(o=new eo(n),a=0;a<n;++a)e[a]&&(o[a]=x_[l[e[a]-1]++]>>15-e[a]);return o}),ch=new Tc(288);for(var ea=0;ea<144;++ea)ch[ea]=8;for(var ea=144;ea<256;++ea)ch[ea]=9;for(var ea=256;ea<280;++ea)ch[ea]=7;for(var ea=280;ea<288;++ea)ch[ea]=8;var Jy=new Tc(32);for(var ea=0;ea<32;++ea)Jy[ea]=5;var Dwe=Rx(ch,9,0),Fwe=Rx(Jy,5,0),NB=function(e){return(e+7)/8|0},Pwe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Tc(e.subarray(t,r))},Gu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},yx=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},y4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:jB,l:0};if(a==1){var l=new Tc(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(F,O){return F.f-O.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],f=0,h=1,m=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};h!=a-1;)o=r[r[f].f<r[m].f?f++:m++],u=r[f!=h&&r[f].f<r[m].f?f++:m++],r[h++]={s:-1,f:o.f+u.f,l:o,r:u};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var x=new eo(g+1),b=g_(r[h-1],x,0);if(b>t){var n=0,v=0,w=b-t,N=1<<w;for(i.sort(function(O,T){return x[T.s]-x[O.s]||O.f-T.f});n<a;++n){var E=i[n].s;if(x[E]>t)v+=N-(1<<b-x[E]),x[E]=t;else break}for(v>>=w;v>0;){var S=i[n].s;x[S]<t?v-=1<<t-x[S]++-1:++n}for(;n>=0&&v;--n){var D=i[n].s;x[D]==t&&(--x[D],++v)}b=t}return{t:new Tc(x),l:b}},g_=function(e,t,r){return e.s==-1?Math.max(g_(e.l,t,r+1),g_(e.r,t,r+1)):t[e.s]=r},e7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new eo(++t),n=0,a=e[0],i=1,l=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},bx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},_B=function(e,t,r){var n=r.length,a=NB(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},t7=function(e,t,r,n,a,i,l,o,u,f,h){Gu(t,h++,r),++a[256];for(var m=y4(a,15),g=m.t,x=m.l,b=y4(i,15),v=b.t,w=b.l,N=e7(g),E=N.c,S=N.n,D=e7(v),F=D.c,O=D.n,T=new eo(19),M=0;M<E.length;++M)++T[E[M]&31];for(var M=0;M<F.length;++M)++T[F[M]&31];for(var B=y4(T,7),H=B.t,R=B.l,U=19;U>4&&!H[ZO[U-1]];--U);var K=f+5<<3,ee=bx(a,ch)+bx(i,Jy)+l,pe=bx(a,g)+bx(i,v)+l+14+3*U+bx(T,H)+2*T[16]+3*T[17]+7*T[18];if(u>=0&&K<=ee&&K<=pe)return _B(t,h,e.subarray(u,u+f));var re,se,ye,oe;if(Gu(t,h,1+(pe<ee)),h+=2,pe<ee){re=Rx(g,x,0),se=g,ye=Rx(v,w,0),oe=v;var ge=Rx(H,R,0);Gu(t,h,S-257),Gu(t,h+5,O-1),Gu(t,h+10,U-4),h+=14;for(var M=0;M<U;++M)Gu(t,h+3*M,H[ZO[M]]);h+=3*U;for(var Y=[E,F],P=0;P<2;++P)for(var L=Y[P],M=0;M<L.length;++M){var q=L[M]&31;Gu(t,h,ge[q]),h+=H[q],q>15&&(Gu(t,h,L[M]>>5&127),h+=L[M]>>12)}}else re=Dwe,se=ch,ye=Fwe,oe=Jy;for(var M=0;M<o;++M){var W=n[M];if(W>255){var q=W>>18&31;yx(t,h,re[q+257]),h+=se[q+257],q>7&&(Gu(t,h,W>>23&31),h+=qS[q]);var X=W&31;yx(t,h,ye[X]),h+=oe[X],X>3&&(yx(t,h,W>>5&8191),h+=$S[X])}else yx(t,h,re[W]),h+=se[W]}return yx(t,h,re[256]),h+se[256]},Lwe=new zS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jB=new Tc(0),Mwe=function(e,t,r,n,a,i){var l=i.z||e.length,o=new Tc(n+l+5*(1+Math.ceil(l/7e3))+a),u=o.subarray(n,o.length-a),f=i.l,h=(i.r||0)&7;if(t){h&&(u[0]=i.r>>3);for(var m=Lwe[t-1],g=m>>13,x=m&8191,b=(1<<r)-1,v=i.p||new eo(32768),w=i.h||new eo(b+1),N=Math.ceil(r/3),E=2*N,S=function(Ce){return(e[Ce]^e[Ce+1]<<N^e[Ce+2]<<E)&b},D=new zS(25e3),F=new eo(288),O=new eo(32),T=0,M=0,B=i.i||0,H=0,R=i.w||0,U=0;B+2<l;++B){var K=S(B),ee=B&32767,pe=w[K];if(v[ee]=pe,w[K]=ee,R<=B){var re=l-B;if((T>7e3||H>24576)&&(re>423||!f)){h=t7(e,u,0,D,F,O,M,H,U,B-U,h),H=T=M=0,U=B;for(var se=0;se<286;++se)F[se]=0;for(var se=0;se<30;++se)O[se]=0}var ye=2,oe=0,ge=x,Y=ee-pe&32767;if(re>2&&K==S(B-Y))for(var P=Math.min(g,re)-1,L=Math.min(32767,B),q=Math.min(258,re);Y<=L&&--ge&&ee!=pe;){if(e[B+ye]==e[B+ye-Y]){for(var W=0;W<q&&e[B+W]==e[B+W-Y];++W);if(W>ye){if(ye=W,oe=Y,W>P)break;for(var X=Math.min(Y,W-2),ce=0,se=0;se<X;++se){var ue=B-Y+se&32767,ae=v[ue],Se=ue-ae&32767;Se>ce&&(ce=Se,pe=ue)}}}ee=pe,pe=v[ee],Y+=ee-pe&32767}if(oe){D[H++]=268435456|p_[ye]<<18|JO[oe];var De=p_[ye]&31,Z=JO[oe]&31;M+=qS[De]+$S[Z],++F[257+De],++O[Z],R=B+ye,++T}else D[H++]=e[B],++F[e[B]]}}for(B=Math.max(B,R);B<l;++B)D[H++]=e[B],++F[e[B]];h=t7(e,u,f,D,F,O,M,H,U,B-U,h),f||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=w,i.p=v,i.i=B,i.w=R)}else{for(var B=i.w||0;B<l+f;B+=65535){var Ke=B+65535;Ke>=l&&(u[h/8|0]=f,Ke=l),h=_B(u,h+1,e.subarray(B,Ke))}i.i=l}return Pwe(o,0,n+NB(h)+a)},SB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Rwe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Tc(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return Mwe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},AB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Iwe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=SB();a.p(t.dictionary),AB(e,2,a.d())}};function v_(e,t){t||(t={});var r=SB();r.p(e);var n=Rwe(e,t,t.dictionary?6:2,4);return Iwe(n,t),AB(n,n.length-4,r.d()),n}var Bwe=typeof TextDecoder<"u"&&new TextDecoder,Uwe=0;try{Bwe.decode(jB,{stream:!0}),Uwe=1}catch{}function zwe(e){if(Array.isArray(e))return e}function qwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,o=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(h){f=!0,a=h}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw a}}return o}}function r7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $we(e,t){if(e){if(typeof e=="string")return r7(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?r7(e,t):void 0}}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n7(e,t){return zwe(e)||qwe(e,t)||$we(e,t)||Hwe()}function a7(e,t="utf8"){return new TextDecoder(t).decode(e)}const Vwe=new TextEncoder;function Wwe(e){return Vwe.encode(e)}const Gwe=1024*8,Kwe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),b4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class HS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Gwe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof HS)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=b4[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===Kwe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const u=new b4[r](o.buffer);return this.offset+=n,u.reverse(),u}const l=new b4[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return a7(this.readBytes(t))}decodeText(t=1,r="utf8"){return a7(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Wwe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jp(e){let t=e.length;for(;--t>=0;)e[t]=0}const Ywe=3,Xwe=258,EB=29,Qwe=256,Zwe=Qwe+1+EB,kB=30,Jwe=512,e5e=new Array((Zwe+2)*2);jp(e5e);const t5e=new Array(kB*2);jp(t5e);const r5e=new Array(Jwe);jp(r5e);const n5e=new Array(Xwe-Ywe+1);jp(n5e);const a5e=new Array(EB);jp(a5e);const i5e=new Array(kB);jp(i5e);const s5e=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var y_=s5e;const l5e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},o5e=new Uint32Array(l5e()),c5e=(e,t,r,n)=>{const a=o5e,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var au=c5e,b_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},CB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const u5e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var f5e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)u5e(r,n)&&(e[n]=r[n])}}return e},d5e=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},TB={assign:f5e,flattenChunks:d5e};let OB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{OB=!1}const bg=new Uint8Array(256);for(let e=0;e<256;e++)bg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;bg[254]=bg[254]=1;var h5e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,o=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const m5e=(e,t)=>{if(t<65534&&e.subarray&&OB)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var p5e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let o=bg[l];if(o>4){i[a++]=65533,n+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&n<r;)l=l<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return m5e(i,a)},x5e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+bg[e[r]]>t?r:t},w_={string2buf:h5e,buf2string:p5e,utf8border:x5e};function g5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var v5e=g5e;const jv=16209,y5e=16191;var b5e=function(t,r){let n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,S,D,F,O,T,M,B,H;const R=t.state;n=t.next_in,B=t.input,a=n+(t.avail_in-5),i=t.next_out,H=t.output,l=i-(r-t.avail_out),o=i+(t.avail_out-257),u=R.dmax,f=R.wsize,h=R.whave,m=R.wnext,g=R.window,x=R.hold,b=R.bits,v=R.lencode,w=R.distcode,N=(1<<R.lenbits)-1,E=(1<<R.distbits)-1;e:do{b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),S=v[x&N];t:for(;;){if(D=S>>>24,x>>>=D,b-=D,D=S>>>16&255,D===0)H[i++]=S&65535;else if(D&16){F=S&65535,D&=15,D&&(b<D&&(x+=B[n++]<<b,b+=8),F+=x&(1<<D)-1,x>>>=D,b-=D),b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),S=w[x&E];r:for(;;){if(D=S>>>24,x>>>=D,b-=D,D=S>>>16&255,D&16){if(O=S&65535,D&=15,b<D&&(x+=B[n++]<<b,b+=8,b<D&&(x+=B[n++]<<b,b+=8)),O+=x&(1<<D)-1,O>u){t.msg="invalid distance too far back",R.mode=jv;break e}if(x>>>=D,b-=D,D=i-l,O>D){if(D=O-D,D>h&&R.sane){t.msg="invalid distance too far back",R.mode=jv;break e}if(T=0,M=g,m===0){if(T+=f-D,D<F){F-=D;do H[i++]=g[T++];while(--D);T=i-O,M=H}}else if(m<D){if(T+=f+m-D,D-=m,D<F){F-=D;do H[i++]=g[T++];while(--D);if(T=0,m<F){D=m,F-=D;do H[i++]=g[T++];while(--D);T=i-O,M=H}}}else if(T+=m-D,D<F){F-=D;do H[i++]=g[T++];while(--D);T=i-O,M=H}for(;F>2;)H[i++]=M[T++],H[i++]=M[T++],H[i++]=M[T++],F-=3;F&&(H[i++]=M[T++],F>1&&(H[i++]=M[T++]))}else{T=i-O;do H[i++]=H[T++],H[i++]=H[T++],H[i++]=H[T++],F-=3;while(F>2);F&&(H[i++]=H[T++],F>1&&(H[i++]=H[T++]))}}else if((D&64)===0){S=w[(S&65535)+(x&(1<<D)-1)];continue r}else{t.msg="invalid distance code",R.mode=jv;break e}break}}else if((D&64)===0){S=v[(S&65535)+(x&(1<<D)-1)];continue t}else if(D&32){R.mode=y5e;break e}else{t.msg="invalid literal/length code",R.mode=jv;break e}break}}while(n<a&&i<o);F=b>>3,n-=F,b-=F<<3,x&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),R.hold=x,R.bits=b};const vm=15,i7=852,s7=592,l7=0,w4=1,o7=2,w5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),N5e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_5e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),j5e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),S5e=(e,t,r,n,a,i,l,o)=>{const u=o.bits;let f=0,h=0,m=0,g=0,x=0,b=0,v=0,w=0,N=0,E=0,S,D,F,O,T,M=null,B;const H=new Uint16Array(vm+1),R=new Uint16Array(vm+1);let U=null,K,ee,pe;for(f=0;f<=vm;f++)H[f]=0;for(h=0;h<n;h++)H[t[r+h]]++;for(x=u,g=vm;g>=1&&H[g]===0;g--);if(x>g&&(x=g),g===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<g&&H[m]===0;m++);for(x<m&&(x=m),w=1,f=1;f<=vm;f++)if(w<<=1,w-=H[f],w<0)return-1;if(w>0&&(e===l7||g!==1))return-1;for(R[1]=0,f=1;f<vm;f++)R[f+1]=R[f]+H[f];for(h=0;h<n;h++)t[r+h]!==0&&(l[R[t[r+h]]++]=h);if(e===l7?(M=U=l,B=20):e===w4?(M=w5e,U=N5e,B=257):(M=_5e,U=j5e,B=0),E=0,h=0,f=m,T=i,b=x,v=0,F=-1,N=1<<x,O=N-1,e===w4&&N>i7||e===o7&&N>s7)return 1;for(;;){K=f-v,l[h]+1<B?(ee=0,pe=l[h]):l[h]>=B?(ee=U[l[h]-B],pe=M[l[h]-B]):(ee=96,pe=0),S=1<<f-v,D=1<<b,m=D;do D-=S,a[T+(E>>v)+D]=K<<24|ee<<16|pe|0;while(D!==0);for(S=1<<f-1;E&S;)S>>=1;if(S!==0?(E&=S-1,E+=S):E=0,h++,--H[f]===0){if(f===g)break;f=t[r+l[h]]}if(f>x&&(E&O)!==F){for(v===0&&(v=x),T+=m,b=f-v,w=1<<b;b+v<g&&(w-=H[b+v],!(w<=0));)b++,w<<=1;if(N+=1<<b,e===w4&&N>i7||e===o7&&N>s7)return 1;F=E&O,a[F]=x<<24|b<<16|T-i|0}}return E!==0&&(a[T+E]=f-v<<24|64<<16|0),o.bits=x,0};var Ix=S5e;const A5e=0,DB=1,FB=2,{Z_FINISH:c7,Z_BLOCK:E5e,Z_TREES:Sv,Z_OK:uh,Z_STREAM_END:k5e,Z_NEED_DICT:C5e,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:PB,Z_MEM_ERROR:LB,Z_BUF_ERROR:T5e,Z_DEFLATED:u7}=CB,rb=16180,f7=16181,d7=16182,h7=16183,m7=16184,p7=16185,x7=16186,g7=16187,v7=16188,y7=16189,e2=16190,Ku=16191,N4=16192,b7=16193,_4=16194,w7=16195,N7=16196,_7=16197,j7=16198,Av=16199,Ev=16200,S7=16201,A7=16202,E7=16203,k7=16204,C7=16205,j4=16206,T7=16207,O7=16208,ca=16209,MB=16210,RB=16211,O5e=852,D5e=592,F5e=15,P5e=F5e,D7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function L5e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<rb||t.mode>RB?1:0},IB=e=>{if(wh(e))return Wo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=rb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(O5e),t.distcode=t.distdyn=new Int32Array(D5e),t.sane=1,t.back=-1,uh},BB=e=>{if(wh(e))return Wo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,IB(e)},UB=(e,t)=>{let r;if(wh(e))return Wo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Wo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,BB(e))},zB=(e,t)=>{if(!e)return Wo;const r=new L5e;e.state=r,r.strm=e,r.window=null,r.mode=rb;const n=UB(e,t);return n!==uh&&(e.state=null),n},M5e=e=>zB(e,P5e);let F7=!0,S4,A4;const R5e=e=>{if(F7){S4=new Int32Array(512),A4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ix(DB,e.lens,0,288,S4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ix(FB,e.lens,0,32,A4,0,e.work,{bits:5}),F7=!1}e.lencode=S4,e.lenbits=9,e.distcode=A4,e.distbits=5},qB=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},I5e=(e,t)=>{let r,n,a,i,l,o,u,f,h,m,g,x,b,v,w=0,N,E,S,D,F,O,T,M;const B=new Uint8Array(4);let H,R;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wh(e)||!e.output||!e.input&&e.avail_in!==0)return Wo;r=e.state,r.mode===Ku&&(r.mode=N4),l=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,m=o,g=u,M=uh;e:for(;;)switch(r.mode){case rb:if(r.wrap===0){r.mode=N4;break}for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0),f=0,h=0,r.mode=f7;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=ca;break}if((f&15)!==u7){e.msg="unknown compression method",r.mode=ca;break}if(f>>>=4,h-=4,T=(f&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){e.msg="invalid window size",r.mode=ca;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?y7:Ku,f=0,h=0;break;case f7:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==u7){e.msg="unknown compression method",r.mode=ca;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ca;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0)),f=0,h=0,r.mode=d7;case d7:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,r.check=au(r.check,B,4,0)),f=0,h=0,r.mode=h7;case h7:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0)),f=0,h=0,r.mode=m7;case m7:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=au(r.check,B,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=p7;case p7:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+x),T)),r.flags&512&&r.wrap&4&&(r.check=au(r.check,n,x,i)),o-=x,i+=x,r.length-=x),r.length))break e;r.length=0,r.mode=x7;case x7:if(r.flags&2048){if(o===0)break e;x=0;do T=n[i+x++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=au(r.check,n,x,i)),o-=x,i+=x,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=g7;case g7:if(r.flags&4096){if(o===0)break e;x=0;do T=n[i+x++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=au(r.check,n,x,i)),o-=x,i+=x,T)break e}else r.head&&(r.head.comment=null);r.mode=v7;case v7:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ca;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ku;break;case y7:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}e.adler=r.check=D7(f),f=0,h=0,r.mode=e2;case e2:if(r.havedict===0)return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,C5e;e.adler=r.check=1,r.mode=Ku;case Ku:if(t===E5e||t===Sv)break e;case N4:if(r.last){f>>>=h&7,h-=h&7,r.mode=j4;break}for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=b7;break;case 1:if(R5e(r),r.mode=Av,t===Sv){f>>>=2,h-=2;break e}break;case 2:r.mode=N7;break;case 3:e.msg="invalid block type",r.mode=ca}f>>>=2,h-=2;break;case b7:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ca;break}if(r.length=f&65535,f=0,h=0,r.mode=_4,t===Sv)break e;case _4:r.mode=w7;case w7:if(x=r.length,x){if(x>o&&(x=o),x>u&&(x=u),x===0)break e;a.set(n.subarray(i,i+x),l),o-=x,i+=x,u-=x,l+=x,r.length-=x;break}r.mode=Ku;break;case N7:for(;h<14;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ca;break}r.have=0,r.mode=_7;case _7:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.lens[U[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},M=Ix(A5e,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,M){e.msg="invalid code lengths set",r.mode=ca;break}r.have=0,r.mode=j7;case j7:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[f&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,S=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(S<16)f>>>=N,h-=N,r.lens[r.have++]=S;else{if(S===16){for(R=N+2;h<R;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(f>>>=N,h-=N,r.have===0){e.msg="invalid bit length repeat",r.mode=ca;break}T=r.lens[r.have-1],x=3+(f&3),f>>>=2,h-=2}else if(S===17){for(R=N+3;h<R;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=N,h-=N,T=0,x=3+(f&7),f>>>=3,h-=3}else{for(R=N+7;h<R;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=N,h-=N,T=0,x=11+(f&127),f>>>=7,h-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ca;break}for(;x--;)r.lens[r.have++]=T}}if(r.mode===ca)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ca;break}if(r.lenbits=9,H={bits:r.lenbits},M=Ix(DB,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,M){e.msg="invalid literal/lengths set",r.mode=ca;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},M=Ix(FB,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,M){e.msg="invalid distances set",r.mode=ca;break}if(r.mode=Av,t===Sv)break e;case Av:r.mode=Ev;case Ev:if(o>=6&&u>=258){e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,b5e(e,g),l=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,r.mode===Ku&&(r.back=-1);break}for(r.back=0;w=r.lencode[f&(1<<r.lenbits)-1],N=w>>>24,E=w>>>16&255,S=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(E&&(E&240)===0){for(D=N,F=E,O=S;w=r.lencode[O+((f&(1<<D+F)-1)>>D)],N=w>>>24,E=w>>>16&255,S=w&65535,!(D+N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=D,h-=D,r.back+=D}if(f>>>=N,h-=N,r.back+=N,r.length=S,E===0){r.mode=C7;break}if(E&32){r.back=-1,r.mode=Ku;break}if(E&64){e.msg="invalid literal/length code",r.mode=ca;break}r.extra=E&15,r.mode=S7;case S7:if(r.extra){for(R=r.extra;h<R;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=A7;case A7:for(;w=r.distcode[f&(1<<r.distbits)-1],N=w>>>24,E=w>>>16&255,S=w&65535,!(N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((E&240)===0){for(D=N,F=E,O=S;w=r.distcode[O+((f&(1<<D+F)-1)>>D)],N=w>>>24,E=w>>>16&255,S=w&65535,!(D+N<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=D,h-=D,r.back+=D}if(f>>>=N,h-=N,r.back+=N,E&64){e.msg="invalid distance code",r.mode=ca;break}r.offset=S,r.extra=E&15,r.mode=E7;case E7:if(r.extra){for(R=r.extra;h<R;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ca;break}r.mode=k7;case k7:if(u===0)break e;if(x=g-u,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ca;break}x>r.wnext?(x-=r.wnext,b=r.wsize-x):b=r.wnext-x,x>r.length&&(x=r.length),v=r.window}else v=a,b=l-r.offset,x=r.length;x>u&&(x=u),u-=x,r.length-=x;do a[l++]=v[b++];while(--x);r.length===0&&(r.mode=Ev);break;case C7:if(u===0)break e;a[l++]=r.length,u--,r.mode=Ev;break;case j4:if(r.wrap){for(;h<32;){if(o===0)break e;o--,f|=n[i++]<<h,h+=8}if(g-=u,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?au(r.check,a,g,l-g):y_(r.check,a,g,l-g)),g=u,r.wrap&4&&(r.flags?f:D7(f))!==r.check){e.msg="incorrect data check",r.mode=ca;break}f=0,h=0}r.mode=T7;case T7:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ca;break}f=0,h=0}r.mode=O7;case O7:M=k5e;break e;case ca:M=PB;break e;case MB:return LB;case RB:default:return Wo}return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<ca&&(r.mode<j4||t!==c7))&&qB(e,e.output,e.next_out,g-e.avail_out),m-=e.avail_in,g-=e.avail_out,e.total_in+=m,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?au(r.check,a,g,e.next_out-g):y_(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ku?128:0)+(r.mode===Av||r.mode===_4?256:0),(m===0&&g===0||t===c7)&&M===uh&&(M=T5e),M},B5e=e=>{if(wh(e))return Wo;let t=e.state;return t.window&&(t.window=null),e.state=null,uh},U5e=(e,t)=>{if(wh(e))return Wo;const r=e.state;return(r.wrap&2)===0?Wo:(r.head=t,t.done=!1,uh)},z5e=(e,t)=>{const r=t.length;let n,a,i;return wh(e)||(n=e.state,n.wrap!==0&&n.mode!==e2)?Wo:n.mode===e2&&(a=1,a=y_(a,t,r,0),a!==n.check)?PB:(i=qB(e,t,r,r),i?(n.mode=MB,LB):(n.havedict=1,uh))};var q5e=BB,$5e=UB,H5e=IB,V5e=M5e,W5e=zB,G5e=I5e,K5e=B5e,Y5e=U5e,X5e=z5e,Q5e="pako inflate (from Nodeca project)",Yu={inflateReset:q5e,inflateReset2:$5e,inflateResetKeep:H5e,inflateInit:V5e,inflateInit2:W5e,inflate:G5e,inflateEnd:K5e,inflateGetHeader:Y5e,inflateSetDictionary:X5e,inflateInfo:Q5e};function Z5e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var J5e=Z5e;const $B=Object.prototype.toString,{Z_NO_FLUSH:e4e,Z_FINISH:t4e,Z_OK:wg,Z_STREAM_END:E4,Z_NEED_DICT:k4,Z_STREAM_ERROR:r4e,Z_DATA_ERROR:P7,Z_MEM_ERROR:n4e}=CB;function e1(e){this.options=TB.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v5e,this.strm.avail_out=0;let r=Yu.inflateInit2(this.strm,t.windowBits);if(r!==wg)throw new Error(b_[r]);if(this.header=new J5e,Yu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=w_.string2buf(t.dictionary):$B.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Yu.inflateSetDictionary(this.strm,t.dictionary),r!==wg)))throw new Error(b_[r])}e1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?t4e:e4e,$B.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Yu.inflate(r,l),i===k4&&a&&(i=Yu.inflateSetDictionary(r,a),i===wg?i=Yu.inflate(r,l):i===P7&&(i=k4));r.avail_in>0&&i===E4&&r.state.wrap>0&&e[r.next_in]!==0;)Yu.inflateReset(r),i=Yu.inflate(r,l);switch(i){case r4e:case P7:case k4:case n4e:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===E4))if(this.options.to==="string"){let u=w_.utf8border(r.output,r.next_out),f=r.next_out-u,h=w_.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===wg&&o===0)){if(i===E4)return i=Yu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};e1.prototype.onData=function(e){this.chunks.push(e)};e1.prototype.onEnd=function(e){e===wg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=TB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function a4e(e,t){const r=new e1(t);if(r.push(e),r.err)throw r.msg||b_[r.err];return r.result}var i4e=e1,s4e=a4e,l4e={Inflate:i4e,inflate:s4e};const{Inflate:o4e,inflate:c4e}=l4e;var L7=o4e,u4e=c4e;const HB=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;HB[e]=t}const M7=4294967295;function f4e(e,t,r){let n=e;for(let a=0;a<r;a++)n=HB[(n^t[a])&255]^n>>>8;return n}function d4e(e,t){return(f4e(M7,e,t)^M7)>>>0}function R7(e,t,r){const n=e.readUint32(),a=d4e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function VB(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function WB(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function GB(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function KB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function YB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+h4e(t[i-a],r[i],r[i-a])&255}}function h4e(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function m4e(e,t,r,n,a,i){switch(e){case 0:VB(t,r,a);break;case 1:WB(t,r,a,i);break;case 2:GB(t,r,n,a);break;case 3:KB(t,r,n,a,i);break;case 4:YB(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const p4e=new Uint16Array([255]),x4e=new Uint8Array(p4e.buffer),g4e=x4e[0]===255;function v4e(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,u=new Uint8Array(n*r*o);let f=0;for(let h=0;h<7;h++){const m=l[h],g=Math.ceil((r-m.x)/m.xStep),x=Math.ceil((n-m.y)/m.yStep);if(g<=0||x<=0)continue;const b=g*o,v=new Uint8Array(b);for(let w=0;w<x;w++){const N=t[f++],E=t.subarray(f,f+b);f+=b;const S=new Uint8Array(b);m4e(N,E,S,v,b,o),v.set(S);for(let D=0;D<g;D++){const F=m.x+D*m.xStep,O=m.y+w*m.yStep;if(!(F>=r||O>=n))for(let T=0;T<o;T++)u[(O*r+F)*o+T]=S[D*o+T]}}}if(i===16){const h=new Uint16Array(u.buffer);if(g4e)for(let m=0;m<h.length;m++)h[m]=y4e(h[m]);return h}else return u}function y4e(e){return(e&255)<<8|e>>8&255}const b4e=new Uint16Array([255]),w4e=new Uint8Array(b4e.buffer),N4e=w4e[0]===255,_4e=new Uint8Array(0);function I7(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),u=new Uint8Array(n*o);let f=_4e,h=0,m,g;for(let x=0;x<n;x++){switch(m=t.subarray(h+1,h+1+o),g=u.subarray(x*o,(x+1)*o),t[h]){case 0:VB(m,g,o);break;case 1:WB(m,g,o,l);break;case 2:GB(m,g,f,o);break;case 3:KB(m,g,f,o,l);break;case 4:YB(m,g,f,o,l);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}f=g,h+=o+1}if(i===16){const x=new Uint16Array(u.buffer);if(N4e)for(let b=0;b<x.length;b++)x[b]=j4e(x[b]);return x}else return u}function j4e(e){return(e&255)<<8|e>>8&255}const zv=Uint8Array.of(137,80,78,71,13,10,26,10);function B7(e){if(!S4e(e.readBytes(zv.length)))throw new Error("wrong PNG signature")}function S4e(e){if(e.length<zv.length)return!1;for(let t=0;t<zv.length;t++)if(e[t]!==zv[t])return!1;return!0}const A4e="tEXt",E4e=0,XB=new TextDecoder("latin1");function k4e(e){if(T4e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const C4e=/^[\u0000-\u00FF]*$/;function T4e(e){if(!C4e.test(e))throw new Error("invalid latin1 text")}function O4e(e,t,r){const n=QB(t);e[n]=D4e(t,r-n.length-1)}function QB(e){for(e.mark();e.readByte()!==E4e;);const t=e.offset;e.reset();const r=XB.decode(e.readBytes(t-e.offset-1));return e.skip(1),k4e(r),r}function D4e(e,t){return XB.decode(e.readBytes(t))}const Hl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},C4={UNKNOWN:-1,DEFLATE:0},U7={UNKNOWN:-1,ADAPTIVE:0},T4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},kv={NONE:0,BACKGROUND:1,PREVIOUS:2},O4={SOURCE:0,OVER:1};class F4e extends HS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new L7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=C4.UNKNOWN,this._filterMethod=U7.UNKNOWN,this._interlaceMethod=T4.UNKNOWN,this._colorType=Hl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(B7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(B7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case A4e:O4e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?R7(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?R7(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=P4e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Hl.GREYSCALE:n=1;break;case Hl.TRUECOLOUR:n=3;break;case Hl.INDEXED_COLOUR:n=1;break;case Hl.GREYSCALE_ALPHA:n=2;break;case Hl.TRUECOLOUR_ALPHA:n=4;break;case Hl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==C4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Hl.GREYSCALE:case Hl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Hl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Hl.UNKNOWN:case Hl.GREYSCALE_ALPHA:case Hl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=QB(this),n=this.readUint8();if(n!==C4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:u4e(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=I7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case kv.NONE:break;case kv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const l=(a*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[l+o]=0}break;case kv.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,l)=>{const o=((i+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(i*r.width+l)*this._png.channels;return{index:o,frameIndex:u}};switch(r.blendOp){case O4.SOURCE:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(i,l);for(let f=0;f<this._png.channels;f++)t.data[o+f]=r.data[u+f]}break;case O4.OVER:for(let i=0;i<r.height;i++)for(let l=0;l<r.width;l++){const{index:o,frameIndex:u}=a(i,l);for(let f=0;f<this._png.channels;f++){const h=r.data[u+this._png.channels-1]/n,m=f%(this._png.channels-1)===0?1:r.data[u+f],g=Math.floor(h*m+(1-h)*t.data[o+f]);t.data[o+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==U7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===T4.NO_INTERLACE)this._png.data=I7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===T4.ADAM7)this._png.data=v4e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:kv.NONE,blendOp:O4.SOURCE,data:t}),this._inflator=new L7,this._writingDataChunks=!1}}function P4e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var z7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(z7||(z7={}));function L4e(e,t){return new F4e(e,t).decode()}var pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function D4(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}var Rn={log:D4,warn:function(e){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):D4.call(null,arguments))},error:function(e){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):D4(e))}};function F4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){S0(n.response,t,r)},n.onerror=function(){Rn.error("could not download file")},n.send()}function q7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Cv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var S0=pr.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=pr.URL||pr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?q7(a.href)?F4(e,t,r):Cv(a,a.target="_blank"):Cv(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Cv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(q7(e))F4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Cv(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:_n(i)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return F4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(pr.HTMLElement)||pr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(e)}else{var u=pr.URL||pr.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ZB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+o+u+f}}var qv=pr.atob.bind(pr),$7=pr.btoa.bind(pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function P4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=xs(r,n,a,i,t[0],7,-680876936),i=xs(i,r,n,a,t[1],12,-389564586),a=xs(a,i,r,n,t[2],17,606105819),n=xs(n,a,i,r,t[3],22,-1044525330),r=xs(r,n,a,i,t[4],7,-176418897),i=xs(i,r,n,a,t[5],12,1200080426),a=xs(a,i,r,n,t[6],17,-1473231341),n=xs(n,a,i,r,t[7],22,-45705983),r=xs(r,n,a,i,t[8],7,1770035416),i=xs(i,r,n,a,t[9],12,-1958414417),a=xs(a,i,r,n,t[10],17,-42063),n=xs(n,a,i,r,t[11],22,-1990404162),r=xs(r,n,a,i,t[12],7,1804603682),i=xs(i,r,n,a,t[13],12,-40341101),a=xs(a,i,r,n,t[14],17,-1502002290),r=gs(r,n=xs(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=gs(i,r,n,a,t[6],9,-1069501632),a=gs(a,i,r,n,t[11],14,643717713),n=gs(n,a,i,r,t[0],20,-373897302),r=gs(r,n,a,i,t[5],5,-701558691),i=gs(i,r,n,a,t[10],9,38016083),a=gs(a,i,r,n,t[15],14,-660478335),n=gs(n,a,i,r,t[4],20,-405537848),r=gs(r,n,a,i,t[9],5,568446438),i=gs(i,r,n,a,t[14],9,-1019803690),a=gs(a,i,r,n,t[3],14,-187363961),n=gs(n,a,i,r,t[8],20,1163531501),r=gs(r,n,a,i,t[13],5,-1444681467),i=gs(i,r,n,a,t[2],9,-51403784),a=gs(a,i,r,n,t[7],14,1735328473),r=vs(r,n=gs(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=vs(i,r,n,a,t[8],11,-2022574463),a=vs(a,i,r,n,t[11],16,1839030562),n=vs(n,a,i,r,t[14],23,-35309556),r=vs(r,n,a,i,t[1],4,-1530992060),i=vs(i,r,n,a,t[4],11,1272893353),a=vs(a,i,r,n,t[7],16,-155497632),n=vs(n,a,i,r,t[10],23,-1094730640),r=vs(r,n,a,i,t[13],4,681279174),i=vs(i,r,n,a,t[0],11,-358537222),a=vs(a,i,r,n,t[3],16,-722521979),n=vs(n,a,i,r,t[6],23,76029189),r=vs(r,n,a,i,t[9],4,-640364487),i=vs(i,r,n,a,t[12],11,-421815835),a=vs(a,i,r,n,t[15],16,530742520),r=ys(r,n=vs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ys(i,r,n,a,t[7],10,1126891415),a=ys(a,i,r,n,t[14],15,-1416354905),n=ys(n,a,i,r,t[5],21,-57434055),r=ys(r,n,a,i,t[12],6,1700485571),i=ys(i,r,n,a,t[3],10,-1894986606),a=ys(a,i,r,n,t[10],15,-1051523),n=ys(n,a,i,r,t[1],21,-2054922799),r=ys(r,n,a,i,t[8],6,1873313359),i=ys(i,r,n,a,t[15],10,-30611744),a=ys(a,i,r,n,t[6],15,-1560198380),n=ys(n,a,i,r,t[13],21,1309151649),r=ys(r,n,a,i,t[4],6,-145523070),i=ys(i,r,n,a,t[11],10,-1120210379),a=ys(a,i,r,n,t[2],15,718787259),n=ys(n,a,i,r,t[9],21,-343485551),e[0]=wd(r,e[0]),e[1]=wd(n,e[1]),e[2]=wd(a,e[2]),e[3]=wd(i,e[3])}function nb(e,t,r,n,a,i){return t=wd(wd(t,e),wd(n,i)),wd(t<<a|t>>>32-a,r)}function xs(e,t,r,n,a,i,l){return nb(t&r|~t&n,e,t,a,i,l)}function gs(e,t,r,n,a,i,l){return nb(t&n|r&~n,e,t,a,i,l)}function vs(e,t,r,n,a,i,l){return nb(t^r^n,e,t,a,i,l)}function ys(e,t,r,n,a,i,l){return nb(r^(t|~n),e,t,a,i,l)}function JB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)P4(n,M4e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(P4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,P4(n,a),n}function M4e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var H7="0123456789abcdef".split("");function R4e(e){for(var t="",r=0;r<4;r++)t+=H7[e>>8*r+4&15]+H7[e>>8*r&15];return t}function I4e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function N_(e){return JB(e).map(I4e).join("")}var B4e=(function(e){for(var t=0;t<e.length;t++)e[t]=R4e(e[t]);return e.join("")})(JB("hello"))!="5d41402abc4b2a76b9719d911017c592";function wd(e,t){if(B4e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function __(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],u=0;u<256;u++)o[u]=u;var f=0;for(u=0;u<256;u++){var h=o[u];f=(f+h+l.charCodeAt(u))%256,o[u]=o[f],o[f]=h}r=e,n=o}else o=n;var m=t.length,g=0,x=0,b="";for(u=0;u<m;u++)x=(x+(h=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=h,l=o[(o[g]+o[x])%256],b+=String.fromCharCode(t.charCodeAt(u)^l);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var V7={print:4,modify:8,copy:16,"annot-forms":32};function Nm(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(V7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=V7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=N_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=__(this.encryptionKey,this.padding)}function _m(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function W7(e){if(_n(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(o){pr.console&&Rn.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function t2(e){if(!(this instanceof t2))return new t2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function eU(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function E0(e,t,r,n,a){if(!(this instanceof E0))return new E0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,eU.call(this,n,a)}function Am(e,t,r,n,a){if(!(this instanceof Am))return new Am(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,eU.call(this,n,a)}function Ht(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,u=16,f="S",h=null;_n(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=W7;var b="1.3",v=x.__private__.getPdfVersion=function(){return b};x.__private__.setPdfVersion=function(I){b=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return w};var N=x.__private__.getPageFormat=function(I){return w[I]};a=a||"a4";var E="compat",S="advanced",D=E;function F(){this.saveGraphicsState(),xe(new Gt(gt,0,0,-gt,0,rc()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),f="n",D=S}function O(){this.restoreGraphicsState(),f="S",D=E}var T=x.__private__.combineFontStyleAndFontWeight=function(I,Q){if(I=="bold"&&Q=="normal"||I=="bold"&&Q==400||I=="normal"&&Q=="italic"||I=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(I=Q==400||Q==="normal"?I==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||I!=="normal"?(Q==700?"bold":Q)+""+I:"bold"),I};x.advancedAPI=function(I){var Q=D===E;return Q&&F.call(this),typeof I!="function"||(I(this),Q&&O.call(this)),this},x.compatAPI=function(I){var Q=D===S;return Q&&O.call(this),typeof I!="function"||(I(this),Q&&F.call(this)),this},x.isAdvancedAPI=function(){return D===S};var M,B=function(I){if(D!==S)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=x.roundToPrecision=x.__private__.roundToPrecision=function(I,Q){var _e=t||Q;if(isNaN(I)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(_e).replace(/0+$/,"")};M=x.hpf=x.__private__.hpf=typeof u=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,u)}:u==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,16)};var R=x.f2=x.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return H(I,2)},U=x.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return H(I,3)},K=x.scale=x.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return D===E?I*gt:D===S?I:void 0},ee=function(I){return K((function(Q){return D===E?rc()-Q:D===S?Q:void 0})(I))};x.__private__.setPrecision=x.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var pe,re="00000000000000000000000000000000",se=x.__private__.getFileId=function(){return re},ye=x.__private__.setFileId=function(I){return re=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ga=new Nm(h.userPermissions,h.userPassword,h.ownerPassword,re)),re};x.setFileId=function(I){return ye(I),this},x.getFileId=function(){return se()};var oe=x.__private__.convertDateToPDFDate=function(I){var Q=I.getTimezoneOffset(),_e=Q<0?"+":"-",Ee=Math.floor(Math.abs(Q/60)),Fe=Math.abs(Q%60),et=[_e,q(Ee),"'",q(Fe),"'"].join("");return["D:",I.getFullYear(),q(I.getMonth()+1),q(I.getDate()),q(I.getHours()),q(I.getMinutes()),q(I.getSeconds()),et].join("")},ge=x.__private__.convertPDFDateToDate=function(I){var Q=parseInt(I.substr(2,4),10),_e=parseInt(I.substr(6,2),10)-1,Ee=parseInt(I.substr(8,2),10),Fe=parseInt(I.substr(10,2),10),et=parseInt(I.substr(12,2),10),ot=parseInt(I.substr(14,2),10);return new Date(Q,_e,Ee,Fe,et,ot,0)},Y=x.__private__.setCreationDate=function(I){var Q;if(I===void 0&&(I=new Date),I instanceof Date)Q=oe(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=I}return pe=Q},P=x.__private__.getCreationDate=function(I){var Q=pe;return I==="jsDate"&&(Q=ge(pe)),Q};x.setCreationDate=function(I){return Y(I),this},x.getCreationDate=function(I){return P(I)};var L,q=x.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},W=x.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},X=0,ce=[],ue=[],ae=0,Se=[],De=[],Z=!1,Ke=ue;x.__private__.setCustomOutputDestination=function(I){Z=!0,Ke=I};var Ce=function(I){Z||(Ke=I)};x.__private__.resetCustomOutputDestination=function(){Z=!1,Ke=ue};var xe=x.__private__.out=function(I){return I=I.toString(),ae+=I.length+1,Ke.push(I),Ke},dt=x.__private__.write=function(I){return xe(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Xe=x.__private__.getArrayBuffer=function(I){for(var Q=I.length,_e=new ArrayBuffer(Q),Ee=new Uint8Array(_e);Q--;)Ee[Q]=I.charCodeAt(Q);return _e},Nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Nt};var lt=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(I){return lt=D===S?I/gt:I,this};var At,pt=x.__private__.getFontSize=x.getFontSize=function(){return D===E?lt:lt*gt},Qt=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(I){return Qt=I,this},x.__private__.getR2L=x.getR2L=function(){return Qt};var Pt,Vt=x.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))At=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');At=I}else At=parseInt(I,10)};x.__private__.getZoomMode=function(){return At};var Zt,Jt=x.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Pt=I};x.__private__.getPageMode=function(){return Pt};var Dr=x.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Zt=I};x.__private__.getLayoutMode=function(){return Zt},x.__private__.setDisplayMode=x.setDisplayMode=function(I,Q,_e){return Vt(I),Dr(Q),Jt(_e),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(I){if(Object.keys(Ut).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[I]},x.__private__.getDocumentProperties=function(){return Ut},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(I){for(var Q in Ut)Ut.hasOwnProperty(Q)&&I[Q]&&(Ut[Q]=I[Q]);return this},x.__private__.setDocumentProperty=function(I,Q){if(Object.keys(Ut).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[I]=Q};var Ct,gt,St,_r,Yt,jt={},er={},br=[],ar={},Ar={},dr={},xn={},Bn=null,qr=0,Wt=[],Fr=new W7(x),Ms=e.hotfixes||[],Xa={},al={},us=[],Gt=function I(Q,_e,Ee,Fe,et,ot){if(!(this instanceof I))return new I(Q,_e,Ee,Fe,et,ot);isNaN(Q)&&(Q=1),isNaN(_e)&&(_e=0),isNaN(Ee)&&(Ee=0),isNaN(Fe)&&(Fe=1),isNaN(et)&&(et=0),isNaN(ot)&&(ot=0),this._matrix=[Q,_e,Ee,Fe,et,ot]};Object.defineProperty(Gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Gt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(I)},Gt.prototype.multiply=function(I){var Q=I.sx*this.sx+I.shy*this.shx,_e=I.sx*this.shy+I.shy*this.sy,Ee=I.shx*this.sx+I.sy*this.shx,Fe=I.shx*this.shy+I.sy*this.sy,et=I.tx*this.sx+I.ty*this.shx+this.tx,ot=I.tx*this.shy+I.ty*this.sy+this.ty;return new Gt(Q,_e,Ee,Fe,et,ot)},Gt.prototype.decompose=function(){var I=this.sx,Q=this.shy,_e=this.shx,Ee=this.sy,Fe=this.tx,et=this.ty,ot=Math.sqrt(I*I+Q*Q),Lt=(I/=ot)*_e+(Q/=ot)*Ee;_e-=I*Lt,Ee-=Q*Lt;var qt=Math.sqrt(_e*_e+Ee*Ee);return Lt/=qt,I*(Ee/=qt)<Q*(_e/=qt)&&(I=-I,Q=-Q,Lt=-Lt,ot=-ot),{scale:new Gt(ot,0,0,qt,0,0),translate:new Gt(1,0,0,1,Fe,et),rotate:new Gt(I,Q,-Q,I,0,0),skew:new Gt(1,0,Lt,1,0,0)}},Gt.prototype.toString=function(I){return this.join(" ")},Gt.prototype.inversed=function(){var I=this.sx,Q=this.shy,_e=this.shx,Ee=this.sy,Fe=this.tx,et=this.ty,ot=1/(I*Ee-Q*_e),Lt=Ee*ot,qt=-Q*ot,or=-_e*ot,xr=I*ot;return new Gt(Lt,qt,or,xr,-Lt*Fe-or*et,-qt*Fe-xr*et)},Gt.prototype.applyToPoint=function(I){var Q=I.x*this.sx+I.y*this.shx+this.tx,_e=I.x*this.shy+I.y*this.sy+this.ty;return new uo(Q,_e)},Gt.prototype.applyToRectangle=function(I){var Q=this.applyToPoint(I),_e=this.applyToPoint(new uo(I.x+I.w,I.y+I.h));return new Jo(Q.x,Q.y,_e.x-Q.x,_e.y-Q.y)},Gt.prototype.clone=function(){var I=this.sx,Q=this.shy,_e=this.shx,Ee=this.sy,Fe=this.tx,et=this.ty;return new Gt(I,Q,_e,Ee,Fe,et)},x.Matrix=Gt;var Ol=x.matrixMult=function(I,Q){return Q.multiply(I)},il=new Gt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=il;var oi=function(I,Q){if(!Ar[I]){var _e=(Q instanceof E0?"Sh":"P")+(Object.keys(ar).length+1).toString(10);Q.id=_e,Ar[I]=_e,ar[_e]=Q,Fr.publish("addPattern",Q)}};x.ShadingPattern=E0,x.TilingPattern=Am,x.addShadingPattern=function(I,Q){return B("addShadingPattern()"),oi(I,Q),this},x.beginTilingPattern=function(I){B("beginTilingPattern()"),ju(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},x.endTilingPattern=function(I,Q){B("endTilingPattern()"),Q.stream=De[L].join(`
`),oi(I,Q),Fr.publish("endTilingPattern",Q),us.pop().restore()};var Vi,Sn=x.__private__.newObject=function(){var I=na();return te(I,!0),I},na=x.__private__.newObjectDeferred=function(){return X++,ce[X]=function(){return ae},X},te=function(I,Q){return Q=typeof Q=="boolean"&&Q,ce[I]=ae,Q&&xe(I+" 0 obj"),I},Ne=x.__private__.newAdditionalObject=function(){var I={objId:na(),content:""};return Se.push(I),I},de=na(),he=na(),ve=x.__private__.decodeColorString=function(I){var Q=I.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var _e=parseFloat(Q[0]);Q=[_e,_e,_e,"r"]}for(var Ee="#",Fe=0;Fe<3;Fe++)Ee+=("0"+Math.floor(255*parseFloat(Q[Fe])).toString(16)).slice(-2);return Ee},je=x.__private__.encodeColorString=function(I){var Q;typeof I=="string"&&(I={ch1:I});var _e=I.ch1,Ee=I.ch2,Fe=I.ch3,et=I.ch4,ot=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Lt=new ZB(_e);if(Lt.ok)_e=Lt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var qt=parseInt(_e.substr(1),16);_e=qt>>16&255,Ee=qt>>8&255,Fe=255&qt}if(Ee===void 0||et===void 0&&_e===Ee&&Ee===Fe)Q=typeof _e=="string"?_e+" "+ot[0]:I.precision===2?R(_e/255)+" "+ot[0]:U(_e/255)+" "+ot[0];else if(et===void 0||_n(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",ot[1]].join(" ");Q=typeof _e=="string"?[_e,Ee,Fe,ot[1]].join(" "):I.precision===2?[R(_e/255),R(Ee/255),R(Fe/255),ot[1]].join(" "):[U(_e/255),U(Ee/255),U(Fe/255),ot[1]].join(" ")}else Q=typeof _e=="string"?[_e,Ee,Fe,et,ot[2]].join(" "):I.precision===2?[R(_e),R(Ee),R(Fe),R(et),ot[2]].join(" "):[U(_e),U(Ee),U(Fe),U(et),ot[2]].join(" ");return Q},Me=x.__private__.getFilters=function(){return l},Ge=x.__private__.putStream=function(I){var Q=(I=I||{}).data||"",_e=I.filters||Me(),Ee=I.alreadyAppliedFilters||[],Fe=I.addLength1||!1,et=Q.length,ot=I.objectId,Lt=function(Ua){return Ua};if(h!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Lt=ga.encryptor(ot,0));var qt={};_e===!0&&(_e=["FlateEncode"]);var or=I.additionalKeyValues||[],xr=(qt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(Q,_e):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(qt.data.length!==0&&(or.push({key:"Length",value:qt.data.length}),Fe===!0&&or.push({key:"Length1",value:et})),xr.length!=0)if(xr.split("/").length-1==1)or.push({key:"Filter",value:xr});else{or.push({key:"Filter",value:"["+xr+"]"});for(var Kr=0;Kr<or.length;Kr+=1)if(or[Kr].key==="DecodeParms"){for(var Wn=[],va=0;va<qt.reverseChain.split("/").length-1;va+=1)Wn.push("null");Wn.push(or[Kr].value),or[Kr].value="["+Wn.join(" ")+"]"}}xe("<<");for(var An=0;An<or.length;An++)xe("/"+or[An].key+" "+or[An].value);xe(">>"),qt.data.length!==0&&(xe("stream"),xe(Lt(qt.data)),xe("endstream"))},Ie=x.__private__.putPage=function(I){var Q=I.number,_e=I.data,Ee=I.objId,Fe=I.contentsObjId;te(Ee,!0),xe("<</Type /Page"),xe("/Parent "+I.rootDictionaryObjId+" 0 R"),xe("/Resources "+I.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(M(I.mediaBox.bottomLeftX))+" "+parseFloat(M(I.mediaBox.bottomLeftY))+" "+M(I.mediaBox.topRightX)+" "+M(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&xe("/CropBox ["+M(I.cropBox.bottomLeftX)+" "+M(I.cropBox.bottomLeftY)+" "+M(I.cropBox.topRightX)+" "+M(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&xe("/BleedBox ["+M(I.bleedBox.bottomLeftX)+" "+M(I.bleedBox.bottomLeftY)+" "+M(I.bleedBox.topRightX)+" "+M(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&xe("/TrimBox ["+M(I.trimBox.bottomLeftX)+" "+M(I.trimBox.bottomLeftY)+" "+M(I.trimBox.topRightX)+" "+M(I.trimBox.topRightY)+"]"),I.artBox!==null&&xe("/ArtBox ["+M(I.artBox.bottomLeftX)+" "+M(I.artBox.bottomLeftY)+" "+M(I.artBox.topRightX)+" "+M(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&xe("/UserUnit "+I.userUnit),Fr.publish("putPage",{objId:Ee,pageContext:Wt[Q],pageNumber:Q,page:_e}),xe("/Contents "+Fe+" 0 R"),xe(">>"),xe("endobj");var et=_e.join(`
`);return D===S&&(et+=`
Q`),te(Fe,!0),Ge({data:et,filters:Me(),objectId:Fe}),xe("endobj"),Ee},Be=x.__private__.putPages=function(){var I,Q,_e=[];for(I=1;I<=qr;I++)Wt[I].objId=na(),Wt[I].contentsObjId=na();for(I=1;I<=qr;I++)_e.push(Ie({number:I,data:De[I],objId:Wt[I].objId,contentsObjId:Wt[I].contentsObjId,mediaBox:Wt[I].mediaBox,cropBox:Wt[I].cropBox,bleedBox:Wt[I].bleedBox,trimBox:Wt[I].trimBox,artBox:Wt[I].artBox,userUnit:Wt[I].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:he}));te(de,!0),xe("<</Type /Pages");var Ee="/Kids [";for(Q=0;Q<qr;Q++)Ee+=_e[Q]+" 0 R ";xe(Ee+"]"),xe("/Count "+qr),xe(">>"),xe("endobj"),Fr.publish("postPutPages")},ze=function(I){Fr.publish("putFont",{font:I,out:xe,newObject:Sn,putStream:Ge}),I.isAlreadyPutted!==!0&&(I.objectNumber=Sn(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+_m(I.postScriptName)),xe("/Subtype /Type1"),typeof I.encoding=="string"&&xe("/Encoding /"+I.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},ut=function(I){I.objectNumber=Sn();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[M(I.x),M(I.y),M(I.x+I.width),M(I.y+I.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var _e=I.pages[1].join(`
`);Ge({data:_e,additionalKeyValues:Q,objectId:I.objectNumber}),xe("endobj")},mt=function(I,Q){Q||(Q=21);var _e=Sn(),Ee=(function(ot,Lt){var qt,or=[],xr=1/(Lt-1);for(qt=0;qt<1;qt+=xr)or.push(qt);if(or.push(1),ot[0].offset!=0){var Kr={offset:0,color:ot[0].color};ot.unshift(Kr)}if(ot[ot.length-1].offset!=1){var Wn={offset:1,color:ot[ot.length-1].color};ot.push(Wn)}for(var va="",An=0,Ua=0;Ua<or.length;Ua++){for(qt=or[Ua];qt>ot[An+1].offset;)An++;var Aa=ot[An].offset,ui=(qt-Aa)/(ot[An+1].offset-Aa),ll=ot[An].color,fs=ot[An+1].color;va+=W(Math.round((1-ui)*ll[0]+ui*fs[0]).toString(16))+W(Math.round((1-ui)*ll[1]+ui*fs[1]).toString(16))+W(Math.round((1-ui)*ll[2]+ui*fs[2]).toString(16))}return va.trim()})(I.colors,Q),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+Q+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:Ee,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),xe("endobj"),I.objectNumber=Sn(),xe("<< /ShadingType "+I.type),xe("/ColorSpace /DeviceRGB");var et="/Coords ["+M(parseFloat(I.coords[0]))+" "+M(parseFloat(I.coords[1]))+" ";I.type===2?et+=M(parseFloat(I.coords[2]))+" "+M(parseFloat(I.coords[3])):et+=M(parseFloat(I.coords[2]))+" "+M(parseFloat(I.coords[3]))+" "+M(parseFloat(I.coords[4]))+" "+M(parseFloat(I.coords[5])),xe(et+="]"),I.matrix&&xe("/Matrix ["+I.matrix.toString()+"]"),xe("/Function "+_e+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},_t=function(I,Q){var _e=na(),Ee=Sn();Q.push({resourcesOid:_e,objectOid:Ee}),I.objectNumber=Ee;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+I.boundingBox.map(M).join(" ")+"]"}),Fe.push({key:"XStep",value:M(I.xStep)}),Fe.push({key:"YStep",value:M(I.yStep)}),Fe.push({key:"Resources",value:_e+" 0 R"}),I.matrix&&Fe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Ge({data:I.stream,additionalKeyValues:Fe,objectId:I.objectNumber}),xe("endobj")},ht=function(I){for(var Q in I.objectNumber=Sn(),xe("<<"),I)switch(Q){case"opacity":xe("/ca "+R(I[Q]));break;case"stroke-opacity":xe("/CA "+R(I[Q]))}xe(">>"),xe("endobj")},yt=function(I){te(I.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Q in xe("/Font <<"),jt)jt.hasOwnProperty(Q)&&(m===!1||m===!0&&g.hasOwnProperty(Q))&&xe("/"+Q+" "+jt[Q].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(ar).length>0){for(var Q in xe("/Shading <<"),ar)ar.hasOwnProperty(Q)&&ar[Q]instanceof E0&&ar[Q].objectNumber>=0&&xe("/"+Q+" "+ar[Q].objectNumber+" 0 R");Fr.publish("putShadingPatternDict"),xe(">>")}})(),(function(Q){if(Object.keys(ar).length>0){for(var _e in xe("/Pattern <<"),ar)ar.hasOwnProperty(_e)&&ar[_e]instanceof x.TilingPattern&&ar[_e].objectNumber>=0&&ar[_e].objectNumber<Q&&xe("/"+_e+" "+ar[_e].objectNumber+" 0 R");Fr.publish("putTilingPatternDict"),xe(">>")}})(I.objectOid),(function(){if(Object.keys(dr).length>0){var Q;for(Q in xe("/ExtGState <<"),dr)dr.hasOwnProperty(Q)&&dr[Q].objectNumber>=0&&xe("/"+Q+" "+dr[Q].objectNumber+" 0 R");Fr.publish("putGStateDict"),xe(">>")}})(),(function(){for(var Q in xe("/XObject <<"),Xa)Xa.hasOwnProperty(Q)&&Xa[Q].objectNumber>=0&&xe("/"+Q+" "+Xa[Q].objectNumber+" 0 R");Fr.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Tt=function(I){er[I.fontName]=er[I.fontName]||{},er[I.fontName][I.fontStyle]=I.id},ln=function(I,Q,_e,Ee,Fe){var et={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:I,fontName:Q,fontStyle:_e,encoding:Ee,isStandardFont:Fe||!1,metadata:{}};return Fr.publish("addFont",{font:et,instance:this}),jt[et.id]=et,Tt(et),et.id},kr=x.__private__.pdfEscape=x.pdfEscape=function(I,Q){return(function(_e,Ee){var Fe,et,ot,Lt,qt,or,xr,Kr,Wn;if(ot=(Ee=Ee||{}).sourceEncoding||"Unicode",qt=Ee.outputEncoding,(Ee.autoencode||qt)&&jt[Ct].metadata&&jt[Ct].metadata[ot]&&jt[Ct].metadata[ot].encoding&&(Lt=jt[Ct].metadata[ot].encoding,!qt&&jt[Ct].encoding&&(qt=jt[Ct].encoding),!qt&&Lt.codePages&&(qt=Lt.codePages[0]),typeof qt=="string"&&(qt=Lt[qt]),qt)){for(xr=!1,or=[],Fe=0,et=_e.length;Fe<et;Fe++)(Kr=qt[_e.charCodeAt(Fe)])?or.push(String.fromCharCode(Kr)):or.push(_e[Fe]),or[Fe].charCodeAt(0)>>8&&(xr=!0);_e=or.join("")}for(Fe=_e.length;xr===void 0&&Fe!==0;)_e.charCodeAt(Fe-1)>>8&&(xr=!0),Fe--;if(!xr)return _e;for(or=Ee.noBOM?[]:[254,255],Fe=0,et=_e.length;Fe<et;Fe++){if((Wn=(Kr=_e.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");or.push(Wn),or.push(Kr-(Wn<<8))}return String.fromCharCode.apply(void 0,or)})(I,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fn=x.__private__.beginPage=function(I){De[++qr]=[],Wt[qr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Fl(qr),Ce(De[L])},Wi=function(I,Q){var _e,Ee,Fe;switch(r=Q||r,typeof I=="string"&&(_e=N(I.toLowerCase()),Array.isArray(_e)&&(Ee=_e[0],Fe=_e[1])),Array.isArray(I)&&(Ee=I[0]*gt,Fe=I[1]*gt),isNaN(Ee)&&(Ee=a[0],Fe=a[1]),(Ee>14400||Fe>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Fe=Math.min(14400,Fe)),a=[Ee,Fe],r.substr(0,1)){case"l":Fe>Ee&&(a=[Fe,Ee]);break;case"p":Ee>Fe&&(a=[Fe,Ee])}fn(a),Ic(bu),xe(Us),Ff!==0&&xe(Ff+" J"),Qa!==0&&xe(Qa+" j"),Fr.publish("addPage",{pageNumber:qr})},Dl=function(I){I>0&&I<=qr&&(De.splice(I,1),Wt.splice(I,1),qr--,L>qr&&(L=qr),this.setPage(L))},Fl=function(I){I>0&&I<=qr&&(L=I)},Rs=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return De.length-1},Rc=function(I,Q,_e){var Ee,Fe=void 0;return _e=_e||{},I=I!==void 0?I:jt[Ct].fontName,Q=Q!==void 0?Q:jt[Ct].fontStyle,Ee=I.toLowerCase(),er[Ee]!==void 0&&er[Ee][Q]!==void 0?Fe=er[Ee][Q]:er[I]!==void 0&&er[I][Q]!==void 0?Fe=er[I][Q]:_e.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+I+"', '"+Q+"'. Refer to getFontList() for available fonts."),Fe||_e.noFallback||(Fe=er.times[Q])==null&&(Fe=er.times.normal),Fe},Ba=x.__private__.putInfo=function(){var I=Sn(),Q=function(Ee){return Ee};for(var _e in h!==null&&(Q=ga.encryptor(I,0)),xe("<<"),xe("/Producer ("+kr(Q("jsPDF "+Ht.version))+")"),Ut)Ut.hasOwnProperty(_e)&&Ut[_e]&&xe("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+kr(Q(Ut[_e]))+")");xe("/CreationDate ("+kr(Q(pe))+")"),xe(">>"),xe("endobj")},Of=x.__private__.putCatalog=function(I){var Q=(I=I||{}).rootDictionaryObjId||de;switch(Sn(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+Q+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+At;_e.substr(_e.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+R(At)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}Pt&&xe("/PageMode /"+Pt),Fr.publish("putCatalog"),xe(">>"),xe("endobj")},dn=x.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(X+1)),xe("/Root "+X+" 0 R"),xe("/Info "+(X-1)+" 0 R"),h!==null&&xe("/Encrypt "+ga.oid+" 0 R"),xe("/ID [ <"+re+"> <"+re+"> ]"),xe(">>")},Gi=x.__private__.putHeader=function(){xe("%PDF-"+b),xe("%")},Yd=x.__private__.putXRef=function(){var I="0000000000";xe("xref"),xe("0 "+(X+1)),xe("0000000000 65535 f ");for(var Q=1;Q<=X;Q++)typeof ce[Q]=="function"?xe((I+ce[Q]()).slice(-10)+" 00000 n "):ce[Q]!==void 0?xe((I+ce[Q]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},Yo=x.__private__.buildDocument=function(){var I;X=0,ae=0,ue=[],ce=[],Se=[],de=na(),he=na(),Ce(ue),Fr.publish("buildDocument"),Gi(),Be(),(function(){Fr.publish("putAdditionalObjects");for(var _e=0;_e<Se.length;_e++){var Ee=Se[_e];te(Ee.objId,!0),xe(Ee.content),xe("endobj")}Fr.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var _e in jt)jt.hasOwnProperty(_e)&&(m===!1||m===!0&&g.hasOwnProperty(_e))&&ze(jt[_e])})(),(function(){var _e;for(_e in dr)dr.hasOwnProperty(_e)&&ht(dr[_e])})(),(function(){for(var _e in Xa)Xa.hasOwnProperty(_e)&&ut(Xa[_e])})(),(function(_e){var Ee;for(Ee in ar)ar.hasOwnProperty(Ee)&&(ar[Ee]instanceof E0?mt(ar[Ee]):ar[Ee]instanceof Am&&_t(ar[Ee],_e))})(I),Fr.publish("putResources"),I.forEach(yt),yt({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),Fr.publish("postPutResources"),h!==null&&(ga.oid=Sn(),xe("<<"),xe("/Filter /Standard"),xe("/V "+ga.v),xe("/R "+ga.r),xe("/U <"+ga.toHexString(ga.U)+">"),xe("/O <"+ga.toHexString(ga.O)+">"),xe("/P "+ga.P),xe(">>"),xe("endobj")),Ba(),Of();var Q=ae;return Yd(),dn(),xe("startxref"),xe(""+Q),xe("%%EOF"),Ce(De[L]),ue.join(`
`)},Xo=x.__private__.getBlob=function(I){return new Blob([Xe(I)],{type:"application/pdf"})},sl=x.output=x.__private__.output=(Vi=function(I,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",I){case void 0:return Yo();case"save":x.save(Q.filename);break;case"arraybuffer":return Xe(Yo());case"blob":return Xo(Yo());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(Xo(Yo()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ee=Yo();try{_e=$7(Ee)}catch{_e=$7(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+Q.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Fe=Q.pdfObjectUrl,et="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",Lt=pr.open();return Lt!==null&&Lt.document.write(ot),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',or=pr.open();if(or!==null){or.document.write(qt);var xr=this;or.document.documentElement.querySelector("#pdfViewer").onload=function(){or.document.title=Q.filename,or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',Wn=pr.open();if(Wn!==null&&(Wn.document.write(Kr),Wn.document.title=Q.filename),Wn||typeof safari>"u")return Wn;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",Q);default:return null}},Vi.foo=function(){try{return Vi.apply(this,arguments)}catch(_e){var I=_e.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Q="Error in function "+I.split(`
`)[0].split("<")[0]+": "+_e.message;if(!pr.console)throw new Error(Q);pr.console.error(Q,_e),pr.alert&&alert(Q)}},Vi.foo.bar=Vi,Vi.foo),oo=function(I){return Array.isArray(Ms)===!0&&Ms.indexOf(I)>-1};switch(n){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=oo("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);gt=n}var ga=null;Y(),ye();var Ci=x.__private__.getPageInfo=x.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[I].objId,pageNumber:I,pageContext:Wt[I]}},Xd=x.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Wt)if(Wt[Q].objId===I)break;return Ci(Q)},_h=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Wt[L].objId,pageNumber:L,pageContext:Wt[L]}};x.addPage=function(){return Wi.apply(this,arguments),this},x.setPage=function(){return Fl.apply(this,arguments),Ce.call(this,De[L]),this},x.insertPage=function(I){return this.addPage(),this.movePage(L,I),this},x.movePage=function(I,Q){var _e,Ee;if(I>Q){_e=De[I],Ee=Wt[I];for(var Fe=I;Fe>Q;Fe--)De[Fe]=De[Fe-1],Wt[Fe]=Wt[Fe-1];De[Q]=_e,Wt[Q]=Ee,this.setPage(Q)}else if(I<Q){_e=De[I],Ee=Wt[I];for(var et=I;et<Q;et++)De[et]=De[et+1],Wt[et]=Wt[et+1];De[Q]=_e,Wt[Q]=Ee,this.setPage(Q)}return this},x.deletePage=function(){return Dl.apply(this,arguments),this},x.__private__.text=x.text=function(I,Q,_e,Ee,Fe){var et,ot,Lt,qt,or,xr,Kr,Wn,va,An=(Ee=Ee||{}).scope||this;if(typeof I=="number"&&typeof Q=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Ua=_e;_e=Q,Q=I,I=Ua}if(arguments[3]instanceof Gt==0?(Lt=arguments[4],qt=arguments[5],_n(Kr=arguments[3])==="object"&&Kr!==null||(typeof Lt=="string"&&(qt=Lt,Lt=null),typeof Kr=="string"&&(qt=Kr,Kr=null),typeof Kr=="number"&&(Lt=Kr,Kr=null),Ee={flags:Kr,angle:Lt,align:qt})):(B("The transform parameter of text() with a Matrix value"),va=Fe),isNaN(Q)||isNaN(_e)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return An;var Aa,ui="",ll=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Qo,fs=An.internal.scaleFactor;function Oh(Yr){return Yr=Yr.split("	").join(Array(Ee.TabLen||9).join(" ")),kr(Yr,Kr)}function Lf(Yr){for(var Ur,En=Yr.concat(),ba=[],bo=En.length;bo--;)typeof(Ur=En.shift())=="string"?ba.push(Ur):Array.isArray(Yr)&&(Ur.length===1||Ur[1]===void 0&&Ur[2]===void 0)?ba.push(Ur[0]):ba.push([Ur[0],Ur[1],Ur[2]]);return ba}function Au(Yr,Ur){var En;if(typeof Yr=="string")En=Ur(Yr)[0];else if(Array.isArray(Yr)){for(var ba,bo,Bl=Yr.concat(),Cu=[],l0=Bl.length;l0--;)typeof(ba=Bl.shift())=="string"?Cu.push(Ur(ba)[0]):Array.isArray(ba)&&typeof ba[0]=="string"&&(bo=Ur(ba[0],ba[1],ba[2]),Cu.push([bo[0],bo[1],bo[2]]));En=Cu}return En}var ho=!1,Ml=!0;if(typeof I=="string")ho=!0;else if(Array.isArray(I)){var Eu=I.concat();ot=[];for(var Uc,fi=Eu.length;fi--;)(typeof(Uc=Eu.shift())!="string"||Array.isArray(Uc)&&typeof Uc[0]!="string")&&(Ml=!1);ho=Ml}if(ho===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var zc=lt/An.internal.scaleFactor,qc=zc*(ll-1);switch(Ee.baseline){case"bottom":_e-=qc;break;case"top":_e+=zc-qc;break;case"hanging":_e+=zc-2*qc;break;case"middle":_e+=zc/2-qc}if((xr=Ee.maxWidth||0)>0&&(typeof I=="string"?I=An.splitTextToSize(I,xr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Yr,Ur){return Yr.concat(An.splitTextToSize(Ur,xr))},[]))),et={text:I,x:Q,y:_e,options:Ee,mutex:{pdfEscape:kr,activeFontKey:Ct,fonts:jt,activeFontSize:lt}},Fr.publish("preProcessText",et),I=et.text,Lt=(Ee=et.options).angle,va instanceof Gt==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Ee.rotationDirection===0&&(Lt=-Lt),D===S&&(Lt=-Lt);var Mf=Math.cos(Lt),mo=Math.sin(Lt);va=new Gt(Mf,mo,-mo,Mf,0,0)}else Lt&&Lt instanceof Gt&&(va=Lt);D!==S||va||(va=il),(or=Ee.charSpace||Zo)!==void 0&&(ui+=M(K(or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wn=Ee.horizontalScale)!==void 0&&(ui+=M(100*Wn)+` Tz
`),Ee.lang;var aa=-1,nc=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Rf=An.internal.getCurrentPageInfo().pageContext;switch(nc){case 0:case!1:case"fill":aa=0;break;case 1:case!0:case"stroke":aa=1;break;case 2:case"fillThenStroke":aa=2;break;case 3:case"invisible":aa=3;break;case 4:case"fillAndAddForClipping":aa=4;break;case 5:case"strokeAndAddPathForClipping":aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":aa=6;break;case 7:case"addToPathForClipping":aa=7}var i0=Rf.usedRenderingMode!==void 0?Rf.usedRenderingMode:-1;aa!==-1?ui+=aa+` Tr
`:i0!==-1&&(ui+=`0 Tr
`),aa!==-1&&(Rf.usedRenderingMode=aa),qt=Ee.align||"left";var qs,Rl=lt*ll,ac=An.internal.pageSize.getWidth(),s0=jt[Ct];or=Ee.charSpace||Zo,xr=Ee.maxWidth||0,Kr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Il=[],$c=function(Yr){return An.getStringUnitWidth(Yr,{font:s0,charSpace:or,fontSize:lt,doKerning:!1})*lt/fs};if(Object.prototype.toString.call(I)==="[object Array]"){var ds;ot=Lf(I),qt!=="left"&&(qs=ot.map($c));var Yi,po=0;if(qt==="right"){Q-=qs[0],I=[],fi=ot.length;for(var xo=0;xo<fi;xo++)xo===0?(Yi=Bs(Q),ds=ci(_e)):(Yi=K(po-qs[xo]),ds=-Rl),I.push([ot[xo],Yi,ds]),po=qs[xo]}else if(qt==="center"){Q-=qs[0]/2,I=[],fi=ot.length;for(var ic=0;ic<fi;ic++)ic===0?(Yi=Bs(Q),ds=ci(_e)):(Yi=K((po-qs[ic])/2),ds=-Rl),I.push([ot[ic],Yi,ds]),po=qs[ic]}else if(qt==="left"){I=[],fi=ot.length;for(var If=0;If<fi;If++)I.push(ot[If])}else if(qt==="justify"&&s0.encoding==="Identity-H"){I=[],fi=ot.length,xr=xr!==0?xr:ac;for(var Bf=0,ya=0;ya<fi;ya++)if(ds=ya===0?ci(_e):-Rl,Yi=ya===0?Bs(Q):Bf,ya<fi-1){var Dh=K((xr-qs[ya])/(ot[ya].split(" ").length-1)),go=ot[ya].split(" ");I.push([go[0]+" ",Yi,ds]),Bf=0;for(var vo=1;vo<go.length;vo++){var di=($c(go[vo-1]+" "+go[vo])-$c(go[vo]))*fs+Dh;vo==go.length-1?I.push([go[vo],di,0]):I.push([go[vo]+" ",di,0]),Bf-=di}}else I.push([ot[ya],Yi,ds]);I.push(["",Bf,0])}else{if(qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],fi=ot.length,xr=xr!==0?xr:ac,ya=0;ya<fi;ya++){ds=ya===0?ci(_e):-Rl,Yi=ya===0?Bs(Q):0;var sc=ot[ya].split(" ").length-1,Uf=sc>0?(xr-qs[ya])/sc:0;ya<fi-1?Il.push(M(K(Uf))):Il.push(0),I.push([ot[ya],Yi,ds])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Qt)===!0&&(I=Au(I,function(Yr,Ur,En){return[Yr.split("").reverse().join(""),Ur,En]})),et={text:I,x:Q,y:_e,options:Ee,mutex:{pdfEscape:kr,activeFontKey:Ct,fonts:jt,activeFontSize:lt}},Fr.publish("postProcessText",et),I=et.text,Aa=et.mutex.isHex||!1;var zf=jt[Ct].encoding;zf!=="WinAnsiEncoding"&&zf!=="StandardEncoding"||(I=Au(I,function(Yr,Ur,En){return[Oh(Yr),Ur,En]})),ot=Lf(I),I=[];for(var lc,oc,yo,ku=Array.isArray(ot[0])?1:0,$s="",cc=function(Yr,Ur,En){var ba="";return En instanceof Gt?(En=typeof Ee.angle=="number"?Ol(En,new Gt(1,0,0,1,Yr,Ur)):Ol(new Gt(1,0,0,1,Yr,Ur),En),D===S&&(En=Ol(new Gt(1,0,0,-1,0,0),En)),ba=En.join(" ")+` Tm
`):ba=M(Yr)+" "+M(Ur)+` Td
`,ba},Ti=0;Ti<ot.length;Ti++){switch($s="",ku){case 1:yo=(Aa?"<":"(")+ot[Ti][0]+(Aa?">":")"),lc=parseFloat(ot[Ti][1]),oc=parseFloat(ot[Ti][2]);break;case 0:yo=(Aa?"<":"(")+ot[Ti]+(Aa?">":")"),lc=Bs(Q),oc=ci(_e)}Il!==void 0&&Il[Ti]!==void 0&&($s=Il[Ti]+` Tw
`),Ti===0?I.push($s+cc(lc,oc,va)+yo):ku===0?I.push($s+yo):ku===1&&I.push($s+cc(lc,oc,va)+yo)}I=ku===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var ol=`BT
/`;return ol+=Ct+" "+lt+` Tf
`,ol+=M(lt*ll)+` TL
`,ol+=co+`
`,ol+=ui,ol+=I,xe(ol+="ET"),g[Ct]=!0,An};var Qd=x.__private__.clip=x.clip=function(I){return xe(I==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Qd("evenodd")},x.__private__.discardPath=x.discardPath=function(){return xe("n"),this};var Ki=x.__private__.isValidStyle=function(I){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Q=!0),Q};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(I){return Ki(I)&&(f=I),this};var Zd=x.__private__.getStyle=x.getStyle=function(I){var Q=f;switch(I){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=I}return Q},Jd=x.close=function(){return xe("h"),this};x.stroke=function(){return xe("S"),this},x.fill=function(I){return Is("f",I),this},x.fillEvenOdd=function(I){return Is("f*",I),this},x.fillStroke=function(I){return Is("B",I),this},x.fillStrokeEvenOdd=function(I){return Is("B*",I),this};var Is=function(I,Q){_n(Q)==="object"?Sh(Q,I):xe(I)},e0=function(I){I===null||D===S&&I===void 0||(I=Zd(I),xe(I))};function jh(I,Q,_e,Ee,Fe){var et=new Am(Q||this.boundingBox,_e||this.xStep,Ee||this.yStep,this.gState,Fe||this.matrix);et.stream=this.stream;var ot=I+"$$"+this.cloneIndex+++"$$";return oi(ot,et),et}var Sh=function(I,Q){var _e=Ar[I.key],Ee=ar[_e];if(Ee instanceof E0)xe("q"),xe(t0(Q)),Ee.gState&&x.setGState(Ee.gState),xe(I.matrix.toString()+" cm"),xe("/"+_e+" sh"),xe("Q");else if(Ee instanceof Am){var Fe=new Gt(1,0,0,-1,0,rc());I.matrix&&(Fe=Fe.multiply(I.matrix||il),_e=jh.call(Ee,I.key,I.boundingBox,I.xStep,I.yStep,Fe).id),xe("q"),xe("/Pattern cs"),xe("/"+_e+" scn"),Ee.gState&&x.setGState(Ee.gState),xe(Q),xe("Q")}},t0=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},r0=x.moveTo=function(I,Q){return xe(M(K(I))+" "+M(ee(Q))+" m"),this},yu=x.lineTo=function(I,Q){return xe(M(K(I))+" "+M(ee(Q))+" l"),this},Pl=x.curveTo=function(I,Q,_e,Ee,Fe,et){return xe([M(K(I)),M(ee(Q)),M(K(_e)),M(ee(Ee)),M(K(Fe)),M(ee(et)),"c"].join(" ")),this};x.__private__.line=x.line=function(I,Q,_e,Ee,Fe){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(Ee)||!Ki(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return D===E?this.lines([[_e-I,Ee-Q]],I,Q,[1,1],Fe||"S"):this.lines([[_e-I,Ee-Q]],I,Q,[1,1]).stroke()},x.__private__.lines=x.lines=function(I,Q,_e,Ee,Fe,et){var ot,Lt,qt,or,xr,Kr,Wn,va,An,Ua,Aa,ui;if(typeof I=="number"&&(ui=_e,_e=Q,Q=I,I=ui),Ee=Ee||[1,1],et=et||!1,isNaN(Q)||isNaN(_e)||!Array.isArray(I)||!Array.isArray(Ee)||!Ki(Fe)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(r0(Q,_e),ot=Ee[0],Lt=Ee[1],or=I.length,Ua=Q,Aa=_e,qt=0;qt<or;qt++)(xr=I[qt]).length===2?(Ua=xr[0]*ot+Ua,Aa=xr[1]*Lt+Aa,yu(Ua,Aa)):(Kr=xr[0]*ot+Ua,Wn=xr[1]*Lt+Aa,va=xr[2]*ot+Ua,An=xr[3]*Lt+Aa,Ua=xr[4]*ot+Ua,Aa=xr[5]*Lt+Aa,Pl(Kr,Wn,va,An,Ua,Aa));return et&&Jd(),e0(Fe),this},x.path=function(I){for(var Q=0;Q<I.length;Q++){var _e=I[Q],Ee=_e.c;switch(_e.op){case"m":r0(Ee[0],Ee[1]);break;case"l":yu(Ee[0],Ee[1]);break;case"c":Pl.apply(this,Ee);break;case"h":Jd()}}return this},x.__private__.rect=x.rect=function(I,Q,_e,Ee,Fe){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(Ee)||!Ki(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return D===E&&(Ee=-Ee),xe([M(K(I)),M(ee(Q)),M(K(_e)),M(K(Ee)),"re"].join(" ")),e0(Fe),this},x.__private__.triangle=x.triangle=function(I,Q,_e,Ee,Fe,et,ot){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(Ee)||isNaN(Fe)||isNaN(et)||!Ki(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-I,Ee-Q],[Fe-_e,et-Ee],[I-Fe,Q-et]],I,Q,[1,1],ot,!0),this},x.__private__.roundedRect=x.roundedRect=function(I,Q,_e,Ee,Fe,et,ot){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(Ee)||isNaN(Fe)||isNaN(et)||!Ki(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*_e),et=Math.min(et,.5*Ee),this.lines([[_e-2*Fe,0],[Fe*Lt,0,Fe,et-et*Lt,Fe,et],[0,Ee-2*et],[0,et*Lt,-Fe*Lt,et,-Fe,et],[2*Fe-_e,0],[-Fe*Lt,0,-Fe,-et*Lt,-Fe,-et],[0,2*et-Ee],[0,-et*Lt,Fe*Lt,-et,Fe,-et]],I+Fe,Q,[1,1],ot,!0),this},x.__private__.ellipse=x.ellipse=function(I,Q,_e,Ee,Fe){if(isNaN(I)||isNaN(Q)||isNaN(_e)||isNaN(Ee)||!Ki(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*_e,ot=4/3*(Math.SQRT2-1)*Ee;return r0(I+_e,Q),Pl(I+_e,Q-ot,I+et,Q-Ee,I,Q-Ee),Pl(I-et,Q-Ee,I-_e,Q-ot,I-_e,Q),Pl(I-_e,Q+ot,I-et,Q+Ee,I,Q+Ee),Pl(I+et,Q+Ee,I+_e,Q+ot,I+_e,Q),e0(Fe),this},x.__private__.circle=x.circle=function(I,Q,_e,Ee){if(isNaN(I)||isNaN(Q)||isNaN(_e)||!Ki(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Q,_e,_e,Ee)},x.setFont=function(I,Q,_e){return _e&&(Q=T(Q,_e)),Ct=Rc(I,Q,{disableWarning:!1}),this};var Ll=x.__private__.getFont=x.getFont=function(){return jt[Rc.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var I,Q,_e={};for(I in er)if(er.hasOwnProperty(I))for(Q in _e[I]=[],er[I])er[I].hasOwnProperty(Q)&&_e[I].push(Q);return _e},x.addFont=function(I,Q,_e,Ee,Fe){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(_e=T(_e,Ee)),ln.call(this,I,Q,_e,Fe=Fe||"Identity-H")};var Qo,bu=e.lineWidth||.200025,ir=x.__private__.getLineWidth=x.getLineWidth=function(){return bu},Ic=x.__private__.setLineWidth=x.setLineWidth=function(I){return bu=I,xe(M(K(I))+" w"),this};x.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(I,Q){if(I=I||[],Q=Q||0,isNaN(Q)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(_e){return M(K(_e))}).join(" "),Q=M(K(Q)),xe("["+I+"] "+Q+" d"),this};var Ah=x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Qo};x.__private__.getLineHeight=x.getLineHeight=function(){return lt*Qo};var n0=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Qo=I),this},Eh=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Qo};n0(e.lineHeight);var Bs=x.__private__.getHorizontalCoordinate=function(I){return K(I)},ci=x.__private__.getVerticalCoordinate=function(I){return D===S?I:Wt[L].mediaBox.topRightY-Wt[L].mediaBox.bottomLeftY-K(I)},a0=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(I){return M(Bs(I))},wu=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(I){return M(ci(I))},Us=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ve(Us)},x.__private__.setStrokeColor=x.setDrawColor=function(I,Q,_e,Ee){return Us=je({ch1:I,ch2:Q,ch3:_e,ch4:Ee,pdfColorType:"draw",precision:2}),xe(Us),this};var Nu=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ve(Nu)},x.__private__.setFillColor=x.setFillColor=function(I,Q,_e,Ee){return Nu=je({ch1:I,ch2:Q,ch3:_e,ch4:Ee,pdfColorType:"fill",precision:2}),xe(Nu),this};var co=e.textColor||"0 g",_u=x.__private__.getTextColor=x.getTextColor=function(){return ve(co)};x.__private__.setTextColor=x.setTextColor=function(I,Q,_e,Ee){return co=je({ch1:I,ch2:Q,ch3:_e,ch4:Ee,pdfColorType:"text",precision:3}),this};var Zo=e.charSpace,Df=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Zo||0)};x.__private__.setCharSpace=x.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zo=I,this};var Ff=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(I){var Q=x.CapJoinStyles[I];if(Q===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ff=Q,xe(Q+" J"),this};var Qa=0;x.__private__.setLineJoin=x.setLineJoin=function(I){var Q=x.CapJoinStyles[I];if(Q===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qa=Q,xe(Q+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(M(K(I))+" M"),this},x.GState=t2,x.setGState=function(I){(I=typeof I=="string"?dr[xn[I]]:zs(null,I)).equals(Bn)||(xe("/"+I.id+" gs"),Bn=I)};var zs=function(I,Q){if(!I||!xn[I]){var _e=!1;for(var Ee in dr)if(dr.hasOwnProperty(Ee)&&dr[Ee].equals(Q)){_e=!0;break}if(_e)Q=dr[Ee];else{var Fe="GS"+(Object.keys(dr).length+1).toString(10);dr[Fe]=Q,Q.id=Fe}return I&&(xn[I]=Q.id),Fr.publish("addGState",Q),Q}};x.addGState=function(I,Q){return zs(I,Q),this},x.saveGraphicsState=function(){return xe("q"),br.push({key:Ct,size:lt,color:co}),this},x.restoreGraphicsState=function(){xe("Q");var I=br.pop();return Ct=I.key,lt=I.size,co=I.color,Bn=null,this},x.setCurrentTransformationMatrix=function(I){return xe(I.toString()+" cm"),this},x.comment=function(I){return xe("#"+I),this};var uo=function(I,Q){var _e=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(et){isNaN(et)||(_e=parseFloat(et))}});var Ee=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(et){isNaN(et)||(Ee=parseFloat(et))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(et){Fe=et.toString()}}),this},Jo=function(I,Q,_e,Ee){uo.call(this,I,Q),this.type="rect";var Fe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(ot){isNaN(ot)||(Fe=parseFloat(ot))}});var et=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ot){isNaN(ot)||(et=parseFloat(ot))}}),this},Pf=function(){this.page=qr,this.currentPage=L,this.pages=De.slice(0),this.pagesContext=Wt.slice(0),this.x=St,this.y=_r,this.matrix=Yt,this.width=Bc(L),this.height=fo(L),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Pf.prototype.restore=function(){qr=this.page,L=this.currentPage,Wt=this.pagesContext,De=this.pages,St=this.x,_r=this.y,Yt=this.matrix,Su(L,this.width),tc(L,this.height),Ke=this.outputDestination};var ju=function(I,Q,_e,Ee,Fe){us.push(new Pf),qr=L=0,De=[],St=I,_r=Q,Yt=Fe,fn([_e,Ee])};for(var ec in x.beginFormObject=function(I,Q,_e,Ee,Fe){return ju(I,Q,_e,Ee,Fe),this},x.endFormObject=function(I){return(function(Q){if(al[Q])us.pop().restore();else{var _e=new Pf,Ee="Xo"+(Object.keys(Xa).length+1).toString(10);_e.id=Ee,al[Q]=Ee,Xa[Ee]=_e,Fr.publish("addFormObject",_e),us.pop().restore()}})(I),this},x.doFormObject=function(I,Q){var _e=Xa[al[I]];return xe("q"),xe(Q.toString()+" cm"),xe("/"+_e.id+" Do"),xe("Q"),this},x.getFormObject=function(I){var Q=Xa[al[I]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},x.save=function(I,Q){return I=I||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(S0(Xo(Yo()),I),typeof S0.unload=="function"&&pr.setTimeout&&setTimeout(S0.unload,911),this):new Promise(function(_e,Ee){try{var Fe=S0(Xo(Yo()),I);typeof S0.unload=="function"&&pr.setTimeout&&setTimeout(S0.unload,911),_e(Fe)}catch(et){Ee(et.message)}})},Ht.API)Ht.API.hasOwnProperty(ec)&&(ec==="events"&&Ht.API.events.length?(function(I,Q){var _e,Ee,Fe;for(Fe=Q.length-1;Fe!==-1;Fe--)_e=Q[Fe][0],Ee=Q[Fe][1],I.subscribe.apply(I,[_e].concat(typeof Ee=="function"?[Ee]:Ee))})(Fr,Ht.API.events):x[ec]=Ht.API[ec]);function Bc(I){return Wt[I].mediaBox.topRightX-Wt[I].mediaBox.bottomLeftX}function Su(I,Q){Wt[I].mediaBox.topRightX=Q+Wt[I].mediaBox.bottomLeftX}function fo(I){return Wt[I].mediaBox.topRightY-Wt[I].mediaBox.bottomLeftY}function tc(I,Q){Wt[I].mediaBox.topRightY=Q+Wt[I].mediaBox.bottomLeftY}var kh=x.getPageWidth=function(I){return Bc(I=I||L)/gt},Ch=x.setPageWidth=function(I,Q){Su(I,Q*gt)},rc=x.getPageHeight=function(I){return fo(I=I||L)/gt},Th=x.setPageHeight=function(I,Q){tc(I,Q*gt)};return x.internal={pdfEscape:kr,getStyle:Zd,getFont:Ll,getFontSize:pt,getCharSpace:Df,getTextColor:_u,getLineHeight:Ah,getLineHeightFactor:Eh,getLineWidth:ir,write:dt,getHorizontalCoordinate:Bs,getVerticalCoordinate:ci,getCoordinateString:a0,getVerticalCoordinateString:wu,collections:{},newObject:Sn,newAdditionalObject:Ne,newObjectDeferred:na,newObjectDeferredBegin:te,getFilters:Me,putStream:Ge,events:Fr,scaleFactor:gt,pageSize:{getWidth:function(){return kh(L)},setWidth:function(I){Ch(L,I)},getHeight:function(){return rc(L)},setHeight:function(I){Th(L,I)}},encryptionOptions:h,encryption:ga,getEncryptor:function(I){return h!==null?ga.encryptor(I,0):function(Q){return Q}},output:sl,getNumberOfPages:Rs,pages:De,out:xe,f2:R,f3:U,getPageInfo:Ci,getPageInfoByObjId:Xd,getCurrentPageInfo:_h,getPDFVersion:v,Point:uo,Rectangle:Jo,Matrix:Gt,hasHotfix:oo},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return kh(L)},set:function(I){Ch(L,I)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return rc(L)},set:function(I){Th(L,I)},enumerable:!0,configurable:!0}),(function(I){for(var Q=0,_e=Nt.length;Q<_e;Q++){var Ee=ln.call(this,I[Q][0],I[Q][1],I[Q][2],Nt[Q][3],!0);m===!1&&(g[Ee]=!0);var Fe=I[Q][0].split("-");Tt({id:Ee,fontName:Fe[0],fontStyle:Fe[1]||""})}Fr.publish("addFonts",{fonts:jt,dictionary:er})}).call(x,Nt),Ct="F1",Wi(a,r),Fr.publish("initialized"),x}Nm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Nm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Nm.prototype.processOwnerPassword=function(e,t){return __(N_(t).substr(0,5),e)},Nm.prototype.encryptor=function(e,t){var r=N_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return __(r,n)}},t2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_n(e)!==_n(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ht.API={events:[]},Ht.version="3.0.3";var Fa=Ht.API,VS=1,Nh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ym=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},md=function(e){return e.toFixed(5)};Fa.__acroform__={};var Tl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},G7=function(e){return e*VS},lu=function(e){var t=new rU,r=It.internal.getHeight(e)||0,n=It.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},U4e=Fa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},z4e=Fa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},q4e=Fa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Va=Fa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return q4e(e,t-1)},Wa=Fa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return U4e(e,t-1)},Ga=Fa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return z4e(e,t-1)},$4e=Fa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],o=e[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=n(i+o)||0,u.upperRight_X=r(a+l)||0,u.upperRight_Y=n(i)||0,[Number(yr(u.lowerLeft_X)),Number(yr(u.lowerLeft_Y)),Number(yr(u.upperRight_X)),Number(yr(u.upperRight_Y))]},H4e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=j_(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=lu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},j_=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(R){return R.split(`
`)}):a.map(function(R){return[R]});var i=r,l=It.internal.getHeight(e)||0;l=l<0?-l:l;var o=It.internal.getWidth(e)||0;o=o<0?-o:o;var u=function(R,U,K){if(R+1<a.length){var ee=U+" "+a[R+1][0];return Tv(ee,e,K).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var f,h,m=Tv("3",e,i).height,g=e.multiline?l-i:(l-m)/2,x=g+=2,b=0,v=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Tv(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var N="",E=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var D=!1;if(a[S].length!==1&&w!==a[S].length-1){if((m+2)*(E+2)+2>l)continue e;N+=a[S][w],D=!0,v=S,S--}else{N=(N+=a[S][w]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var F=parseInt(S),O=u(F,N,i),T=S>=a.length-1;if(O&&!T){N+=" ",w=0;continue}if(O||T){if(T)v=F;else if(e.multiline&&(m+2)*(E+2)+2>l)continue e}else{if(!e.multiline||(m+2)*(E+2)+2>l)continue e;v=F}}for(var M="",B=b;B<=v;B++){var H=a[B];if(e.multiline){if(B===v){M+=H[w]+" ",w=(w+1)%H.length;continue}if(B===b){M+=H[H.length-1]+" ";continue}}M+=H[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=Tv(M,e,i).width,e.textAlign){case"right":f=o-h-2;break;case"center":f=(o-h)/2;break;default:f=2}t+=yr(f)+" "+yr(x)+` Td
`,t+="("+Nh(M)+`) Tj
`,t+=-yr(f)+` 0 Td
`,x=-(i+2),h=0,b=D?v:v+1,E++,N=""}break}return n.text=t,n.fontSize=i,n},Tv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},V4e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},W4e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},G4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Lc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(V4e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");VS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nU,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&W4e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],u=[],f=o.Rect;if(o.Rect&&(o.Rect=$4e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=It.createDefaultAppearanceStream(o),_n(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=H4e(o);u.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var b=x[l];typeof b=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=x)=="function"&&(b=b.call(a,o)),m+="/"+l+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:o.objId}),a.internal.out("endobj")}i&&(function(v,w){for(var N in v)if(v.hasOwnProperty(N)){var E=N,S=v[N];w.internal.newObjectDeferredBegin(S.objId,!0),_n(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete v[E]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},tU=Fa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),_n(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Nh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},L4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Nh(n(e))+")"},uu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uu.prototype.toString=function(){return this.objId+" 0 R"},uu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},uu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:tU(a,this.objId,this.scope)}):a instanceof uu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var rU=function(){uu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Tl(rU,uu);var nU=function(){uu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Nh(r(e))+")"}},set:function(r){e=r}})};Tl(nU,uu);var Lc=function e(){uu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Va(t,3)},set:function(N){N?this.F=Wa(t,3):this.F=Ga(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof r2)return;i="FieldObject"+e.FieldNum++}var N=function(E){return E};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Nh(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/VS:f},set:function(N){f=N}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof r2||this instanceof q0))return L4(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ii==0?L4(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Ii==0?N.substr(0,1)==="("?ym(N.substr(1,N.length-2)):ym(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?ym(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Ii==1?"/"+N:N}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ii==0?L4(x,this.objId,this.scope):x},set:function(N){N=N.toString(),x=this instanceof Ii==0?N.substr(0,1)==="("?ym(N.substr(1,N.length-2)):ym(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?ym(x.substr(1,x.length-1)):x},set:function(N){N=N.toString(),x=this instanceof Ii==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(N){N=!!N,v=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(N){b=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,1)},set:function(N){N?this.Ff=Wa(this.Ff,1):this.Ff=Ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,2)},set:function(N){N?this.Ff=Wa(this.Ff,2):this.Ff=Ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,3)},set:function(N){N?this.Ff=Wa(this.Ff,3):this.Ff=Ga(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');w=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(w){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Tl(Lc,uu);var Mm=function(){Lc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tU(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,l,o){o||(o=1);for(var u,f=[];u=l.exec(i);)f.push(u[o]);return f})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,18)},set:function(r){r?this.Ff=Wa(this.Ff,18):this.Ff=Ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Wa(this.Ff,19):this.Ff=Ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,20)},set:function(r){r?(this.Ff=Wa(this.Ff,20),t.sort()):this.Ff=Ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,22)},set:function(r){r?this.Ff=Wa(this.Ff,22):this.Ff=Ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,23)},set:function(r){r?this.Ff=Wa(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,27)},set:function(r){r?this.Ff=Wa(this.Ff,27):this.Ff=Ga(this.Ff,27)}}),this.hasAppearanceStream=!1};Tl(Mm,Lc);var Rm=function(){Mm.call(this),this.fontName="helvetica",this.combo=!1};Tl(Rm,Mm);var Im=function(){Rm.call(this),this.combo=!0};Tl(Im,Rm);var $v=function(){Im.call(this),this.edit=!0};Tl($v,Im);var Ii=function(){Lc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,15)},set:function(r){r?this.Ff=Wa(this.Ff,15):this.Ff=Ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,16)},set:function(r){r?this.Ff=Wa(this.Ff,16):this.Ff=Ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,17)},set:function(r){r?this.Ff=Wa(this.Ff,17):this.Ff=Ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,26)},set:function(r){r?this.Ff=Wa(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Nh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){_n(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Tl(Ii,Lc);var Hv=function(){Ii.call(this),this.pushButton=!0};Tl(Hv,Ii);var Bm=function(){Ii.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Tl(Bm,Ii);var r2=function(){var e,t;Lc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+Nh(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){_n(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Tl(r2,Lc),Bm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Bm.prototype.createOption=function(e){var t=new r2;return t.Parent=this,t.optionName=e,this.Kids.push(t),K4e.call(this.scope,t),t};var Vv=function(){Ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream()};Tl(Vv,Ii);var q0=function(){Lc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,13)},set:function(t){t?this.Ff=Wa(this.Ff,13):this.Ff=Ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,21)},set:function(t){t?this.Ff=Wa(this.Ff,21):this.Ff=Ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,23)},set:function(t){t?this.Ff=Wa(this.Ff,23):this.Ff=Ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,24)},set:function(t){t?this.Ff=Wa(this.Ff,24):this.Ff=Ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,25)},set:function(t){t?this.Ff=Wa(this.Ff,25):this.Ff=Ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,26)},set:function(t){t?this.Ff=Wa(this.Ff,26):this.Ff=Ga(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Tl(q0,Lc);var Wv=function(){q0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Va(this.Ff,14)},set:function(e){e?this.Ff=Wa(this.Ff,14):this.Ff=Ga(this.Ff,14)}}),this.password=!0};Tl(Wv,q0);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=j_(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr(It.internal.getWidth(e))+" "+yr(It.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=It.internal.getHeight(e),l=It.internal.getWidth(e),o=j_(e,e.caption);return a.push("1 g"),a.push("0 0 "+yr(l)+" "+yr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yr(l-1)+" "+yr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(It.internal.getWidth(e))+" "+yr(It.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=It.RadioButton.Circle.YesNormal,t.D[e]=It.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=It.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+md(It.internal.getWidth(e)/2)+" "+md(It.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*It.internal.Bezier_C).toFixed(5)),l=Number((n*It.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+md(It.internal.getWidth(e)/2)+" "+md(It.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+md(It.internal.getWidth(e)/2)+" "+md(It.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*It.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+md(It.internal.getWidth(e)/2)+" "+md(It.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=It.RadioButton.Cross.YesNormal,t.D[e]=It.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=lu(e);t.scope=e.scope;var r=[],n=It.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr(It.internal.getWidth(e)-2)+" "+yr(It.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=It.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(It.internal.getWidth(e))+" "+yr(It.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr(It.internal.getWidth(e)-2)+" "+yr(It.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=lu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(It.internal.getWidth(e))+" "+yr(It.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};It.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=It.internal.getWidth(e),r=It.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},It.internal.getWidth=function(e){var t=0;return _n(e)==="object"&&(t=G7(e.Rect[2])),t},It.internal.getHeight=function(e){var t=0;return _n(e)==="object"&&(t=G7(e.Rect[3])),t};var K4e=Fa.addField=function(e){if(G4e(this,e),!(e instanceof Lc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Fa.AcroFormChoiceField=Mm,Fa.AcroFormListBox=Rm,Fa.AcroFormComboBox=Im,Fa.AcroFormEditBox=$v,Fa.AcroFormButton=Ii,Fa.AcroFormPushButton=Hv,Fa.AcroFormRadioButton=Bm,Fa.AcroFormCheckBox=Vv,Fa.AcroFormTextField=q0,Fa.AcroFormPasswordField=Wv,Fa.AcroFormAppearance=It,Fa.AcroForm={ChoiceField:Mm,ListBox:Rm,ComboBox:Im,EditBox:$v,Button:Ii,PushButton:Hv,RadioButton:Bm,CheckBox:Vv,TextField:q0,PasswordField:Wv,Appearance:It},Ht.AcroForm={ChoiceField:Mm,ListBox:Rm,ComboBox:Im,EditBox:$v,Button:Ii,PushButton:Hv,RadioButton:Bm,CheckBox:Vv,TextField:q0,PasswordField:Wv,Appearance:It};Ht.AcroForm;function aU(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(R,U){var K,ee,pe,re,se,ye=r;if((U=U||r)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(O(R))for(se in n)for(pe=n[se],K=0;K<pe.length;K+=1){for(re=!0,ee=0;ee<pe[K].length;ee+=1)if(pe[K][ee]!==void 0&&pe[K][ee]!==R[ee]){re=!1;break}if(re===!0){ye=se;break}}else for(se in n)for(pe=n[se],K=0;K<pe.length;K+=1){for(re=!0,ee=0;ee<pe[K].length;ee+=1)if(pe[K][ee]!==void 0&&pe[K][ee]!==R.charCodeAt(ee)){re=!1;break}if(re===!0){ye=se;break}}return ye===r&&U!==r&&(ye=U),ye},i=function R(U){for(var K=this.internal.write,ee=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:U.width}),re.push({key:"Height",value:U.height}),U.colorSpace===N.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===N.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var se="",ye=0,oe=U.transparency.length;ye<oe;ye++)se+=U.transparency[ye]+" "+U.transparency[ye]+" ";re.push({key:"Mask",value:"["+se+"]"})}U.sMask!==void 0&&re.push({key:"SMask",value:U.objectId+1+" 0 R"});var ge=U.filter!==void 0?["/"+U.filter]:void 0;if(ee({data:U.data,additionalKeyValues:re,alreadyAppliedFilters:ge,objectId:U.objectId}),K("endobj"),"sMask"in U&&U.sMask!==void 0){var Y,P=(Y=U.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:U.bitsPerComponent,L={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:U.sMask};"filter"in U&&(L.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(U.width),L.filter=U.filter),R.call(this,L)}if(U.colorSpace===N.INDEXED){var q=this.internal.newObject();ee({data:M(new Uint8Array(U.palette)),objectId:q}),K("endobj")}},l=function(){var R=this.internal.collections[t+"images"];for(var U in R)i.call(this,R[U])},o=function(){var R,U=this.internal.collections[t+"images"],K=this.internal.write;for(var ee in U)K("/I"+(R=U[ee]).index,R.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var R=this.internal.collections[t+"images"];return u.call(this),R},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(R){return typeof e["process"+R.toUpperCase()]=="function"},g=function(R){return _n(R)==="object"&&R.nodeType===1},x=function(R,U){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var K=""+R.getAttribute("src");if(K.indexOf("data:image/")===0)return qv(unescape(K).split("base64,").pop());var ee=e.loadFile(K,!0);if(ee!==void 0)return ee}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var pe;switch(U){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return qv(R.toDataURL(pe,1).split("base64,").pop())}},b=function(R){var U=this.internal.collections[t+"images"];if(U){for(var K in U)if(R===U[K].alias)return U[K]}},v=function(R,U,K){return R||U||(R=-96,U=-96),R<0&&(R=-1*K.width*72/R/this.internal.scaleFactor),U<0&&(U=-1*K.height*72/U/this.internal.scaleFactor),R===0&&(R=U*K.width/K.height),U===0&&(U=R*K.height/K.width),[R,U]},w=function(R,U,K,ee,pe,re){var se=v.call(this,K,ee,pe),ye=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ge=f.call(this);if(K=se[0],ee=se[1],ge[pe.index]=pe,re){re*=Math.PI/180;var Y=Math.cos(re),P=Math.sin(re),L=function(W){return W.toFixed(4)},q=[L(Y),L(P),L(-1*P),L(Y),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,ye(R),oe(U+ee),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ye(K),"0","0",ye(ee),"0","0","cm"].join(" "))):this.internal.write([ye(K),"0","0",ye(ee),ye(R),oe(U+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(R){var U,K,ee=0;if(typeof R=="string")for(K=R.length,U=0;U<K;U++)ee=(ee<<5)-ee+R.charCodeAt(U),ee|=0;else if(O(R))for(K=R.byteLength/2,U=0;U<K;U++)ee=(ee<<5)-ee+R[U],ee|=0;return ee},D=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var U=!0;return R.length===0&&(U=!1),R.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(U=!1),U},F=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var U=R.indexOf(",");return U<0?null:R.substring(0,U).trim().endsWith("base64")?R.substring(U+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},T=e.__addimage__.binaryStringToUint8Array=function(R){for(var U=R.length,K=new Uint8Array(U),ee=0;ee<U;ee++)K[ee]=R.charCodeAt(ee);return K},M=e.__addimage__.arrayBufferToBinaryString=function(R){for(var U="",K=O(R)?R:new Uint8Array(R),ee=0;ee<K.length;ee+=8192)U+=String.fromCharCode.apply(null,K.subarray(ee,ee+8192));return U};e.addImage=function(){var R,U,K,ee,pe,re,se,ye,oe;if(typeof arguments[1]=="number"?(U=r,K=arguments[1],ee=arguments[2],pe=arguments[3],re=arguments[4],se=arguments[5],ye=arguments[6],oe=arguments[7]):(U=arguments[1],K=arguments[2],ee=arguments[3],pe=arguments[4],re=arguments[5],se=arguments[6],ye=arguments[7],oe=arguments[8]),_n(R=arguments[0])==="object"&&!g(R)&&"imageData"in R){var ge=R;R=ge.imageData,U=ge.format||U||r,K=ge.x||K||0,ee=ge.y||ee||0,pe=ge.w||ge.width||pe,re=ge.h||ge.height||re,se=ge.alias||se,ye=ge.compression||ye,oe=ge.rotation||ge.angle||oe}var Y=this.internal.getFilters();if(ye===void 0&&Y.indexOf("FlateEncode")!==-1&&(ye="SLOW"),isNaN(K)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=B.call(this,R,U,se,ye);return w.call(this,K,ee,pe,re,P,oe),this};var B=function(R,U,K,ee){var pe,re,se;if(typeof R=="string"&&a(R)===r){R=unescape(R);var ye=H(R,!1);(ye!==""||(ye=e.loadFile(R,!0))!==void 0)&&(R=ye)}if(g(R)&&(R=x(R,U)),U=a(R,U),!m(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((se=K)==null||se.length===0)&&(K=(function(oe){return typeof oe=="string"||O(oe)?S(oe):O(oe.data)?S(oe.data):null})(R)),(pe=b.call(this,K))||(R instanceof Uint8Array||U==="RGBA"||(re=R,R=T(R)),pe=this["process"+U.toUpperCase()](R,h.call(this),K,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:E.NONE})(ee),re)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},H=e.__addimage__.convertBase64ToBinaryString=function(R,U){U=typeof U!="boolean"||U;var K,ee="";if(typeof R=="string"){var pe;K=(pe=F(R))!==null&&pe!==void 0?pe:R;try{ee=qv(K)}catch(re){if(U)throw D(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(R){var U,K,ee="";if(g(R)&&(R=x(R)),typeof R=="string"&&a(R)===r&&((ee=H(R,!1))===""&&(ee=e.loadFile(R)||""),R=ee),K=a(R),!m(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(R instanceof Uint8Array||(R=T(R)),!(U=this["process"+K.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=K,U}})(Ht.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((n=f[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){n=f[g];var x=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(v.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+x(N(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+x(N(E))+") >>",v.content=i;var S=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(r),y:f(n),w:u(r+a),h:f(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,o,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;l=Math.ceil(f*h)}else o=u,l=f;return this.text(r,n,a,i),a+=.2*f,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,a-f,o,l,i),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ht.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(v){var w=0,N=r,E="",S=0;for(w=0;w<v.length;w+=1)N[v.charCodeAt(w)]!==void 0?(S++,typeof(N=N[v.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(N),N=r,S=0),w===v.length-1&&(N=r,E+=v.charAt(w-(S-1)),w-=S-1,S=0)):(N=r,E+=v.charAt(w-S),w-=S,S=0);return E};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(v,w,N){return l(v)?i(v)===!1?-1:!f(v)||!l(w)&&!l(N)||!l(N)&&o(w)||o(v)&&!l(w)||o(v)&&u(w)||o(v)&&o(w)?0:h(v)&&l(w)&&!o(w)&&l(N)&&f(N)?3:o(v)||!l(N)?1:2:-1},x=function(v){var w=0,N=0,E=0,S="",D="",F="",O=(v=v||"").split("\\s+"),T=[];for(w=0;w<O.length;w+=1){for(T.push(""),N=0;N<O[w].length;N+=1)S=O[w][N],D=O[w][N-1],F=O[w][N+1],l(S)?(E=g(S,D,F),T[w]+=E!==-1?String.fromCharCode(t[S.charCodeAt(0)][E]):S):T[w]+=S;T[w]=m(T[w])}return T.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(w)){var E=0;for(N=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?N.push([x(w[E][0]),w[E][1],w[E][2]]):N.push([x(w[E])]);v=N}else v=x(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",b])})(Ht.API),Ht.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ht.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){n.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,x=0,b=0,v=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=f.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(S,D){return S.concat(w.splitTextToSize(D,N))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)x<(v=this.getStringUnitWidth(u[E],{font:m})*h)&&(x=v);return x!==0&&(b=u.length),{w:x/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,x&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,m,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var x,b,v,w,N=[],E=[],S=[],D={},F={},O=[],T=[],M=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,R=g.margins||Object.assign({width:this.getPageWidth()},t),U=typeof g.padding=="number"?g.padding:3,K=g.headerBackgroundColor||"#c8c8c8",ee=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=ee,this.setFontSize(H),m==null)E=N=Object.keys(h[0]),S=N.map(function(){return"left"});else if(Array.isArray(m)&&_n(m[0])==="object")for(N=m.map(function(ge){return ge.name}),E=m.map(function(ge){return ge.prompt||ge.name||""}),S=m.map(function(ge){return ge.align||"left"}),x=0;x<m.length;x+=1)F[m[x].name]=.7499990551181103*m[x].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=N=m,S=N.map(function(){return"left"}));if(M||Array.isArray(m)&&typeof m[0]=="string")for(x=0;x<N.length;x+=1){for(D[w=N[x]]=h.map(function(ge){return ge[w]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(E[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=D[w],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)O.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[w]=Math.max.apply(null,O)+U+U,O=[]}if(B){var pe={};for(x=0;x<N.length;x+=1)pe[N[x]]={},pe[N[x]].text=E[x],pe[N[x]].align=S[x];var re=o.call(this,pe,F);T=N.map(function(ge){return new i(u,f,F[ge],re,pe[ge].text,void 0,pe[ge].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var se=m.reduce(function(ge,Y){return ge[Y.name]=Y.align,ge},{});for(x=0;x<h.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:h[x]},this);var ye=o.call(this,h[x],F);for(v=0;v<N.length;v+=1){var oe=h[x][N[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:v,data:oe},this),l.call(this,new i(u,f,F[N[v]],ye,oe,x+2,se[N[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var o=function(u,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(x){var b=u[x];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*m/g+h+h},this).reduce(function(x,b){return Math.max(x,b)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Ht.API);var iU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S_=aU(sU),lU=[100,200,300,400,500,600,700,800,900],Y4e=aU(lU);function M4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return iU[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof S_[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function K7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var X4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Q7(e){return e.trimLeft()}function Q4e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Z4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ov,Z7,J7,bm,Dv,eD,tD,rD,R4=["times"];function nD(e,t,r,n,a){var i=4,l=iD;switch(a){case Ht.API.image_compression.FAST:i=1,l=aD;break;case Ht.API.image_compression.MEDIUM:i=6,l=sD;break;case Ht.API.image_compression.SLOW:i=9,l=lD}e=(function(u,f,h,m){for(var g,x=u.length/f,b=new Uint8Array(u.length+x),v=[J4e,aD,iD,sD,lD],w=0;w<x;w+=1){var N=w*f,E=u.subarray(N,N+f);if(m)b.set(m(E,h,g),N+w);else{for(var S=v.length,D=[],F=0;F<S;F+=1)D[F]=v[F](E,h,g);var O=tNe(D.concat());b.set(D[O],N+w)}g=E}return b})(e,t,Math.ceil(r*n/8),l);var o=v_(e,{level:i});return Ht.API.__addimage__.arrayBufferToBinaryString(o)}function J4e(e){var t=Array.apply([],e);return t.unshift(0),t}function aD(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function iD(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function sD(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(l+o>>>1)&255}return a}function lD(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=eNe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function eNe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function tNe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function I4(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return oU(e,a)>>i&l}function oD(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),o=(1<<n)-1,u=(t&o)<<l;(function(f,h,m){if(h+1<f.byteLength)f.setUint16(h,m,!1);else{var g=m>>8&255;f.setUint8(h,g)}})(e,i,oU(e,i)&~(o<<l)&65535|u)}function oU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function rNe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var o=null,u=null;i&&(o=t,u=l,t+=3*l);var f=!0,h=[],m=0,g=null,x=0,b=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];m=e[t++]|e[t++]<<8,g=e[t++],1&v||(g=null),x=v>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,D=e[t++],F=D>>6&1,O=1<<1+(7&D),T=o,M=u,B=!1;D>>7&&(B=!0,T=t,M=O,t+=3*O);var H=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:w,y:N,width:E,height:S,has_local_palette:B,palette_offset:T,palette_size:M,data_offset:H,data_length:t-H,transparent_index:g,interlaced:!!F,delay:m,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(U){if(U<0||U>=h.length)throw new Error("Frame index out of range.");return h[U]},this.decodeAndBlitFrameBGRA=function(U,K){var ee=this.frameInfo(U),pe=ee.width*ee.height,re=new Uint8Array(pe);cD(e,ee.data_offset,re,pe);var se=ee.palette_offset,ye=ee.transparent_index;ye===null&&(ye=256);var oe=ee.width,ge=r-oe,Y=oe,P=4*(ee.y*r+ee.x),L=4*((ee.y+ee.height)*r+ee.x),q=P,W=4*ge;ee.interlaced===!0&&(W+=4*r*7);for(var X=8,ce=0,ue=re.length;ce<ue;++ce){var ae=re[ce];if(Y===0&&(Y=oe,(q+=W)>=L&&(W=4*ge+4*r*(X-1),q=P+(oe+ge)*(X<<1),X>>=1)),ae===ye)q+=4;else{var Se=e[se+3*ae],De=e[se+3*ae+1],Z=e[se+3*ae+2];K[q++]=Z,K[q++]=De,K[q++]=Se,K[q++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(U,K){var ee=this.frameInfo(U),pe=ee.width*ee.height,re=new Uint8Array(pe);cD(e,ee.data_offset,re,pe);var se=ee.palette_offset,ye=ee.transparent_index;ye===null&&(ye=256);var oe=ee.width,ge=r-oe,Y=oe,P=4*(ee.y*r+ee.x),L=4*((ee.y+ee.height)*r+ee.x),q=P,W=4*ge;ee.interlaced===!0&&(W+=4*r*7);for(var X=8,ce=0,ue=re.length;ce<ue;++ce){var ae=re[ce];if(Y===0&&(Y=oe,(q+=W)>=L&&(W=4*ge+4*r*(X-1),q=P+(oe+ge)*(X<<1),X>>=1)),ae===ye)q+=4;else{var Se=e[se+3*ae],De=e[se+3*ae+1],Z=e[se+3*ae+2];K[q++]=Se,K[q++]=De,K[q++]=Z,K[q++]=255}--Y}}}function cD(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,o=l+1,u=a+1,f=(1<<u)-1,h=0,m=0,g=0,x=e[t++],b=new Int32Array(4096),v=null;;){for(;h<16&&x!==0;)m|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<u)break;var w=m&f;if(m>>=u,h-=u,w!==i){if(w===l)break;for(var N=w<o?w:v,E=0,S=N;S>i;)S=b[S]>>8,++E;var D=S;if(g+E+(N!==w?1:0)>n)return void Rn.log("Warning, gif stream longer than expected.");r[g++]=D;var F=g+=E;for(N!==w&&(r[g++]=D),S=N;E--;)S=b[S],r[--F]=255&S,S>>=8;v!==null&&o<4096&&(b[o++]=v<<8|D,o>=f+1&&u<12&&(++u,f=f<<1|1)),v=w}else o=l+1,f=(1<<(u=a+1))-1,v=null}return g!==n&&Rn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function B4(e){var t,r,n,a,i,l=Math.floor,o=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),g=new Array(65535),x=new Array(64),b=new Array(64),v=[],w=0,N=7,E=new Array(64),S=new Array(64),D=new Array(64),F=new Array(256),O=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(P,L){for(var q=0,W=0,X=new Array,ce=1;ce<=16;ce++){for(var ue=1;ue<=P[ce];ue++)X[L[W]]=[],X[L[W]][0]=q,X[L[W]][1]=ce,W++,q++;q*=2}return X}function se(P){for(var L=P[0],q=P[1]-1;q>=0;)L&1<<q&&(w|=1<<N),q--,--N<0&&(w==255?(ye(255),ye(0)):ye(w),N=7,w=0)}function ye(P){v.push(P)}function oe(P){ye(P>>8&255),ye(255&P)}function ge(P,L,q,W,X){for(var ce,ue=X[0],ae=X[240],Se=(function(lt,At){var pt,Qt,Pt,Vt,Zt,Jt,Dr,Ut,Ct,gt,St=0;for(Ct=0;Ct<8;++Ct){pt=lt[St],Qt=lt[St+1],Pt=lt[St+2],Vt=lt[St+3],Zt=lt[St+4],Jt=lt[St+5],Dr=lt[St+6];var _r=pt+(Ut=lt[St+7]),Yt=pt-Ut,jt=Qt+Dr,er=Qt-Dr,br=Pt+Jt,ar=Pt-Jt,Ar=Vt+Zt,dr=Vt-Zt,xn=_r+Ar,Bn=_r-Ar,qr=jt+br,Wt=jt-br;lt[St]=xn+qr,lt[St+4]=xn-qr;var Fr=.707106781*(Wt+Bn);lt[St+2]=Bn+Fr,lt[St+6]=Bn-Fr;var Ms=.382683433*((xn=dr+ar)-(Wt=er+Yt)),Xa=.5411961*xn+Ms,al=1.306562965*Wt+Ms,us=.707106781*(qr=ar+er),Gt=Yt+us,Ol=Yt-us;lt[St+5]=Ol+Xa,lt[St+3]=Ol-Xa,lt[St+1]=Gt+al,lt[St+7]=Gt-al,St+=8}for(St=0,Ct=0;Ct<8;++Ct){pt=lt[St],Qt=lt[St+8],Pt=lt[St+16],Vt=lt[St+24],Zt=lt[St+32],Jt=lt[St+40],Dr=lt[St+48];var il=pt+(Ut=lt[St+56]),oi=pt-Ut,Vi=Qt+Dr,Sn=Qt-Dr,na=Pt+Jt,te=Pt-Jt,Ne=Vt+Zt,de=Vt-Zt,he=il+Ne,ve=il-Ne,je=Vi+na,Me=Vi-na;lt[St]=he+je,lt[St+32]=he-je;var Ge=.707106781*(Me+ve);lt[St+16]=ve+Ge,lt[St+48]=ve-Ge;var Ie=.382683433*((he=de+te)-(Me=Sn+oi)),Be=.5411961*he+Ie,ze=1.306562965*Me+Ie,ut=.707106781*(je=te+Sn),mt=oi+ut,_t=oi-ut;lt[St+40]=_t+Be,lt[St+24]=_t-Be,lt[St+8]=mt+ze,lt[St+56]=mt-ze,St++}for(Ct=0;Ct<64;++Ct)gt=lt[Ct]*At[Ct],x[Ct]=gt>0?gt+.5|0:gt-.5|0;return x})(P,L),De=0;De<64;++De)b[T[De]]=Se[De];var Z=b[0]-q;q=b[0],Z==0?se(W[0]):(se(W[g[ce=32767+Z]]),se(m[ce]));for(var Ke=63;Ke>0&&b[Ke]==0;)Ke--;if(Ke==0)return se(ue),q;for(var Ce,xe=1;xe<=Ke;){for(var dt=xe;b[xe]==0&&xe<=Ke;)++xe;var Xe=xe-dt;if(Xe>=16){Ce=Xe>>4;for(var Nt=1;Nt<=Ce;++Nt)se(ae);Xe&=15}ce=32767+b[xe],se(X[(Xe<<4)+g[ce]]),se(m[ce]),xe++}return Ke!=63&&se(ue),q}function Y(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(L){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var X=l((q[W]*L+50)/100);X=Math.min(Math.max(X,1),255),o[T[W]]=X}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ae=l((ce[ue]*L+50)/100);ae=Math.min(Math.max(ae,1),255),u[T[ue]]=ae}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Z=0;Z<8;Z++)for(var Ke=0;Ke<8;Ke++)f[De]=1/(o[T[De]]*Se[Z]*Se[Ke]*8),h[De]=1/(u[T[De]]*Se[Z]*Se[Ke]*8),De++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,L){L&&Y(L),v=new Array,w=0,N=7,oe(65496),oe(65504),oe(16),ye(74),ye(70),ye(73),ye(70),ye(0),ye(1),ye(1),ye(0),oe(1),oe(1),ye(0),ye(0),(function(){oe(65499),oe(132),ye(0);for(var Qt=0;Qt<64;Qt++)ye(o[Qt]);ye(1);for(var Pt=0;Pt<64;Pt++)ye(u[Pt])})(),(function(Qt,Pt){oe(65472),oe(17),ye(8),oe(Pt),oe(Qt),ye(3),ye(1),ye(17),ye(0),ye(2),ye(17),ye(1),ye(3),ye(17),ye(1)})(P.width,P.height),(function(){oe(65476),oe(418),ye(0);for(var Qt=0;Qt<16;Qt++)ye(M[Qt+1]);for(var Pt=0;Pt<=11;Pt++)ye(B[Pt]);ye(16);for(var Vt=0;Vt<16;Vt++)ye(H[Vt+1]);for(var Zt=0;Zt<=161;Zt++)ye(R[Zt]);ye(1);for(var Jt=0;Jt<16;Jt++)ye(U[Jt+1]);for(var Dr=0;Dr<=11;Dr++)ye(K[Dr]);ye(17);for(var Ut=0;Ut<16;Ut++)ye(ee[Ut+1]);for(var Ct=0;Ct<=161;Ct++)ye(pe[Ct])})(),oe(65498),oe(12),ye(3),ye(1),ye(0),ye(2),ye(17),ye(3),ye(17),ye(0),ye(63),ye(0);var q=0,W=0,X=0;w=0,N=7,this.encode.displayName="_encode_";for(var ce,ue,ae,Se,De,Z,Ke,Ce,xe,dt=P.data,Xe=P.width,Nt=P.height,lt=4*Xe,At=0;At<Nt;){for(ce=0;ce<lt;){for(De=lt*At+ce,Ke=-1,Ce=0,xe=0;xe<64;xe++)Z=De+(Ce=xe>>3)*lt+(Ke=4*(7&xe)),At+Ce>=Nt&&(Z-=lt*(At+1+Ce-Nt)),ce+Ke>=lt&&(Z-=ce+Ke-lt+4),ue=dt[Z++],ae=dt[Z++],Se=dt[Z++],E[xe]=(O[ue]+O[ae+256|0]+O[Se+512|0]>>16)-128,S[xe]=(O[ue+768|0]+O[ae+1024|0]+O[Se+1280|0]>>16)-128,D[xe]=(O[ue+1280|0]+O[ae+1536|0]+O[Se+1792|0]>>16)-128;q=ge(E,f,q,t,n),W=ge(S,h,W,r,a),X=ge(D,h,X,r,a),ce+=32}At+=8}if(N>=0){var pt=[];pt[1]=N+1,pt[0]=(1<<N+1)-1,se(pt)}return oe(65497),new Uint8Array(v)},e=e||50,(function(){for(var P=String.fromCharCode,L=0;L<256;L++)F[L]=P(L)})(),t=re(M,B),r=re(U,K),n=re(H,R),a=re(ee,pe),(function(){for(var P=1,L=2,q=1;q<=15;q++){for(var W=P;W<L;W++)g[32767+W]=q,m[32767+W]=[],m[32767+W][1]=q,m[32767+W][0]=W;for(var X=-(L-1);X<=-P;X++)g[32767+X]=q,m[32767+X]=[],m[32767+X][1]=q,m[32767+X][0]=L-1+X;P<<=1,L<<=1}})(),(function(){for(var P=0;P<256;P++)O[P]=19595*P,O[P+256|0]=38470*P,O[P+512|0]=7471*P+32768,O[P+768|0]=-11059*P,O[P+1024|0]=-21709*P,O[P+1280|0]=32768*P+8421375,O[P+1536|0]=-27439*P,O[P+1792|0]=-5329*P})(),Y(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uD(e){function t(B){if(!B)throw Error("assert :P")}function r(B,H,R){for(var U=0;4>U;U++)if(B[H+U]!=R.charCodeAt(U))return!0;return!1}function n(B,H,R,U,K){for(var ee=0;ee<K;ee++)B[H+ee]=R[U+ee]}function a(B,H,R,U){for(var K=0;K<U;K++)B[H+K]=R}function i(B){return new Int32Array(B)}function l(B,H){for(var R=[],U=0;U<B;U++)R.push(new H);return R}function o(B,H){var R=[];return(function U(K,ee,pe){for(var re=pe[ee],se=0;se<re&&(K.push(pe.length>ee+1?[]:new H),!(pe.length<ee+1));se++)U(K[se],ee+1,pe)})(R,0,B),R}var u=function(){var B=this;function H(_,A){for(var z=1<<A-1>>>0;_&z;)z>>>=1;return z?(_&z-1)+z:_}function R(_,A,z,V,J){t(!(V%z));do _[A+(V-=z)]=J;while(0<V)}function U(_,A,z,V,J){if(t(2328>=J),512>=J)var ne=i(512);else if((ne=i(J))==null)return 0;return(function(ie,fe,me,we,ke,Ue){var be,Oe,Le=fe,Qe=1<<me,Re=i(16),Ye=i(16);for(t(ke!=0),t(we!=null),t(ie!=null),t(0<me),Oe=0;Oe<ke;++Oe){if(15<we[Oe])return 0;++Re[we[Oe]]}if(Re[0]==ke)return 0;for(Ye[1]=0,be=1;15>be;++be){if(Re[be]>1<<be)return 0;Ye[be+1]=Ye[be]+Re[be]}for(Oe=0;Oe<ke;++Oe)be=we[Oe],0<we[Oe]&&(Ue[Ye[be]++]=Oe);if(Ye[15]==1)return(we=new K).g=0,we.value=Ue[0],R(ie,Le,1,Qe,we),Qe;var tt,ft=-1,st=Qe-1,Rt=0,Et=1,mr=1,Ot=1<<me;for(Oe=0,be=1,ke=2;be<=me;++be,ke<<=1){if(Et+=mr<<=1,0>(mr-=Re[be]))return 0;for(;0<Re[be];--Re[be])(we=new K).g=be,we.value=Ue[Oe++],R(ie,Le+Rt,ke,Ot,we),Rt=H(Rt,be)}for(be=me+1,ke=2;15>=be;++be,ke<<=1){if(Et+=mr<<=1,0>(mr-=Re[be]))return 0;for(;0<Re[be];--Re[be]){if(we=new K,(Rt&st)!=ft){for(Le+=Ot,tt=1<<(ft=be)-me;15>ft&&!(0>=(tt-=Re[ft]));)++ft,tt<<=1;Qe+=Ot=1<<(tt=ft-me),ie[fe+(ft=Rt&st)].g=tt+me,ie[fe+ft].value=Le-fe-ft}we.g=be-me,we.value=Ue[Oe++],R(ie,Le+(Rt>>me),ke,Ot,we),Rt=H(Rt,be)}}return Et!=2*Ye[15]-1?0:Qe})(_,A,z,V,J,ne)}function K(){this.value=this.g=0}function ee(){this.value=this.g=0}function pe(){this.G=l(5,K),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l($c,ee)}function re(_,A,z,V){t(_!=null),t(A!=null),t(2147483648>V),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=A,_.pa=z,_.Jd=A,_.Yc=z+V,_.Zc=4<=V?z+V-4+1:z,ue(_)}function se(_,A){for(var z=0;0<A--;)z|=Se(_,128)<<A;return z}function ye(_,A){var z=se(_,A);return ae(_)?-z:z}function oe(_,A,z,V){var J,ne=0;for(t(_!=null),t(A!=null),t(4294967288>V),_.Sb=V,_.Ra=0,_.u=0,_.h=0,4<V&&(V=4),J=0;J<V;++J)ne+=A[z+J]<<8*J;_.Ra=ne,_.bb=V,_.oa=A,_.pa=z}function ge(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<po-8>>>0,++_.bb,_.u-=8;W(_)&&(_.h=1,_.u=0)}function Y(_,A){if(t(0<=A),!_.h&&A<=Yi){var z=q(_)&ds[A];return _.u+=A,ge(_),z}return _.h=1,_.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(_){return _.Ra>>>(_.u&po-1)>>>0}function W(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>po}function X(_,A){_.u=A,_.h=W(_)}function ce(_){_.u>=xo&&(t(_.u>=xo),ge(_))}function ue(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function ae(_){return se(_,1)}function Se(_,A){var z=_.Ca;0>_.b&&ue(_);var V=_.b,J=z*A>>>8,ne=(_.I>>>V>J)+0;for(ne?(z-=J,_.I-=J+1<<V>>>0):z=J+1,V=z,J=0;256<=V;)J+=8,V>>=8;return V=7^J+ic[V],_.b-=V,_.Ca=(z<<V)-1,ne}function De(_,A,z){_[A+0]=z>>24&255,_[A+1]=z>>16&255,_[A+2]=z>>8&255,_[A+3]=255&z}function Z(_,A){return _[A+0]|_[A+1]<<8}function Ke(_,A){return Z(_,A)|_[A+2]<<16}function Ce(_,A){return Z(_,A)|Z(_,A+2)<<16}function xe(_,A){var z=1<<A;return t(_!=null),t(0<A),_.X=i(z),_.X==null?0:(_.Mb=32-A,_.Xa=A,1)}function dt(_,A){t(_!=null),t(A!=null),t(_.Xa==A.Xa),n(A.X,0,_.X,0,1<<A.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function Nt(_,A,z,V){t(z!=null),t(V!=null);var J=z[0],ne=V[0];return J==0&&(J=(_*ne+A/2)/A),ne==0&&(ne=(A*J+_/2)/_),0>=J||0>=ne?0:(z[0]=J,V[0]=ne,1)}function lt(_,A){return _+(1<<A)-1>>>A}function At(_,A){return((4278255360&_)+(4278255360&A)>>>0&4278255360)+((16711935&_)+(16711935&A)>>>0&16711935)>>>0}function pt(_,A){B[A]=function(z,V,J,ne,ie,fe,me){var we;for(we=0;we<ie;++we){var ke=B[_](fe[me+we-1],J,ne+we);fe[me+we]=At(z[V+we],ke)}}}function Qt(){this.ud=this.hd=this.jd=0}function Pt(_,A){return((4278124286&(_^A))>>>1)+(_&A)>>>0}function Vt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Zt(_,A){return Vt(_+(_-A+.5>>1))}function Jt(_,A,z){return Math.abs(A-z)-Math.abs(_-z)}function Dr(_,A,z,V,J,ne,ie){for(V=ne[ie-1],z=0;z<J;++z)ne[ie+z]=V=At(_[A+z],V)}function Ut(_,A,z,V,J){var ne;for(ne=0;ne<z;++ne){var ie=_[A+ne],fe=ie>>8&255,me=16711935&(me=(me=16711935&ie)+((fe<<16)+fe));V[J+ne]=(4278255360&ie)+me>>>0}}function Ct(_,A){A.jd=255&_,A.hd=_>>8&255,A.ud=_>>16&255}function gt(_,A,z,V,J,ne){var ie;for(ie=0;ie<V;++ie){var fe=A[z+ie],me=fe>>>8,we=fe,ke=255&(ke=(ke=fe>>>16)+((_.jd<<24>>24)*(me<<24>>24)>>>5));we=255&(we=(we+=(_.hd<<24>>24)*(me<<24>>24)>>>5)+((_.ud<<24>>24)*(ke<<24>>24)>>>5)),J[ne+ie]=(4278255360&fe)+(ke<<16)+we}}function St(_,A,z,V,J){B[A]=function(ne,ie,fe,me,we,ke,Ue,be,Oe){for(me=Ue;me<be;++me)for(Ue=0;Ue<Oe;++Ue)we[ke++]=J(fe[V(ne[ie++])])},B[_]=function(ne,ie,fe,me,we,ke,Ue){var be=8>>ne.b,Oe=ne.Ea,Le=ne.K[0],Qe=ne.w;if(8>be)for(ne=(1<<ne.b)-1,Qe=(1<<be)-1;ie<fe;++ie){var Re,Ye=0;for(Re=0;Re<Oe;++Re)Re&ne||(Ye=V(me[we++])),ke[Ue++]=J(Le[Ye&Qe]),Ye>>=be}else B["VP8LMapColor"+z](me,we,Le,Qe,ke,Ue,ie,fe,Oe)}}function _r(_,A,z,V,J){for(z=A+z;A<z;){var ne=_[A++];V[J++]=ne>>16&255,V[J++]=ne>>8&255,V[J++]=255&ne}}function Yt(_,A,z,V,J){for(z=A+z;A<z;){var ne=_[A++];V[J++]=ne>>16&255,V[J++]=ne>>8&255,V[J++]=255&ne,V[J++]=ne>>24&255}}function jt(_,A,z,V,J){for(z=A+z;A<z;){var ne=(ie=_[A++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;V[J++]=ne,V[J++]=ie}}function er(_,A,z,V,J){for(z=A+z;A<z;){var ne=(ie=_[A++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;V[J++]=ne,V[J++]=ie}}function br(_,A,z,V,J){for(z=A+z;A<z;){var ne=_[A++];V[J++]=255&ne,V[J++]=ne>>8&255,V[J++]=ne>>16&255}}function ar(_,A,z,V,J,ne){if(ne==0)for(z=A+z;A<z;)De(V,((ne=_[A++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),J+=32;else n(V,J,_,A,z)}function Ar(_,A){B[A][0]=B[_+"0"],B[A][1]=B[_+"1"],B[A][2]=B[_+"2"],B[A][3]=B[_+"3"],B[A][4]=B[_+"4"],B[A][5]=B[_+"5"],B[A][6]=B[_+"6"],B[A][7]=B[_+"7"],B[A][8]=B[_+"8"],B[A][9]=B[_+"9"],B[A][10]=B[_+"10"],B[A][11]=B[_+"11"],B[A][12]=B[_+"12"],B[A][13]=B[_+"13"],B[A][14]=B[_+"0"],B[A][15]=B[_+"0"]}function dr(_){return _==h0||_==Rh||_==$f||_==Ih}function xn(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xn,this.f.kb=new Bn,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ms(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Xa(_,A){var z=_.T,V=A.ba.f.RGBA,J=V.eb,ne=V.fb+_.ka*V.A,ie=pi[A.ba.S],fe=_.y,me=_.O,we=_.f,ke=_.N,Ue=_.ea,be=_.W,Oe=A.cc,Le=A.dc,Qe=A.Mc,Re=A.Nc,Ye=_.ka,tt=_.ka+_.T,ft=_.U,st=ft+1>>1;for(Ye==0?ie(fe,me,null,null,we,ke,Ue,be,we,ke,Ue,be,J,ne,null,null,ft):(ie(A.ec,A.fc,fe,me,Oe,Le,Qe,Re,we,ke,Ue,be,J,ne-V.A,J,ne,ft),++z);Ye+2<tt;Ye+=2)Oe=we,Le=ke,Qe=Ue,Re=be,ke+=_.Rc,be+=_.Rc,ne+=2*V.A,ie(fe,(me+=2*_.fa)-_.fa,fe,me,Oe,Le,Qe,Re,we,ke,Ue,be,J,ne-V.A,J,ne,ft);return me+=_.fa,_.j+tt<_.o?(n(A.ec,A.fc,fe,me,ft),n(A.cc,A.dc,we,ke,st),n(A.Mc,A.Nc,Ue,be,st),z--):1&tt||ie(fe,me,null,null,we,ke,Ue,be,we,ke,Ue,be,J,ne+V.A,null,null,ft),z}function al(_,A,z){var V=_.F,J=[_.J];if(V!=null){var ne=_.U,ie=A.ba.S,fe=ie==d0||ie==$f;A=A.ba.f.RGBA;var me=[0],we=_.ka;me[0]=_.T,_.Kb&&(we==0?--me[0]:(--we,J[0]-=_.width),_.j+_.ka+_.T==_.o&&(me[0]=_.o-_.j-we));var ke=A.eb;we=A.fb+we*A.A,_=o0(V,J[0],_.width,ne,me,ke,we+(fe?0:3),A.A),t(z==me),_&&dr(ie)&&Tu(ke,we,fe,ne,me,A.A)}return 0}function us(_){var A=_.ma,z=A.ba.S,V=11>z,J=z==Di||z==ul||z==d0||z==qf||z==12||dr(z);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!ac(A.Oa,_,J?11:12))return 0;if(J&&dr(z)&&Oh(),_.da)alert("todo:use_scaling");else{if(V){if(A.Ib=Ms,_.Kb){if(z=_.U+1>>1,A.memory=i(_.U+2*z),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+_.U,A.Mc=A.cc,A.Nc=A.dc+z,A.Ib=Xa,Oh()}}else alert("todo:EmitYUV");J&&(A.Jb=al,V&&ll())}if(V&&!Xc){for(_=0;256>_;++_)xi[_]=89858*(_-128)+Wf>>xl,lb[_]=-22014*(_-128)+Wf,s1[_]=-45773*(_-128),$h[_]=113618*(_-128)+Wf>>xl;for(_=Pu;_<Yc;++_)A=76283*(_-16)+Wf>>xl,ob[_-Pu]=aa(A,255),cb[_-Pu]=aa(A+8>>4,15);Xc=1}return 1}function Gt(_){var A=_.ma,z=_.U,V=_.T;return t(!(1&_.ka)),0>=z||0>=V?0:(z=A.Ib(_,A),A.Jb!=null&&A.Jb(_,A,z),A.Dc+=z,1)}function Ol(_){_.ma.memory=null}function il(_,A,z,V){return Y(_,8)!=47?0:(A[0]=Y(_,14)+1,z[0]=Y(_,14)+1,V[0]=Y(_,1),Y(_,3)!=0?0:!_.h)}function oi(_,A){if(4>_)return _+1;var z=_-2>>1;return(2+(1&_)<<z)+Y(A,z)+1}function Vi(_,A){return 120<A?A-120:1<=(z=((z=dl[A-1])>>4)*_+(8-(15&z)))?z:1;var z}function Sn(_,A,z){var V=q(z),J=_[A+=255&V].g-8;return 0<J&&(X(z,z.u+8),V=q(z),A+=_[A].value,A+=V&(1<<J)-1),X(z,z.u+_[A].g),_[A].value}function na(_,A,z){return z.g+=_.g,z.value+=_.value<<A>>>0,t(8>=z.g),_.g}function te(_,A,z){var V=_.xc;return t((A=V==0?0:_.vc[_.md*(z>>V)+(A>>V)])<_.Wb),_.Ya[A]}function Ne(_,A,z,V){var J=_.ab,ne=_.c*A,ie=_.C;A=ie+A;var fe=z,me=V;for(V=_.Ta,z=_.Ua;0<J--;){var we=_.gc[J],ke=ie,Ue=A,be=fe,Oe=me,Le=(me=V,fe=z,we.Ea);switch(t(ke<Ue),t(Ue<=we.nc),we.hc){case 2:ya(be,Oe,(Ue-ke)*Le,me,fe);break;case 0:var Qe=ke,Re=Ue,Ye=me,tt=fe,ft=(Ot=we).Ea;Qe==0&&(If(be,Oe,null,null,1,Ye,tt),Dr(be,Oe+1,0,0,ft-1,Ye,tt+1),Oe+=ft,tt+=ft,++Qe);for(var st=1<<Ot.b,Rt=st-1,Et=lt(ft,Ot.b),mr=Ot.K,Ot=Ot.w+(Qe>>Ot.b)*Et;Qe<Re;){var Tr=mr,Ln=Ot,gr=1;for(Bf(be,Oe,Ye,tt-ft,1,Ye,tt);gr<ft;){var kt=(gr&~Rt)+st;kt>ft&&(kt=ft),(0,sc[Tr[Ln++]>>8&15])(be,Oe+ +gr,Ye,tt+gr-ft,kt-gr,Ye,tt+gr),gr=kt}Oe+=ft,tt+=ft,++Qe&Rt||(Ot+=Et)}Ue!=we.nc&&n(me,fe-Le,me,fe+(Ue-ke-1)*Le,Le);break;case 1:for(Le=be,Re=Oe,ft=(be=we.Ea)-(tt=be&~(Ye=(Oe=1<<we.b)-1)),Qe=lt(be,we.b),st=we.K,we=we.w+(ke>>we.b)*Qe;ke<Ue;){for(Rt=st,Et=we,mr=new Qt,Ot=Re+tt,Tr=Re+be;Re<Ot;)Ct(Rt[Et++],mr),Uf(mr,Le,Re,Oe,me,fe),Re+=Oe,fe+=Oe;Re<Tr&&(Ct(Rt[Et++],mr),Uf(mr,Le,Re,ft,me,fe),Re+=ft,fe+=ft),++ke&Ye||(we+=Qe)}break;case 3:if(be==me&&Oe==fe&&0<we.b){for(Re=me,be=Le=fe+(Ue-ke)*Le-(tt=(Ue-ke)*lt(we.Ea,we.b)),Oe=me,Ye=fe,Qe=[],tt=(ft=tt)-1;0<=tt;--tt)Qe[tt]=Oe[Ye+tt];for(tt=ft-1;0<=tt;--tt)Re[be+tt]=Qe[tt];Dh(we,ke,Ue,me,Le,me,fe)}else Dh(we,ke,Ue,be,Oe,me,fe)}fe=V,me=z}me!=z&&n(V,z,fe,me,ne)}function de(_,A){var z=_.V,V=_.Ba+_.c*_.C,J=A-_.C;if(t(A<=_.l.o),t(16>=J),0<J){var ne=_.l,ie=_.Ta,fe=_.Ua,me=ne.width;if(Ne(_,J,z,V),J=fe=[fe],t((z=_.C)<(V=A)),t(ne.v<ne.va),V>ne.o&&(V=ne.o),z<ne.j){var we=ne.j-z;z=ne.j,J[0]+=we*me}if(z>=V?z=0:(J[0]+=4*ne.v,ne.ka=z-ne.j,ne.U=ne.va-ne.v,ne.T=V-z,z=1),z){if(fe=fe[0],11>(z=_.ca).S){var ke=z.f.RGBA,Ue=(V=z.S,J=ne.U,ne=ne.T,we=ke.eb,ke.A),be=ne;for(ke=ke.fb+_.Ma*ke.A;0<be--;){var Oe=ie,Le=fe,Qe=J,Re=we,Ye=ke;switch(V){case Lh:zf(Oe,Le,Qe,Re,Ye);break;case Di:lc(Oe,Le,Qe,Re,Ye);break;case h0:lc(Oe,Le,Qe,Re,Ye),Tu(Re,Ye,0,Qe,1,0);break;case Mh:ku(Oe,Le,Qe,Re,Ye);break;case ul:ar(Oe,Le,Qe,Re,Ye,1);break;case Rh:ar(Oe,Le,Qe,Re,Ye,1),Tu(Re,Ye,0,Qe,1,0);break;case d0:ar(Oe,Le,Qe,Re,Ye,0);break;case $f:ar(Oe,Le,Qe,Re,Ye,0),Tu(Re,Ye,1,Qe,1,0);break;case qf:oc(Oe,Le,Qe,Re,Ye);break;case Ih:oc(Oe,Le,Qe,Re,Ye),cl(Re,Ye,Qe,1,0);break;case Hc:yo(Oe,Le,Qe,Re,Ye);break;default:t(0)}fe+=me,ke+=Ue}_.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=z.height)}}_.C=A,t(_.C<=_.i)}function he(_){var A;if(0<_.ua)return 0;for(A=0;A<_.Wb;++A){var z=_.Ya[A].G,V=_.Ya[A].H;if(0<z[1][V[1]+0].g||0<z[2][V[2]+0].g||0<z[3][V[3]+0].g)return 0}return 1}function ve(_,A,z,V,J,ne){if(_.Z!=0){var ie=_.qd,fe=_.rd;for(t(fc[_.Z]!=null);A<z;++A)fc[_.Z](ie,fe,V,J,V,J,ne),ie=V,fe=J,J+=ne;_.qd=ie,_.rd=fe}}function je(_,A){var z=_.l.ma,V=z.Z==0||z.Z==1?_.l.j:_.C;if(V=_.C<V?V:_.C,t(A<=_.l.o),A>V){var J=_.l.width,ne=z.ca,ie=z.tb+J*V,fe=_.V,me=_.Ba+_.c*V,we=_.gc;t(_.ab==1),t(we[0].hc==3),vo(we[0],V,A,fe,me,ne,ie),ve(z,V,A,ne,ie,J)}_.C=_.Ma=A}function Me(_,A,z,V,J,ne,ie){var fe=_.$/V,me=_.$%V,we=_.m,ke=_.s,Ue=z+_.$,be=Ue;J=z+V*J;var Oe=z+V*ne,Le=280+ke.ua,Qe=_.Pb?fe:16777216,Re=0<ke.ua?ke.Wa:null,Ye=ke.wc,tt=Ue<Oe?te(ke,me,fe):null;t(_.C<ne),t(Oe<=J);var ft=!1;e:for(;;){for(;ft||Ue<Oe;){var st=0;if(fe>=Qe){var Rt=Ue-z;t((Qe=_).Pb),Qe.wd=Qe.m,Qe.xd=Rt,0<Qe.s.ua&&dt(Qe.s.Wa,Qe.s.vb),Qe=fe+Vc}if(me&Ye||(tt=te(ke,me,fe)),t(tt!=null),tt.Qb&&(A[Ue]=tt.qb,ft=!0),!ft)if(ce(we),tt.jc){st=we,Rt=A;var Et=Ue,mr=tt.pd[q(st)&$c-1];t(tt.jc),256>mr.g?(X(st,st.u+mr.g),Rt[Et]=mr.value,st=0):(X(st,st.u+mr.g-256),t(256<=mr.value),st=mr.value),st==0&&(ft=!0)}else st=Sn(tt.G[0],tt.H[0],we);if(we.h)break;if(ft||256>st){if(!ft)if(tt.nd)A[Ue]=(tt.qb|st<<8)>>>0;else{if(ce(we),ft=Sn(tt.G[1],tt.H[1],we),ce(we),Rt=Sn(tt.G[2],tt.H[2],we),Et=Sn(tt.G[3],tt.H[3],we),we.h)break;A[Ue]=(Et<<24|ft<<16|st<<8|Rt)>>>0}if(ft=!1,++Ue,++me>=V&&(me=0,++fe,ie!=null&&fe<=ne&&!(fe%16)&&ie(_,fe),Re!=null))for(;be<Ue;)st=A[be++],Re.X[(506832829*st&4294967295)>>>Re.Mb]=st}else if(280>st){if(st=oi(st-256,we),Rt=Sn(tt.G[4],tt.H[4],we),ce(we),Rt=Vi(V,Rt=oi(Rt,we)),we.h)break;if(Ue-z<Rt||J-Ue<st)break e;for(Et=0;Et<st;++Et)A[Ue+Et]=A[Ue+Et-Rt];for(Ue+=st,me+=st;me>=V;)me-=V,++fe,ie!=null&&fe<=ne&&!(fe%16)&&ie(_,fe);if(t(Ue<=J),me&Ye&&(tt=te(ke,me,fe)),Re!=null)for(;be<Ue;)st=A[be++],Re.X[(506832829*st&4294967295)>>>Re.Mb]=st}else{if(!(st<Le))break e;for(ft=st-280,t(Re!=null);be<Ue;)st=A[be++],Re.X[(506832829*st&4294967295)>>>Re.Mb]=st;st=Ue,t(!(ft>>>(Rt=Re).Xa)),A[st]=Rt.X[ft],ft=!0}ft||t(we.h==W(we))}if(_.Pb&&we.h&&Ue<J)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&dt(_.s.vb,_.s.Wa);else{if(we.h)break e;ie?.(_,fe>ne?ne:fe),_.a=0,_.$=Ue-z}return 1}return _.a=3,0}function Ge(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var A=_.Wa;A!=null&&(A.X=null),_.vb=null,t(_!=null)}function Ie(){var _=new qt;return _==null?null:(_.a=0,_.xb=Cp,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),ya=Ut,Uf=gt,zf=_r,lc=Yt,oc=jt,yo=er,ku=br,B.VP8LMapColor32b=go,B.VP8LMapColor8b=di,_)}function Be(_,A,z,V,J){var ne=1,ie=[_],fe=[A],me=V.m,we=V.s,ke=null,Ue=0;e:for(;;){if(z)for(;ne&&Y(me,1);){var be=ie,Oe=fe,Le=V,Qe=1,Re=Le.m,Ye=Le.gc[Le.ab],tt=Y(Re,2);if(Le.Oc&1<<tt)ne=0;else{switch(Le.Oc|=1<<tt,Ye.hc=tt,Ye.Ea=be[0],Ye.nc=Oe[0],Ye.K=[null],++Le.ab,t(4>=Le.ab),tt){case 0:case 1:Ye.b=Y(Re,3)+2,Qe=Be(lt(Ye.Ea,Ye.b),lt(Ye.nc,Ye.b),0,Le,Ye.K),Ye.K=Ye.K[0];break;case 3:var ft,st=Y(Re,8)+1,Rt=16<st?0:4<st?1:2<st?2:3;if(be[0]=lt(Ye.Ea,Rt),Ye.b=Rt,ft=Qe=Be(st,1,0,Le,Ye.K)){var Et,mr=st,Ot=Ye,Tr=1<<(8>>Ot.b),Ln=i(Tr);if(Ln==null)ft=0;else{var gr=Ot.K[0],kt=Ot.w;for(Ln[0]=Ot.K[0][0],Et=1;Et<1*mr;++Et)Ln[Et]=At(gr[kt+Et],Ln[Et-1]);for(;Et<4*Tr;++Et)Ln[Et]=0;Ot.K[0]=null,Ot.K[0]=Ln,ft=1}}Qe=ft;break;case 2:break;default:t(0)}ne=Qe}}if(ie=ie[0],fe=fe[0],ne&&Y(me,1)&&!(ne=1<=(Ue=Y(me,4))&&11>=Ue)){V.a=3;break e}var wt;if(wt=ne)t:{var Gn,sr,wr,on=V,za=ie,gi=fe,kn=Ue,Ea=z,Fi=on.m,ka=on.s,Er=[null],$r=1,Kn=0,Xr=hl[kn];r:for(;;){if(Ea&&Y(Fi,1)){var qa=Y(Fi,3)+2,Yn=lt(za,qa),Hr=lt(gi,qa),Na=Yn*Hr;if(!Be(Yn,Hr,0,on,Er))break r;for(Er=Er[0],ka.xc=qa,Gn=0;Gn<Na;++Gn){var cn=Er[Gn]>>8&65535;Er[Gn]=cn,cn>=$r&&($r=cn+1)}}if(Fi.h)break r;for(sr=0;5>sr;++sr){var Ca=Du[sr];!sr&&0<kn&&(Ca+=1<<kn),Kn<Ca&&(Kn=Ca)}var Ta=l($r*Xr,K),gn=$r,zr=l(gn,pe);if(zr==null)var Pi=null;else t(65536>=gn),Pi=zr;var sa=i(Kn);if(Pi==null||sa==null||Ta==null){on.a=1;break r}var Xt=Ta;for(Gn=wr=0;Gn<$r;++Gn){var tr=Pi[Gn],Vr=tr.G,hs=tr.H,gl=0,Qi=1,Oa=0;for(sr=0;5>sr;++sr){Ca=Du[sr],Vr[sr]=Xt,hs[sr]=wr,!sr&&0<kn&&(Ca+=1<<kn);a:{var Qc,Zc=Ca,Vh=on,Cn=sa,Op=Xt,Dp=wr,Wh=0,dc=Vh.m,ub=Y(dc,1);if(a(Cn,0,0,Zc),ub){var Fp=Y(dc,1)+1,Pp=Y(dc,1),Gh=Y(dc,Pp==0?1:8);Cn[Gh]=1,Fp==2&&(Cn[Gh=Y(dc,8)]=1);var Za=1}else{var la=i(19),g0=Y(dc,4)+4;if(19<g0){Vh.a=3;var Jc=0;break a}for(Qc=0;Qc<g0;++Qc)la[m0[Qc]]=Y(dc,3);var Kf=void 0,Lu=void 0,No=Vh,Kh=la,Yf=Zc,Yh=Cn,Xh=0,hc=No.m,Lp=8,Mp=l(128,K);n:for(;U(Mp,0,7,Kh,19);){if(Y(hc,1)){var l1=2+2*Y(hc,3);if((Kf=2+Y(hc,l1))>Yf)break n}else Kf=Yf;for(Lu=0;Lu<Yf&&Kf--;){ce(hc);var Rp=Mp[0+(127&q(hc))];X(hc,hc.u+Rp.g);var eu=Rp.value;if(16>eu)Yh[Lu++]=eu,eu!=0&&(Lp=eu);else{var o1=eu==16,c1=eu-16,u1=Hf[c1],Ip=Y(hc,fl[c1])+u1;if(Lu+Ip>Yf)break n;for(var f1=o1?Lp:0;0<Ip--;)Yh[Lu++]=f1}}Xh=1;break n}Xh||(No.a=3),Za=Xh}(Za=Za&&!dc.h)&&(Wh=U(Op,Dp,8,Cn,Zc)),Za&&Wh!=0?Jc=Wh:(Vh.a=3,Jc=0)}if(Jc==0)break r;if(Qi&&Bh[sr]==1&&(Qi=Xt[wr].g==0),gl+=Xt[wr].g,wr+=Jc,3>=sr){var Mu,Qh=sa[0];for(Mu=1;Mu<Ca;++Mu)sa[Mu]>Qh&&(Qh=sa[Mu]);Oa+=Qh}}if(tr.nd=Qi,tr.Qb=0,Qi&&(tr.qb=(Vr[3][hs[3]+0].value<<24|Vr[1][hs[1]+0].value<<16|Vr[2][hs[2]+0].value)>>>0,gl==0&&256>Vr[0][hs[0]+0].value&&(tr.Qb=1,tr.qb+=Vr[0][hs[0]+0].value<<8)),tr.jc=!tr.Qb&&6>Oa,tr.jc){var v0,_o=tr;for(v0=0;v0<$c;++v0){var mc=v0,pc=_o.pd[mc],Zh=_o.G[0][_o.H[0]+mc];256<=Zh.value?(pc.g=Zh.g+256,pc.value=Zh.value):(pc.g=0,pc.value=0,mc>>=na(Zh,8,pc),mc>>=na(_o.G[1][_o.H[1]+mc],16,pc),mc>>=na(_o.G[2][_o.H[2]+mc],0,pc),na(_o.G[3][_o.H[3]+mc],24,pc))}}}ka.vc=Er,ka.Wb=$r,ka.Ya=Pi,ka.yc=Ta,wt=1;break t}wt=0}if(!(ne=wt)){V.a=3;break e}if(0<Ue){if(we.ua=1<<Ue,!xe(we.Wa,Ue)){V.a=1,ne=0;break e}}else we.ua=0;var Jh=V,Ru=ie,d1=fe,Xf=Jh.s,Qf=Xf.xc;if(Jh.c=Ru,Jh.i=d1,Xf.md=lt(Ru,Qf),Xf.wc=Qf==0?-1:(1<<Qf)-1,z){V.xb=Wc;break e}if((ke=i(ie*fe))==null){V.a=1,ne=0;break e}ne=(ne=Me(V,ke,0,ie,fe,fe,null))&&!me.h;break e}return ne?(J!=null?J[0]=ke:(t(ke==null),t(z)),V.$=0,z||Ge(we)):Ge(we),ne}function ze(_,A){var z=_.c*_.i,V=z+A+16*A;return t(_.c<=A),_.V=i(V),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+z+A,1)}function ut(_,A){var z=_.C,V=A-z,J=_.V,ne=_.Ba+_.c*z;for(t(A<=_.l.o);0<V;){var ie=16<V?16:V,fe=_.l.ma,me=_.l.width,we=me*ie,ke=fe.ca,Ue=fe.tb+me*z,be=_.Ta,Oe=_.Ua;Ne(_,ie,J,ne),Hs(be,Oe,ke,Ue,we),ve(fe,z,z+ie,ke,Ue,me),V-=ie,J+=ie*_.c,z+=ie}t(z==A),_.C=_.Ma=A}function mt(){this.ub=this.yd=this.td=this.Rb=0}function _t(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function yt(){this.Yb=(function(){var _=[];return(function A(z,V,J){for(var ne=J[V],ie=0;ie<ne&&(z.push(J.length>V+1?[]:0),!(J.length<V+1));ie++)A(z[ie],V+1,J)})(_,0,[3,11]),_})()}function Tt(){this.jb=i(3),this.Wc=o([4,8],yt),this.Xc=o([4,17],yt)}function ln(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function kr(){this.ld=this.La=this.dd=this.tc=0}function fn(){this.Na=this.la=0}function Wi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Dl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fl(){this.uc=this.M=this.Nb=0,this.wa=Array(new kr),this.Y=0,this.ya=Array(new Dl),this.aa=0,this.l=new Ba}function Rs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Rc(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new mt,this.Kc=new _t,this.ed=new ln,this.Qa=new ht,this.Ic=this.$c=this.Aa=0,this.D=new Fl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,P),this.ia=0,this.pb=l(4,Wi),this.Pa=new Tt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rs),this.Hd=0,this.rb=Array(new fn),this.sb=0,this.wa=Array(new kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Dl),this.L=this.aa=0,this.gd=o([4,2],kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ba(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Of(){var _=new Rc;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Vs||(Vs=Yo)),_}function dn(_,A,z){return _.a==0&&(_.a=A,_.sc=z,_.cb=0),0}function Gi(_,A,z){return 3<=z&&_[A+0]==157&&_[A+1]==1&&_[A+2]==42}function Yd(_,A){if(_==null)return 0;if(_.a=0,_.sc="OK",A==null)return dn(_,2,"null VP8Io passed to VP8GetHeaders()");var z=A.data,V=A.w,J=A.ha;if(4>J)return dn(_,7,"Truncated header.");var ne=z[V+0]|z[V+1]<<8|z[V+2]<<16,ie=_.Od;if(ie.Rb=!(1&ne),ie.td=ne>>1&7,ie.yd=ne>>4&1,ie.ub=ne>>5,3<ie.td)return dn(_,3,"Incorrect keyframe parameters.");if(!ie.yd)return dn(_,4,"Frame not displayable.");V+=3,J-=3;var fe=_.Kc;if(ie.Rb){if(7>J)return dn(_,7,"cannot parse picture header");if(!Gi(z,V,J))return dn(_,3,"Bad code word");fe.c=16383&(z[V+4]<<8|z[V+3]),fe.Td=z[V+4]>>6,fe.i=16383&(z[V+6]<<8|z[V+5]),fe.Ud=z[V+6]>>6,V+=7,J-=7,_.za=fe.c+15>>4,_.Ub=fe.i+15>>4,A.width=fe.c,A.height=fe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,a((ne=_.Pa).jb,0,255,ne.jb.length),t((ne=_.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,a(ne.Zb,0,0,ne.Zb.length),a(ne.Lb,0,0,ne.Lb)}if(ie.ub>J)return dn(_,7,"bad partition length");re(ne=_.m,z,V,ie.ub),V+=ie.ub,J-=ie.ub,ie.Rb&&(fe.Ld=ae(ne),fe.Kd=ae(ne)),fe=_.Qa;var me,we=_.Pa;if(t(ne!=null),t(fe!=null),fe.Cb=ae(ne),fe.Cb){if(fe.Bb=ae(ne),ae(ne)){for(fe.Fb=ae(ne),me=0;4>me;++me)fe.Zb[me]=ae(ne)?ye(ne,7):0;for(me=0;4>me;++me)fe.Lb[me]=ae(ne)?ye(ne,6):0}if(fe.Bb)for(me=0;3>me;++me)we.jb[me]=ae(ne)?se(ne,8):255}else fe.Bb=0;if(ne.Ka)return dn(_,3,"cannot parse segment header");if((fe=_.ed).zd=ae(ne),fe.Tb=se(ne,6),fe.wb=se(ne,3),fe.Pc=ae(ne),fe.Pc&&ae(ne)){for(we=0;4>we;++we)ae(ne)&&(fe.vd[we]=ye(ne,6));for(we=0;4>we;++we)ae(ne)&&(fe.od[we]=ye(ne,6))}if(_.L=fe.Tb==0?0:fe.zd?1:2,ne.Ka)return dn(_,3,"cannot parse filter header");var ke=J;if(J=me=V,V=me+ke,fe=ke,_.Xb=(1<<se(_.m,2))-1,ke<3*(we=_.Xb))z=7;else{for(me+=3*we,fe-=3*we,ke=0;ke<we;++ke){var Ue=z[J+0]|z[J+1]<<8|z[J+2]<<16;Ue>fe&&(Ue=fe),re(_.Jc[+ke],z,me,Ue),me+=Ue,fe-=Ue,J+=3}re(_.Jc[+we],z,me,fe),z=me<V?0:5}if(z!=0)return dn(_,z,"cannot parse partitions");for(z=se(me=_.m,7),J=ae(me)?ye(me,4):0,V=ae(me)?ye(me,4):0,fe=ae(me)?ye(me,4):0,we=ae(me)?ye(me,4):0,me=ae(me)?ye(me,4):0,ke=_.Qa,Ue=0;4>Ue;++Ue){if(ke.Cb){var be=ke.Zb[Ue];ke.Fb||(be+=z)}else{if(0<Ue){_.pb[Ue]=_.pb[0];continue}be=z}var Oe=_.pb[Ue];Oe.Sc[0]=ml[aa(be+J,127)],Oe.Sc[1]=pl[aa(be+0,127)],Oe.Eb[0]=2*ml[aa(be+V,127)],Oe.Eb[1]=101581*pl[aa(be+fe,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=ml[aa(be+we,117)],Oe.Qc[1]=pl[aa(be+me,127)],Oe.lc=be+me}if(!ie.Rb)return dn(_,4,"Not a key frame.");for(ae(ne),ie=_.Pa,z=0;4>z;++z){for(J=0;8>J;++J)for(V=0;3>V;++V)for(fe=0;11>fe;++fe)we=Se(ne,Pn[z][J][V][fe])?se(ne,8):i1[z][J][V][fe],ie.Wc[z][J].Yb[V][fe]=we;for(J=0;17>J;++J)ie.Xc[z][J]=ie.Wc[z][Pr[J]]}return _.kc=ae(ne),_.kc&&(_.Bd=se(ne,8)),_.cb=1}function Yo(_,A,z,V,J,ne,ie){var fe=A[J].Yb[z];for(z=0;16>J;++J){if(!Se(_,fe[z+0]))return J;for(;!Se(_,fe[z+1]);)if(fe=A[++J].Yb[0],z=0,J==16)return 16;var me=A[J+1].Yb;if(Se(_,fe[z+2])){var we=_,ke=0;if(Se(we,(be=fe)[(Ue=z)+3]))if(Se(we,be[Ue+6])){for(fe=0,Ue=2*(ke=Se(we,be[Ue+8]))+(be=Se(we,be[Ue+9+ke])),ke=0,be=a1[Ue];be[fe];++fe)ke+=ke+Se(we,be[fe]);ke+=3+(8<<Ue)}else Se(we,be[Ue+7])?(ke=7+2*Se(we,165),ke+=Se(we,145)):ke=5+Se(we,159);else ke=Se(we,be[Ue+4])?3+Se(we,be[Ue+5]):2;fe=me[2]}else ke=1,fe=me[1];me=ie+kp[J],0>(we=_).b&&ue(we);var Ue,be=we.b,Oe=(Ue=we.Ca>>1)-(we.I>>be)>>31;--we.b,we.Ca+=Oe,we.Ca|=1,we.I-=(Ue+1&Oe)<<be,ne[me]=((ke^Oe)-Oe)*V[(0<J)+0]}return 16}function Xo(_){var A=_.rb[_.sb-1];A.la=0,A.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function sl(_,A,z,V,J){J=_[A+z+32*V]+(J>>3),_[A+z+32*V]=-256&J?0>J?0:255:J}function oo(_,A,z,V,J,ne){sl(_,A,0,z,V+J),sl(_,A,1,z,V+ne),sl(_,A,2,z,V-ne),sl(_,A,3,z,V-J)}function ga(_){return(20091*_>>16)+_}function Ci(_,A,z,V){var J,ne=0,ie=i(16);for(J=0;4>J;++J){var fe=_[A+0]+_[A+8],me=_[A+0]-_[A+8],we=(35468*_[A+4]>>16)-ga(_[A+12]),ke=ga(_[A+4])+(35468*_[A+12]>>16);ie[ne+0]=fe+ke,ie[ne+1]=me+we,ie[ne+2]=me-we,ie[ne+3]=fe-ke,ne+=4,A++}for(J=ne=0;4>J;++J)fe=(_=ie[ne+0]+4)+ie[ne+8],me=_-ie[ne+8],we=(35468*ie[ne+4]>>16)-ga(ie[ne+12]),sl(z,V,0,0,fe+(ke=ga(ie[ne+4])+(35468*ie[ne+12]>>16))),sl(z,V,1,0,me+we),sl(z,V,2,0,me-we),sl(z,V,3,0,fe-ke),ne++,V+=32}function Xd(_,A,z,V){var J=_[A+0]+4,ne=35468*_[A+4]>>16,ie=ga(_[A+4]),fe=35468*_[A+1]>>16;oo(z,V,0,J+ie,_=ga(_[A+1]),fe),oo(z,V,1,J+ne,_,fe),oo(z,V,2,J-ne,_,fe),oo(z,V,3,J-ie,_,fe)}function _h(_,A,z,V,J){Ci(_,A,z,V),J&&Ci(_,A+16,z,V+4)}function Qd(_,A,z,V){cc(_,A+0,z,V,1),cc(_,A+32,z,V+128,1)}function Ki(_,A,z,V){var J;for(_=_[A+0]+4,J=0;4>J;++J)for(A=0;4>A;++A)sl(z,V,A,J,_)}function Zd(_,A,z,V){_[A+0]&&Yr(_,A+0,z,V),_[A+16]&&Yr(_,A+16,z,V+4),_[A+32]&&Yr(_,A+32,z,V+128),_[A+48]&&Yr(_,A+48,z,V+128+4)}function Jd(_,A,z,V){var J,ne=i(16);for(J=0;4>J;++J){var ie=_[A+0+J]+_[A+12+J],fe=_[A+4+J]+_[A+8+J],me=_[A+4+J]-_[A+8+J],we=_[A+0+J]-_[A+12+J];ne[0+J]=ie+fe,ne[8+J]=ie-fe,ne[4+J]=we+me,ne[12+J]=we-me}for(J=0;4>J;++J)ie=(_=ne[0+4*J]+3)+ne[3+4*J],fe=ne[1+4*J]+ne[2+4*J],me=ne[1+4*J]-ne[2+4*J],we=_-ne[3+4*J],z[V+0]=ie+fe>>3,z[V+16]=we+me>>3,z[V+32]=ie-fe>>3,z[V+48]=we-me>>3,V+=64}function Is(_,A,z){var V,J=A-32,ne=Oi,ie=255-_[J-1];for(V=0;V<z;++V){var fe,me=ne,we=ie+_[A-1];for(fe=0;fe<z;++fe)_[A+fe]=me[we+_[J+fe]];A+=32}}function e0(_,A){Is(_,A,4)}function jh(_,A){Is(_,A,8)}function Sh(_,A){Is(_,A,16)}function t0(_,A){var z;for(z=0;16>z;++z)n(_,A+32*z,_,A-32,16)}function r0(_,A){var z;for(z=16;0<z;--z)a(_,A,_[A-1],16),A+=32}function yu(_,A,z){var V;for(V=0;16>V;++V)a(A,z+32*V,_,16)}function Pl(_,A){var z,V=16;for(z=0;16>z;++z)V+=_[A-1+32*z]+_[A+z-32];yu(V>>5,_,A)}function Ll(_,A){var z,V=8;for(z=0;16>z;++z)V+=_[A-1+32*z];yu(V>>4,_,A)}function Qo(_,A){var z,V=8;for(z=0;16>z;++z)V+=_[A+z-32];yu(V>>4,_,A)}function bu(_,A){yu(128,_,A)}function ir(_,A,z){return _+2*A+z+2>>2}function Ic(_,A){var z,V=A-32;for(V=new Uint8Array([ir(_[V-1],_[V+0],_[V+1]),ir(_[V+0],_[V+1],_[V+2]),ir(_[V+1],_[V+2],_[V+3]),ir(_[V+2],_[V+3],_[V+4])]),z=0;4>z;++z)n(_,A+32*z,V,0,V.length)}function Ah(_,A){var z=_[A-1],V=_[A-1+32],J=_[A-1+64],ne=_[A-1+96];De(_,A+0,16843009*ir(_[A-1-32],z,V)),De(_,A+32,16843009*ir(z,V,J)),De(_,A+64,16843009*ir(V,J,ne)),De(_,A+96,16843009*ir(J,ne,ne))}function n0(_,A){var z,V=4;for(z=0;4>z;++z)V+=_[A+z-32]+_[A-1+32*z];for(V>>=3,z=0;4>z;++z)a(_,A+32*z,V,4)}function Eh(_,A){var z=_[A-1+0],V=_[A-1+32],J=_[A-1+64],ne=_[A-1-32],ie=_[A+0-32],fe=_[A+1-32],me=_[A+2-32],we=_[A+3-32];_[A+0+96]=ir(V,J,_[A-1+96]),_[A+1+96]=_[A+0+64]=ir(z,V,J),_[A+2+96]=_[A+1+64]=_[A+0+32]=ir(ne,z,V),_[A+3+96]=_[A+2+64]=_[A+1+32]=_[A+0+0]=ir(ie,ne,z),_[A+3+64]=_[A+2+32]=_[A+1+0]=ir(fe,ie,ne),_[A+3+32]=_[A+2+0]=ir(me,fe,ie),_[A+3+0]=ir(we,me,fe)}function Bs(_,A){var z=_[A+1-32],V=_[A+2-32],J=_[A+3-32],ne=_[A+4-32],ie=_[A+5-32],fe=_[A+6-32],me=_[A+7-32];_[A+0+0]=ir(_[A+0-32],z,V),_[A+1+0]=_[A+0+32]=ir(z,V,J),_[A+2+0]=_[A+1+32]=_[A+0+64]=ir(V,J,ne),_[A+3+0]=_[A+2+32]=_[A+1+64]=_[A+0+96]=ir(J,ne,ie),_[A+3+32]=_[A+2+64]=_[A+1+96]=ir(ne,ie,fe),_[A+3+64]=_[A+2+96]=ir(ie,fe,me),_[A+3+96]=ir(fe,me,me)}function ci(_,A){var z=_[A-1+0],V=_[A-1+32],J=_[A-1+64],ne=_[A-1-32],ie=_[A+0-32],fe=_[A+1-32],me=_[A+2-32],we=_[A+3-32];_[A+0+0]=_[A+1+64]=ne+ie+1>>1,_[A+1+0]=_[A+2+64]=ie+fe+1>>1,_[A+2+0]=_[A+3+64]=fe+me+1>>1,_[A+3+0]=me+we+1>>1,_[A+0+96]=ir(J,V,z),_[A+0+64]=ir(V,z,ne),_[A+0+32]=_[A+1+96]=ir(z,ne,ie),_[A+1+32]=_[A+2+96]=ir(ne,ie,fe),_[A+2+32]=_[A+3+96]=ir(ie,fe,me),_[A+3+32]=ir(fe,me,we)}function a0(_,A){var z=_[A+0-32],V=_[A+1-32],J=_[A+2-32],ne=_[A+3-32],ie=_[A+4-32],fe=_[A+5-32],me=_[A+6-32],we=_[A+7-32];_[A+0+0]=z+V+1>>1,_[A+1+0]=_[A+0+64]=V+J+1>>1,_[A+2+0]=_[A+1+64]=J+ne+1>>1,_[A+3+0]=_[A+2+64]=ne+ie+1>>1,_[A+0+32]=ir(z,V,J),_[A+1+32]=_[A+0+96]=ir(V,J,ne),_[A+2+32]=_[A+1+96]=ir(J,ne,ie),_[A+3+32]=_[A+2+96]=ir(ne,ie,fe),_[A+3+64]=ir(ie,fe,me),_[A+3+96]=ir(fe,me,we)}function wu(_,A){var z=_[A-1+0],V=_[A-1+32],J=_[A-1+64],ne=_[A-1+96];_[A+0+0]=z+V+1>>1,_[A+2+0]=_[A+0+32]=V+J+1>>1,_[A+2+32]=_[A+0+64]=J+ne+1>>1,_[A+1+0]=ir(z,V,J),_[A+3+0]=_[A+1+32]=ir(V,J,ne),_[A+3+32]=_[A+1+64]=ir(J,ne,ne),_[A+3+64]=_[A+2+64]=_[A+0+96]=_[A+1+96]=_[A+2+96]=_[A+3+96]=ne}function Us(_,A){var z=_[A-1+0],V=_[A-1+32],J=_[A-1+64],ne=_[A-1+96],ie=_[A-1-32],fe=_[A+0-32],me=_[A+1-32],we=_[A+2-32];_[A+0+0]=_[A+2+32]=z+ie+1>>1,_[A+0+32]=_[A+2+64]=V+z+1>>1,_[A+0+64]=_[A+2+96]=J+V+1>>1,_[A+0+96]=ne+J+1>>1,_[A+3+0]=ir(fe,me,we),_[A+2+0]=ir(ie,fe,me),_[A+1+0]=_[A+3+32]=ir(z,ie,fe),_[A+1+32]=_[A+3+64]=ir(V,z,ie),_[A+1+64]=_[A+3+96]=ir(J,V,z),_[A+1+96]=ir(ne,J,V)}function Nu(_,A){var z;for(z=0;8>z;++z)n(_,A+32*z,_,A-32,8)}function co(_,A){var z;for(z=0;8>z;++z)a(_,A,_[A-1],8),A+=32}function _u(_,A,z){var V;for(V=0;8>V;++V)a(A,z+32*V,_,8)}function Zo(_,A){var z,V=8;for(z=0;8>z;++z)V+=_[A+z-32]+_[A-1+32*z];_u(V>>4,_,A)}function Df(_,A){var z,V=4;for(z=0;8>z;++z)V+=_[A+z-32];_u(V>>3,_,A)}function Ff(_,A){var z,V=4;for(z=0;8>z;++z)V+=_[A-1+32*z];_u(V>>3,_,A)}function Qa(_,A){_u(128,_,A)}function zs(_,A,z){var V=_[A-z],J=_[A+0],ne=3*(J-V)+uc[1020+_[A-2*z]-_[A+z]],ie=f0[112+(ne+4>>3)];_[A-z]=Oi[255+V+f0[112+(ne+3>>3)]],_[A+0]=Oi[255+J-ie]}function uo(_,A,z,V){var J=_[A+0],ne=_[A+z];return hi[255+_[A-2*z]-_[A-z]]>V||hi[255+ne-J]>V}function Jo(_,A,z,V){return 4*hi[255+_[A-z]-_[A+0]]+hi[255+_[A-2*z]-_[A+z]]<=V}function Pf(_,A,z,V,J){var ne=_[A-3*z],ie=_[A-2*z],fe=_[A-z],me=_[A+0],we=_[A+z],ke=_[A+2*z],Ue=_[A+3*z];return 4*hi[255+fe-me]+hi[255+ie-we]>V?0:hi[255+_[A-4*z]-ne]<=J&&hi[255+ne-ie]<=J&&hi[255+ie-fe]<=J&&hi[255+Ue-ke]<=J&&hi[255+ke-we]<=J&&hi[255+we-me]<=J}function ju(_,A,z,V){var J=2*V+1;for(V=0;16>V;++V)Jo(_,A+V,z,J)&&zs(_,A+V,z)}function ec(_,A,z,V){var J=2*V+1;for(V=0;16>V;++V)Jo(_,A+V*z,1,J)&&zs(_,A+V*z,1)}function Bc(_,A,z,V){var J;for(J=3;0<J;--J)ju(_,A+=4*z,z,V)}function Su(_,A,z,V){var J;for(J=3;0<J;--J)ec(_,A+=4,z,V)}function fo(_,A,z,V,J,ne,ie,fe){for(ne=2*ne+1;0<J--;){if(Pf(_,A,z,ne,ie))if(uo(_,A,z,fe))zs(_,A,z);else{var me=_,we=A,ke=z,Ue=me[we-2*ke],be=me[we-ke],Oe=me[we+0],Le=me[we+ke],Qe=me[we+2*ke],Re=27*(tt=uc[1020+3*(Oe-be)+uc[1020+Ue-Le]])+63>>7,Ye=18*tt+63>>7,tt=9*tt+63>>7;me[we-3*ke]=Oi[255+me[we-3*ke]+tt],me[we-2*ke]=Oi[255+Ue+Ye],me[we-ke]=Oi[255+be+Re],me[we+0]=Oi[255+Oe-Re],me[we+ke]=Oi[255+Le-Ye],me[we+2*ke]=Oi[255+Qe-tt]}A+=V}}function tc(_,A,z,V,J,ne,ie,fe){for(ne=2*ne+1;0<J--;){if(Pf(_,A,z,ne,ie))if(uo(_,A,z,fe))zs(_,A,z);else{var me=_,we=A,ke=z,Ue=me[we-ke],be=me[we+0],Oe=me[we+ke],Le=f0[112+(4+(Qe=3*(be-Ue))>>3)],Qe=f0[112+(Qe+3>>3)],Re=Le+1>>1;me[we-2*ke]=Oi[255+me[we-2*ke]+Re],me[we-ke]=Oi[255+Ue+Qe],me[we+0]=Oi[255+be-Le],me[we+ke]=Oi[255+Oe-Re]}A+=V}}function kh(_,A,z,V,J,ne){fo(_,A,z,1,16,V,J,ne)}function Ch(_,A,z,V,J,ne){fo(_,A,1,z,16,V,J,ne)}function rc(_,A,z,V,J,ne){var ie;for(ie=3;0<ie;--ie)tc(_,A+=4*z,z,1,16,V,J,ne)}function Th(_,A,z,V,J,ne){var ie;for(ie=3;0<ie;--ie)tc(_,A+=4,1,z,16,V,J,ne)}function I(_,A,z,V,J,ne,ie,fe){fo(_,A,J,1,8,ne,ie,fe),fo(z,V,J,1,8,ne,ie,fe)}function Q(_,A,z,V,J,ne,ie,fe){fo(_,A,1,J,8,ne,ie,fe),fo(z,V,1,J,8,ne,ie,fe)}function _e(_,A,z,V,J,ne,ie,fe){tc(_,A+4*J,J,1,8,ne,ie,fe),tc(z,V+4*J,J,1,8,ne,ie,fe)}function Ee(_,A,z,V,J,ne,ie,fe){tc(_,A+4,1,J,8,ne,ie,fe),tc(z,V+4,1,J,8,ne,ie,fe)}function Fe(){this.ba=new qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new K}function qt(){this.xb=this.a=0,this.l=new Ba,this.ca=new qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=l(4,ot),this.Oc=0}function or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ba,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(_,A,z,V,J,ne,ie){for(_=_==null?0:_[A+0],A=0;A<ie;++A)J[ne+A]=_+z[V+A]&255,_=J[ne+A]}function Kr(_,A,z,V,J,ne,ie){var fe;if(_==null)xr(null,null,z,V,J,ne,ie);else for(fe=0;fe<ie;++fe)J[ne+fe]=_[A+fe]+z[V+fe]&255}function Wn(_,A,z,V,J,ne,ie){if(_==null)xr(null,null,z,V,J,ne,ie);else{var fe,me=_[A+0],we=me,ke=me;for(fe=0;fe<ie;++fe)we=ke+(me=_[A+fe])-we,ke=z[V+fe]+(-256&we?0>we?0:255:we)&255,we=me,J[ne+fe]=ke}}function va(_,A,z,V){var J=A.width,ne=A.o;if(t(_!=null&&A!=null),0>z||0>=V||z+V>ne)return null;if(!_.Cc){if(_.ga==null){var ie;if(_.ga=new or,(ie=_.ga==null)||(ie=A.width*A.o,t(_.Gb.length==0),_.Gb=i(ie),_.Uc=0,_.Gb==null?ie=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ie=1),ie=!ie),!ie){ie=_.ga;var fe=_.Fa,me=_.P,we=_.qc,ke=_.mb,Ue=_.nb,be=me+1,Oe=we-1,Le=ie.l;if(t(fe!=null&&ke!=null&&A!=null),fc[0]=null,fc[1]=xr,fc[2]=Kr,fc[3]=Wn,ie.ca=ke,ie.tb=Ue,ie.c=A.width,ie.i=A.height,t(0<ie.c&&0<ie.i),1>=we)A=0;else if(ie.$a=3&fe[me+0],ie.Z=fe[me+0]>>2&3,ie.Lc=fe[me+0]>>4&3,me=fe[me+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||me)A=0;else if(Le.put=Gt,Le.ac=us,Le.bc=Ol,Le.ma=ie,Le.width=A.width,Le.height=A.height,Le.Da=A.Da,Le.v=A.v,Le.va=A.va,Le.j=A.j,Le.o=A.o,ie.$a)e:{t(ie.$a==1),A=Ie();t:for(;;){if(A==null){A=0;break e}if(t(ie!=null),ie.mc=A,A.c=ie.c,A.i=ie.i,A.l=ie.l,A.l.ma=ie,A.l.width=ie.c,A.l.height=ie.i,A.a=0,oe(A.m,fe,be,Oe),!Be(ie.c,ie.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&he(A.s)?(ie.ic=1,fe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=i(fe),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ie.ic=0,A=ze(A,ie.c)),!A))break t;A=1;break e}ie.mc=null,A=0}else A=Oe>=ie.c*ie.i;ie=!A}if(ie)return null;_.ga.Lc!=1?_.Ga=0:V=ne-z}t(_.ga!=null),t(z+V<=ne);e:{if(A=(fe=_.ga).c,ne=fe.l.o,fe.$a==0){if(be=_.rc,Oe=_.Vc,Le=_.Fa,me=_.P+1+z*A,we=_.mb,ke=_.nb+z*A,t(me<=_.P+_.qc),fe.Z!=0)for(t(fc[fe.Z]!=null),ie=0;ie<V;++ie)fc[fe.Z](be,Oe,Le,me,we,ke,A),be=we,Oe=ke,ke+=A,me+=A;else for(ie=0;ie<V;++ie)n(we,ke,Le,me,A),be=we,Oe=ke,ke+=A,me+=A;_.rc=be,_.Vc=Oe}else{if(t(fe.mc!=null),A=z+V,t((ie=fe.mc)!=null),t(A<=ie.i),ie.C>=A)A=1;else if(fe.ic||ll(),fe.ic){fe=ie.V,be=ie.Ba,Oe=ie.c;var Qe=ie.i,Re=(Le=1,me=ie.$/Oe,we=ie.$%Oe,ke=ie.m,Ue=ie.s,ie.$),Ye=Oe*Qe,tt=Oe*A,ft=Ue.wc,st=Re<tt?te(Ue,we,me):null;t(Re<=Ye),t(A<=Qe),t(he(Ue));t:for(;;){for(;!ke.h&&Re<tt;){if(we&ft||(st=te(Ue,we,me)),t(st!=null),ce(ke),256>(Qe=Sn(st.G[0],st.H[0],ke)))fe[be+Re]=Qe,++Re,++we>=Oe&&(we=0,++me<=A&&!(me%16)&&je(ie,me));else{if(!(280>Qe)){Le=0;break t}Qe=oi(Qe-256,ke);var Rt,Et=Sn(st.G[4],st.H[4],ke);if(ce(ke),!(Re>=(Et=Vi(Oe,Et=oi(Et,ke)))&&Ye-Re>=Qe)){Le=0;break t}for(Rt=0;Rt<Qe;++Rt)fe[be+Re+Rt]=fe[be+Re+Rt-Et];for(Re+=Qe,we+=Qe;we>=Oe;)we-=Oe,++me<=A&&!(me%16)&&je(ie,me);Re<tt&&we&ft&&(st=te(Ue,we,me))}t(ke.h==W(ke))}je(ie,me>A?A:me);break t}!Le||ke.h&&Re<Ye?(Le=0,ie.a=ke.h?5:3):ie.$=Re,A=Le}else A=Me(ie,ie.V,ie.Ba,ie.c,ie.i,A,ut);if(!A){V=0;break e}}z+V>=ne&&(_.Cc=1),V=1}if(!V)return null;if(_.Cc&&((V=_.ga)!=null&&(V.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+z*J}function An(_,A,z,V,J,ne){for(;0<J--;){var ie,fe=_,me=A+(z?1:0),we=_,ke=A+(z?0:3);for(ie=0;ie<V;++ie){var Ue=we[ke+4*ie];Ue!=255&&(Ue*=32897,fe[me+4*ie+0]=fe[me+4*ie+0]*Ue>>23,fe[me+4*ie+1]=fe[me+4*ie+1]*Ue>>23,fe[me+4*ie+2]=fe[me+4*ie+2]*Ue>>23)}A+=ne}}function Ua(_,A,z,V,J){for(;0<V--;){var ne;for(ne=0;ne<z;++ne){var ie=_[A+2*ne+0],fe=15&(we=_[A+2*ne+1]),me=4369*fe,we=(240&we|we>>4)*me>>16;_[A+2*ne+0]=(240&ie|ie>>4)*me>>16&240|(15&ie|ie<<4)*me>>16>>4&15,_[A+2*ne+1]=240&we|fe}A+=J}}function Aa(_,A,z,V,J,ne,ie,fe){var me,we,ke=255;for(we=0;we<J;++we){for(me=0;me<V;++me){var Ue=_[A+me];ne[ie+4*me]=Ue,ke&=Ue}A+=z,ie+=fe}return ke!=255}function ui(_,A,z,V,J){var ne;for(ne=0;ne<J;++ne)z[V+ne]=_[A+ne]>>8}function ll(){Tu=An,cl=Ua,o0=Aa,Hs=ui}function fs(_,A,z){B[_]=function(V,J,ne,ie,fe,me,we,ke,Ue,be,Oe,Le,Qe,Re,Ye,tt,ft){var st,Rt=ft-1>>1,Et=fe[me+0]|we[ke+0]<<16,mr=Ue[be+0]|Oe[Le+0]<<16;t(V!=null);var Ot=3*Et+mr+131074>>2;for(A(V[J+0],255&Ot,Ot>>16,Qe,Re),ne!=null&&(Ot=3*mr+Et+131074>>2,A(ne[ie+0],255&Ot,Ot>>16,Ye,tt)),st=1;st<=Rt;++st){var Tr=fe[me+st]|we[ke+st]<<16,Ln=Ue[be+st]|Oe[Le+st]<<16,gr=Et+Tr+mr+Ln+524296,kt=gr+2*(Tr+mr)>>3;Ot=kt+Et>>1,Et=(gr=gr+2*(Et+Ln)>>3)+Tr>>1,A(V[J+2*st-1],255&Ot,Ot>>16,Qe,Re+(2*st-1)*z),A(V[J+2*st-0],255&Et,Et>>16,Qe,Re+(2*st-0)*z),ne!=null&&(Ot=gr+mr>>1,Et=kt+Ln>>1,A(ne[ie+2*st-1],255&Ot,Ot>>16,Ye,tt+(2*st-1)*z),A(ne[ie+2*st+0],255&Et,Et>>16,Ye,tt+(2*st+0)*z)),Et=Tr,mr=Ln}1&ft||(Ot=3*Et+mr+131074>>2,A(V[J+ft-1],255&Ot,Ot>>16,Qe,Re+(ft-1)*z),ne!=null&&(Ot=3*mr+Et+131074>>2,A(ne[ie+ft-1],255&Ot,Ot>>16,Ye,tt+(ft-1)*z)))}}function Oh(){pi[Lh]=Fu,pi[Di]=Vf,pi[Mh]=Tp,pi[ul]=zh,pi[d0]=Gc,pi[qf]=wo,pi[Hc]=Kc,pi[h0]=Vf,pi[Rh]=zh,pi[$f]=Gc,pi[Ih]=wo}function Lf(_){return _&-16384?0>_?0:255:_>>qh}function Au(_,A){return Lf((19077*_>>8)+(26149*A>>8)-14234)}function ho(_,A,z){return Lf((19077*_>>8)-(6419*A>>8)-(13320*z>>8)+8708)}function Ml(_,A){return Lf((19077*_>>8)+(33050*A>>8)-17685)}function Eu(_,A,z,V,J){V[J+0]=Au(_,z),V[J+1]=ho(_,A,z),V[J+2]=Ml(_,A)}function Uc(_,A,z,V,J){V[J+0]=Ml(_,A),V[J+1]=ho(_,A,z),V[J+2]=Au(_,z)}function fi(_,A,z,V,J){var ne=ho(_,A,z);A=ne<<3&224|Ml(_,A)>>3,V[J+0]=248&Au(_,z)|ne>>5,V[J+1]=A}function zc(_,A,z,V,J){var ne=240&Ml(_,A)|15;V[J+0]=240&Au(_,z)|ho(_,A,z)>>4,V[J+1]=ne}function qc(_,A,z,V,J){V[J+0]=255,Eu(_,A,z,V,J+1)}function Mf(_,A,z,V,J){Uc(_,A,z,V,J),V[J+3]=255}function mo(_,A,z,V,J){Eu(_,A,z,V,J),V[J+3]=255}function aa(_,A){return 0>_?0:_>A?A:_}function nc(_,A,z){B[_]=function(V,J,ne,ie,fe,me,we,ke,Ue){for(var be=ke+(-2&Ue)*z;ke!=be;)A(V[J+0],ne[ie+0],fe[me+0],we,ke),A(V[J+1],ne[ie+0],fe[me+0],we,ke+z),J+=2,++ie,++me,ke+=2*z;1&Ue&&A(V[J+0],ne[ie+0],fe[me+0],we,ke)}}function Rf(_,A,z){return z==0?_==0?A==0?6:5:A==0?4:0:z}function i0(_,A,z,V,J){switch(_>>>30){case 3:cc(A,z,V,J,0);break;case 2:Ti(A,z,V,J);break;case 1:Yr(A,z,V,J)}}function qs(_,A){var z,V,J=A.M,ne=A.Nb,ie=_.oc,fe=_.pc+40,me=_.oc,we=_.pc+584,ke=_.oc,Ue=_.pc+600;for(z=0;16>z;++z)ie[fe+32*z-1]=129;for(z=0;8>z;++z)me[we+32*z-1]=129,ke[Ue+32*z-1]=129;for(0<J?ie[fe-1-32]=me[we-1-32]=ke[Ue-1-32]=129:(a(ie,fe-32-1,127,21),a(me,we-32-1,127,9),a(ke,Ue-32-1,127,9)),V=0;V<_.za;++V){var be=A.ya[A.aa+V];if(0<V){for(z=-1;16>z;++z)n(ie,fe+32*z-4,ie,fe+32*z+12,4);for(z=-1;8>z;++z)n(me,we+32*z-4,me,we+32*z+4,4),n(ke,Ue+32*z-4,ke,Ue+32*z+4,4)}var Oe=_.Gd,Le=_.Hd+V,Qe=be.ad,Re=be.Hc;if(0<J&&(n(ie,fe-32,Oe[Le].y,0,16),n(me,we-32,Oe[Le].f,0,8),n(ke,Ue-32,Oe[Le].ea,0,8)),be.Za){var Ye=ie,tt=fe-32+16;for(0<J&&(V>=_.za-1?a(Ye,tt,Oe[Le].y[15],4):n(Ye,tt,Oe[Le+1].y,0,4)),z=0;4>z;z++)Ye[tt+128+z]=Ye[tt+256+z]=Ye[tt+384+z]=Ye[tt+0+z];for(z=0;16>z;++z,Re<<=2)Ye=ie,tt=fe+wa[z],ia[be.Ob[z]](Ye,tt),i0(Re,Qe,16*+z,Ye,tt)}else if(Ye=Rf(V,J,be.Ob[0]),Xi[Ye](ie,fe),Re!=0)for(z=0;16>z;++z,Re<<=2)i0(Re,Qe,16*+z,ie,fe+wa[z]);for(z=be.Gc,Ye=Rf(V,J,be.Dd),Ul[Ye](me,we),Ul[Ye](ke,Ue),Re=Qe,Ye=me,tt=we,255&(be=0|z)&&(170&be?ol(Re,256,Ye,tt):Ur(Re,256,Ye,tt)),be=ke,Re=Ue,255&(z>>=8)&&(170&z?ol(Qe,320,be,Re):Ur(Qe,320,be,Re)),J<_.Ub-1&&(n(Oe[Le].y,0,ie,fe+480,16),n(Oe[Le].f,0,me,we+224,8),n(Oe[Le].ea,0,ke,Ue+224,8)),z=8*ne*_.B,Oe=_.sa,Le=_.ta+16*V+16*ne*_.R,Qe=_.qa,be=_.ra+8*V+z,Re=_.Ha,Ye=_.Ia+8*V+z,z=0;16>z;++z)n(Oe,Le+z*_.R,ie,fe+32*z,16);for(z=0;8>z;++z)n(Qe,be+z*_.B,me,we+32*z,8),n(Re,Ye+z*_.B,ke,Ue+32*z,8)}}function Rl(_,A,z,V,J,ne,ie,fe,me){var we=[0],ke=[0],Ue=0,be=me!=null?me.kd:0,Oe=me??new et;if(_==null||12>z)return 7;Oe.data=_,Oe.w=A,Oe.ha=z,A=[A],z=[z],Oe.gb=[Oe.gb];e:{var Le=A,Qe=z,Re=Oe.gb;if(t(_!=null),t(Qe!=null),t(Re!=null),Re[0]=0,12<=Qe[0]&&!r(_,Le[0],"RIFF")){if(r(_,Le[0]+8,"WEBP")){Re=3;break e}var Ye=Ce(_,Le[0]+4);if(12>Ye||4294967286<Ye){Re=3;break e}if(be&&Ye>Qe[0]-8){Re=7;break e}Re[0]=Ye,Le[0]+=12,Qe[0]-=12}Re=0}if(Re!=0)return Re;for(Ye=0<Oe.gb[0],z=z[0];;){e:{var tt=_;Qe=A,Re=z;var ft=we,st=ke,Rt=Le=[0];if((Ot=Ue=[Ue])[0]=0,8>Re[0])Re=7;else{if(!r(tt,Qe[0],"VP8X")){if(Ce(tt,Qe[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Et=Ce(tt,Qe[0]+8),mr=1+Ke(tt,Qe[0]+12);if(2147483648<=mr*(tt=1+Ke(tt,Qe[0]+15))){Re=3;break e}Rt!=null&&(Rt[0]=Et),ft!=null&&(ft[0]=mr),st!=null&&(st[0]=tt),Qe[0]+=18,Re[0]-=18,Ot[0]=1}Re=0}}if(Ue=Ue[0],Le=Le[0],Re!=0)return Re;if(Qe=!!(2&Le),!Ye&&Ue)return 3;if(ne!=null&&(ne[0]=!!(16&Le)),ie!=null&&(ie[0]=Qe),fe!=null&&(fe[0]=0),ie=we[0],Le=ke[0],Ue&&Qe&&me==null){Re=0;break}if(4>z){Re=7;break}if(Ye&&Ue||!Ye&&!Ue&&!r(_,A[0],"ALPH")){z=[z],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Et=_,Re=A,Ye=z;var Ot=Oe.gb;ft=Oe.na,st=Oe.P,Rt=Oe.Sa,mr=22,t(Et!=null),t(Ye!=null),tt=Re[0];var Tr=Ye[0];for(t(ft!=null),t(Rt!=null),ft[0]=null,st[0]=null,Rt[0]=0;;){if(Re[0]=tt,Ye[0]=Tr,8>Tr){Re=7;break e}var Ln=Ce(Et,tt+4);if(4294967286<Ln){Re=3;break e}var gr=8+Ln+1&-2;if(mr+=gr,0<Ot&&mr>Ot){Re=3;break e}if(!r(Et,tt,"VP8 ")||!r(Et,tt,"VP8L")){Re=0;break e}if(Tr[0]<gr){Re=7;break e}r(Et,tt,"ALPH")||(ft[0]=Et,st[0]=tt+8,Rt[0]=Ln),tt+=gr,Tr-=gr}}if(z=z[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Re!=0)break}z=[z],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Ot=_,Re=A,Ye=z,ft=Oe.gb[0],st=Oe.Ja,Rt=Oe.xa,Et=Re[0],tt=!r(Ot,Et,"VP8 "),mr=!r(Ot,Et,"VP8L"),t(Ot!=null),t(Ye!=null),t(st!=null),t(Rt!=null),8>Ye[0])Re=7;else{if(tt||mr){if(Ot=Ce(Ot,Et+4),12<=ft&&Ot>ft-12){Re=3;break e}if(be&&Ot>Ye[0]-8){Re=7;break e}st[0]=Ot,Re[0]+=8,Ye[0]-=8,Rt[0]=mr}else Rt[0]=5<=Ye[0]&&Ot[Et+0]==47&&!(Ot[Et+4]>>5),st[0]=Ye[0];Re=0}if(z=z[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],A=A[0],Re!=0)break;if(4294967286<Oe.Ja)return 3;if(fe==null||Qe||(fe[0]=Oe.xa?2:1),ie=[ie],Le=[Le],Oe.xa){if(5>z){Re=7;break}fe=ie,be=Le,Qe=ne,_==null||5>z?_=0:5<=z&&_[A+0]==47&&!(_[A+4]>>5)?(Ye=[0],Ot=[0],ft=[0],oe(st=new L,_,A,z),il(st,Ye,Ot,ft)?(fe!=null&&(fe[0]=Ye[0]),be!=null&&(be[0]=Ot[0]),Qe!=null&&(Qe[0]=ft[0]),_=1):_=0):_=0}else{if(10>z){Re=7;break}fe=Le,_==null||10>z||!Gi(_,A+3,z-3)?_=0:(be=_[A+0]|_[A+1]<<8|_[A+2]<<16,Qe=16383&(_[A+7]<<8|_[A+6]),_=16383&(_[A+9]<<8|_[A+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Oe.Ja||!Qe||!_?_=0:(ie&&(ie[0]=Qe),fe&&(fe[0]=_),_=1))}if(!_||(ie=ie[0],Le=Le[0],Ue&&(we[0]!=ie||ke[0]!=Le)))return 3;me!=null&&(me[0]=Oe,me.offset=A-me.w,t(4294967286>A-me.w),t(me.offset==me.ha-z));break}return Re==0||Re==7&&Ue&&me==null?(ne!=null&&(ne[0]|=Oe.na!=null&&0<Oe.na.length),V!=null&&(V[0]=ie),J!=null&&(J[0]=Le),0):Re}function ac(_,A,z){var V=A.width,J=A.height,ne=0,ie=0,fe=V,me=J;if(A.Da=_!=null&&0<_.Da,A.Da&&(fe=_.cd,me=_.bd,ne=_.v,ie=_.j,11>z||(ne&=-2,ie&=-2),0>ne||0>ie||0>=fe||0>=me||ne+fe>V||ie+me>J))return 0;if(A.v=ne,A.j=ie,A.va=ne+fe,A.o=ie+me,A.U=fe,A.T=me,A.da=_!=null&&0<_.da,A.da){if(!Nt(fe,me,z=[_.ib],ne=[_.hb]))return 0;A.ib=z[0],A.hb=ne[0]}return A.ob=_!=null&&_.ob,A.Kb=_==null||!_.Sd,A.da&&(A.ob=A.ib<3*V/4&&A.hb<3*J/4,A.Kb=0),1}function s0(_){if(_==null)return 2;if(11>_.S){var A=_.f.RGBA;A.fb+=(_.height-1)*A.A,A.A=-A.A}else A=_.f.kb,_=_.height,A.O+=(_-1)*A.fa,A.fa=-A.fa,A.N+=(_-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(_-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(_-1)*A.lb,A.lb=-A.lb);return 0}function Il(_,A,z,V){if(V==null||0>=_||0>=A)return 2;if(z!=null){if(z.Da){var J=z.cd,ne=z.bd,ie=-2&z.v,fe=-2&z.j;if(0>ie||0>fe||0>=J||0>=ne||ie+J>_||fe+ne>A)return 2;_=J,A=ne}if(z.da){if(!Nt(_,A,J=[z.ib],ne=[z.hb]))return 2;_=J[0],A=ne[0]}}V.width=_,V.height=A;e:{var me=V.width,we=V.height;if(_=V.S,0>=me||0>=we||!(_>=Lh&&13>_))_=2;else{if(0>=V.Rd&&V.sd==null){ie=ne=J=A=0;var ke=(fe=me*Hh[_])*we;if(11>_||(ne=(we+1)/2*(A=(me+1)/2),_==12&&(ie=(J=me)*we)),(we=i(ke+2*ne+ie))==null){_=1;break e}V.sd=we,11>_?((me=V.f.RGBA).eb=we,me.fb=0,me.A=fe,me.size=ke):((me=V.f.kb).y=we,me.O=0,me.fa=fe,me.Fd=ke,me.f=we,me.N=0+ke,me.Ab=A,me.Cd=ne,me.ea=we,me.W=0+ke+ne,me.Db=A,me.Ed=ne,_==12&&(me.F=we,me.J=0+ke+2*ne),me.Tc=ie,me.lb=J)}if(A=1,J=V.S,ne=V.width,ie=V.height,J>=Lh&&13>J)if(11>J)_=V.f.RGBA,A&=(fe=Math.abs(_.A))*(ie-1)+ne<=_.size,A&=fe>=ne*Hh[J],A&=_.eb!=null;else{_=V.f.kb,fe=(ne+1)/2,ke=(ie+1)/2,me=Math.abs(_.fa),we=Math.abs(_.Ab);var Ue=Math.abs(_.Db),be=Math.abs(_.lb),Oe=be*(ie-1)+ne;A&=me*(ie-1)+ne<=_.Fd,A&=we*(ke-1)+fe<=_.Cd,A=(A&=Ue*(ke-1)+fe<=_.Ed)&me>=ne&we>=fe&Ue>=fe,A&=_.y!=null,A&=_.f!=null,A&=_.ea!=null,J==12&&(A&=be>=ne,A&=Oe<=_.Tc,A&=_.F!=null)}else A=0;_=A?0:2}}return _!=0||z!=null&&z.fd&&(_=s0(V)),_}var $c=64,ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yi=24,po=32,xo=8,ic=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(_){return _},B.Predictor2=function(_,A,z){return A[z+0]},B.Predictor3=function(_,A,z){return A[z+1]},B.Predictor4=function(_,A,z){return A[z-1]},B.Predictor5=function(_,A,z){return Pt(Pt(_,A[z+1]),A[z+0])},B.Predictor6=function(_,A,z){return Pt(_,A[z-1])},B.Predictor7=function(_,A,z){return Pt(_,A[z+0])},B.Predictor8=function(_,A,z){return Pt(A[z-1],A[z+0])},B.Predictor9=function(_,A,z){return Pt(A[z+0],A[z+1])},B.Predictor10=function(_,A,z){return Pt(Pt(_,A[z-1]),Pt(A[z+0],A[z+1]))},B.Predictor11=function(_,A,z){var V=A[z+0];return 0>=Jt(V>>24&255,_>>24&255,(A=A[z-1])>>24&255)+Jt(V>>16&255,_>>16&255,A>>16&255)+Jt(V>>8&255,_>>8&255,A>>8&255)+Jt(255&V,255&_,255&A)?V:_},B.Predictor12=function(_,A,z){var V=A[z+0];return(Vt((_>>24&255)+(V>>24&255)-((A=A[z-1])>>24&255))<<24|Vt((_>>16&255)+(V>>16&255)-(A>>16&255))<<16|Vt((_>>8&255)+(V>>8&255)-(A>>8&255))<<8|Vt((255&_)+(255&V)-(255&A)))>>>0},B.Predictor13=function(_,A,z){var V=A[z-1];return(Zt((_=Pt(_,A[z+0]))>>24&255,V>>24&255)<<24|Zt(_>>16&255,V>>16&255)<<16|Zt(_>>8&255,V>>8&255)<<8|Zt(255&_,255&V))>>>0};var If=B.PredictorAdd0;B.PredictorAdd1=Dr,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var Bf=B.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var ya,Dh=B.ColorIndexInverseTransform,go=B.MapARGB,vo=B.VP8LColorIndexInverseTransformAlpha,di=B.MapAlpha,sc=B.VP8LPredictorsAdd=[];sc.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Uf,zf,lc,oc,yo,ku,$s,cc,Ti,ol,Yr,Ur,En,ba,bo,Bl,Cu,l0,Sp,t1,r1,n1,Ap,Ep,Tu,cl,o0,Hs,Ou=i(511),Fh=i(2041),c0=i(225),u0=i(767),Ph=0,uc=Fh,f0=c0,Oi=u0,hi=Ou,Lh=0,Di=1,Mh=2,ul=3,d0=4,qf=5,Hc=6,h0=7,Rh=8,$f=9,Ih=10,fl=[2,3,7],Hf=[3,3,11],Du=[280,256,256,256,40],Bh=[0,1,1,1,0],m0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vc=8,ml=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vs=null,a1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],i1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xi=[],ia=[],Ul=[],Wc=1,Cp=2,fc=[],pi=[];fs("UpsampleRgbLinePair",Eu,3),fs("UpsampleBgrLinePair",Uc,3),fs("UpsampleRgbaLinePair",mo,4),fs("UpsampleBgraLinePair",Mf,4),fs("UpsampleArgbLinePair",qc,4),fs("UpsampleRgba4444LinePair",zc,2),fs("UpsampleRgb565LinePair",fi,2);var Fu=B.UpsampleRgbLinePair,Tp=B.UpsampleBgrLinePair,Vf=B.UpsampleRgbaLinePair,zh=B.UpsampleBgraLinePair,Gc=B.UpsampleArgbLinePair,wo=B.UpsampleRgba4444LinePair,Kc=B.UpsampleRgb565LinePair,xl=16,Wf=1<<xl-1,Pu=-227,Yc=482,qh=6,Xc=0,xi=i(256),$h=i(256),s1=i(256),lb=i(256),ob=i(Yc-Pu),cb=i(Yc-Pu);nc("YuvToRgbRow",Eu,3),nc("YuvToBgrRow",Uc,3),nc("YuvToRgbaRow",mo,4),nc("YuvToBgraRow",Mf,4),nc("YuvToArgbRow",qc,4),nc("YuvToRgba4444Row",zc,2),nc("YuvToRgb565Row",fi,2);var wa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gf=[0,2,8],p0=[8,7,6,4,4,2,2,2,1,1,1,1],x0=1;this.WebPDecodeRGBA=function(_,A,z,V,J){var ne=Di,ie=new Fe,fe=new qr;ie.ba=fe,fe.S=ne,fe.width=[fe.width],fe.height=[fe.height];var me=fe.width,we=fe.height,ke=new Wt;if(ke==null||_==null)var Ue=2;else t(ke!=null),Ue=Rl(_,A,z,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Ue!=0?me=0:(me!=null&&(me[0]=ke.width[0]),we!=null&&(we[0]=ke.height[0]),me=1),me){fe.width=fe.width[0],fe.height=fe.height[0],V!=null&&(V[0]=fe.width),J!=null&&(J[0]=fe.height);e:{if(V=new Ba,(J=new et).data=_,J.w=A,J.ha=z,J.kd=1,A=[0],t(J!=null),((_=Rl(J.data,J.w,J.ha,null,null,null,A,null,J))==0||_==7)&&A[0]&&(_=4),(A=_)==0){if(t(ie!=null),V.data=J.data,V.w=J.w+J.offset,V.ha=J.ha-J.offset,V.put=Gt,V.ac=us,V.bc=Ol,V.ma=ie,J.xa){if((_=Ie())==null){ie=1;break e}if((function(be,Oe){var Le=[0],Qe=[0],Re=[0];t:for(;;){if(be==null)return 0;if(Oe==null)return be.a=2,0;if(be.l=Oe,be.a=0,oe(be.m,Oe.data,Oe.w,Oe.ha),!il(be.m,Le,Qe,Re)){be.a=3;break t}if(be.xb=Cp,Oe.width=Le[0],Oe.height=Qe[0],!Be(Le[0],Qe[0],1,be,null))break t;return 1}return t(be.a!=0),0})(_,V)){if(V=(A=Il(V.width,V.height,ie.Oa,ie.ba))==0){t:{V=_;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((z=V.l)!=null),t((J=z.ma)!=null),V.xb!=0){if(V.ca=J.ba,V.tb=J.tb,t(V.ca!=null),!ac(J.Oa,z,ul)){V.a=2;break r}if(!ze(V,z.width)||z.da)break r;if((z.da||dr(V.ca.S))&&ll(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&ll()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!xe(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!Me(V,V.V,V.Ba,V.c,V.i,z.o,de))break r;J.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(A=_.a)}else A=_.a}else{if((_=new Of)==null){ie=1;break e}if(_.Fa=J.na,_.P=J.P,_.qc=J.Sa,Yd(_,V)){if((A=Il(V.width,V.height,ie.Oa,ie.ba))==0){if(_.Aa=0,z=ie.Oa,t((J=_)!=null),z!=null){if(0<(me=0>(me=z.Md)?0:100<me?255:255*me/100)){for(we=ke=0;4>we;++we)12>(Ue=J.pb[we]).lc&&(Ue.ia=me*p0[0>Ue.lc?0:Ue.lc]>>3),ke|=Ue.ia;ke&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=z.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(be,Oe){if(be==null)return 0;if(Oe==null)return dn(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Yd(be,Oe))return 0;if(t(be.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(be.L=0);var Le=Gf[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Oe.v-Le>>4,be.zb=Oe.j-Le>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Oe.o+15+Le>>4,be.Hb=Oe.va+15+Le>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var Qe=be.ed;for(Le=0;4>Le;++Le){var Re;if(be.Qa.Cb){var Ye=be.Qa.Lb[Le];be.Qa.Fb||(Ye+=Qe.Tb)}else Ye=Qe.Tb;for(Re=0;1>=Re;++Re){var tt=be.gd[Le][Re],ft=Ye;if(Qe.Pc&&(ft+=Qe.vd[0],Re&&(ft+=Qe.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var st=ft;0<Qe.wb&&(st=4<Qe.wb?st>>2:st>>1)>9-Qe.wb&&(st=9-Qe.wb),1>st&&(st=1),tt.dd=st,tt.tc=2*ft+st,tt.ld=40<=ft?2:15<=ft?1:0}else tt.tc=0;tt.La=Re}}}Le=0}else dn(be,6,"Frame setup failed"),Le=be.a;if(Le=Le==0){if(Le){be.$c=0,0<be.Aa||(be.Ic=x0);t:{Le=be.Ic,Qe=4*(st=be.za);var Rt=32*st,Et=st+1,mr=0<be.L?st*(0<be.Aa?2:1):0,Ot=(be.Aa==2?2:1)*st;if((tt=Qe+832+(Re=3*(16*Le+Gf[be.L])/2*Rt)+(Ye=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=tt)Le=0;else{if(tt>be.Vb){if(be.Vb=0,be.Ec=i(tt),be.Fc=0,be.Ec==null){Le=dn(be,1,"no memory during frame initialization.");break t}be.Vb=tt}tt=be.Ec,ft=be.Fc,be.Ac=tt,be.Bc=ft,ft+=Qe,be.Gd=l(Rt,Rs),be.Hd=0,be.rb=l(Et+1,fn),be.sb=1,be.wa=mr?l(mr,kr):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=st),t(!0),be.oc=tt,be.pc=ft,ft+=832,be.ya=l(Ot,Dl),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=st),be.R=16*st,be.B=8*st,st=(Rt=Gf[be.L])*be.R,Rt=Rt/2*be.B,be.sa=tt,be.ta=ft+st,be.qa=be.sa,be.ra=be.ta+16*Le*be.R+Rt,be.Ha=be.qa,be.Ia=be.ra+8*Le*be.B+Rt,be.$c=0,ft+=Re,be.mb=Ye?tt:null,be.nb=Ye?ft:null,t(ft+Ye<=be.Fc+be.Vb),Xo(be),a(be.Ac,be.Bc,0,Qe),Le=1}}if(Le){if(Oe.ka=0,Oe.y=be.sa,Oe.O=be.ta,Oe.f=be.qa,Oe.N=be.ra,Oe.ea=be.Ha,Oe.Vd=be.Ia,Oe.fa=be.R,Oe.Rc=be.B,Oe.F=null,Oe.J=0,!Ph){for(Le=-255;255>=Le;++Le)Ou[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Fh[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)c0[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)u0[255+Le]=0>Le?0:255<Le?255:Le;Ph=1}$s=Jd,cc=_h,ol=Qd,Yr=Ki,Ur=Zd,Ti=Xd,En=kh,ba=Ch,bo=I,Bl=Q,Cu=rc,l0=Th,Sp=_e,t1=Ee,r1=ju,n1=ec,Ap=Bc,Ep=Su,ia[0]=n0,ia[1]=e0,ia[2]=Ic,ia[3]=Ah,ia[4]=Eh,ia[5]=ci,ia[6]=Bs,ia[7]=a0,ia[8]=Us,ia[9]=wu,Xi[0]=Pl,Xi[1]=Sh,Xi[2]=t0,Xi[3]=r0,Xi[4]=Ll,Xi[5]=Qo,Xi[6]=bu,Ul[0]=Zo,Ul[1]=jh,Ul[2]=Nu,Ul[3]=co,Ul[4]=Ff,Ul[5]=Df,Ul[6]=Qa,Le=1}else Le=0}Le&&(Le=(function(Tr,Ln){for(Tr.M=0;Tr.M<Tr.Va;++Tr.M){var gr,kt=Tr.Jc[Tr.M&Tr.Xb],wt=Tr.m,Gn=Tr;for(gr=0;gr<Gn.za;++gr){var sr=wt,wr=Gn,on=wr.Ac,za=wr.Bc+4*gr,gi=wr.zc,kn=wr.ya[wr.aa+gr];if(wr.Qa.Bb?kn.$b=Se(sr,wr.Pa.jb[0])?2+Se(sr,wr.Pa.jb[2]):Se(sr,wr.Pa.jb[1]):kn.$b=0,wr.kc&&(kn.Ad=Se(sr,wr.Bd)),kn.Za=!Se(sr,145)+0,kn.Za){var Ea=kn.Ob,Fi=0;for(wr=0;4>wr;++wr){var ka,Er=gi[0+wr];for(ka=0;4>ka;++ka){Er=mi[on[za+ka]][Er];for(var $r=Uh[Se(sr,Er[0])];0<$r;)$r=Uh[2*$r+Se(sr,Er[$r])];Er=-$r,on[za+ka]=Er}n(Ea,Fi,on,za,4),Fi+=4,gi[0+wr]=Er}}else Er=Se(sr,156)?Se(sr,128)?1:3:Se(sr,163)?2:0,kn.Ob[0]=Er,a(on,za,Er,4),a(gi,0,Er,4);kn.Dd=Se(sr,142)?Se(sr,114)?Se(sr,183)?1:3:2:0}if(Gn.m.Ka)return dn(Tr,7,"Premature end-of-partition0 encountered.");for(;Tr.ja<Tr.za;++Tr.ja){if(Gn=kt,sr=(wt=Tr).rb[wt.sb-1],on=wt.rb[wt.sb+wt.ja],gr=wt.ya[wt.aa+wt.ja],za=wt.kc?gr.Ad:0)sr.la=on.la=0,gr.Za||(sr.Na=on.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Kn,Xr;if(sr=on,on=Gn,za=wt.Pa.Xc,gi=wt.ya[wt.aa+wt.ja],kn=wt.pb[gi.$b],wr=gi.ad,Ea=0,Fi=wt.rb[wt.sb-1],Er=ka=0,a(wr,Ea,0,384),gi.Za)var qa=0,Yn=za[3];else{$r=i(16);var Hr=sr.Na+Fi.Na;if(Hr=Vs(on,za[1],Hr,kn.Eb,0,$r,0),sr.Na=Fi.Na=(0<Hr)+0,1<Hr)$s($r,0,wr,Ea);else{var Na=$r[0]+3>>3;for($r=0;256>$r;$r+=16)wr[Ea+$r]=Na}qa=1,Yn=za[0]}var cn=15&sr.la,Ca=15&Fi.la;for($r=0;4>$r;++$r){var Ta=1&Ca;for(Na=Xr=0;4>Na;++Na)cn=cn>>1|(Ta=(Hr=Vs(on,Yn,Hr=Ta+(1&cn),kn.Sc,qa,wr,Ea))>qa)<<7,Xr=Xr<<2|(3<Hr?3:1<Hr?2:wr[Ea+0]!=0),Ea+=16;cn>>=4,Ca=Ca>>1|Ta<<7,ka=(ka<<8|Xr)>>>0}for(Yn=cn,qa=Ca>>4,Kn=0;4>Kn;Kn+=2){for(Xr=0,cn=sr.la>>4+Kn,Ca=Fi.la>>4+Kn,$r=0;2>$r;++$r){for(Ta=1&Ca,Na=0;2>Na;++Na)Hr=Ta+(1&cn),cn=cn>>1|(Ta=0<(Hr=Vs(on,za[2],Hr,kn.Qc,0,wr,Ea)))<<3,Xr=Xr<<2|(3<Hr?3:1<Hr?2:wr[Ea+0]!=0),Ea+=16;cn>>=2,Ca=Ca>>1|Ta<<5}Er|=Xr<<4*Kn,Yn|=cn<<4<<Kn,qa|=(240&Ca)<<Kn}sr.la=Yn,Fi.la=qa,gi.Hc=ka,gi.Gc=Er,gi.ia=43690&Er?0:kn.ia,za=!(ka|Er)}if(0<wt.L&&(wt.wa[wt.Y+wt.ja]=wt.gd[gr.$b][gr.Za],wt.wa[wt.Y+wt.ja].La|=!za),Gn.Ka)return dn(Tr,7,"Premature end-of-file encountered.")}if(Xo(Tr),wt=Ln,Gn=1,gr=(kt=Tr).D,sr=0<kt.L&&kt.M>=kt.zb&&kt.M<=kt.Va,kt.Aa==0)t:{if(gr.M=kt.M,gr.uc=sr,qs(kt,gr),Gn=1,gr=(Xr=kt.D).Nb,sr=(Er=Gf[kt.L])*kt.R,on=Er/2*kt.B,$r=16*gr*kt.R,Na=8*gr*kt.B,za=kt.sa,gi=kt.ta-sr+$r,kn=kt.qa,wr=kt.ra-on+Na,Ea=kt.Ha,Fi=kt.Ia-on+Na,Ca=(cn=Xr.M)==0,ka=cn>=kt.Va-1,kt.Aa==2&&qs(kt,Xr),Xr.uc)for(Ta=(Hr=kt).D.M,t(Hr.D.uc),Xr=Hr.yb;Xr<Hr.Hb;++Xr){qa=Xr,Yn=Ta;var gn=(zr=(Oa=Hr).D).Nb;Kn=Oa.R;var zr=zr.wa[zr.Y+qa],Pi=Oa.sa,sa=Oa.ta+16*gn*Kn+16*qa,Xt=zr.dd,tr=zr.tc;if(tr!=0)if(t(3<=tr),Oa.L==1)0<qa&&n1(Pi,sa,Kn,tr+4),zr.La&&Ep(Pi,sa,Kn,tr),0<Yn&&r1(Pi,sa,Kn,tr+4),zr.La&&Ap(Pi,sa,Kn,tr);else{var Vr=Oa.B,hs=Oa.qa,gl=Oa.ra+8*gn*Vr+8*qa,Qi=Oa.Ha,Oa=Oa.Ia+8*gn*Vr+8*qa;gn=zr.ld,0<qa&&(ba(Pi,sa,Kn,tr+4,Xt,gn),Bl(hs,gl,Qi,Oa,Vr,tr+4,Xt,gn)),zr.La&&(l0(Pi,sa,Kn,tr,Xt,gn),t1(hs,gl,Qi,Oa,Vr,tr,Xt,gn)),0<Yn&&(En(Pi,sa,Kn,tr+4,Xt,gn),bo(hs,gl,Qi,Oa,Vr,tr+4,Xt,gn)),zr.La&&(Cu(Pi,sa,Kn,tr,Xt,gn),Sp(hs,gl,Qi,Oa,Vr,tr,Xt,gn))}}if(kt.ia&&alert("todo:DitherRow"),wt.put!=null){if(Xr=16*cn,cn=16*(cn+1),Ca?(wt.y=kt.sa,wt.O=kt.ta+$r,wt.f=kt.qa,wt.N=kt.ra+Na,wt.ea=kt.Ha,wt.W=kt.Ia+Na):(Xr-=Er,wt.y=za,wt.O=gi,wt.f=kn,wt.N=wr,wt.ea=Ea,wt.W=Fi),ka||(cn-=Er),cn>wt.o&&(cn=wt.o),wt.F=null,wt.J=null,kt.Fa!=null&&0<kt.Fa.length&&Xr<cn&&(wt.J=va(kt,wt,Xr,cn-Xr),wt.F=kt.mb,wt.F==null&&wt.F.length==0)){Gn=dn(kt,3,"Could not decode alpha data.");break t}Xr<wt.j&&(Er=wt.j-Xr,Xr=wt.j,t(!(1&Er)),wt.O+=kt.R*Er,wt.N+=kt.B*(Er>>1),wt.W+=kt.B*(Er>>1),wt.F!=null&&(wt.J+=wt.width*Er)),Xr<cn&&(wt.O+=wt.v,wt.N+=wt.v>>1,wt.W+=wt.v>>1,wt.F!=null&&(wt.J+=wt.v),wt.ka=Xr-wt.j,wt.U=wt.va-wt.v,wt.T=cn-Xr,Gn=wt.put(wt))}gr+1!=kt.Ic||ka||(n(kt.sa,kt.ta-sr,za,gi+16*kt.R,sr),n(kt.qa,kt.ra-on,kn,wr+8*kt.B,on),n(kt.Ha,kt.Ia-on,Ea,Fi+8*kt.B,on))}if(!Gn)return dn(Tr,6,"Output aborted.")}return 1})(be,Oe)),Oe.bc!=null&&Oe.bc(Oe),Le&=1}return Le?(be.cb=0,Le):0})(_,V)||(A=_.a)}}else A=_.a}A==0&&ie.Oa!=null&&ie.Oa.fd&&(A=s0(ie.ba))}ie=A}ne=ie!=0?null:11>ne?fe.f.RGBA.eb:fe.f.kb.y}else ne=null;return ne};var Hh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,H){for(var R="",U=0;U<4;U++)R+=String.fromCharCode(B[H++]);return R}function h(B,H){return B[H+0]|B[H+1]<<8}function m(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16)>>>0}function g(B,H){return(B[H+0]|B[H+1]<<8|B[H+2]<<16|B[H+3]<<24)>>>0}new u;var x=[0],b=[0],v=[],w=new u,N=e,E=(function(B,H){var R={},U=0,K=!1,ee=0,pe=0;if(R.frames=[],!(function(P,L){for(var q=0;q<4;q++)if(P[L+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,H)){for(g(B,H+=4),H+=8;H<B.length;){var re=f(B,H),se=g(B,H+=4);H+=4;var ye=se+(1&se);switch(re){case"VP8 ":case"VP8L":R.frames[U]===void 0&&(R.frames[U]={}),(Y=R.frames[U]).src_off=K?pe:H-8,Y.src_size=ee+se+8,U++,K&&(K=!1,ee=0,pe=0);break;case"VP8X":(Y=R.header={}).feature_flags=B[H];var oe=H+4;Y.canvas_width=1+m(B,oe),oe+=3,Y.canvas_height=1+m(B,oe),oe+=3;break;case"ALPH":K=!0,ee=ye+8,pe=H-8;break;case"ANIM":(Y=R.header).bgcolor=g(B,H),oe=H+4,Y.loop_count=h(B,oe),oe+=2;break;case"ANMF":var ge,Y;(Y=R.frames[U]={}).offset_x=2*m(B,H),H+=3,Y.offset_y=2*m(B,H),H+=3,Y.width=1+m(B,H),H+=3,Y.height=1+m(B,H),H+=3,Y.duration=m(B,H),H+=3,ge=B[H++],Y.dispose=1&ge,Y.blend=ge>>1&1}re!="ANMF"&&(H+=ye)}return R}})(N,0);E.response=N,E.rgbaoutput=!0,E.dataurl=!1;var S=E.header?E.header:null,D=E.frames?E.frames:null;if(S){S.loop_counter=S.loop_count,x=[S.canvas_height],b=[S.canvas_width];for(var F=0;F<D.length&&D[F].blend!=0;F++);}var O=D[0],T=w.WebPDecodeRGBA(N,O.src_off,O.src_size,b,x);O.rgba=T,O.imgwidth=b[0],O.imgheight=x[0];for(var M=0;M<b[0]*x[0]*4;M++)v[M]=T[M];return this.width=b,this.height=x,this.data=v,this}(function(e){var t,r,n,a,i,l,o,u,f,h=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new u,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new l,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new l,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var m=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=P;Object.defineProperty(this,"pdf",{get:function(){return L}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ce){q=!!Ce}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(Ce){W=!!Ce}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(Ce){isNaN(Ce)||(X=Ce)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(Ce){isNaN(Ce)||(ce=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ce){var xe;typeof Ce=="number"?xe=[Ce,Ce,Ce,Ce]:((xe=new Array(4))[0]=Ce[0],xe[1]=Ce.length>=2?Ce[1]:xe[0],xe[2]=Ce.length>=3?Ce[2]:xe[0],xe[3]=Ce.length>=4?Ce[3]:xe[1]),f.margin=xe}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ce){ue=Ce}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ce){ae=Ce}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Ce){Se=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ce){Ce instanceof h&&(f=Ce)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ce){f.path=Ce}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Ce){De=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var xe;xe=g(Ce),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var xe=g(Ce);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Z=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Ce){Z=null,Ke=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var xe;if(this.ctx.font=Ce,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var dt=xe[1];xe[2];var Xe=xe[3],Nt=xe[4];xe[5];var lt=xe[6],At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Nt)[2];Nt=Math.floor(At==="px"?parseFloat(Nt)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(Nt)*this.pdf.getFontSize():parseFloat(Nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Nt);var pt=(function(gt){var St,_r,Yt=[],jt=gt.trim();if(jt==="")return R4;if(jt in Y7)return[Y7[jt]];for(;jt!=="";){switch(_r=null,St=(jt=Q7(jt)).charAt(0)){case'"':case"'":_r=Q4e(jt.substring(1),St);break;default:_r=Z4e(jt)}if(_r===null||(Yt.push(_r[0]),(jt=Q7(_r[1]))!==""&&jt.charAt(0)!==","))return R4;jt=jt.replace(/^,/,"")}return Yt})(lt);if(this.fontFaces){var Qt=(function(gt,St){if(Z===null){var _r=(function(Yt){var jt=[];return Object.keys(Yt).forEach(function(er){Yt[er].forEach(function(br){var ar=null;switch(br){case"bold":ar={family:er,weight:"bold"};break;case"italic":ar={family:er,style:"italic"};break;case"bolditalic":ar={family:er,weight:"bold",style:"italic"};break;case"":case"normal":ar={family:er}}ar!==null&&(ar.ref={name:er,style:br},jt.push(ar))})}),jt})(gt.getFontList());Z=(function(Yt){for(var jt={},er=0;er<Yt.length;++er){var br=M4(Yt[er]),ar=br.family,Ar=br.stretch,dr=br.style,xn=br.weight;jt[ar]=jt[ar]||{},jt[ar][Ar]=jt[ar][Ar]||{},jt[ar][Ar][dr]=jt[ar][Ar][dr]||{},jt[ar][Ar][dr][xn]=br}return jt})(_r.concat(St))}return Z})(this.pdf,this.fontFaces),Pt=pt.map(function(gt){return{family:gt,stretch:"normal",weight:Xe,style:dt}}),Vt=(function(gt,St,_r){for(var Yt=(_r=_r||{}).defaultFontFamily||"times",jt=Object.assign({},X4e,_r.genericFontFamilies||{}),er=null,br=null,ar=0;ar<St.length;++ar)if(jt[(er=M4(St[ar])).family]&&(er.family=jt[er.family]),gt.hasOwnProperty(er.family)){br=gt[er.family];break}if(!(br=br||gt[Yt]))throw new Error("Could not find a font-family for the rule '"+X7(er)+"' and default family '"+Yt+"'.");if(br=(function(Ar,dr){if(dr[Ar])return dr[Ar];var xn=S_[Ar],Bn=xn<=S_.normal?-1:1,qr=K7(dr,sU,xn,Bn);if(!qr)throw new Error("Could not find a matching font-stretch value for "+Ar);return qr})(er.stretch,br),br=(function(Ar,dr){if(dr[Ar])return dr[Ar];for(var xn=iU[Ar],Bn=0;Bn<xn.length;++Bn)if(dr[xn[Bn]])return dr[xn[Bn]];throw new Error("Could not find a matching font-style for "+Ar)})(er.style,br),!(br=(function(Ar,dr){if(dr[Ar])return dr[Ar];if(Ar===400&&dr[500])return dr[500];if(Ar===500&&dr[400])return dr[400];var xn=Y4e[Ar],Bn=K7(dr,lU,xn,Ar<400?-1:1);if(!Bn)throw new Error("Could not find a matching font-weight for value "+Ar);return Bn})(er.weight,br)))throw new Error("Failed to resolve a font for the rule '"+X7(er)+"'.");return br})(Qt,Pt);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var Zt="";(Xe==="bold"||parseInt(Xe,10)>=700||dt==="bold")&&(Zt="bold"),dt==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var Jt="",Dr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<pt.length;Ut++){if(this.pdf.internal.getFont(pt[Ut],Zt,{noFallback:!0,disableWarning:!0})!==void 0){Jt=pt[Ut];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(pt[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Jt=pt[Ut],Zt="bold";else if(this.pdf.internal.getFont(pt[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Jt=pt[Ut],Zt="normal";break}}if(Jt===""){for(var Ct=0;Ct<pt.length;Ct++)if(Dr[pt[Ct]]){Jt=Dr[pt[Ct]];break}}Jt=Jt===""?"Times":Jt,this.pdf.setFont(Jt,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};m.prototype.setLineDash=function(P){this.lineDash=P},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){D.call(this,"fill",!1)},m.prototype.stroke=function(){D.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(P,L){if(isNaN(P)||isNaN(L))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(P,L));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(P,L)},m.prototype.closePath=function(){var P=new l(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&_n(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){P=new l(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(P.x,P.y)},m.prototype.lineTo=function(P,L){if(isNaN(P)||isNaN(L))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(P,L));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},m.prototype.quadraticCurveTo=function(P,L,q,W){if(isNaN(q)||isNaN(W)||isNaN(P)||isNaN(L))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new l(q,W)),ce=this.ctx.transform.applyToPoint(new l(P,L));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:X.x,y:X.y}),this.ctx.lastPoint=new l(X.x,X.y)},m.prototype.bezierCurveTo=function(P,L,q,W,X,ce){if(isNaN(X)||isNaN(ce)||isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(X,ce)),ae=this.ctx.transform.applyToPoint(new l(P,L)),Se=this.ctx.transform.applyToPoint(new l(q,W));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Se.x,y2:Se.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},m.prototype.arc=function(P,L,q,W,X,ce){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W)||isNaN(X))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(P,L));P=ue.x,L=ue.y;var ae=this.ctx.transform.applyToPoint(new l(0,q)),Se=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(ae.x-Se.x,2)+Math.pow(ae.y-Se.y,2))}Math.abs(X-W)>=2*Math.PI&&(W=0,X=2*Math.PI),this.path.push({type:"arc",x:P,y:L,radius:q,startAngle:W,endAngle:X,counterclockwise:ce})},m.prototype.arcTo=function(P,L,q,W,X){throw new Error("arcTo not implemented.")},m.prototype.rect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,L),this.lineTo(P+q,L),this.lineTo(P+q,L+W),this.lineTo(P,L+W),this.lineTo(P,L),this.lineTo(P+q,L),this.lineTo(P,L)},m.prototype.fillRect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,L,q,W),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},m.prototype.strokeRect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(P,L,q,W),this.stroke())},m.prototype.clearRect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,L,q,W))},m.prototype.save=function(P){P=typeof P!="boolean"||P;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},m.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(L),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(P){var L,q,W,X;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))L=0,q=0,W=0,X=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ce!==null)L=parseInt(ce[1]),q=parseInt(ce[2]),W=parseInt(ce[3]),X=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)L=parseInt(ce[1]),q=parseInt(ce[2]),W=parseInt(ce[3]),X=parseFloat(ce[4]);else{if(X=1,typeof P=="string"&&P.charAt(0)!=="#"){var ue=new ZB(P);P=ue.ok?ue.toHex():"#000000"}P.length===4?(L=P.substring(1,2),L+=L,q=P.substring(2,3),q+=q,W=P.substring(3,4),W+=W):(L=P.substring(1,3),q=P.substring(3,5),W=P.substring(5,7)),L=parseInt(L,16),q=parseInt(q,16),W=parseInt(W,16)}}return{r:L,g:q,b:W,a:X,style:P}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(P,L,q,W){if(isNaN(L)||isNaN(q)||typeof P!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!x.call(this)){var X=ye(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;U.call(this,{text:P,x:L,y:q,scale:ce,angle:X,align:this.textAlign,maxWidth:W})}},m.prototype.strokeText=function(P,L,q,W){if(isNaN(L)||isNaN(q)||typeof P!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){W=isNaN(W)?void 0:W;var X=ye(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;U.call(this,{text:P,x:L,y:q,scale:ce,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:W})}},m.prototype.measureText=function(P){if(typeof P!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,q=this.pdf.internal.scaleFactor,W=L.internal.getFontSize(),X=L.getStringUnitWidth(P)*W/L.internal.scaleFactor;return new function(ce){var ue=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:X*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(P,L){if(isNaN(P)||isNaN(L))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(P,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(P){if(isNaN(P))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new u(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},m.prototype.translate=function(P,L){if(isNaN(P)||isNaN(L))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,P,L);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(P,L,q,W,X,ce){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W)||isNaN(X)||isNaN(ce))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new u(P,L,q,W,X,ce);this.ctx.transform=this.ctx.transform.multiply(ue)},m.prototype.setTransform=function(P,L,q,W,X,ce){P=isNaN(P)?1:P,L=isNaN(L)?0:L,q=isNaN(q)?0:q,W=isNaN(W)?1:W,X=isNaN(X)?0:X,ce=isNaN(ce)?0:ce,this.ctx.transform=new u(P,L,q,W,X,ce)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(P,L,q,W,X,ce,ue,ae,Se){var De=this.pdf.getImageProperties(P),Z=1,Ke=1,Ce=1,xe=1;W!==void 0&&ae!==void 0&&(Ce=ae/W,xe=Se/X,Z=De.width/W*ae/W,Ke=De.height/X*Se/X),ce===void 0&&(ce=L,ue=q,L=0,q=0),W!==void 0&&ae===void 0&&(ae=W,Se=X),W===void 0&&ae===void 0&&(ae=De.width,Se=De.height);for(var dt,Xe=this.ctx.transform.decompose(),Nt=ye(Xe.rotate.shx),lt=new u,At=(lt=(lt=(lt=lt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new o(ce-L*Ce,ue-q*xe,W*Z,X*Ke)),pt=w.call(this,At),Qt=[],Pt=0;Pt<pt.length;Pt+=1)Qt.indexOf(pt[Pt])===-1&&Qt.push(pt[Pt]);if(S(Qt),this.autoPaging)for(var Vt=Qt[0],Zt=Qt[Qt.length-1],Jt=Vt;Jt<Zt+1;Jt++){this.pdf.setPage(Jt);var Dr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Jt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Jt===1?0:Ct+(Jt-2)*gt;if(this.ctx.clip_path.length!==0){var _r=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(dt,this.posX+this.margin[3],-St+Ut+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=_r}var Yt=JSON.parse(JSON.stringify(At));Yt=E([Yt],this.posX+this.margin[3],-St+Ut+this.ctx.prevPageLastElemOffset)[0];var jt=(Jt>Vt||Jt<Zt)&&v.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dr,gt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Nt),jt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",At.x,At.y,At.w,At.h,null,null,Nt)};var w=function(P,L,q){var W=[];L=L||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":W.push(Math.floor((P.y+X)/q)+1);break;case"arc":W.push(Math.floor((P.y+X-P.radius)/q)+1),W.push(Math.floor((P.y+X+P.radius)/q)+1);break;case"qct":var ce=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);W.push(Math.floor((ce.y+X)/q)+1),W.push(Math.floor((ce.y+ce.h+X)/q)+1);break;case"bct":var ue=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);W.push(Math.floor((ue.y+X)/q)+1),W.push(Math.floor((ue.y+ue.h+X)/q)+1);break;case"rect":W.push(Math.floor((P.y+X)/q)+1),W.push(Math.floor((P.y+P.h+X)/q)+1)}for(var ae=0;ae<W.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<W[ae];)N.call(this);return W},N=function(){var P=this.fillStyle,L=this.strokeStyle,q=this.font,W=this.lineCap,X=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=L,this.font=q,this.lineCap=W,this.lineWidth=X,this.lineJoin=ce},E=function(P,L,q){for(var W=0;W<P.length;W++)switch(P[W].type){case"bct":P[W].x2+=L,P[W].y2+=q;case"qct":P[W].x1+=L,P[W].y1+=q;default:P[W].x+=L,P[W].y+=q}return P},S=function(P){return P.sort(function(L,q){return L-q})},D=function(P,L){for(var q,W,X=this.fillStyle,ce=this.strokeStyle,ue=this.lineCap,ae=this.lineWidth,Se=Math.abs(ae*this.ctx.transform.scaleX),De=this.lineJoin,Z=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Ce=[],xe=0;xe<Ke.length;xe++)if(Ke[xe].x!==void 0)for(var dt=w.call(this,Ke[xe]),Xe=0;Xe<dt.length;Xe+=1)Ce.indexOf(dt[Xe])===-1&&Ce.push(dt[Xe]);for(var Nt=0;Nt<Ce.length;Nt++)for(;this.pdf.internal.getNumberOfPages()<Ce[Nt];)N.call(this);if(S(Ce),this.autoPaging)for(var lt=Ce[0],At=Ce[Ce.length-1],pt=lt;pt<At+1;pt++){this.pdf.setPage(pt),this.fillStyle=X,this.strokeStyle=ce,this.lineCap=ue,this.lineWidth=Se,this.lineJoin=De;var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=pt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=pt===1?0:Vt+(pt-2)*Zt;if(this.ctx.clip_path.length!==0){var Dr=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Jt+Pt+this.ctx.prevPageLastElemOffset),F.call(this,P,!0),this.path=Dr}if(W=JSON.parse(JSON.stringify(Z)),this.path=E(W,this.posX+this.margin[3],-Jt+Pt+this.ctx.prevPageLastElemOffset),L===!1||pt===0){var Ut=(pt>lt||pt<At)&&v.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,Zt,null).clip().discardPath()),F.call(this,P,L),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Se,F.call(this,P,L),this.lineWidth=ae;this.path=Z},F=function(P,L){if((P!=="stroke"||L||!b.call(this))&&(P==="stroke"||L||!x.call(this))){for(var q,W,X=[],ce=this.path,ue=0;ue<ce.length;ue++){var ae=ce[ue];switch(ae.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:ae,deltas:[],abs:[]});break;case"lt":var Se=X.length;if(ce[ue-1]&&!isNaN(ce[ue-1].x)&&(q=[ae.x-ce[ue-1].x,ae.y-ce[ue-1].y],Se>0)){for(;Se>=0;Se--)if(X[Se-1].close!==!0&&X[Se-1].begin!==!0){X[Se-1].deltas.push(q),X[Se-1].abs.push(ae);break}}break;case"bct":q=[ae.x1-ce[ue-1].x,ae.y1-ce[ue-1].y,ae.x2-ce[ue-1].x,ae.y2-ce[ue-1].y,ae.x-ce[ue-1].x,ae.y-ce[ue-1].y],X[X.length-1].deltas.push(q);break;case"qct":var De=ce[ue-1].x+2/3*(ae.x1-ce[ue-1].x),Z=ce[ue-1].y+2/3*(ae.y1-ce[ue-1].y),Ke=ae.x+2/3*(ae.x1-ae.x),Ce=ae.y+2/3*(ae.y1-ae.y),xe=ae.x,dt=ae.y;q=[De-ce[ue-1].x,Z-ce[ue-1].y,Ke-ce[ue-1].x,Ce-ce[ue-1].y,xe-ce[ue-1].x,dt-ce[ue-1].y],X[X.length-1].deltas.push(q);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(ae)}}W=L?null:P==="stroke"?"stroke":"fill";for(var Xe=!1,Nt=0;Nt<X.length;Nt++)if(X[Nt].arc)for(var lt=X[Nt].abs,At=0;At<lt.length;At++){var pt=lt[At];pt.type==="arc"?M.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,L,!Xe):K.call(this,pt.x,pt.y),Xe=!0}else if(X[Nt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(X[Nt].begin!==!0){var Qt=X[Nt].start.x,Pt=X[Nt].start.y;ee.call(this,X[Nt].deltas,Qt,Pt),Xe=!0}W&&B.call(this,W),L&&H.call(this)}},O=function(P){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-q;case"top":return P+L-q;case"hanging":return P+L-2*q;case"middle":return P+L/2-q;default:return P}},T=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(L,q){this.colorStops.push([L,q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(P,L,q,W,X,ce,ue,ae,Se){for(var De=re.call(this,q,W,X,ce),Z=0;Z<De.length;Z++){var Ke=De[Z];Z===0&&(Se?R.call(this,Ke.x1+P,Ke.y1+L):K.call(this,Ke.x1+P,Ke.y1+L)),pe.call(this,P,L,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}ae?H.call(this):B.call(this,ue)},B=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(P,L){this.pdf.internal.out(r(P)+" "+n(L)+" m")},U=function(P){var L;switch(P.align){case"right":case"end":L="right";break;case"center":L="center";break;default:L="left"}var q=this.pdf.getTextDimensions(P.text),W=O.call(this,P.y),X=T.call(this,W)-q.h,ce=this.ctx.transform.applyToPoint(new l(P.x,W)),ue=this.ctx.transform.decompose(),ae=new u;ae=(ae=(ae=ae.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Se,De,Z,Ke=this.ctx.transform.applyToRectangle(new o(P.x,W,q.w,q.h)),Ce=ae.applyToRectangle(new o(P.x,X,q.w,q.h)),xe=w.call(this,Ce),dt=[],Xe=0;Xe<xe.length;Xe+=1)dt.indexOf(xe[Xe])===-1&&dt.push(xe[Xe]);if(S(dt),this.autoPaging)for(var Nt=dt[0],lt=dt[dt.length-1],At=Nt;At<lt+1;At++){this.pdf.setPage(At);var pt=At===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],Vt=Pt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Jt=Zt-this.margin[3],Dr=At===1?0:Qt+(At-2)*Vt;if(this.ctx.clip_path.length!==0){var Ut=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Se,this.posX+this.margin[3],-1*Dr+pt),F.call(this,"fill",!0),this.path=Ut}var Ct=E([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Dr+pt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*P.scale),Z=this.lineWidth,this.lineWidth=Z*P.scale);var gt=this.autoPaging!=="text";if(gt||Ct.y+Ct.h<=Pt){if(gt||Ct.y>=pt&&Ct.x<=Zt){var St=gt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Zt-Ct.x)[0],_r=E([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Dr+pt+this.ctx.prevPageLastElemOffset)[0],Yt=gt&&(At>Nt||At<lt)&&v.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Vt,null).clip().discardPath()),this.pdf.text(St,_r.x,_r.y,{angle:P.angle,align:L,renderingMode:P.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Ct.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-Ct.y);P.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Z)}else P.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*P.scale),Z=this.lineWidth,this.lineWidth=Z*P.scale),this.pdf.text(P.text,ce.x+this.posX,ce.y+this.posY,{angle:P.angle,align:L,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Z)},K=function(P,L,q,W){q=q||0,W=W||0,this.pdf.internal.out(r(P+q)+" "+n(L+W)+" l")},ee=function(P,L,q){return this.pdf.lines(P,L,q,null,null)},pe=function(P,L,q,W,X,ce,ue,ae){this.pdf.internal.out([t(a(q+P)),t(i(W+L)),t(a(X+P)),t(i(ce+L)),t(a(ue+P)),t(i(ae+L)),"c"].join(" "))},re=function(P,L,q,W){for(var X=2*Math.PI,ce=Math.PI/2;L>q;)L-=X;var ue=Math.abs(q-L);ue<X&&W&&(ue=X-ue);for(var ae=[],Se=W?-1:1,De=L;ue>1e-5;){var Z=De+Se*Math.min(ue,ce);ae.push(se.call(this,P,De,Z)),ue-=Math.abs(Z-De),De=Z}return ae},se=function(P,L,q){var W=(q-L)/2,X=P*Math.cos(W),ce=P*Math.sin(W),ue=X,ae=-ce,Se=ue*ue+ae*ae,De=Se+ue*X+ae*ce,Z=4/3*(Math.sqrt(2*Se*De)-De)/(ue*ce-ae*X),Ke=ue-Z*ae,Ce=ae+Z*ue,xe=Ke,dt=-Ce,Xe=W+L,Nt=Math.cos(Xe),lt=Math.sin(Xe);return{x1:P*Math.cos(L),y1:P*Math.sin(L),x2:Ke*Nt-Ce*lt,y2:Ke*lt+Ce*Nt,x3:xe*Nt-dt*lt,y3:xe*lt+dt*Nt,x4:P*Math.cos(q),y4:P*Math.sin(q)}},ye=function(P){return 180*P/Math.PI},oe=function(P,L,q,W,X,ce){var ue=P+.5*(q-P),ae=L+.5*(W-L),Se=X+.5*(q-X),De=ce+.5*(W-ce),Z=Math.min(P,X,ue,Se),Ke=Math.max(P,X,ue,Se),Ce=Math.min(L,ce,ae,De),xe=Math.max(L,ce,ae,De);return new o(Z,Ce,Ke-Z,xe-Ce)},ge=function(P,L,q,W,X,ce,ue,ae){var Se,De,Z,Ke,Ce,xe,dt,Xe,Nt,lt,At,pt,Qt,Pt,Vt=q-P,Zt=W-L,Jt=X-q,Dr=ce-W,Ut=ue-X,Ct=ae-ce;for(De=0;De<41;De++)Nt=(dt=(Z=P+(Se=De/40)*Vt)+Se*((Ce=q+Se*Jt)-Z))+Se*(Ce+Se*(X+Se*Ut-Ce)-dt),lt=(Xe=(Ke=L+Se*Zt)+Se*((xe=W+Se*Dr)-Ke))+Se*(xe+Se*(ce+Se*Ct-xe)-Xe),De==0?(At=Nt,pt=lt,Qt=Nt,Pt=lt):(At=Math.min(At,Nt),pt=Math.min(pt,lt),Qt=Math.max(Qt,Nt),Pt=Math.max(Pt,lt));return new o(Math.round(At),Math.round(pt),Math.round(Qt-At),Math.round(Pt-pt))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,L,q=(P=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:L}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Ht.API),(function(e){var t=function(l){var o,u,f,h,m,g,x,b,v,w;for(u=[],f=0,h=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;h>f;f+=4)(m=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(g=(m=((m=((m=((m=(m-(w=m%85))/85)-(v=m%85))/85)-(b=m%85))/85)-(x=m%85))/85)%85,u.push(g+33,x+33,b+33,v+33,w+33)):u.push(122);return(function(N,E){for(var S=E;S>0;S--)N.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},r=function(l){var o,u,f,h,m,g=String,x="length",b=255,v="charCodeAt",w="slice",N="replace";for(l[w](-2),l=l[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),f=[],h=0,m=(l+=o="uuuuu"[w](l[x]%5||5))[x];m>h;h+=5)u=52200625*(l[v](h)-33)+614125*(l[v](h+1)-33)+7225*(l[v](h+2)-33)+85*(l[v](h+3)-33)+(l[v](h+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,S){for(var D=S;D>0;D--)E.pop()})(f,o[x]),g.fromCharCode.apply(g,f)},n=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var u="",f=0;f<l.length;f+=2)u+=String.fromCharCode("0x"+(l[f]+l[f+1]));return u},i=function(l){for(var o=new Uint8Array(l.length),u=l.length;u--;)o[u]=l.charCodeAt(u);return(o=v_(o)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};e.processDataByFilters=function(l,o){var u=0,f=l||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(Ht.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(u,f,h){var m=new XMLHttpRequest,g=0,x=function(b){var v=b.length,w=[],N=String.fromCharCode;for(g=0;g<v;g+=1)w.push(N(255&b.charCodeAt(g)));return w.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(x(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return x(m.responseText)})(a,i,l)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(Ht.API),(function(e){function t(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):jw(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):jw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var u=_n(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var f=document.createElement(o);for(var h in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[h]=u.style[h];return f},i=function o(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(o(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},l=function o(u){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),f);return(h=h.setProgress(1,o,1,[o])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,u){return o.__proto__=u||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(r).then(function(f){return this.set({src:a("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var b=h[x],v=b.src.find(function(w){return w.format==="truetype"});v&&f.addFont(v.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},l.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(n(o)!=="object")return this;var u=Object.keys(o||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(o,u){return this.then(function(){var f=o in l.template.prop?this.prop[o]:this.opt[o];return u?u(f):f})},l.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function u(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(o=o||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,u,f,h){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,u,f,h){return this.setProgress(o?this.progress.val+o:null,u||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(o,u){var f=this;return this.thenCore(o,u,function(h,m){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,h),g}).then(h,m).then(function(g){return f.updateProgress(1),g})})},l.prototype.thenCore=function(o,u,f){f=f||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),u&&(u=u.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),g=f.call(m,o,u);return l.convert(g,h.__proto__)},l.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},l.prototype.thenList=function(o){var u=this;return o.forEach(function(f){u=u.thenCore(f)}),u},l.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return l.convert(u,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ht.getPageSize=function(o,u,f){if(_n(o)==="object"){var h=o;o=h.orientation,u=h.unit||u,f=h.format||f}u=u||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var m,g=(""+f).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,v=0,w=0;if(x.hasOwnProperty(g))v=x[g][1]/m,w=x[g][0]/m;else try{v=f[1],w=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",w>v&&(b=w,w=v,v=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>w&&(b=w,w=v,v=b)}return{width:w,height:v,unit:u,k:m,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(M4):null;var f=new l(u);return u.worker?f:f.from(o).doCallback()}})(Ht.API),Ht.API.addJS=function(e){return J7=e,this.internal.events.subscribe("postPutResources",function(){Ov=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ov+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Z7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+J7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ov!==void 0&&Z7!==void 0&&this.internal.out("/Names <</JavaScript "+Ov+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var u=o[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(i=0;i<f;i++){var m=r.internal.newObject();h.push(m);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var u=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Ht.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,o){var u,f=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var g,x=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,v={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=x,t.indexOf(m.charCodeAt(w+1))!==-1){g=256*m.charCodeAt(w+5)+m.charCodeAt(w+6),v={width:256*m.charCodeAt(w+7)+m.charCodeAt(w+8),height:g,numcomponents:m.charCodeAt(w+9)};break}x=256*m.charCodeAt(w+2)+m.charCodeAt(w+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:f,index:n,alias:a}}return h}})(Ht.API),Ht.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=L4e(e,{checkCrc:!0}),l=i.width,o=i.height,u=i.channels,f=i.palette,h=i.depth;a=f&&u===1?(function(M){for(var B=M.width,H=M.height,R=M.data,U=M.palette,K=M.depth,ee=!1,pe=[],re=[],se=void 0,ye=!1,oe=0,ge=0;ge<U.length;ge++){var Y=n7(U[ge],4),P=Y[0],L=Y[1],q=Y[2],W=Y[3];pe.push(P,L,q),W!=null&&(W===0?(oe++,re.length<1&&re.push(ge)):W<255&&(ye=!0))}if(ye||oe>1){ee=!0,re=void 0;var X=B*H;se=new Uint8Array(X);for(var ce=new DataView(R.buffer),ue=0;ue<X;ue++){var ae=I4(ce,ue,K),Se=n7(U[ae],4)[3];se[ue]=Se}}else oe===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:R,alphaBytes:se,needSMask:ee,palette:pe,mask:re}})(i):u===2||u===4?(function(M){for(var B=M.data,H=M.width,R=M.height,U=M.channels,K=M.depth,ee=U===2?"DeviceGray":"DeviceRGB",pe=U-1,re=H*R,se=pe,ye=re*se,oe=1*re,ge=Math.ceil(ye*K/8),Y=Math.ceil(oe*K/8),P=new Uint8Array(ge),L=new Uint8Array(Y),q=new DataView(B.buffer),W=new DataView(P.buffer),X=new DataView(L.buffer),ce=!1,ue=0;ue<re;ue++){for(var ae=ue*U,Se=0;Se<se;Se++)oD(W,I4(q,ae+Se,K),ue*se+Se,K);var De=I4(q,ae+se,K);De<(1<<K)-1&&(ce=!0),oD(X,De,1*ue,K)}return{colorSpace:ee,colorsPerPixel:pe,sMaskBitsPerComponent:ce?K:void 0,colorBytes:P,alphaBytes:L,needSMask:ce}})(i):(function(M){var B=M.data,H=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(R){for(var U=R.length,K=new Uint8Array(2*U),ee=new DataView(K.buffer,K.byteOffset,K.byteLength),pe=0;pe<U;pe++)ee.setUint16(2*pe,R[pe],!1);return K})(B):B,needSMask:!1}})(i);var m,g,x,b=a,v=b.colorSpace,w=b.colorsPerPixel,N=b.sMaskBitsPerComponent,E=b.colorBytes,S=b.alphaBytes,D=b.needSMask,F=b.palette,O=b.mask,T=null;return n!==Ht.API.image_compression.NONE&&typeof v_=="function"?(T=(function(M){var B;switch(M){case Ht.API.image_compression.FAST:B=11;break;case Ht.API.image_compression.MEDIUM:B=13;break;case Ht.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(T," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(l),e=nD(E,Math.ceil(l*w*h/8),w,h,n),D&&(x=nD(S,Math.ceil(l*N/8),1,N,n))):(m=void 0,g=void 0,e=E,D&&(x=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:e,index:t,filter:m,decodeParameters:g,transparency:O,palette:F,sMask:x,predictor:T,width:l,height:o,bitsPerComponent:h,sMaskBitsPerComponent:N,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new rNe(t),l=i.width,o=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:l,height:o},h=new B4(100).encode(f,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A})(Ht.API),yc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Rn.log("bit decode error:"+r)}},yc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var u=this.palette[i>>7-o&1];this.data[l+4*o]=u.blue,this.data[l+4*o+1]=u.green,this.data[l+4*o+2]=u.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},yc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,u=15&i,f=this.palette[o];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},yc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},yc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,f=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=u,this.data[h+1]=o,this.data[h+2]=l,this.data[h+3]=f}this.pos+=e}},yc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,u=(l>>5&r)/r*255|0,f=(l>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},yc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},yc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},yc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new yc(t,!1),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},f=new B4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Ht.API),uD.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new uD(t),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},f=new B4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Ht.API),Ht.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,u=0,f=0;f<a;f+=4){var h=n[f],m=n[f+1],g=n[f+2],x=n[f+3];i[o++]=h,i[o++]=m,i[o++]=g,l[u++]=x}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ht.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bm=Ht.API,Dv=bm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,u=o.fof?o.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=t.doKerning!==!1,g=0,x=e.length,b=0,v=o[0]||u,w=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(g=m&&_n(f[n])==="object"&&!isNaN(parseInt(f[n][b],10))?f[n][b]/h:0,w.push((o[n]||v)/u+g)),b=n;return w},eD=bm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return bm.processArabic&&(e=bm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Dv.apply(this,arguments).reduce(function(i,l){return i+l},0)},tD=function(e,t,r,n){for(var a=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var u=i;for(o=0;i!==l;)o+t[i]>n&&(a.push(e.slice(u,i)),o=0,u=i),o+=t[i],i++;return u!==i&&a.push(e.slice(u,i)),a},rD=function(e,t,r){r||(r={});var n,a,i,l,o,u,f,h=[],m=[h],g=r.textIndent||0,x=0,b=0,v=e.split(" "),w=Dv.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var N=Array(u).join(" "),E=[];v.map(function(D){(D=D.split(/\s*\n/)).length>1?E=E.concat(D.map(function(F,O){return(O&&F.length?`
`:"")+F})):E.push(D[0])}),v=E,u=eD.apply(this,[N,r])}for(i=0,l=v.length;i<l;i++){var S=0;if(n=v[i],u&&n[0]==`
`&&(n=n.substr(1),S=1),g+x+(b=(a=Dv.apply(this,[n,r])).reduce(function(D,F){return D+F},0))>t||S){if(b>t){for(o=tD.apply(this,[n,a,t-(g+x),t]),h.push(o.shift()),h=[o.pop()];o.length;)m.push([o.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(D,F){return D+F},0)}else h=[n];m.push(h),g=b+u,x=w}else h.push(n),g+=x+b,x=w}return f=u?function(D,F){return(F?N:"")+D.join(" ")}:function(D){return D.join(" ")},m.map(f)},bm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,u,f=[];for(o=0,u=n.length;o<u;o++)f=f.concat(rD.apply(this,[n[o],l,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var x,b,v,w,N=["{"];for(var E in g){if(x=g[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=l(E).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof x=="number")x<0?(v=l(x).slice(3),w="-"):(v=l(x).slice(2),w=""),v=w+v.slice(0,-1)+a[v.slice(-1)];else{if(_n(x)!=="object")throw new Error("Don't know what to do with value type "+_n(x)+".");v=o(x)}N.push(b+v)}return N.push("}"),N.join("")},u=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,v,w,N={},E=1,S=N,D=[],F="",O="",T=g.length-1,M=1;M<T;M+=1)(w=g[M])=="'"?x?(v=x.join(""),x=void 0):x=[]:x?x.push(w):w=="{"?(D.push([S,v]),S={},v=void 0):w=="}"?((b=D.pop())[0][b[1]]=S,v=void 0,S=b[0]):w=="-"?E=-1:v===void 0?n.hasOwnProperty(w)?(F+=n[w],v=parseInt(F,16)*E,E=1,F=""):F+=w:n.hasOwnProperty(w)?(O+=n[w],S[v]=parseInt(O,16)*E,E=1,v=void 0,O=""):O+=w;return N},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var x=g.font,b=m.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var v=h.Unicode[x.postScriptName];v&&(x.metadata.Unicode.encoding=v,x.encoding=v.codePages[0])}])})(Ht.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(qv(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])})(Ht),Ht.API.addSvgAsImage=function(e,t,r,n,a,i,l,o){if(isNaN(t)||isNaN(r))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(pr.canvg?Promise.resolve(pr.canvg):jw(()=>import("./index.es-MfDdGZx3.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),t,r,n,a,l,o)})},Ht.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ht.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),u=[],f=0,h=0,m=0;function g(b,v){var w,N=!1;for(w=0;w<b.length;w+=1)b[w]===v&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=o.length;for(m=0;m<x;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(_n(e)==="object"){for(a in e)if(i=e[a],g(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&g(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(h=0;h<i[f].length;h+=1)typeof i[f][h]!="number"&&(n=!1);n===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?v.push("/"+b+" /"+r[b].value):v.push("/"+b+" "+r[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+l.length+o.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Ht.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var o,u=l.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,g=i.length;m<g;++m){if(o=l.metadata.characterToGlyph(i.charCodeAt(m)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(m),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(f[4-o.length],o)}return h.join("")},n=function(i){var l,o,u,f,h,m,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,g=(o=Object.keys(i).sort(function(x,b){return x-b})).length;m<g;m++)l=o[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(f=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,f=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var v=f();h({data:x,addLength1:!0,objectId:v}),u("endobj");var w=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var N=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+_m(o.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+_m(o.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+_m(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,f=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",x=0;x<m.length;x++)g+=String.fromCharCode(m[x]);var b=f();h({data:g,addLength1:!0,objectId:b}),u("endobj");var v=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var w=f();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+_m(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=f();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+_m(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",u=i.x,f=i.y,h=i.options||{},m=i.mutex||{},g=m.pdfEscape,x=m.activeFontKey,b=m.fonts,v=x,w="",N=0,E="",S=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:o,x:u,y:f,options:h,mutex:m};for(E=o,v=x,Array.isArray(o)&&(E=o[0]),N=0;N<E.length;N+=1)b[v].metadata.hasOwnProperty("cmap")&&(l=b[v].metadata.cmap.unicode.codeMap[E[N].charCodeAt(0)]),l||E[N].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?w+=E[N]:w+="";var D="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?D=g(w,v).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(D=r(w,b[v])),m.isHex=!0,{text:D,x:u,y:f,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],u={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?o.push([a(Object.assign({},u,{text:l[f][0]})).text,l[f][1],l[f][2]]):o.push(a(Object.assign({},u,{text:l[f]})).text);i.text=o}else i.text=a(Object.assign({},u,{text:l})).text}])})(Ht),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ht.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,o,u,f,h,m=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,S=0;this.__bidiEngine__={};var D=function(R){var U=R.charCodeAt(),K=U>>8,ee=v[K];return ee!==void 0?m[256*ee+(255&U)]:K===252||K===253?"AL":N.test(K)?"L":K===8?"R":"N"},F=function(R){for(var U,K=0;K<R.length;K++){if((U=D(R.charAt(K)))==="L")return!1;if(U==="R")return!0}return!1},O=function(R,U,K,ee){var pe,re,se,ye,oe=U[ee];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(oe="AN");break;case"AL":E=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":ee<1||ee+1>=U.length||(pe=K[ee-1])!=="EN"&&pe!=="AN"||(re=U[ee+1])!=="EN"&&re!=="AN"?oe="N":E&&(re="AN"),oe=re===pe?re:"N";break;case"ES":oe=(pe=ee>0?K[ee-1]:"B")==="EN"&&ee+1<U.length&&U[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&K[ee-1]==="EN"){oe="EN";break}if(E){oe="N";break}for(se=ee+1,ye=U.length;se<ye&&U[se]==="ET";)se++;oe=se<ye&&U[se]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(ye=U.length,se=ee+1;se<ye&&U[se]==="NSM";)se++;if(se<ye){var ge=R[ee],Y=ge>=1425&&ge<=2303||ge===64286;if(pe=U[se],Y&&(pe==="R"||pe==="AL")){oe="R";break}}}oe=ee<1||(pe=U[ee-1])==="B"?"N":K[ee-1];break;case"B":E=!1,a=!0,oe=S;break;case"S":i=!0,oe="N"}return oe},T=function(R,U,K){var ee=R.split("");return K&&M(ee,K,{hiLevel:S}),ee.reverse(),U&&U.reverse(),ee.join("")},M=function(R,U,K){var ee,pe,re,se,ye,oe=-1,ge=R.length,Y=0,P=[],L=S?x:g,q=[];for(E=!1,a=!1,i=!1,pe=0;pe<ge;pe++)q[pe]=D(R[pe]);for(re=0;re<ge;re++){if(ye=Y,P[re]=O(R,q,P,re),ee=240&(Y=L[ye][b[P[re]]]),Y&=15,U[re]=se=L[Y][5],ee>0)if(ee===16){for(pe=oe;pe<re;pe++)U[pe]=1;oe=-1}else oe=-1;if(L[Y][6])oe===-1&&(oe=re);else if(oe>-1){for(pe=oe;pe<re;pe++)U[pe]=se;oe=-1}q[re]==="B"&&(U[re]=0),K.hiLevel|=se}i&&(function(W,X,ce){for(var ue=0;ue<ce;ue++)if(W[ue]==="S"){X[ue]=S;for(var ae=ue-1;ae>=0&&W[ae]==="WS";ae--)X[ae]=S}})(q,U,ge)},B=function(R,U,K,ee,pe){if(!(pe.hiLevel<R)){if(R===1&&S===1&&!a)return U.reverse(),void(K&&K.reverse());for(var re,se,ye,oe,ge=U.length,Y=0;Y<ge;){if(ee[Y]>=R){for(ye=Y+1;ye<ge&&ee[ye]>=R;)ye++;for(oe=Y,se=ye-1;oe<se;oe++,se--)re=U[oe],U[oe]=U[se],U[se]=re,K&&(re=K[oe],K[oe]=K[se],K[se]=re);Y=ye}Y++}}},H=function(R,U,K){var ee=R.split(""),pe={hiLevel:S};return K||(K=[]),M(ee,K,pe),(function(re,se,ye){if(ye.hiLevel!==0&&h)for(var oe,ge=0;ge<re.length;ge++)se[ge]===1&&(oe=w.indexOf(re[ge]))>=0&&(re[ge]=w[oe+1])})(ee,K,pe),B(2,ee,U,K,pe),B(1,ee,U,K,pe),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(R,U,K){if((function(pe,re){if(re)for(var se=0;se<pe.length;se++)re[se]=se;o===void 0&&(o=F(pe)),f===void 0&&(f=F(pe))})(R,U),l||!u||f)if(l&&u&&o^f)S=o?1:0,R=T(R,U,K);else if(!l&&u&&f)S=o?1:0,R=H(R,U,K),R=T(R,U);else if(!l||o||u||f){if(l&&!u&&o^f)R=T(R,U),o?(S=0,R=H(R,U,K)):(S=1,R=H(R,U,K),R=T(R,U));else if(l&&o&&!u&&f)S=1,R=H(R,U,K),R=T(R,U);else if(!l&&!u&&o^f){var ee=h;o?(S=1,R=H(R,U,K),S=0,h=!1,R=H(R,U,K),h=ee):(S=0,R=H(R,U,K),R=T(R,U),S=1,h=!1,R=H(R,U,K),h=ee,R=T(R,U))}}else S=0,R=H(R,U,K);else S=o?1:0,R=H(R,U,K);return R},this.__bidiEngine__.setOptions=function(R){R&&(l=R.isInputVisual,u=R.isOutputVisual,o=R.isInputRtl,f=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Ht),Ht.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Md(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new gNe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new nNe(this.contents),this.head=new iNe(this),this.name=new uNe(this),this.cmap=new cU(this),this.toUnicode={},this.hhea=new sNe(this),this.maxp=new fNe(this),this.hmtx=new dNe(this),this.post=new oNe(this),this.os2=new lNe(this),this.loca=new xNe(this),this.glyf=new hNe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,u,f;for(f=[],l=0,o=(u=this.bbox).length;l<o;l++)t=u[l],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Mc,Md=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,o,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),nNe=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,o,u,f,h,m,g,x,b,v;for(v in x=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(x)/u),l=Math.floor(m/u),h=16*x-m,(a=new Md).writeInt(this.scalarType),a.writeShort(x),a.writeShort(m),a.writeShort(l),a.writeShort(h),i=16*x,f=a.pos+i,o=null,b=[],r)for(g=r[v],a.writeString(v),a.writeInt(e(g)),a.writeInt(f),a.writeInt(g.length),b=b.concat(g),v==="head"&&(o=f),f+=g.length;f%4;)b.push(0),f++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=uU.call(r);r.length%4;)r.push(0);for(i=new Md(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),aNe={}.hasOwnProperty,gu=function(e,t){for(var r in t)aNe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Mc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var iNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Md).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),fD=(function(){function e(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),g=x/2,t.pos+=6,i=(function(){var D,F;for(F=[],u=D=0;0<=g?D<g:D>g;u=0<=g?++D:--D)F.push(t.readUInt16());return F})(),t.pos+=2,v=(function(){var D,F;for(F=[],u=D=0;0<=g?D<g:D>g;u=0<=g?++D:--D)F.push(t.readUInt16());return F})(),f=(function(){var D,F;for(F=[],u=D=0;0<=g?D<g:D>g;u=0<=g?++D:--D)F.push(t.readUInt16());return F})(),h=(function(){var D,F;for(F=[],u=D=0;0<=g?D<g:D>g;u=0<=g?++D:--D)F.push(t.readUInt16());return F})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var D,F;for(F=[],u=D=0;0<=a?D<a:D>a;u=0<=a?++D:--D)F.push(t.readUInt16());return F})(),u=N=0,S=i.length;N<S;u=++N)for(w=i[u],n=E=b=v[u];b<=w?E<=w:E>=w;n=b<=w?++E:--E)h[u]===0?l=n+f[u]:(l=o[h[u]/2+(n-b)-(g-u)]||0)!==0&&(l+=f[u]),this.codeMap[n]=65535&l}t.pos=m}return e.encode=function(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N,E,S,D,F,O,T,M,B,H,R,U,K,ee,pe,re,se,ye,oe,ge,Y,P,L,q,W,X,ce,ue,ae,Se,De,Z;switch(ee=new Md,l=Object.keys(t).sort(function(Ke,Ce){return Ke-Ce}),r){case"macroman":for(v=0,w=(function(){var Ke=[];for(b=0;b<256;++b)Ke.push(0);return Ke})(),E={0:0},i={},pe=0,oe=l.length;pe<oe;pe++)E[ae=t[a=l[pe]]]==null&&(E[ae]=++v),i[a]={old:t[a],new:E[t[a]]},w[a]=E[t[a]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(w),{charMap:i,subtable:ee.data,maxGlyphID:v+1};case"unicode":for(U=[],m=[],S=0,E={},n={},N=f=null,re=0,ge=l.length;re<ge;re++)E[F=t[a=l[re]]]==null&&(E[F]=++S),n[a]={old:F,new:E[F]},o=E[F]-a,N!=null&&o===f||(N&&m.push(N),U.push(a),f=o),N=a;for(N&&m.push(N),m.push(65535),U.push(65535),H=2*(B=U.length),M=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,T=2*B-M,u=[],O=[],x=[],b=se=0,Y=U.length;se<Y;b=++se){if(R=U[b],h=m[b],R===65535){u.push(0),O.push(0);break}if(R-(K=n[R].new)>=32768)for(u.push(0),O.push(2*(x.length+B-b)),a=ye=R;R<=h?ye<=h:ye>=h;a=R<=h?++ye:--ye)x.push(n[a].new);else u.push(K-R),O.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*B+2*x.length),ee.writeUInt16(0),ee.writeUInt16(H),ee.writeUInt16(M),ee.writeUInt16(g),ee.writeUInt16(T),ce=0,P=m.length;ce<P;ce++)a=m[ce],ee.writeUInt16(a);for(ee.writeUInt16(0),ue=0,L=U.length;ue<L;ue++)a=U[ue],ee.writeUInt16(a);for(Se=0,q=u.length;Se<q;Se++)o=u[Se],ee.writeUInt16(o);for(De=0,W=O.length;De<W;De++)D=O[De],ee.writeUInt16(D);for(Z=0,X=x.length;Z<X;Z++)v=x[Z],ee.writeUInt16(v);return{charMap:n,subtable:ee.data,maxGlyphID:S+1}}},e})(),cU=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new fD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=fD.encode(t,r),(a=new Md).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),sNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),lNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),oNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,o,u;for(u=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)u.push(t.readUInt32());return u}).call(this)}},e})(),cNe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},uNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,o,u,f,h,m,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(u={},i=h=0,m=n.length;h<m;i=++h)a=n[i],t.pos=a.offset,f=t.readString(a.length),l=new cNe(f,a),u[g=a.nameID]==null&&(u[g]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),fNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),dNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,o,u;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)h.push(t.readInt16());return h})(),this.widths=(function(){var f,h,m,g;for(g=[],f=0,h=(m=this.metrics).length;f<h;f++)i=m[f],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],u=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),uU=[].slice,hNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,o,u,f,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(o=new Md(r.read(a))).readShort(),f=o.readShort(),m=o.readShort(),u=o.readShort(),h=o.readShort(),this.cache[t]=l===-1?new pNe(o,f,m,u,h):new mNe(o,l,f,m,u,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,o,u;for(l=[],i=[],o=0,u=r.length;o<u;o++)a=t[r[o]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e})(),mNe=(function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),pNe=(function(){function e(t,r,n,a,i){var l,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Md(uU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),xNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gu(e,Mc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var o=this.offsets[l],u=this.offsets[l+1]-o;u>0&&(a+=u)}for(var f=new Array(4*n.length),h=0;h<n.length;++h)f[4*h+3]=255&n[h],f[4*h+2]=(65280&n[h])>>8,f[4*h+1]=(16711680&n[h])>>16,f[4*h]=(4278190080&n[h])>>24;return f},e})(),gNe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,o,u;for(a={},l=0,o=t.length;l<o;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))n=u[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,o,u,f,h,m,g,x,b,v,w,N;for(a in n=cU.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),x={0:0},N=n.charMap)x[(u=N[a]).old]=u.new;for(b in g=n.maxGlyphID,l)b in x||(x[b]=g++);return h=(function(E){var S,D;for(S in D={},E)D[E[S]]=S;return D})(x),m=Object.keys(h).sort(function(E,S){return E-S}),v=(function(){var E,S,D;for(D=[],E=0,S=m.length;E<S;E++)o=m[E],D.push(h[o]);return D})(),i=this.font.glyf.encode(l,v,x),f=this.font.loca.encode(i.offsets,v),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();Ht.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+(function(){var o,u,f;for(f=[],o=0,u=r.length;o<u;o++)n=r[o],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t})();function fU(e,t,r,n,a){n=n||{};var i=1.15,l=a.internal.scaleFactor,o=a.internal.getFontSize()/l,u=a.getLineHeightFactor?a.getLineHeightFactor():i,f=o*u,h=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof e=="string"?e.split(h):e,g=m.length||1),r+=o*(2-i),n.valign==="middle"?r-=g/2*f:n.valign==="bottom"&&(r-=g*f),n.halign==="center"||n.halign==="right"){var x=o;if(n.halign==="center"&&(x*=.5),m&&g>=1){for(var b=0;b<m.length;b++)a.text(m[b],t-a.getStringUnitWidth(m[b])*x,r),r+=f;return a}t-=a.getStringUnitWidth(e)*x}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var dD={},Um=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:dD=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,u=l.fontName;if(t.font&&(u=t.font),t.fontStyle){o=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),o=f[0])}if(this.jsPDFDocument.setFont(u,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return dD||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),A_=function(e,t){return A_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},A_(e,t)};function dU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");A_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hU=(function(e){dU(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function vNe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function yNe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function n2(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return a}function mU(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var l=pU(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function pU(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function ab(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function xU(e,t){var r=ab(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function bNe(e,t,r,n,a){var i={},l=1.3333333333333333,o=U4(t,function(S){return a.getComputedStyle(S).backgroundColor});o!=null&&(i.fillColor=o);var u=U4(t,function(S){return a.getComputedStyle(S).color});u!=null&&(i.textColor=u);var f=NNe(n,r);f&&(i.cellPadding=f);var h="borderTopColor",m=l*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var x=(parseFloat(g)||0)/m;x&&(i.lineWidth=x)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var b=U4(t,function(S){return a.getComputedStyle(S)[h]});b!=null&&(i.lineColor=b);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(i.fontSize=w/l);var N=wNe(n);N&&(i.fontStyle=N);var E=(n.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(i.font=E),i}function wNe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function U4(e,t){var r=gU(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function gU(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:gU(e.parentElement,t):r}function NNe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),l=ab(i,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function vU(e,t,r,n,a){var i,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],m=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:g};for(var x=0;x<o.rows.length;x++){var b=o.rows[x],v=(l=(i=b?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),w=_Ne(u,f,r,b,n,a);w&&(v==="thead"?h.push(w):v==="tfoot"?g.push(w):m.push(w))}return{head:h,body:m,foot:g}}function _Ne(e,t,r,n,a,i){for(var l=new hU(n),o=0;o<n.cells.length;o++){var u=n.cells[o],f=r.getComputedStyle(u);if(a||f.display!=="none"){var h=void 0;i&&(h=bNe(e,u,t,f,r)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:jNe(u)})}}var m=r.getComputedStyle(n);if(l.length>0&&(a||m.display!=="none"))return l}function jNe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function SNe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function tf(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i}function yU(e,t){var r=new Um(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();SNe(a,n,t);var i=tf({},a,n,t),l;typeof window<"u"&&(l=window);var o=ANe(a,n,t),u=ENe(a,n,t),f=kNe(r,i),h=TNe(r,i,l);return{id:t.tableId,content:h,hooks:u,styles:o,settings:f}}function ANe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(u){if(u==="columnStyles"){var f=e[u],h=t[u],m=r[u];n.columnStyles=tf({},f,h,m)}else{var g=[e,t,r],x=g.map(function(b){return b[u]||{}});n[u]=tf({},x[0],x[1],x[2])}},i=0,l=Object.keys(n);i<l.length;i++){var o=l[i];a(o)}return n}function ENe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=n;i<l.length;i++){var o=l[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function kNe(e,t){var r,n,a,i,l,o,u,f,h,m,g,x,b=ab(t.margin,40/e.scaleFactor()),v=(r=CNe(e,t.startY))!==null&&r!==void 0?r:b.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var N;t.showHead===!0?N="everyPage":t.showHead===!1?N="never":N=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(E?"plain":"striped"),D=!!t.horizontalPageBreak,F=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:S,startY:v,margin:b,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:N,showFoot:w,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:D,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function CNe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function TNe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var o=vU(e,t.html,r,l,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var u=t.columns||ONe(n,a,i);return{columns:u,head:n,body:a,foot:i}}function ONe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var u=0;u<l;u++){var f=void 0;Array.isArray(n)?f=a.length:f=i+(u>0?"_".concat(u):"");var h={dataKey:f};a.push(h)}}),a}var E_=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),DNe=(function(e){dU(t,e);function t(r,n,a,i,l,o){var u=e.call(this,r,n,o)||this;return u.cell=a,u.row=i,u.column=l,u.section=i.section,u}return t})(E_),FNe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,l){for(var o=0,u=r;o<u.length;o++){var f=u[o],h=new DNe(t,this,n,a,i,l),m=f(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new E_(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new E_(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),bU=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof hU&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var l=n.cells[i.index];if(!l)return 0;var o=r.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),f=u+o;return f>a?f:a},0)},e})(),wU=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=ab(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),PNe=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e})();function LNe(e,t){MNe(e,t);var r=[],n=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=k_(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=k_(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),INe(t),BNe(t,e),RNe(t)}function MNe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=xU(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,i,u,null);var m=f.padding("horizontal");f.contentWidth=n2(f.text,f.styles,e)+m;var g=n2(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/r;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function k_(e,t,r){for(var n=t,a=e.reduce(function(x,b){return x+b.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/a,u=n*o,f=l.width+u,h=r(l),m=f<h?h:f;t-=m-l.width,l.width=m}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(x){return t<0?x.width>r(x):!0});g.length&&(t=k_(g,t,r))}return t}function RNe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],l=0,o=e.columns;l<o.length;l++){var u=o[l],f=t[u.index];if(r>1)r--,delete i.cells[u.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var h=i.cells[u.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=n.length-a,g=h.rowSpan>m?m:h.rowSpan;t[u.index]={cell:h,left:g,row:i}}}}}function INe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,l=0,o=0;o<e.columns.length;o++){var u=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=u.width,delete n.cells[u.index];else if(a){var f=a;delete n.cells[u.index],a=null,f.width=u.width+i}else{var f=n.cells[u.index];if(!f)continue;if(l=f.colSpan,i=0,f.colSpan>1){a=f,i+=u.width;continue}f.width=u.width+i}}}function BNe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],l=0,o=e.columns;l<o.length;l++){var u=o[l],f=i.cells[u.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=hD(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=hD(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,h);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<g*f.rowSpan?r={height:g,count:f.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function hD(e,t,r,n,a){return e.map(function(i){return UNe(i,t,r,n,a)})}function UNe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=n2(e,r,n))return e;for(;t<n2(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function NU(e,t){var r=new Um(e),n=zNe(t,r.scaleFactor()),a=new FNe(t,n);return LNe(r,a),r.applyStyles(r.userStyles),a}function zNe(e,t){var r=e.content,n=$Ne(r.columns);if(r.head.length===0){var a=mD(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=mD(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,l=e.styles;return{columns:n,head:z4("head",r.head,n,l,i,t),body:z4("body",r.body,n,l,i,t),foot:z4("foot",r.foot,n,l,i,t)}}function z4(e,t,r,n,a,i){var l={},o=t.map(function(u,f){for(var h=0,m={},g=0,x=0,b=0,v=r;b<v.length;b++){var w=v[b];if(l[w.index]==null||l[w.index].left===0)if(x===0){var N=void 0;Array.isArray(u)?N=u[w.index-g-h]:N=u[w.dataKey];var E={};typeof N=="object"&&!Array.isArray(N)&&(E=N?.styles||{});var S=HNe(e,w,f,a,n,i,E),D=new wU(N,S,e);m[w.dataKey]=D,m[w.index]=D,x=D.colSpan-1,l[w.index]={left:D.rowSpan-1,times:x}}else x--,g++;else l[w.index].left--,x=l[w.index].times,h++}return new bU(u,f,e,m)});return o}function mD(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=qNe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function qNe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function $Ne(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new PNe(a,t,r)})}function HNe(e,t,r,n,a,i,l){var o=yNe(n),u;e==="head"?u=a.headStyles:e==="body"?u=a.bodyStyles:e==="foot"&&(u=a.footStyles);var f=tf({},o.table,o[e],a.styles,u),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},m=e==="body"?h:{},g=e==="body"&&r%2===0?tf({},o.alternateRow,a.alternateRowStyles):{},x=vNe(i),b=tf({},x,f,g,m);return tf(b,l)}function VNe(e,t,r){var n;r===void 0&&(r={});var a=xU(e,t),i=new Map,l=[],o=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var x=t.columns.find(function(b){return b.dataKey===g||b.index===g});x&&!i.has(x.index)&&(i.set(x.index,!0),l.push(x.index),o.push(t.columns[x.index]),a-=x.wrappedWidth)});for(var f=!0,h=(n=r?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(f||a>=m)f=!1,l.push(h),o.push(t.columns[h]),a-=m;else break;h++}return{colIndexes:l,columns:o,lastIndex:h-1}}function WNe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=VNe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function _U(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+l;if(r.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(g,x){return g+x.height},0);o+=f}var h=new Um(e);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(SU(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var m=tf({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?GNe(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return yf(h,t,g,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,x){var b=x===t.body.length-1;a2(h,t,g,b,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return yf(h,t,g,i,t.columns)})),mU(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function GNe(e,t,r,n){var a=WNe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?Bx(e,t,r,n,f.columns,!0):pD(e,t,n,f.columns),KNe(e,t,r,n,f.columns),q4(e,t,n,f.columns)});else for(var l=-1,o=a[0],u=function(){var f=l;if(o){e.applyStyles(e.userStyles);var h=o.columns;l>=0?Bx(e,t,r,n,h,!0):pD(e,t,n,h),f=xD(e,t,l+1,n,h),q4(e,t,n,h)}var m=f-l;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Bx(e,t,r,n,g.columns,!0),xD(e,t,l+1,n,g.columns,m),q4(e,t,n,g.columns)}),l=f};l<t.body.length-1;)u()}function pD(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return yf(e,t,i,r,n)})}function KNe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;a2(e,t,i,o,r,n,a)})}function xD(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,l).forEach(function(u,f){var h=r+f===t.body.length-1,m=jU(e,t,h,n);u.canEntireRowFit(m,a)&&(yf(e,t,u,n,a),o=r+f)}),o}function q4(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return yf(e,t,i,r,n)})}function YNe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function XNe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=r.columns;l<o.length;l++){var u=o[l],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new wU(f.raw,f.styles,f.section);h=tf(h,f),h.text=[];var m=YNe(f,t,n);f.text.length>m&&(h.text=f.text.splice(m,f.text.length));var g=n.scaleFactor(),x=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,x),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(g,x),h.contentHeight>i&&(i=h.contentHeight),a[u.index]=h}}var b=new bU(e.raw,-1,e.section,a,!0);b.height=i;for(var v=0,w=r.columns;v<w.length;v++){var u=w[v],h=b.cells[u.index];h&&(h.height=b.height);var f=e.cells[u.index];f&&(f.height=e.height)}return b}function QNe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,l=i.top+i.bottom,o=a-l;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=t.getMinimumRowHeight(n.columns,e),f=u<r;if(u>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(n.columns),m=t.getMaxCellHeight(n.columns)>o;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function a2(e,t,r,n,a,i,l){var o=jU(e,t,n,i);if(r.canEntireRowFit(o,l))yf(e,t,r,i,l);else if(QNe(e,r,o,t)){var u=XNe(r,o,t,e);yf(e,t,r,i,l),Bx(e,t,a,i,l),a2(e,t,u,n,a,i,l)}else Bx(e,t,a,i,l),a2(e,t,r,n,a,i,l)}function yf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,l=a;i<l.length;i++){var o=l[i],u=r.cells[o.index];if(!u){n.x+=o.width;continue}e.applyStyles(u.styles),u.x=n.x,u.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,r,o,n);if(f===!1){n.x+=o.width;continue}ZNe(e,u,n);var h=u.getTextPos();fU(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,o,n),n.x+=o.width}n.y+=r.height}function ZNe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=pU(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),JNe(e,t,r,n.lineWidth))}function JNe(e,t,r,n){var a,i,l,o;n.top&&(a=r.x,i=r.y,l=r.x+t.width,o=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.top,a,i,l,o)),n.bottom&&(a=r.x,i=r.y+t.height,l=r.x+t.width,o=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),u(n.bottom,a,i,l,o)),n.left&&(a=r.x,i=r.y,l=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.left,a,i,l,o)),n.right&&(a=r.x+t.width,i=r.y,l=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.right,a,i,l,o));function u(f,h,m,g,x){e.getDocument().setLineWidth(f),e.getDocument().line(h,m,g,x,"S")}}function jU(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Bx(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return yf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;mU(e,t,r,n),SU(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return yf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function SU(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function e_e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=yU(this,n),i=NU(this,a);return _U(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){fU(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Um.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Um.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Um(this),i=vU(a,t,window,r,!1),l=i.head,o=i.body,u=((n=l[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:u,rows:o,data:o}}}var $4;function gD(e,t){var r=yU(e,t),n=NU(e,r);_U(e,n)}try{if(typeof window<"u"&&window){var vD=window,yD=vD.jsPDF||(($4=vD.jspdf)===null||$4===void 0?void 0:$4.jsPDF);yD&&e_e(yD)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Ng=(e,t)=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}const r=Object.keys(e[0]),n=[r.join(","),...e.map(o=>r.map(u=>{const f=o[u];return typeof f=="string"&&(f.includes(",")||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),l=URL.createObjectURL(a);i.setAttribute("href",l),i.setAttribute("download",`${t}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},t_e=e=>{const t=new Ht,r=e.student;t.setFontSize(20),t.setTextColor(59,130,246),t.text("Rapport de Progression",14,20),t.setFontSize(12),t.setTextColor(0,0,0),t.text(`tudiant: ${r.full_name}`,14,35),t.text(`Email: ${r.email}`,14,42),t.text(`Inscrit le: ${new Date(r.created_at).toLocaleDateString("fr-FR")}`,14,49),t.text(`Date du rapport: ${new Date().toLocaleDateString("fr-FR")}`,14,56),t.setDrawColor(229,231,235),t.line(14,60,196,60),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Statistiques Globales",14,70);const n=e.enrollments.reduce((f,h)=>f+h.total_videos,0),a=e.enrollments.reduce((f,h)=>f+h.completed_videos,0),i=e.enrollments.reduce((f,h)=>f+h.total_tests,0),l=e.enrollments.reduce((f,h)=>f+h.passed_tests,0);if(t.setFontSize(10),t.setTextColor(0,0,0),t.text(`Formations inscrites: ${e.enrollments.length}`,14,80),t.text(`Formations compltes: ${e.enrollments.filter(f=>f.completed_at).length}`,14,87),t.text(`Vidos compltes: ${a} / ${n}`,14,94),t.text(`Tests russis: ${l} / ${i}`,14,101),e.enrollments.length>0){t.setFontSize(14),t.setTextColor(59,130,246),t.text("Formations Inscrites",14,115);const f=e.enrollments.map(h=>[h.formation_title,new Date(h.enrolled_at).toLocaleDateString("fr-FR"),h.completed_at?new Date(h.completed_at).toLocaleDateString("fr-FR"):"-",`${h.completed_videos}/${h.total_videos}`,`${h.passed_tests}/${h.total_tests}`,h.status==="completed"?"Complt":h.status==="active"?"En cours":"Inactif"]);gD(t,{head:[["Formation","Date Inscription","Date Compltion","Vidos","Tests","Statut"]],body:f,startY:120,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}if(e.test_history.length>0){const f=t.lastAutoTable?.finalY||120;let h;f>220?(t.addPage(),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,20),h=25):(t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,f+15),h=f+20);const m=e.test_history.map(g=>{const x=g.total_points>0?(g.score/g.total_points*100).toFixed(1):"0";return[g.formation_title,g.test_title,`${g.score}/${g.total_points}`,`${x}%`,g.passed?"Russi":"chou",new Date(g.submitted_at).toLocaleDateString("fr-FR")]});gD(t,{head:[["Formation","Test","Score","%","Rsultat","Date"]],body:m,startY:h,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}const o=t.getNumberOfPages();for(let f=1;f<=o;f++)t.setPage(f),t.setFontSize(8),t.setTextColor(156,163,175),t.text(`Page ${f} sur ${o}`,t.internal.pageSize.getWidth()/2,t.internal.pageSize.getHeight()-10,{align:"center"});const u=`rapport_${r.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;t.save(u)},r_e=e=>{const t=e.map(r=>({ID:r.id,Titre:r.title,Inscriptions:r.enrollment_count,Complts:r.completed_count,"Taux de Compltion (%)":r.completion_rate,Prix:r.price||0}));Ng(t,`formations_${new Date().toISOString().split("T")[0]}`)},n_e=e=>{const t=e.map(r=>({ID:r.id,Nom:r.full_name,Email:r.email,Inscriptions:r.enrollments_count,"Vidos Vues":r.videos_watched,"Vidos Compltes":r.videos_completed,"Tests Passs":r.tests_taken,"Tests Russis":r.tests_passed}));Ng(t,`etudiants_actifs_${new Date().toISOString().split("T")[0]}`)},a_e=e=>{const t=e.map(r=>({Mois:r.month,Inscriptions:r.enrollment_count,Complts:r.completed_count}));Ng(t,`tendances_inscriptions_${new Date().toISOString().split("T")[0]}`)},i_e=e=>{const t=e.student,r=e.enrollments.map(n=>({Formation:n.formation_title,"Date Inscription":new Date(n.enrolled_at).toLocaleDateString("fr-FR"),"Date Compltion":n.completed_at?new Date(n.completed_at).toLocaleDateString("fr-FR"):"-","Vidos Compltes":n.completed_videos,"Total Vidos":n.total_videos,"Tests Russis":n.passed_tests,"Total Tests":n.total_tests,Statut:n.status==="completed"?"Complt":n.status==="active"?"En cours":"Inactif"}));if(Ng(r,`rapport_formations_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`),e.test_history.length>0){const n=e.test_history.map(a=>{const i=a.total_points>0?(a.score/a.total_points*100).toFixed(1):"0";return{Formation:a.formation_title,Test:a.test_title,Score:a.score,"Total Points":a.total_points,"Pourcentage (%)":i,Rsultat:a.passed?"Russi":"chou",Date:new Date(a.submitted_at).toLocaleDateString("fr-FR")}});Ng(n,`rapport_tests_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`)}},Fv=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"],s_e=()=>{const[e,t]=C.useState(30),{data:r,isLoading:n}=_we(),{data:a,isLoading:i}=jwe(10),{data:l,isLoading:o}=Swe(6),{data:u,isLoading:f}=Awe(10),{data:h,isLoading:m}=kwe(),{data:g,isLoading:x}=Cwe(e),b=r?.overview;return n||i||o||f||m||x?s.jsx("div",{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord Analytics"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble des performances de votre plateforme de formation"})]}),g&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Statistiques des ",g.period_days," derniers jours"]}),s.jsx("div",{className:"flex gap-2",children:[7,30,90].map(w=>s.jsxs("button",{onClick:()=>t(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===w?"bg-white text-blue-600":"bg-white/20 hover:bg-white/30"}`,children:[w,"j"]},w))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Nouvelles inscriptions"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.new_enrollments})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations compltes"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.completed_formations})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Vidos termines"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.videos_completed})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests passs"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_total})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Tests russis"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_passed})]})]})]}),b&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(dd,{title:"Total tudiants",value:b.students.total,icon:ls,colorClass:"bg-blue-500"}),s.jsx(dd,{title:"Total Formations",value:b.formations.total,icon:qn,colorClass:"bg-green-500"}),s.jsx(dd,{title:"Sessions Actives",value:b.sessions.active,subtitle:`Sur ${b.sessions.total} sessions`,icon:Bi,colorClass:"bg-purple-500"}),s.jsx(dd,{title:"Taux de Compltion",value:`${b.enrollments.completion_rate.toFixed(1)}%`,subtitle:`${b.enrollments.completed}/${b.enrollments.total} inscriptions`,icon:si,colorClass:"bg-orange-500"}),s.jsx(dd,{title:"Vidos Compltes",value:`${b.videos.completion_rate.toFixed(1)}%`,subtitle:`${b.videos.completed}/${b.videos.total} vidos`,icon:Wx,colorClass:"bg-cyan-500"}),s.jsx(dd,{title:"Taux de Russite Tests",value:`${b.tests.success_rate.toFixed(1)}%`,subtitle:`${b.tests.passed}/${b.tests.total} tests`,icon:qx,colorClass:"bg-pink-500"}),s.jsx(dd,{title:"Inscriptions Totales",value:b.enrollments.total,icon:G0,colorClass:"bg-indigo-500"}),s.jsx(dd,{title:"Formations Compltes",value:b.enrollments.completed,icon:ii,colorClass:"bg-emerald-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a?.formations&&a.formations.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formations les Plus Populaires"}),s.jsxs("button",{onClick:()=>r_e(a.formations),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(H5,{width:"100%",height:300,children:s.jsxs(dwe,{data:a.formations.slice(0,8),children:[s.jsx(s_,{strokeDasharray:"3 3"}),s.jsx(c_,{dataKey:"title",angle:-45,textAnchor:"end",height:120,interval:0,tick:{fontSize:11}}),s.jsx(f_,{}),s.jsx(s4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]})]})}return null}}),s.jsx(dg,{}),s.jsx(a_,{dataKey:"enrollment_count",name:"Inscriptions",fill:"#3B82F6"}),s.jsx(a_,{dataKey:"completed_count",name:"Complts",fill:"#10B981"})]})})]}),l?.trends&&l.trends.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tendances d'Inscriptions (6 mois)"}),s.jsxs("button",{onClick:()=>a_e(l.trends),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"CSV"]})]}),s.jsx(H5,{width:"100%",height:300,children:s.jsxs(uwe,{data:l.trends,children:[s.jsx(s_,{strokeDasharray:"3 3"}),s.jsx(c_,{dataKey:"month"}),s.jsx(f_,{}),s.jsx(s4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.month}),s.jsxs("p",{className:"text-xs text-blue-600",children:["Inscriptions: ",s.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),s.jsxs("p",{className:"text-xs text-green-600",children:["Complts: ",s.jsx("span",{className:"font-medium",children:E.completed_count})]})]})}return null}}),s.jsx(dg,{}),s.jsx(l_,{type:"monotone",dataKey:"enrollment_count",name:"Inscriptions",stroke:"#3B82F6",strokeWidth:2,dot:{r:4}}),s.jsx(l_,{type:"monotone",dataKey:"completed_count",name:"Complts",stroke:"#10B981",strokeWidth:2,dot:{r:4}})]})})]})]}),h?.data&&h.data.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rpartition des Taux de Compltion"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(H5,{width:"100%",height:300,children:s.jsxs(Nwe,{children:[s.jsx(zI,{data:h.data.slice(0,6),dataKey:"completion_rate",nameKey:"title",cx:"50%",cy:"50%",outerRadius:100,label:w=>`${w.title}: ${w.completion_rate}%`,children:h.data.slice(0,6).map((w,N)=>s.jsx(Zg,{fill:Fv[N%Fv.length]},`cell-${N}`))}),s.jsx(s4,{content:({active:w,payload:N})=>{if(w&&N&&N.length){const E=N[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",s.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",s.jsxs("span",{className:"font-medium",children:[E.completed_enrollments,"/",E.total_enrollments]})]})]})}return null}})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Dtails par Formation"}),s.jsx("div",{className:"space-y-2 max-h-[280px] overflow-y-auto",children:h.data.map((w,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Fv[N%Fv.length]}}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.title})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[w.completion_rate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[w.completed_enrollments,"/",w.total_enrollments]})]})]},w.id))})]})]})]}),u?.students&&u.students.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"tudiants les Plus Actifs"}),s.jsxs("button",{onClick:()=>n_e(u.students),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export CSV"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscriptions"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Vues"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Compltes"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Passs"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Russis"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.students.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:w.full_name}),s.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:w.enrollments_count})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.videos_watched}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:w.videos_completed})}),s.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.tests_taken}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:w.tests_passed})})]},w.id))})]})})]})]})},i2=({progress:e,label:t,showPercentage:r=!0,size:n="md",color:a="blue"})=>{const i=Math.min(Math.max(e,0),100),l=i>=100,o={sm:"h-1.5",md:"h-2",lg:"h-3"},u={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600"};return s.jsxs("div",{className:"w-full",children:[(t||r)&&s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t&&s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),r&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[l&&s.jsx(si,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:`text-sm font-semibold ${l?"text-green-600":"text-gray-600"}`,children:[Math.round(i),"%"]})]})]}),s.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${o[n]}`,children:s.jsx("div",{className:`${o[n]} ${u[a]} rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},bD=({completed:e,total:t,label:r,color:n="blue"})=>{const a=t>0?e/t*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[s.jsx("span",{className:"text-sm text-gray-600",children:r}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e,"/",t]})]}),s.jsx(i2,{progress:a,showPercentage:!1,color:n})]})},l_e=()=>{const[e,t]=C.useState(null),[r,n]=C.useState(""),{data:a,isLoading:i}=Ewe(e),l=f=>{t(f)},o=()=>{a&&t_e(a)},u=()=>{a&&i_e(a)};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rapports tudiants"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Consulter les rapports dtaills de progression des tudiants"})]}),e&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export CSV"]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Export PDF"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un tudiant par ID (pour test, utilisez un ID existant)...",value:r,onChange:f=>n(f.target.value),onKeyDown:f=>{f.key==="Enter"&&r.trim()&&l(r.trim())},className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Appuyez sur Entre pour charger le rapport d'un tudiant"})]}),i&&s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!i&&!e&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Os,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun tudiant slectionn"}),s.jsx("p",{className:"text-gray-600",children:"Entrez l'ID d'un tudiant dans la barre de recherche pour afficher son rapport dtaill"})]}),!i&&e&&a&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-500 p-4 rounded-full",children:s.jsx(Vx,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.student.full_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(EV,{className:"h-4 w-4"}),a.student.email]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bi,{className:"h-4 w-4"}),"Inscrit le ",new Date(a.student.created_at).toLocaleDateString("fr-FR")]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qn,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Formations"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.enrollments.length})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(si,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Compltes"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.enrollments.filter(f=>f.completed_at).length})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wx,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Vidos"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[a.enrollments.reduce((f,h)=>f+h.completed_videos,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_videos,0)]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qx,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Tests Russis"})]}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[a.enrollments.reduce((f,h)=>f+h.passed_tests,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_tests,0)]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Formations Inscrites"})}),s.jsx("div",{className:"divide-y",children:a.enrollments.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx(qn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucune formation inscrite"})]}):a.enrollments.map(f=>{const h=f.total_videos>0?f.completed_videos/f.total_videos*100:0,m=f.total_tests>0?f.passed_tests/f.total_tests*100:0;return s.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:f.formation_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Inscrit le ",new Date(f.enrolled_at).toLocaleDateString("fr-FR")]}),f.completed_at&&s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(si,{className:"h-4 w-4"}),"Complt le ",new Date(f.completed_at).toLocaleDateString("fr-FR")]})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status==="completed"?"Complt":f.status==="active"?"En cours":"Inactif"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(i2,{progress:h,label:`Vidos (${f.completed_videos}/${f.total_videos})`,color:"purple",size:"sm"})}),s.jsx("div",{children:s.jsx(i2,{progress:m,label:`Tests russis (${f.passed_tests}/${f.total_tests})`,color:"orange",size:"sm"})})]})]},f.formation_id)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des Tests"})}),a.test_history.length===0?s.jsxs("div",{className:"p-12 text-center text-gray-500",children:[s.jsx(qx,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"Aucun test pass"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Score"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rsultat"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y",children:a.test_history.map(f=>{const h=f.total_points>0?(f.score/f.total_points*100).toFixed(1):0;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.formation_title}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.test_title}),s.jsxs("td",{className:"px-6 py-4 text-center",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.score," / ",f.total_points]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[h,"%"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:f.passed?s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(si,{className:"h-4 w-4"}),"Russi"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[s.jsx(Ad,{className:"h-4 w-4"}),"chou"]})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(f.submitted_at).toLocaleDateString("fr-FR")})]},f.id)})})]})})]})]})]})},WS={generate:async e=>at.post("/certificates/generate",e),getByStudent:async e=>at.get(`/certificates/student/${e}`),getById:async e=>at.get(`/certificates/${e}`),verify:async e=>at.get(`/certificates/verify/${e}`),getAll:async e=>{const t={};return e?.limit&&(t.limit=e.limit.toString()),e?.offset&&(t.offset=e.offset.toString()),e?.formation_id&&(t.formation_id=e.formation_id),at.get("/certificates",t)},delete:async e=>at.delete(`/certificates/${e}`),updateMetadata:async(e,t)=>at.patch(`/certificates/${e}/metadata`,{metadata:t})},AU=e=>ur({queryKey:["certificates","student",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return WS.getByStudent(e)},enabled:!!e,staleTime:1e3*60*5}),o_e=e=>ur({queryKey:["certificates","all",e],queryFn:()=>WS.getAll(e),staleTime:1e3*60*5}),c_e=()=>{const e=Ft();return Bt({mutationFn:WS.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]})}})},u_e={a4:{width:1122,height:794},letter:{width:1056,height:816},badge:{width:323,height:204}},GS=(e,t)=>{const r=u_e[e];return t==="portrait"?{width:r.height,height:r.width}:{...r}},f_e=(e,t)=>{const{width:r,height:n}=GS(e,t),a=Gv[e];return`${r}  ${n} px (${a} ${t==="portrait"?"Portrait":"Paysage"})`},Gv={a4:"A4",letter:"Letter",badge:"Badge"},d_e={a4:{width:297,height:210},letter:{width:279.4,height:215.9},badge:{width:85.6,height:54}};class wD{doc;certificate;template;pageWidth;pageHeight;customFonts=[];isCustomFontsLoaded=!1;pxToMmX;pxToMmY;canvasWidthPx;canvasHeightPx;constructor(t,r){this.certificate=t,this.template=r;const n=r.template_config,{format:a,orientation:i}=n.layout,l=GS(a,i);this.canvasWidthPx=l.width,this.canvasHeightPx=l.height;const o=d_e[a],u=i==="landscape"?o.width:o.height,f=i==="landscape"?o.height:o.width;this.pxToMmX=u/this.canvasWidthPx,this.pxToMmY=f/this.canvasHeightPx;let h;a==="badge"?h=[u,f]:h=a,this.doc=new Ht({orientation:i||"landscape",unit:"mm",format:h}),this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight()}async loadCustomFonts(){if(!this.isCustomFontsLoaded)try{const t=await El.getCustomFonts();this.customFonts=t.fonts||[];for(const r of this.customFonts)try{const a=await(await fetch(r.file_url)).blob(),l=(await this.blobToBase64(a)).split(",")[1],o=`custom-${r.id}`;this.doc.addFileToVFS(`${o}.${r.file_format}`,l),this.doc.addFont(`${o}.${r.file_format}`,o,"normal")}catch(n){console.warn(`Failed to load custom font ${r.name}:`,n)}this.isCustomFontsLoaded=!0}catch(t){console.error("Error loading custom fonts:",t)}}blobToBase64(t){return new Promise((r,n)=>{const a=new FileReader;a.onloadend=()=>r(a.result),a.onerror=n,a.readAsDataURL(t)})}async loadBackgroundImage(){const t=this.template.background_image_url;if(t)try{const n=await(await fetch(t)).blob(),a=await this.blobToBase64(n);this.doc.addImage(a,"JPEG",0,0,this.pageWidth,this.pageHeight,void 0,"FAST")}catch(r){console.error("Error loading background image:",r)}}pxToMm(t,r){let n;return typeof t=="number"?n=t:n=this.calculatePixelPosition(t,r),r==="x"?n*this.pxToMmX:n*this.pxToMmY}calculatePixelPosition(t,r="x"){if(typeof t=="number")return t;let n=t.replace(/CANVAS_WIDTH_PX|canvasWidth/g,String(this.canvasWidthPx)).replace(/CANVAS_HEIGHT_PX|canvasHeight/g,String(this.canvasHeightPx)).replace(/center/g,String(r==="x"?this.canvasWidthPx/2:this.canvasHeightPx/2));try{return/^[\d\s+\-*/().]+$/.test(n)?Function(`'use strict'; return (${n})`)():(console.warn("Expression non valide:",n),0)}catch(a){return console.error("Error calculating pixel position:",n,a),0}}async generate(){await this.loadCustomFonts(),await this.loadBackgroundImage();const t=this.template.template_config.elements;for(const r of t)r.condition&&!this.checkCondition(r.condition)||await this.renderElement(r);return this.doc}checkCondition(t){const n=this.certificate[t];return n!=null&&n!==""}replaceVariables(t){const r={"{student_name}":this.certificate.student_name||"tudiant","{student_email}":this.certificate.student_email||"","{formation_title}":this.certificate.formation_title||"Formation","{formation_description}":this.certificate.formation_description||"","{duration_hours}":this.certificate.duration_hours||"","{completion_date}":this.formatDate(this.certificate.completion_date,"long"),"{completion_date_short}":this.formatDate(this.certificate.completion_date,"short"),"{issued_date}":this.formatDate(this.certificate.issued_at,"long"),"{issued_date_short}":this.formatDate(this.certificate.issued_at,"short"),"{certificate_number}":this.certificate.certificate_number||"","{grade}":this.certificate.grade!==null&&this.certificate.grade!==void 0?this.certificate.grade:"","{grade_rounded}":this.certificate.grade!==null&&this.certificate.grade!==void 0?Math.round(this.certificate.grade):"","{current_year}":new Date().getFullYear(),"{current_date}":this.formatDate(new Date,"long"),"{organization_name}":this.certificate.metadata?.organization_name||"Centre de Formation","{organization_address}":this.certificate.metadata?.organization_address||"","{director_name}":this.certificate.metadata?.director_name||"Directeur","{logo_url}":this.certificate.metadata?.logo_url||"","{signature_url}":this.certificate.metadata?.signature_url||""};let n=t;return Object.entries(r).forEach(([a,i])=>{n=n.replace(new RegExp(a.replace(/[{}]/g,"\\$&"),"g"),String(i||""))}),n}getColor(t){const n=this.template.template_config.colors[t]||t;return n.startsWith("#")?this.hexToRgb(n):[0,0,0]}hexToRgb(t){const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[0,0,0]}formatDate(t,r){try{const n=new Date(t);return isNaN(n.getTime())?"":r==="long"?n.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):n.toLocaleDateString("fr-FR")}catch{return""}}async renderElement(t){try{switch(t.type){case"text":this.renderText(t);break;case"line":this.renderLine(t);break;case"border":case"rectangle":this.renderRectangle(t);break;case"circle":this.renderCircle(t);break;case"image":await this.renderImage(t);break;default:console.warn("Unknown element type:",t.type)}}catch(r){console.error("Error rendering element:",t.id,r)}}renderText(t){const r=t.font?this.template.template_config.fonts[t.font]:{family:"helvetica",size:12,style:"normal",color:"text"};let n=t.fontFamily||r.family;const a=t.fontStyle||r.style,i=t.fontSize||r.size;n.startsWith("custom-")?this.customFonts.find(m=>`custom-${m.id}`===n)?this.doc.setFont(n,"normal"):(console.warn(`Custom font ${n} not loaded, falling back to helvetica`),n="helvetica",this.doc.setFont(n,a)):this.doc.setFont(n,a),this.doc.setFontSize(i);const l=t.color?this.getColor(t.color):this.getColor(r.color||"text");this.doc.setTextColor(...l);const o=this.replaceVariables(t.content||""),u=this.pxToMm(t.x||0,"x"),f=this.pxToMm(t.y||0,"y");if(t.maxWidth){const h=this.pxToMm(t.maxWidth,"x"),m=this.doc.splitTextToSize(o,h);if(m.length===1)this.doc.text(m[0],u,f,{align:t.align||"left"});else{const g=i*.3527*1.2;m.forEach((x,b)=>{this.doc.text(x,u,f+b*g,{align:t.align||"left"})})}}else this.doc.text(o,u,f,{align:t.align||"left"})}renderLine(t){const r=this.pxToMm(t.x1||0,"x"),n=this.pxToMm(t.y1||0,"y"),a=this.pxToMm(t.x2||0,"x"),i=this.pxToMm(t.y2||0,"y"),l=this.getColor(t.color||"text");this.doc.setDrawColor(...l),this.doc.setLineWidth(t.lineWidth||.5),this.doc.line(r,n,a,i)}renderRectangle(t){const r=this.pxToMm(t.x||0,"x"),n=this.pxToMm(t.y||0,"y"),a=this.pxToMm(t.width||0,"x"),i=this.pxToMm(t.height||0,"y"),l=this.getColor(t.color||"secondary");this.doc.setDrawColor(...l),this.doc.setLineWidth(t.lineWidth||1),this.doc.rect(r,n,a,i)}renderCircle(t){const r=this.pxToMm(t.x||0,"x"),n=this.pxToMm(t.y||0,"y"),a=this.pxToMm(t.radius||10,"x"),i=this.getColor(t.fillColor||"secondary");this.doc.setFillColor(...i),this.doc.circle(r,n,a,"F")}async renderImage(t){if(!t.source){console.warn("Image element has no source");return}try{const n=await(await fetch(t.source)).blob(),a=await this.blobToBase64(n),i=this.pxToMm(t.x||0,"x"),l=this.pxToMm(t.y||0,"y"),o=this.pxToMm(t.width||100,"x"),u=this.pxToMm(t.height||100,"y");this.doc.addImage(a,"JPEG",i,l,o,u,void 0,"FAST")}catch(r){console.error("Error loading image:",t.source,r)}}download(){const t=`certificat_${this.certificate.certificate_number}_${this.certificate.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;this.doc.save(t)}getBlob(){return this.doc.output("blob")}getDataURL(){return this.doc.output("dataurlstring")}}const EU=async(e,t)=>{const r=new Ht({orientation:"landscape",unit:"mm",format:"a4"}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=[59,130,246],l=[251,191,36],o=[31,41,55];r.setDrawColor(...l),r.setLineWidth(1),r.rect(10,10,n-20,a-20),r.setDrawColor(...i),r.setLineWidth(.5),r.rect(15,15,n-30,a-30),r.setLineWidth(2),r.line(20,20,40,20),r.line(20,20,20,40),r.line(n-40,20,n-20,20),r.line(n-20,20,n-20,40),r.line(20,a-20,40,a-20),r.line(20,a-40,20,a-20),r.line(n-40,a-20,n-20,a-20),r.line(n-20,a-40,n-20,a-20),r.setTextColor(...l),r.setFontSize(32),r.setFont("helvetica","bold"),r.text("CERTIFICAT DE RUSSITE",n/2,40,{align:"center"}),r.setDrawColor(...l),r.setLineWidth(.5),r.line(n/2-50,45,n/2+50,45),r.setTextColor(...o),r.setFontSize(14),r.setFont("helvetica","normal"),r.text("Ce certificat est dcern ",n/2,60,{align:"center"}),r.setTextColor(...i),r.setFontSize(28),r.setFont("helvetica","bold"),r.text(e.student_name||"tudiant",n/2,75,{align:"center"}),r.setDrawColor(...i),r.setLineWidth(.3);const u=r.getTextWidth(e.student_name||"tudiant");r.line(n/2-u/2-10,78,n/2+u/2+10,78),r.setTextColor(...o),r.setFontSize(13),r.setFont("helvetica","normal"),r.text("Pour avoir complt avec succs la formation",n/2,92,{align:"center"}),r.setTextColor(0,0,0),r.setFontSize(18),r.setFont("helvetica","bold");const f=e.formation_title||"Formation",h=n-80,m=r.splitTextToSize(f,h);m.length===1?r.text(m[0],n/2,105,{align:"center"}):(r.text(m[0],n/2,102,{align:"center"}),m[1]&&r.text(m[1],n/2,110,{align:"center"}));const g=m.length>1?120:115;r.setTextColor(...o),r.setFontSize(11),r.setFont("helvetica","normal");const x=new Date(e.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});r.text(`Date de compltion : ${x}`,n/2,g+10,{align:"center"}),e.duration_hours&&r.text(`Dure de la formation : ${e.duration_hours} heures`,n/2,g+17,{align:"center"}),e.grade!==null&&e.grade!==void 0&&(r.setTextColor(...i),r.setFont("helvetica","bold"),r.text(`Note obtenue : ${e.grade}%`,n/2,g+24,{align:"center"}));const b=a-40;r.setTextColor(...o),r.setFontSize(9),r.setFont("helvetica","italic"),r.text(`Numro de certificat : ${e.certificate_number}`,n/2,b,{align:"center"});const v=new Date(e.issued_at).toLocaleDateString("fr-FR");r.text(`Dlivr le : ${v}`,n/2,b+5,{align:"center"});const w=b-20;r.setDrawColor(...o),r.setLineWidth(.3),r.line(n/2-30,w,n/2+30,w),r.setTextColor(...o),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Directeur de Formation",n/2,w+5,{align:"center"}),r.setFillColor(...l),r.circle(n-35,a-35,15,"F"),r.setTextColor(255,255,255),r.setFontSize(8),r.setFont("helvetica","bold"),r.text("CERTIFI",n-35,a-38,{align:"center"}),r.text("RUSSITE",n-35,a-32,{align:"center"});const N=`certificat_${e.certificate_number}_${e.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;r.save(N)},h_e=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),{data:a,isLoading:i}=o_e({limit:100,formation_id:r||void 0}),{data:l}=Fg(),o=c_e(),u=a?.certificates||[],f=l||[],h=u.filter(w=>{const N=e.toLowerCase();return w.student_name?.toLowerCase().includes(N)||w.formation_title?.toLowerCase().includes(N)||w.certificate_number.toLowerCase().includes(N)}),m=async w=>{await EU(w)},g=async w=>{if(confirm("tes-vous sr de vouloir supprimer ce certificat ?"))try{await o.mutateAsync(w)}catch(N){console.error("Erreur lors de la suppression:",N),alert("Erreur lors de la suppression du certificat")}},x=u.length,b=u.filter(w=>{const N=new Date(w.issued_at),E=new Date;return N.getMonth()===E.getMonth()&&N.getFullYear()===E.getFullYear()}).length,v=u.length>0?(u.filter(w=>w.grade!==null).reduce((w,N)=>w+(N.grade||0),0)/u.filter(w=>w.grade!==null).length).toFixed(1):"0";return s.jsx(ha,{title:"Gestion des Certificats",subtitle:"Consulter et grer tous les certificats mis",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:x})]}),s.jsx(ii,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Ce mois-ci"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:b})]}),s.jsx(Bi,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[v,"%"]})]}),s.jsx(si,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:new Set(u.map(w=>w.formation_id)).size})]}),s.jsx(qn,{className:"h-12 w-12 opacity-80"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher par tudiant, formation ou numro...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx($_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),f.map(w=>s.jsx("option",{value:w.id,children:w.title},w.id))]})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Certificats (",h.length,")"]})}),i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(ii,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat trouv"}),s.jsx("p",{className:"text-gray-600",children:e||r?"Essayez de modifier vos critres de recherche":"Aucun certificat n'a encore t gnr"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date mission"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-mono text-gray-900",children:w.certificate_number})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vx,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.student_name}),s.jsx("p",{className:"text-xs text-gray-500",children:w.student_email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:w.formation_title})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:w.grade!==null&&w.grade!==void 0?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[w.grade,"%"]}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(w.issued_at).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>m(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Tlcharger",children:s.jsx(Es,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",disabled:o.isPending,children:s.jsx(Hn,{className:"h-4 w-4"})})]})})]},w.id))})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(Wr,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos des certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement quand un tudiant complte une formation"}),s.jsx("li",{children:" Chaque certificat possde un numro unique pour vrification"}),s.jsx("li",{children:" La suppression d'un certificat est dfinitive"}),s.jsx("li",{children:" Les certificats peuvent tre tlchargs en PDF  tout moment"})]})]})]})})]})})},ib={getAll:async()=>(await at.get("/template-folders")).folders,getTree:async()=>(await at.get("/template-folders/tree")).tree,getById:async e=>(await at.get(`/template-folders/${e}`)).folder,create:async e=>(await at.post("/template-folders",e)).folder,update:async(e,t)=>(await at.put(`/template-folders/${e}`,t)).folder,delete:async e=>{await at.delete(`/template-folders/${e}`)},move:async(e,t)=>(await at.post(`/template-folders/${e}/move`,t)).folder},m_e=()=>ur({queryKey:["template-folders-tree"],queryFn:()=>ib.getTree()}),p_e=()=>{const e=Ft();return Bt({mutationFn:t=>ib.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},x_e=()=>{const e=Ft();return Bt({mutationFn:({id:t,data:r})=>ib.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["template-folder",r.id]})}})},g_e=()=>{const e=Ft();return Bt({mutationFn:t=>ib.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["template-folders"]}),e.invalidateQueries({queryKey:["template-folders-tree"]}),e.invalidateQueries({queryKey:["certificate-templates"]})}})},kU=({folder:e,level:t,selectedFolderId:r,onFolderSelect:n,onFolderContextMenu:a})=>{const[i,l]=C.useState(!0),o=e.children&&e.children.length>0,u=r===e.id,f=()=>{n&&n(e.id),o&&l(!i)},h=m=>{m.preventDefault(),a&&a(e,m)};return s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1.5 rounded cursor-pointer transition-colors ${u?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"}`,style:{paddingLeft:`${t*16+8}px`},onClick:f,onContextMenu:h,children:[o?s.jsx("span",{className:"flex-shrink-0",children:i?s.jsx(rp,{className:"h-4 w-4"}):s.jsx(Io,{className:"h-4 w-4"})}):s.jsx("span",{className:"w-4"}),i&&o?s.jsx(lV,{className:"h-4 w-4 flex-shrink-0"}):s.jsx(W0,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium truncate flex-1",children:e.name}),e.template_count!==void 0&&e.template_count>0&&s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${u?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-600"}`,children:e.template_count})]}),o&&i&&s.jsx("div",{children:e.children.map(m=>s.jsx(kU,{folder:m,level:t+1,selectedFolderId:r,onFolderSelect:n,onFolderContextMenu:a},m.id))})]})},v_e=({folders:e,selectedFolderId:t,onFolderSelect:r,onFolderContextMenu:n})=>!e||e.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:[s.jsx(W0,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"Aucun dossier"})]}):s.jsx("div",{className:"py-2",children:e.map(a=>s.jsx(kU,{folder:a,level:0,selectedFolderId:t,onFolderSelect:r,onFolderContextMenu:n},a.id))}),y_e=({isOpen:e,onClose:t,onSubmit:r,folder:n,folders:a,isLoading:i=!1,mode:l})=>{const[o,u]=C.useState(""),[f,h]=C.useState(null);C.useEffect(()=>{e&&(l==="edit"&&n?(u(n.name),h(n.parent_id)):(u(""),h(null)))},[e,l,n]);const m=x=>{x.preventDefault(),o.trim()&&r(o.trim(),l==="create"?f:void 0)};if(!e)return null;const g=a.filter(x=>l==="edit"&&n?x.id!==n.id:!0);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(W0,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l==="create"?"Nouveau Dossier":"Renommer le Dossier"})]}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",disabled:i,children:s.jsx(ji,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"folder-name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom du dossier ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{id:"folder-name",type:"text",value:o,onChange:x=>u(x.target.value),placeholder:"Ex: Formation KSS",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:i,autoFocus:!0})]}),l==="create"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"parent-folder",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dossier parent (optionnel)"}),s.jsxs("select",{id:"parent-folder",value:f||"",onChange:x=>h(x.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,children:[s.jsx("option",{value:"",children:" Racine (aucun parent)"}),g.map(x=>s.jsxs("option",{value:x.id,children:[" ",x.name]},x.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour crer un dossier  la racine"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:i,children:"Annuler"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",disabled:i||!o.trim(),children:i?"Enregistrement...":l==="create"?"Crer":"Enregistrer"})]})]})]})})},b_e=({isOpen:e,onClose:t,folders:r,selectedFolderId:n})=>{const a=pn(),[i,l]=C.useState(null),[o,u]=C.useState(n||null),f=(g,x=0,b=[])=>{for(const v of g)b.push({id:v.id,name:v.name,level:x}),v.children&&v.children.length>0&&f(v.children,x+1,b);return b},h=f(r),m=()=>{if(!i){alert("Veuillez slectionner un type de template");return}if(!o){alert("Veuillez slectionner un dossier de destination");return}const g=i==="classic"?`/admin/certificate-templates/new/edit?folderId=${o}`:`/admin/certificate-templates/new/canvas-edit?folderId=${o}`;a(g),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ss,{className:"h-6 w-6 text-blue-600"}),"Crer un Nouveau Template"]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ji,{className:"h-5 w-5 text-gray-500"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"1. Choisissez le type de template"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>l("classic"),className:`p-6 border-2 rounded-xl transition-all ${i==="classic"?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-3 ${i==="classic"?"bg-blue-500":"bg-gray-200"}`,children:s.jsx(ss,{className:`h-8 w-8 ${i==="classic"?"text-white":"text-gray-600"}`})}),s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:"Template Classique"}),s.jsx("p",{className:"text-sm text-gray-600",children:"diteur de configuration avec options prdfinies pour un contrle rapide"})]})}),s.jsx("button",{onClick:()=>l("canvas"),className:`p-6 border-2 rounded-xl transition-all ${i==="canvas"?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-3 ${i==="canvas"?"bg-purple-500":"bg-gray-200"}`,children:s.jsx(Ex,{className:`h-8 w-8 ${i==="canvas"?"text-white":"text-gray-600"}`})}),s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:"Template Canvas"}),s.jsx("p",{className:"text-sm text-gray-600",children:"diteur visuel avanc avec glisser-dposer pour une personnalisation complte"})]})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"folder-select",className:"block text-sm font-semibold text-gray-700 mb-2",children:["2. Slectionnez le dossier de destination ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(W0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{id:"folder-select",value:o||"",onChange:g=>u(g.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"",children:"-- Choisir un dossier --"}),h.map(g=>s.jsxs("option",{value:g.id,children:[" ".repeat(g.level),g.name]},g.id))]})]}),h.length===0&&s.jsxs("p",{className:"text-sm text-amber-600 mt-2 flex items-center gap-1",children:[s.jsx(W0,{className:"h-4 w-4"}),"Aucun dossier disponible. Crez d'abord un dossier avant de crer un template."]})]}),i&&o&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-green-800 flex items-center gap-2",children:[s.jsx(Io,{className:"h-4 w-4"}),s.jsxs("span",{children:["Vous allez crer un"," ",s.jsx("strong",{children:i==="classic"?"Template Classique":"Template Canvas"})," ","dans le dossier"," ",s.jsx("strong",{children:h.find(g=>g.id===o)?.name})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:t,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Annuler"}),s.jsxs("button",{onClick:m,disabled:!i||!o||h.length===0,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Crer le Template",s.jsx(Io,{className:"h-4 w-4"})]})]})]})}):null},w_e=()=>{const e=pn(),{data:t,isLoading:r,error:n}=kL(),{data:a,isLoading:i}=m_e(),l=mse(),o=pse(),u=xse(),f=p_e(),h=x_e(),m=g_e(),[g,x]=C.useState(null),[b,v]=C.useState(null),[w,N]=C.useState(!1),[E,S]=C.useState(!1),[D,F]=C.useState("create"),[O,T]=C.useState(null),M=C.useMemo(()=>t?b?t.filter(ge=>ge.folder_id===b):t:[],[t,b]),B=C.useMemo(()=>{if(!b||!a)return null;const ge=Y=>{for(const P of Y){if(P.id===b)return P;if(P.children){const L=ge(P.children);if(L)return L}}return null};return ge(a)},[b,a]),H=C.useMemo(()=>{if(!a)return[];const ge=(Y,P=[])=>{for(const L of Y)P.push(L),L.children&&ge(L.children,P);return P};return ge(a)},[a]),R=async ge=>{try{await l.mutateAsync(ge),x(null)}catch(Y){alert("Erreur: "+(Y.message||"Impossible de supprimer ce template"))}},U=async ge=>{try{await o.mutateAsync(ge)}catch(Y){alert("Erreur: "+(Y.message||"Impossible de dupliquer ce template"))}},K=async()=>{if(window.confirm("Crer les 3 templates prdfinis ? (Classique, Moderne, lgant)"))try{await u.mutateAsync(),alert("Templates crs avec succs !")}catch(ge){alert("Erreur: "+(ge.message||"Impossible de crer les templates"))}},ee=()=>{F("create"),T(null),N(!0)},pe=ge=>{F("edit"),T(ge),N(!0)},re=async ge=>{if(window.confirm(`Supprimer le dossier "${ge.name}" ?

Note: Le dossier doit tre vide (sans templates ni sous-dossiers).`))try{await m.mutateAsync(ge.id),b===ge.id&&v(null)}catch(Y){alert("Erreur: "+(Y.message||"Impossible de supprimer ce dossier"))}},se=async(ge,Y)=>{try{D==="create"?await f.mutateAsync({name:ge,parent_id:Y}):O&&await h.mutateAsync({id:O.id,data:{name:ge}}),N(!1)}catch(P){alert("Erreur: "+(P.message||"Impossible d'enregistrer le dossier"))}},ye=(ge,Y)=>{Y.preventDefault(),v(ge.id)},oe=()=>{if(H.length===0){alert("Veuillez d'abord crer au moins un dossier avant de crer un template."),ee();return}S(!0)};return r||i?s.jsx(ha,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Chargement des templates..."})})}):n?s.jsx(ha,{children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(Wr,{className:"h-5 w-5"}),s.jsx("span",{children:"Erreur lors du chargement des templates"})]})})}):s.jsx(ha,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ii,{className:"h-7 w-7 text-blue-600"}),"Templates de Certificats"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les templates utiliss pour gnrer les certificats"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:ee,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[s.jsx(cx,{className:"h-5 w-5"}),"Nouveau Dossier"]}),s.jsxs("button",{onClick:oe,className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",children:[s.jsx(Jn,{className:"h-5 w-5"}),"Nouveau Template"]}),t&&t.length===0&&s.jsxs("button",{onClick:K,disabled:u.isPending,className:"px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 shadow-md",children:[s.jsx(Ex,{className:"h-4 w-4"}),"Crer Templates par Dfaut"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Templates"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900 mt-1",children:t?.length||0})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Dossiers"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900 mt-1",children:H?.length||0})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Dossier Actuel"}),s.jsx("div",{className:"text-lg font-bold text-green-900 mt-1 truncate",children:B?B.name:"Tous"})]})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsxs("div",{className:"col-span-12 md:col-span-3 bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-1",children:[s.jsx(W0,{className:"h-4 w-4"}),"Dossiers"]}),s.jsx("button",{onClick:ee,className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Nouveau dossier",children:s.jsx(cx,{className:"h-4 w-4 text-purple-600"})})]}),s.jsx("button",{onClick:()=>v(null),className:`w-full text-left px-2 py-1.5 rounded text-sm transition-colors ${b===null?"bg-blue-100 text-blue-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:" Tous les templates"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:a&&a.length>0?s.jsx(v_e,{folders:a,selectedFolderId:b,onFolderSelect:v,onFolderContextMenu:ye}):s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(cx,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Aucun dossier cr"}),s.jsxs("button",{onClick:ee,className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium inline-flex items-center gap-1",children:[s.jsx(cx,{className:"h-4 w-4"}),"Crer un dossier"]})]})}),B&&s.jsxs("div",{className:"p-3 border-t border-gray-200 bg-gray-50 space-y-2",children:[s.jsxs("div",{className:"text-xs text-gray-600 font-medium mb-1",children:['Actions sur "',B.name,'":']}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>pe(B),className:"flex-1 px-2 py-1.5 bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",children:[s.jsx(ap,{className:"h-3 w-3"}),"Renommer"]}),s.jsxs("button",{onClick:()=>re(B),disabled:m.isPending,className:"flex-1 px-2 py-1.5 bg-red-50 text-red-700 rounded hover:bg-red-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(uV,{className:"h-3 w-3"}),"Supprimer"]})]})]})]}),s.jsx("div",{className:"col-span-12 md:col-span-9",children:M.length===0?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[s.jsx(ii,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:H.length===0?" Commencez par crer un dossier":B?`Aucun template dans le dossier "${B.name}"`:"Aucun template disponible"}),s.jsx("p",{className:"text-gray-600 mb-6",children:H.length===0?"Organisez vos templates en crant d'abord des dossiers (ex: Formation KSS  Certificat, Attestation, Badge)":"Slectionnez un dossier et crez votre premier template"}),s.jsx("div",{className:"flex gap-3 justify-center",children:H.length===0?s.jsxs("button",{onClick:ee,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors inline-flex items-center gap-2 font-medium shadow-md",children:[s.jsx(cx,{className:"h-5 w-5"}),"Crer mon premier dossier"]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:oe,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2 font-medium shadow-md",children:[s.jsx(Jn,{className:"h-5 w-5"}),"Crer un Template"]}),t&&t.length===0&&s.jsxs("button",{onClick:K,disabled:u.isPending,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors inline-flex items-center gap-2 disabled:opacity-50 font-medium shadow-md",children:[s.jsx(Ex,{className:"h-5 w-5"}),"Templates par Dfaut"]})]})})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(ge=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200 relative",children:[s.jsx("div",{className:"h-40 bg-gradient-to-br from-gray-50 to-gray-100 rounded-t-lg flex items-center justify-center relative overflow-hidden",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx(ii,{className:"h-16 w-16 text-gray-300 mx-auto mb-2"}),s.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[ge.template_config.layout.orientation==="landscape"?"Paysage":"Portrait"," "," ",ge.template_config.layout.format.toUpperCase()]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-base mb-1",children:ge.name}),s.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:ge.description||"Aucune description"}),ge.folder_name&&s.jsx("div",{className:"mb-3",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs",children:[s.jsx(W0,{className:"h-3 w-3"}),ge.folder_name]})}),s.jsxs("div",{className:"flex gap-1 mb-3",children:[s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:ge.template_config.colors.primary},title:"Couleur primaire"}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:ge.template_config.colors.secondary},title:"Couleur secondaire"}),s.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:ge.template_config.colors.text},title:"Couleur du texte"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>U(ge.id),disabled:o.isPending,className:"px-2 py-1.5 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(F0,{className:"h-3 w-3"}),"Dupliquer"]}),s.jsxs("button",{onClick:()=>e(`/admin/certificate-templates/${ge.id}/edit`),className:"px-2 py-1.5 bg-purple-50 text-purple-700 rounded border border-purple-300 hover:bg-purple-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",children:[s.jsx(np,{className:"h-3 w-3"}),"Modifier"]}),s.jsxs("button",{onClick:()=>e(`/admin/certificate-templates/${ge.id}/canvas-edit`),className:"px-2 py-1.5 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-xs font-medium flex items-center justify-center gap-1",title:"diteur Canvas Drag-and-Drop",children:[s.jsx(Ex,{className:"h-3 w-3"}),"Canvas"]}),s.jsxs("button",{onClick:()=>x(ge.id),disabled:l.isPending,className:"px-2 py-1.5 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-xs font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[s.jsx(Hn,{className:"h-3 w-3"}),"Supprimer"]})]})]}),g===ge.id&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xl max-w-xs mx-4",children:[s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-xs text-gray-600 mb-4",children:['tes-vous sr de vouloir supprimer le template "',ge.name,'" ?']}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>x(null),className:"flex-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-xs font-medium",children:"Annuler"}),s.jsx("button",{onClick:()=>R(ge.id),className:"flex-1 px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-xs font-medium",children:"Supprimer"})]})]})})]},ge.id))})})]}),s.jsx(y_e,{isOpen:w,onClose:()=>N(!1),onSubmit:se,folder:O,folders:H,isLoading:f.isPending||h.isPending,mode:D}),s.jsx(b_e,{isOpen:E,onClose:()=>S(!1),folders:a||[],selectedFolderId:b})]})})},Nd=({label:e,value:t,onChange:r,description:n})=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-10 rounded-lg border-2 border-gray-300 shadow-sm",style:{backgroundColor:t},title:t}),s.jsx("input",{type:"color",value:t,onChange:a=>r(a.target.value),className:"w-20 h-10 rounded-lg border border-gray-300 cursor-pointer"}),s.jsx("input",{type:"text",value:t,onChange:a=>{const i=a.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(i)&&r(i)},placeholder:"#FFFFFF",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:7})]}),n&&s.jsx("p",{className:"text-xs text-gray-500",children:n})]}),CU=["helvetica","times","courier","arial","verdana","georgia","palatino","garamond","bookman","trebuchet","impact"],TU=["normal","bold","italic","bolditalic"],Pv=({label:e,font:t,onChange:r,showColor:n=!1})=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900",children:[s.jsx(jd,{className:"h-4 w-4 text-blue-600"}),e]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Police"}),s.jsx("select",{value:t.family,onChange:a=>r({...t,family:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:CU.map(a=>s.jsx("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille (pt)"}),s.jsx("input",{type:"number",min:"6",max:"100",value:t.size,onChange:a=>r({...t,size:parseInt(a.target.value)||12}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Style"}),s.jsx("select",{value:t.style,onChange:a=>r({...t,style:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:TU.map(a=>s.jsxs("option",{value:a,children:[a==="normal"&&"Normal",a==="bold"&&"Gras",a==="italic"&&"Italique",a==="bolditalic"&&"Gras Italique"]},a))})]})]}),n&&s.jsx(Nd,{label:"Couleur du texte",value:t.color||"#000000",onChange:a=>r({...t,color:a}),description:"Couleur personnalise pour cette police (optionnel)"})]}),ND={id:"preview-cert-123",certificate_number:"CERT-2025-001",student_id:"test-student",student_name:"Ahmed El Idrissi",student_email:"ahmed.idrissi@example.com",formation_id:"test-formation",formation_title:"Formation Complte React & TypeScript",formation_description:"Matrisez React et TypeScript pour crer des applications web modernes",duration_hours:40,completion_date:new Date().toISOString(),issued_at:new Date().toISOString(),grade:95.5,metadata:{organization_name:"Institut de Formation Professionnelle",director_name:"Dr. Karim Bennani"},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},N_e=({template:e,onRefresh:t})=>{const[r,n]=C.useState(""),[a,i]=C.useState(!1),[l,o]=C.useState("");C.useEffect(()=>{u()},[e]);const u=async()=>{i(!0),o("");try{const g=(await new wD(ND,e).generate()).output("dataurlstring");n(g)}catch(h){console.error("Error generating preview:",h),o(h.message||"Erreur lors de la gnration de l'aperu")}finally{i(!1)}},f=async()=>{try{(await new wD(ND,e).generate()).save(`preview-${e.name}-${Date.now()}.pdf`)}catch(h){console.error("Error downloading preview:",h),alert("Erreur lors du tlchargement: "+h.message)}};return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Os,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aperu"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:t||u,disabled:a,className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-1.5 transition-colors disabled:opacity-50",title:"Rafrachir l'aperu",children:[s.jsx(zV,{className:`h-4 w-4 ${a?"animate-spin":""}`}),a?"Gnration...":"Rafrachir"]}),s.jsxs("button",{onClick:f,disabled:a||!r,className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-1.5 transition-colors disabled:opacity-50",title:"Tlcharger le PDF de test",children:[s.jsx(Es,{className:"h-4 w-4"}),"Tlcharger"]})]})]}),s.jsx("div",{className:"bg-gray-100 rounded-lg overflow-hidden",style:{height:"500px"},children:l?s.jsx("div",{className:"flex items-center justify-center h-full text-red-600 px-4 text-center",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Erreur de gnration"}),s.jsx("p",{className:"text-sm text-red-500",children:l})]})}):a?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Gnration de l'aperu..."})]})}):r?s.jsx("iframe",{src:r,className:"w-full h-full border-0",title:"Aperu du certificat"}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:s.jsx("p",{className:"text-sm",children:"Aucun aperu disponible"})})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("strong",{children:"Donnes de test:"})," Ahmed El Idrissi  Formation React & TypeScript  Note: 95.5%"]})})]})},__e=e=>{switch(e){case"text":return s.jsx(jd,{className:"h-4 w-4"});case"line":return s.jsx(lF,{className:"h-4 w-4"});case"rectangle":case"border":return s.jsx(tN,{className:"h-4 w-4"});case"circle":return s.jsx(aF,{className:"h-4 w-4"});case"image":return s.jsx(km,{className:"h-4 w-4"});default:return s.jsx(tN,{className:"h-4 w-4"})}},_D=e=>e.type==="text"&&e.content?`${e.content.substring(0,30)}${e.content.length>30?"...":""}`:e.id,j_e=({elements:e,selectedId:t,onSelect:r,onMoveUp:n,onMoveDown:a,onDuplicate:i,onDelete:l})=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:s.jsxs("h3",{className:"font-semibold text-gray-900 text-sm",children:["lments du Template (",e.length,")"]})}),s.jsx("div",{className:"divide-y divide-gray-200 max-h-[500px] overflow-y-auto",children:e.length===0?s.jsx("div",{className:"px-4 py-8 text-center text-gray-400 text-sm",children:"Aucun lment. Ajoutez un lment pour commencer."}):e.map((o,u)=>s.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 transition-colors cursor-pointer ${t===o.id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,onClick:()=>r(o.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`flex-shrink-0 ${t===o.id?"text-blue-600":"text-gray-400"}`,children:__e(o.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium truncate ${t===o.id?"text-blue-900":"text-gray-900"}`,children:_D(o)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Type: ",o.type,o.condition&&`  Condition: ${o.condition}`]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:f=>{f.stopPropagation(),n(o.id)},disabled:u===0,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Dplacer vers le haut",children:s.jsx(q_,{className:"h-4 w-4"})}),s.jsx("button",{onClick:f=>{f.stopPropagation(),a(o.id)},disabled:u===e.length-1,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Dplacer vers le bas",children:s.jsx(rp,{className:"h-4 w-4"})}),s.jsx("button",{onClick:f=>{f.stopPropagation(),r(o.id)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"diter",children:s.jsx(ap,{className:"h-4 w-4"})}),s.jsx("button",{onClick:f=>{f.stopPropagation(),i(o.id)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded",title:"Dupliquer",children:s.jsx(F0,{className:"h-4 w-4"})}),s.jsx("button",{onClick:f=>{f.stopPropagation(),window.confirm(`Supprimer l'lment "${_D(o)}" ?`)&&l(o.id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:s.jsx(Hn,{className:"h-4 w-4"})})]})]})},o.id))})]}),S_e=({element:e,onChange:t})=>{if(!e)return s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx(Jv,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Slectionnez un lment pour l'diter"})]})});const r=(n,a)=>{t({...e,[n]:a})};return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jv,{className:"h-4 w-4 text-blue-600"}),s.jsxs("h3",{className:"font-semibold text-gray-900 text-sm",children:["diter: ",e.id," (",e.type,")"]})]})}),s.jsxs("div",{className:"p-4 space-y-4 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID de l'lment"}),s.jsx("input",{type:"text",value:e.id,onChange:n=>r("id",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"element-id"})]}),e.type==="text"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contenu du texte"}),s.jsx("textarea",{value:e.content||"",onChange:n=>r("content",n.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Texte  afficher ou variable"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille de police"}),s.jsx("input",{type:"number",value:e.fontSize||12,onChange:n=>r("fontSize",parseInt(n.target.value)),min:"6",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alignement"}),s.jsxs("select",{value:e.align||"left",onChange:n=>r("align",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[s.jsx("option",{value:"left",children:"Gauche"}),s.jsx("option",{value:"center",children:"Centre"}),s.jsx("option",{value:"right",children:"Droite"})]})]})]})]}),e.type==="line"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X1"}),s.jsx("input",{type:"text",value:e.x1||0,onChange:n=>r("x1",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y1"}),s.jsx("input",{type:"text",value:e.y1||0,onChange:n=>r("y1",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X2"}),s.jsx("input",{type:"text",value:e.x2||0,onChange:n=>r("x2",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y2"}),s.jsx("input",{type:"text",value:e.y2||0,onChange:n=>r("y2",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),(e.type==="rectangle"||e.type==="border")&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Largeur"}),s.jsx("input",{type:"text",value:e.width||"",onChange:n=>r("width",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hauteur"}),s.jsx("input",{type:"text",value:e.height||"",onChange:n=>r("height",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),e.type==="circle"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rayon"}),s.jsx("input",{type:"number",value:e.radius||10,onChange:n=>r("radius",parseFloat(n.target.value)),min:"1",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),e.type!=="line"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position X"}),s.jsx("input",{type:"text",value:e.x||0,onChange:n=>r("x",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position Y"}),s.jsx("input",{type:"text",value:e.y||0,onChange:n=>r("y",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),s.jsx(Nd,{label:"Couleur",value:e.color||"#000000",onChange:n=>r("color",n)}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition (optionnel)"}),s.jsx("input",{type:"text",value:e.condition||"",onChange:n=>r("condition",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Afficher seulement si cette donne existe"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-xs text-blue-700",children:["Variables: ","{student_name}",", ","{formation_title}",", ","{grade}",", etc."]})]})})]})]})},A_e=e=>({name:"Nouveau Template",description:"",folder_id:e||"",template_config:{layout:{orientation:"landscape",format:"a4",margins:{top:10,right:10,bottom:10,left:10}},colors:{primary:"#1e40af",secondary:"#3b82f6",text:"#1f2937",background:"#ffffff"},fonts:{title:{family:"times",size:28,style:"bold"},subtitle:{family:"times",size:18,style:"normal"},body:{family:"helvetica",size:12,style:"normal"},studentName:{family:"times",size:24,style:"bold"}},elements:[]}}),E_e=()=>{const{id:e}=io(),t=pn(),[r]=U_(),n=r.get("folderId"),a=e==="new",{data:i,isLoading:l}=CL(a?null:e||""),o=OL(),u=TL(),[f,h]=C.useState("general"),[m,g]=C.useState(null),[x,b]=C.useState(null),[v,w]=C.useState(!1);C.useEffect(()=>{if(a){const H=A_e(n||void 0);g({...H,id:"new",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}else i&&g(i)},[i,a,n]);const N=async()=>{if(m){w(!0);try{if(a){const{id:H,created_at:R,updated_at:U,...K}=m;await u.mutateAsync(K)}else{const{id:H,created_at:R,updated_at:U,...K}=m;await o.mutateAsync({id:m.id,data:K})}t("/admin/certificate-templates")}catch(H){console.error("Error saving template:",H),alert("Erreur lors de la sauvegarde: "+(H.message||"Erreur inconnue"))}finally{w(!1)}}},E=()=>{confirm("Annuler les modifications ?")&&t("/admin/certificate-templates")},S=H=>{if(!m)return;const R={id:`element-${Date.now()}`,type:H,x:H==="line"?void 0:10,y:H==="line"?void 0:10,color:"#000000",...H==="text"&&{content:"Nouveau texte",fontSize:12,align:"left"},...H==="line"&&{x1:10,y1:10,x2:100,y2:10},...H==="rectangle"&&{width:"100",height:"50"},...H==="border"&&{width:"pageWidth - 20",height:"pageHeight - 20"},...H==="circle"&&{radius:20}};g({...m,template_config:{...m.template_config,elements:[...m.template_config.elements,R]}}),b(R.id)},D=H=>{m&&g({...m,template_config:{...m.template_config,elements:m.template_config.elements.map(R=>R.id===H.id?H:R)}})},F=H=>{m&&(g({...m,template_config:{...m.template_config,elements:m.template_config.elements.filter(R=>R.id!==H)}}),x===H&&b(null))},O=H=>{if(!m)return;const R=m.template_config.elements.find(K=>K.id===H);if(!R)return;const U={...R,id:`element-${Date.now()}`,x:R.x!==void 0?typeof R.x=="number"?R.x+10:R.x:void 0,y:R.y!==void 0?typeof R.y=="number"?R.y+10:R.y:void 0};g({...m,template_config:{...m.template_config,elements:[...m.template_config.elements,U]}})},T=H=>{if(!m)return;const R=m.template_config.elements.findIndex(K=>K.id===H);if(R<=0)return;const U=[...m.template_config.elements];[U[R-1],U[R]]=[U[R],U[R-1]],g({...m,template_config:{...m.template_config,elements:U}})},M=H=>{if(!m)return;const R=m.template_config.elements.findIndex(K=>K.id===H);if(R<0||R>=m.template_config.elements.length-1)return;const U=[...m.template_config.elements];[U[R],U[R+1]]=[U[R+1],U[R]],g({...m,template_config:{...m.template_config,elements:U}})};if(l||!m)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement du template..."})]})});const B=x&&m.template_config.elements.find(H=>H.id===x)||null;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-screen-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/certificate-templates"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour",children:s.jsx(Vn,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:a?"Nouveau Template":m.name}),s.jsx("p",{className:"text-sm text-gray-500",children:a?"Crer un nouveau template de certificat":"Modifier le template"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:E,disabled:v,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(ji,{className:"h-4 w-4"}),"Annuler"]}),s.jsxs("button",{onClick:N,disabled:v,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(fh,{className:"h-4 w-4"}),v?"Sauvegarde...":"Enregistrer"]})]})]})})}),s.jsx("div",{className:"max-w-screen-2xl mx-auto p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[s.jsx("div",{className:"lg:col-span-3 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-gray-200",children:["general","colors","fonts","elements"].map(H=>s.jsxs("button",{onClick:()=>h(H),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${f===H?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[H==="general"&&"Gnral",H==="colors"&&"Couleurs",H==="fonts"&&"Polices",H==="elements"&&"lments"]},H))}),s.jsxs("div",{className:"p-6 space-y-6",children:[f==="general"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du template"}),s.jsx("input",{type:"text",value:m.name,onChange:H=>g({...m,name:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Certificat Premium"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:m.description||"",onChange:H=>g({...m,description:H.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Description du template..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orientation"}),s.jsxs("select",{value:m.template_config.layout.orientation,onChange:H=>g({...m,template_config:{...m.template_config,layout:{...m.template_config.layout,orientation:H.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"portrait",children:"Portrait"}),s.jsx("option",{value:"landscape",children:"Paysage"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Format"}),s.jsxs("select",{value:m.template_config.layout.format,onChange:H=>g({...m,template_config:{...m.template_config,layout:{...m.template_config.layout,format:H.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"a4",children:"A4"}),s.jsx("option",{value:"letter",children:"Letter"})]})]})]})]}),f==="colors"&&s.jsxs(s.Fragment,{children:[s.jsx(Nd,{label:"Couleur principale",value:m.template_config.colors.primary,onChange:H=>g({...m,template_config:{...m.template_config,colors:{...m.template_config.colors,primary:H}}}),description:"Utilise pour les titres et lments importants"}),s.jsx(Nd,{label:"Couleur secondaire",value:m.template_config.colors.secondary,onChange:H=>g({...m,template_config:{...m.template_config,colors:{...m.template_config.colors,secondary:H}}}),description:"Utilise pour les accents et bordures"}),s.jsx(Nd,{label:"Couleur du texte",value:m.template_config.colors.text,onChange:H=>g({...m,template_config:{...m.template_config,colors:{...m.template_config.colors,text:H}}}),description:"Couleur par dfaut du texte"}),s.jsx(Nd,{label:"Couleur de fond",value:m.template_config.colors.background,onChange:H=>g({...m,template_config:{...m.template_config,colors:{...m.template_config.colors,background:H}}}),description:"Couleur de fond du certificat"})]}),f==="fonts"&&s.jsxs(s.Fragment,{children:[s.jsx(Pv,{label:"Police du titre principal",font:m.template_config.fonts.title,onChange:H=>g({...m,template_config:{...m.template_config,fonts:{...m.template_config.fonts,title:H}}}),showColor:!0}),s.jsx(Pv,{label:"Police du sous-titre",font:m.template_config.fonts.subtitle,onChange:H=>g({...m,template_config:{...m.template_config,fonts:{...m.template_config.fonts,subtitle:H}}}),showColor:!0}),s.jsx(Pv,{label:"Police du corps de texte",font:m.template_config.fonts.body,onChange:H=>g({...m,template_config:{...m.template_config,fonts:{...m.template_config.fonts,body:H}}}),showColor:!0}),s.jsx(Pv,{label:"Police du nom de l'tudiant",font:m.template_config.fonts.studentName,onChange:H=>g({...m,template_config:{...m.template_config,fonts:{...m.template_config.fonts,studentName:H}}}),showColor:!0})]}),f==="elements"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ajouter un lment"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>S("text"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Texte"]}),s.jsxs("button",{onClick:()=>S("line"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Ligne"]}),s.jsxs("button",{onClick:()=>S("rectangle"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Rectangle"]}),s.jsxs("button",{onClick:()=>S("border"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Bordure"]}),s.jsxs("button",{onClick:()=>S("circle"),className:"px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Cercle"]})]})]}),s.jsx(j_e,{elements:m.template_config.elements,selectedId:x,onSelect:b,onDelete:F,onDuplicate:O,onMoveUp:T,onMoveDown:M}),s.jsx(S_e,{element:B,onChange:D})]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"sticky top-24",children:s.jsx(N_e,{template:m})})})]})})]})},k_e=({onDragStart:e})=>{const t=[{type:"text",icon:jd,label:"Nom tudiant",variable:"{student_name}",category:"tudiant",color:"blue"},{type:"text",icon:yH,label:"Email tudiant",variable:"{student_email}",category:"tudiant",color:"blue"},{type:"text",icon:KH,label:"CIN/ID tudiant",variable:"{student_id}",category:"tudiant",color:"blue"},{type:"text",icon:H_,label:"Nom formation",variable:"{formation_title}",category:"Formation",color:"green"},{type:"text",icon:jd,label:"Description formation",variable:"{formation_description}",category:"Formation",color:"green"},{type:"text",icon:As,label:"Dure (heures)",variable:"{duration_hours}",category:"Formation",color:"green"},{type:"text",icon:W_,label:"Numro certificat",variable:"{certificate_number}",category:"Certificat",color:"purple"},{type:"text",icon:kH,label:"Date compltion",variable:"{completion_date}",category:"Certificat",color:"purple"},{type:"text",icon:Bi,label:"Date mission",variable:"{issued_date}",category:"Certificat",color:"purple"},{type:"text",icon:ii,label:"Note/Grade",variable:"{grade}",category:"Certificat",color:"purple"},{type:"text",icon:SH,label:"Nom organisation",variable:"{organization_name}",category:"Organisation",color:"orange"},{type:"text",icon:zH,label:"Nom directeur",variable:"{director_name}",category:"Organisation",color:"orange"},{type:"text",icon:ks,label:"Adresse organisation",variable:"{organization_address}",category:"Organisation",color:"orange"}],r=[{type:"image",icon:km,label:"Logo",source:"{logo_url}",color:"indigo"},{type:"image",icon:km,label:"Signature",source:"{signature_url}",color:"indigo"},{type:"image",icon:km,label:"Image personnalise",source:"",color:"indigo"}],n=[{type:"rectangle",icon:tN,label:"Rectangle",color:"gray"},{type:"line",icon:lF,label:"Ligne",color:"gray"},{type:"circle",icon:aF,label:"Cercle",color:"gray"}],a=[{type:"text",icon:jd,label:"Texte libre",content:"Nouveau texte",color:"slate"}],i=(f,h)=>{f.dataTransfer.effectAllowed="copy",e(h.type,h)},l={blue:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},green:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},purple:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},orange:{bg:"bg-orange-50",text:"text-orange-700",border:"border-orange-200"},indigo:{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-200"},gray:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"},slate:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200"}},o=(f,h)=>{const m=f.icon,g=l[f.color]||l.gray;return s.jsxs("div",{draggable:!0,onDragStart:x=>i(x,f),className:`${g.bg} ${g.text} border ${g.border} rounded-lg p-2 cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow flex items-center gap-2 text-sm`,title:`Glisser pour ajouter: ${f.label}`,children:[s.jsx(m,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate flex-1",children:f.label})]},`${f.type}-${h}`)},u=Array.from(new Set(t.map(f=>f.category)));return s.jsx("div",{className:"h-full overflow-y-auto bg-white border-r border-gray-200",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"lments"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Glissez-dposez les lments sur le canvas"})]}),u.map(f=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:f}),s.jsx("div",{className:"space-y-2",children:t.filter(h=>h.category===f).map((h,m)=>o(h,m))})]},f)),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Images"}),s.jsx("div",{className:"space-y-2",children:r.map((f,h)=>o(f,h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Formes"}),s.jsx("div",{className:"space-y-2",children:n.map((f,h)=>o(f,h))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Texte"}),s.jsx("div",{className:"space-y-2",children:a.map((f,h)=>o(f,h))})]})]})})},C_e=({elements:e,selectedId:t,backgroundImage:r,canvasSize:n,showGrid:a,onElementMove:i,onElementResize:l,onElementSelect:o,onElementDrop:u})=>{const f=C.useRef(null),[h,m]=C.useState(null),[g,x]=C.useState(null),[b,v]=C.useState(!1),w=(O,T)=>{if(O.stopPropagation(),o(T.id),O.target.classList.contains("resize-handle"))return;const M=typeof T.x=="number"?T.x:0,B=typeof T.y=="number"?T.y:0;m({id:T.id,startX:O.clientX,startY:O.clientY,offsetX:O.clientX-M,offsetY:O.clientY-B})},N=(O,T)=>{O.stopPropagation(),o(T.id);const M=typeof T.width=="number"?T.width:100,B=typeof T.height=="number"?T.height:50;x({id:T.id,startX:O.clientX,startY:O.clientY,startW:M,startH:B})},E=O=>{O.preventDefault(),O.dataTransfer.dropEffect="copy",v(!0)},S=O=>{O.preventDefault(),v(!1)},D=O=>{if(O.preventDefault(),v(!1),!f.current)return;const T=f.current.getBoundingClientRect(),M=O.clientX-T.left,B=O.clientY-T.top;try{const H=JSON.parse(O.dataTransfer.getData("application/json"));u(H.type,M,B,H)}catch(H){console.error("Error parsing drop data:",H)}};C.useEffect(()=>{const O=M=>{if(h&&f.current){const B=f.current.getBoundingClientRect(),H=Math.max(0,Math.min(n.width,M.clientX-B.left)),R=Math.max(0,Math.min(n.height,M.clientY-B.top));i(h.id,H,R)}if(g){const B=M.clientX-g.startX,H=M.clientY-g.startY,R=Math.max(10,g.startW+B),U=Math.max(10,g.startH+H);l(g.id,R,U)}},T=()=>{m(null),x(null)};if(h||g)return window.addEventListener("mousemove",O),window.addEventListener("mouseup",T),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",T)}},[h,g,n,i,l]);const F=O=>{const T=O.id===t,M=typeof O.x=="number"?O.x:0,B=typeof O.y=="number"?O.y:0,H={position:"absolute",left:`${M}px`,top:`${B}px`,cursor:h?.id===O.id?"grabbing":"grab",border:T?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",boxShadow:T?"0 0 0 1px rgba(59, 130, 246, 0.3)":"none"};if(O.type==="text")return s.jsx("div",{style:{...H,padding:"4px 8px",fontSize:`${O.fontSize||12}px`,fontFamily:O.fontFamily||"helvetica",fontWeight:O.fontStyle?.includes("bold")?"bold":"normal",fontStyle:O.fontStyle?.includes("italic")?"italic":"normal",color:O.color||"#000000",textAlign:O.align||"left",whiteSpace:"nowrap",backgroundColor:T?"rgba(59, 130, 246, 0.05)":"transparent"},onMouseDown:R=>w(R,O),children:O.content||"Texte vide"},O.id);if(O.type==="rectangle"||O.type==="border"){const R=typeof O.width=="number"?O.width:100,U=typeof O.height=="number"?O.height:50;return s.jsxs("div",{children:[s.jsx("div",{style:{...H,width:`${R}px`,height:`${U}px`,border:`${O.lineWidth||1}px solid ${O.color||"#000000"}`,backgroundColor:O.fillColor||"transparent"},onMouseDown:K=>w(K,O)}),T&&s.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${M+R-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:K=>N(K,O)})]},O.id)}if(O.type==="circle"){const R=O.radius||20;return s.jsx("div",{style:{...H,width:`${R*2}px`,height:`${R*2}px`,borderRadius:"50%",border:`${O.lineWidth||1}px solid ${O.color||"#000000"}`,backgroundColor:O.fillColor||"transparent"},onMouseDown:U=>w(U,O)},O.id)}if(O.type==="line"){const R=typeof O.x1=="number"?O.x1:0,U=typeof O.y1=="number"?O.y1:0,K=typeof O.x2=="number"?O.x2:100,ee=typeof O.y2=="number"?O.y2:0,pe=Math.sqrt(Math.pow(K-R,2)+Math.pow(ee-U,2)),re=Math.atan2(ee-U,K-R)*(180/Math.PI);return s.jsx("div",{style:{position:"absolute",left:`${R}px`,top:`${U}px`,width:`${pe}px`,height:`${O.lineWidth||1}px`,backgroundColor:O.color||"#000000",transform:`rotate(${re}deg)`,transformOrigin:"0 0",cursor:"grab",border:T?"2px solid #3B82F6":"none"},onMouseDown:se=>w(se,O)},O.id)}if(O.type==="image"){const R=typeof O.width=="number"?O.width:100,U=typeof O.height=="number"?O.height:100;return s.jsxs("div",{children:[s.jsx("div",{style:{...H,width:`${R}px`,height:`${U}px`,border:T?"2px solid #3B82F6":"1px dashed rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.05)"},onMouseDown:K=>w(K,O),children:s.jsx("span",{className:"text-xs text-gray-400",children:O.source?O.source.substring(0,20)+"...":"Image"})}),T&&s.jsx("div",{className:"resize-handle",style:{position:"absolute",left:`${M+R-8}px`,top:`${B+U-8}px`,width:"16px",height:"16px",backgroundColor:"#3B82F6",border:"2px solid white",borderRadius:"50%",cursor:"se-resize",zIndex:1e3},onMouseDown:K=>N(K,O)})]},O.id)}return null};return s.jsx("div",{className:"h-full flex flex-col bg-gray-100",children:s.jsx("div",{className:"flex-1 overflow-auto p-8 flex items-center justify-center",children:s.jsxs("div",{ref:f,style:{width:`${n.width}px`,height:`${n.height}px`,position:"relative",backgroundColor:"#ffffff",backgroundImage:r?`url(${r})`:a?"repeating-linear-gradient(0deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px), repeating-linear-gradient(90deg, #e5e7eb 0px, #e5e7eb 1px, transparent 1px, transparent 20px)":"none",backgroundSize:r?"cover":"20px 20px",backgroundPosition:r?"center":"0 0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:b?"3px dashed #3B82F6":"1px solid #d1d5db"},onDragOver:E,onDragLeave:S,onDrop:D,onClick:()=>o(null),children:[e.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx(V_,{className:"h-16 w-16 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Glissez-dposez des lments ici"})]})}),e.map(F)]})})})},T_e=({element:e,customFonts:t,onChange:r,onDelete:n,onDuplicate:a})=>{if(!e)return s.jsx("div",{className:"h-full bg-white border-l border-gray-200 p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx(Wr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Slectionnez un lment pour modifier ses proprits"})]})});const i=(o,u)=>{r({...e,[o]:u})},l=[...CU.map(o=>({value:o,label:o.charAt(0).toUpperCase()+o.slice(1),isCustom:!1})),...t.map(o=>({value:o.name,label:o.name,isCustom:!0}))];return s.jsx("div",{className:"h-full overflow-y-auto bg-white border-l border-gray-200",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Proprits de l'lment"}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e.type})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"ID"}),s.jsx("input",{type:"text",value:e.id,disabled:!0,className:"w-full px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Position"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X"}),s.jsx("input",{type:"number",value:e.x||0,onChange:o=>i("x",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y"}),s.jsx("input",{type:"number",value:e.y||0,onChange:o=>i("y",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(e.type==="rectangle"||e.type==="border"||e.type==="image"||e.type==="circle")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Dimensions"}),e.type==="circle"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Rayon"}),s.jsx("input",{type:"number",value:e.radius||20,onChange:o=>i("radius",parseFloat(o.target.value)||20),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Largeur"}),s.jsx("input",{type:"number",value:e.width||100,onChange:o=>i("width",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hauteur"}),s.jsx("input",{type:"number",value:e.height||50,onChange:o=>i("height",parseFloat(o.target.value)||50),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.type==="line"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Coordonnes"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X1"}),s.jsx("input",{type:"number",value:e.x1||0,onChange:o=>i("x1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y1"}),s.jsx("input",{type:"number",value:e.y1||0,onChange:o=>i("y1",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X2"}),s.jsx("input",{type:"number",value:e.x2||100,onChange:o=>i("x2",parseFloat(o.target.value)||100),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y2"}),s.jsx("input",{type:"number",value:e.y2||0,onChange:o=>i("y2",parseFloat(o.target.value)||0),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded"})]})]})]}),e.type==="text"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Contenu"}),s.jsx("textarea",{value:e.content||"",onChange:o=>i("content",o.target.value),rows:3,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Texte ou variable {student_name}"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Variables: ","{","student_name","}",", ","{","formation_title","}",", ","{","grade","}","..."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Police"}),s.jsx("select",{value:e.fontFamily||"helvetica",onChange:o=>i("fontFamily",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(o=>s.jsxs("option",{value:o.value,children:[o.label," ",o.isCustom&&"(Custom)"]},o.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Taille"}),s.jsx("input",{type:"number",min:"8",max:"100",value:e.fontSize||12,onChange:o=>i("fontSize",parseInt(o.target.value)||12),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Style"}),s.jsx("select",{value:e.fontStyle||"normal",onChange:o=>i("fontStyle",o.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:TU.map(o=>s.jsxs("option",{value:o,children:[o==="normal"&&"Normal",o==="bold"&&"Gras",o==="italic"&&"Italique",o==="bolditalic"&&"Gras Italique"]},o))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Alignement"}),s.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(o=>s.jsxs("button",{onClick:()=>i("align",o),className:`flex-1 px-2 py-1.5 text-xs rounded border transition-colors ${(e.align||"left")===o?"bg-blue-100 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[o==="left"&&"Gauche",o==="center"&&"Centre",o==="right"&&"Droite"]},o))})]})]}),e.type==="image"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Source"}),s.jsx("input",{type:"text",value:e.source||"",onChange:o=>i("source",o.target.value),placeholder:"URL ou variable {logo_url}",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]}),e.type!=="image"&&s.jsx(Nd,{label:"Couleur",value:e.color||"#000000",onChange:o=>i("color",o)}),(e.type==="rectangle"||e.type==="circle")&&s.jsx(Nd,{label:"Couleur de remplissage (optionnel)",value:e.fillColor||"#ffffff",onChange:o=>i("fillColor",o),description:"Laissez transparent pour pas de remplissage"}),(e.type==="line"||e.type==="rectangle"||e.type==="border"||e.type==="circle")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"paisseur du trait"}),s.jsx("input",{type:"number",min:"0.1",max:"20",step:"0.5",value:e.lineWidth||1,onChange:o=>i("lineWidth",parseFloat(o.target.value)||1),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Condition d'affichage (optionnel)"}),s.jsx("input",{type:"text",value:e.condition||"",onChange:o=>i("condition",o.target.value),placeholder:"grade",className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"L'lment s'affiche seulement si cette variable existe"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[s.jsxs("button",{onClick:a,className:"w-full px-3 py-2 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(F0,{className:"h-4 w-4"}),"Dupliquer l'lment"]}),s.jsxs("button",{onClick:n,className:"w-full px-3 py-2 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),"Supprimer l'lment"]})]})]})})},O_e=({template:e,onUpdate:t})=>{const[r,n]=C.useState("upload"),[a,i]=C.useState(""),[l,o]=C.useState(!1),[u,f]=C.useState(null),h=C.useRef(null),m=f_e(e.template_config.layout.format,e.template_config.layout.orientation),g=async v=>{const w=v.target.files?.[0];if(w){if(!w.type.startsWith("image/")){f("Veuillez slectionner une image (JPG, PNG, WEBP ou SVG)");return}if(w.size>5*1024*1024){f("L'image ne doit pas dpasser 5 MB");return}o(!0),f(null);try{const N=await El.uploadBackground(e.id,w);t(N.template)}catch(N){f(N.message||"Erreur lors de l'upload de l'image")}finally{o(!1),h.current&&(h.current.value="")}}},x=async()=>{if(!a.trim()){f("Veuillez saisir une URL");return}o(!0),f(null);try{const v=await El.setBackgroundUrl(e.id,a.trim());t(v.template),i("")}catch(v){f(v.message||"Erreur lors de la dfinition de l'URL")}finally{o(!1)}},b=async()=>{if(confirm("Supprimer l'arrire-plan ?")){o(!0),f(null);try{const v=await El.deleteBackground(e.id);t(v.template)}catch(v){f(v.message||"Erreur lors de la suppression de l'arrire-plan")}finally{o(!1)}}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Image d'arrire-plan"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez une image ou dfinissez une URL pour le fond du certificat"})]}),e.background_image_url&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600",children:"Arrire-plan actuel"}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(km,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-700 truncate font-mono",children:e.background_image_url}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Type: ",e.background_image_type==="upload"?"Fichier upload":"URL externe"]})]})]}),s.jsx("button",{onClick:b,disabled:l,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer l'arrire-plan",children:s.jsx(ji,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:e.background_image_url,alt:"Aperu arrire-plan",className:"w-full h-32 object-cover rounded border border-gray-200",onError:v=>{v.target.style.display="none"}})})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("upload"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="upload"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(sp,{className:"h-4 w-4 inline mr-1"}),"Upload"]}),s.jsxs("button",{onClick:()=>n("url"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${r==="url"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx($x,{className:"h-4 w-4 inline mr-1"}),"URL"]})]}),r==="upload"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Choisir une image"}),s.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:g,disabled:l,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"JPG, PNG, WEBP ou SVG  Max 5 MB"}),s.jsxs("p",{className:"text-xs text-blue-600 font-medium mt-1",children:["Dimensions recommandes: ",m]})]})}),r==="url"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"URL de l'image"}),s.jsx("input",{type:"url",value:a,onChange:v=>i(v.target.value),placeholder:"https://exemple.com/image.jpg",disabled:l,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),s.jsx("button",{onClick:x,disabled:l||!a.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 text-sm font-medium",children:l?"Application...":"Appliquer l'URL"})]}),u&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-red-700",children:u})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Astuce:"})," L'image d'arrire-plan sera affiche en plein cran sur le canvas. Vous pourrez ensuite placer vos lments texte par-dessus."]})})]})})},D_e=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(null),a=C.useRef(null),{data:i,isLoading:l}=gse(),o=vse(),u=yse(),f=async m=>{const g=m.target.files?.[0];if(!g)return;if(!e.trim()){n("Veuillez saisir un nom pour la police");return}const x=[".ttf",".otf",".woff",".woff2"],b=g.name.toLowerCase().slice(g.name.lastIndexOf("."));if(!x.includes(b)){n("Format de fichier non valide. Utilisez TTF, OTF, WOFF ou WOFF2");return}if(g.size>2*1024*1024){n("La police ne doit pas dpasser 2 MB");return}n(null);try{await o.mutateAsync({file:g,fontName:e.trim()}),t(""),a.current&&(a.current.value="")}catch(v){n(v.message||"Erreur lors de l'upload de la police")}},h=async(m,g)=>{if(confirm(`Supprimer la police "${g}" ?`))try{await u.mutateAsync(m)}catch(x){n(x.message||"Erreur lors de la suppression de la police")}};return s.jsx("div",{className:"h-full overflow-y-auto bg-white",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Polices personnalises"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Uploadez des polices personnalises pour les utiliser dans vos certificats"})]}),s.jsxs("div",{className:"space-y-4 border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Ajouter une police"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Nom de la police"}),s.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"ex: Ma Police Custom",disabled:o.isPending,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Fichier de police"}),s.jsx("input",{ref:a,type:"file",accept:".ttf,.otf,.woff,.woff2",onChange:f,disabled:o.isPending,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"TTF, OTF, WOFF ou WOFF2  Max 2 MB"})]}),o.isPending&&s.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Upload en cours..."]})]}),r&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-red-700",children:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:["Polices disponibles (",i?.length||0,")"]}),l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Chargement des polices..."})]}):i&&i.length>0?s.jsx("div",{className:"space-y-2",children:i.map(m=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-white hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(jd,{className:"h-4 w-4 text-indigo-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Format: ",m.file_format.toUpperCase(),m.file_size&&`  ${(m.file_size/1024).toFixed(1)} KB`]}),s.jsx("style",{children:`
                            @font-face {
                              font-family: 'custom-${m.id}';
                              src: url('${m.file_url}');
                            }
                          `}),s.jsxs("p",{className:"text-xs text-gray-700 mt-2 italic",style:{fontFamily:`'custom-${m.id}', sans-serif`},children:["Aperu: ",m.name]})]})]}),s.jsx("button",{onClick:()=>h(m.id,m.name),disabled:u.isPending,className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Supprimer la police",children:s.jsx(Hn,{className:"h-4 w-4"})})]})},m.id))}):s.jsxs("div",{className:"text-center py-8 border border-gray-200 rounded-lg bg-gray-50",children:[s.jsx(jd,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Aucune police personnalise"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Uploadez une police pour la rendre disponible dans l'diteur"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:"Info:"})," Les polices personnalises seront disponibles dans la liste des polices lors de l'dition d'lments texte. Assurez-vous d'avoir les droits d'utilisation pour les polices que vous uploadez."]})})]})})},F_e=e=>({name:"Nouveau Template Canvas",description:"",folder_id:e||"",template_config:{layout:{orientation:"landscape",format:"a4",margins:{top:10,right:10,bottom:10,left:10}},colors:{primary:"#1e40af",secondary:"#3b82f6",text:"#1f2937",background:"#ffffff"},fonts:{title:{family:"times",size:28,style:"bold"},subtitle:{family:"times",size:18,style:"normal"},body:{family:"helvetica",size:12,style:"normal"},studentName:{family:"times",size:24,style:"bold"}},elements:[]}}),P_e=()=>{const{id:e}=io(),t=pn(),[r]=U_(),n=r.get("folderId"),a=e==="new",{data:i,isLoading:l}=CL(a?null:e||""),o=OL(),u=TL(),[f,h]=C.useState(null),[m,g]=C.useState([]),[x,b]=C.useState(null),[v,w]=C.useState(1),[N,E]=C.useState(!0),[S,D]=C.useState(!1),[F,O]=C.useState("elements"),T=C.useMemo(()=>{if(!f)return{width:1122,height:794};const{format:Y,orientation:P}=f.template_config.layout;return GS(Y,P)},[f?.template_config.layout.format,f?.template_config.layout.orientation]);C.useEffect(()=>{if(a){const Y=F_e(n||void 0);h({...Y,id:"new",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),g([])}else if(i&&(h(i),g(i.template_config.elements||[]),i.template_config.elements.length>0)){const Y=Math.max(...i.template_config.elements.map(P=>{const L=P.id.match(/element-(\d+)/);return L?parseInt(L[1]):0}));w(Y+1)}},[i,a,n]);const M=async()=>{if(f){D(!0);try{const Y={...f,template_config:{...f.template_config,elements:m}};if(a){const{id:P,created_at:L,updated_at:q,...W}=Y;await u.mutateAsync(W)}else{const{id:P,created_at:L,updated_at:q,...W}=Y;await o.mutateAsync({id:f.id,data:W})}t("/admin/certificate-templates")}catch(Y){console.error("Error saving template:",Y),alert("Erreur lors de la sauvegarde: "+(Y.message||"Erreur inconnue"))}finally{D(!1)}}},B=()=>{confirm("Annuler les modifications ?")&&t("/admin/certificate-templates")},H=(Y,P,L,q)=>{const W=`element-${v}`;w(v+1);let X={id:W,type:Y,x:P,y:L,color:"#000000"};Y==="text"?X={...X,content:q.variable||q.content||"Nouveau texte",fontSize:14,fontFamily:"helvetica",fontStyle:"normal",align:"left"}:Y==="image"?X={...X,source:q.source||"",width:100,height:100}:Y==="rectangle"||Y==="border"?X={...X,width:150,height:80,lineWidth:1}:Y==="circle"?X={...X,radius:30,lineWidth:1}:Y==="line"&&(X={...X,x1:P,y1:L,x2:P+100,y2:L,lineWidth:1},delete X.x,delete X.y),g([...m,X]),b(W)},R=(Y,P,L)=>{g(m.map(q=>q.id===Y?{...q,x:P,y:L}:q))},U=(Y,P,L)=>{g(m.map(q=>q.id===Y?{...q,width:P,height:L}:q))},K=Y=>{g(m.map(P=>P.id===Y.id?Y:P))},ee=()=>{x&&confirm("Supprimer cet lment ?")&&(g(m.filter(Y=>Y.id!==x)),b(null))},pe=()=>{if(!x)return;const Y=m.find(q=>q.id===x);if(!Y)return;const P=`element-${v}`;w(v+1);const L={...Y,id:P,x:typeof Y.x=="number"?Y.x+20:Y.x,y:typeof Y.y=="number"?Y.y+20:Y.y};g([...m,L]),b(P)},re=(Y,P)=>{const L={type:Y,...P};window.__dragData=L},se=Y=>{h(Y)},ye=Y=>{f&&h({...f,template_config:{...f.template_config,layout:{...f.template_config.layout,format:Y}}})},oe=Y=>{f&&h({...f,template_config:{...f.template_config,layout:{...f.template_config.layout,orientation:Y}}})};if(l||!f)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement du template..."})]})});const ge=x&&m.find(Y=>Y.id===x)||null;return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-screen-2xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/admin/certificate-templates"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour",children:s.jsx(Vn,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("input",{type:"text",value:f.name,onChange:Y=>h({...f,name:Y.target.value}),className:"text-xl font-bold text-gray-900 border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),s.jsx("p",{className:"text-sm text-gray-500",children:"diteur Canvas Drag-and-Drop"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Format:"}),s.jsxs("select",{value:f.template_config.layout.format,onChange:Y=>ye(Y.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsxs("option",{value:"a4",children:[Gv.a4," (297210mm)"]}),s.jsxs("option",{value:"letter",children:[Gv.letter," (279216mm)"]}),s.jsxs("option",{value:"badge",children:[Gv.badge," (8654mm)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"Orientation:"}),s.jsxs("select",{value:f.template_config.layout.orientation,onChange:Y=>oe(Y.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"landscape",children:"Paysage"}),s.jsx("option",{value:"portrait",children:"Portrait"})]})]}),s.jsxs("div",{className:"px-3 py-2 text-xs bg-gray-50 text-gray-600 rounded-lg border border-gray-200",children:[T.width,"  ",T.height," px"]}),s.jsxs("button",{onClick:()=>E(!N),className:`px-3 py-2 text-sm rounded-lg flex items-center gap-2 transition-colors ${N?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Afficher/Masquer la grille",children:[s.jsx(V_,{className:"h-4 w-4"}),"Grille"]}),s.jsxs("button",{onClick:B,disabled:S,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(ji,{className:"h-4 w-4"}),"Annuler"]}),s.jsxs("button",{onClick:M,disabled:S,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[s.jsx(fh,{className:"h-4 w-4"}),S?"Sauvegarde...":"Enregistrer"]})]})]})})}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"w-64 flex-shrink-0",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:s.jsx("button",{onClick:()=>O("elements"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${F==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"lments"})}),F==="elements"&&s.jsx(k_e,{onDragStart:re})]})}),s.jsx("div",{className:"flex-1",children:s.jsx(C_e,{elements:m,selectedId:x,backgroundImage:f.background_image_url||null,canvasSize:T,showGrid:N&&!f.background_image_url,onElementMove:R,onElementResize:U,onElementSelect:b,onElementDrop:(Y,P,L)=>{const q=window.__dragData||{};H(Y,P,L,q),delete window.__dragData}})}),s.jsx("div",{className:"w-80 flex-shrink-0",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[s.jsx("button",{onClick:()=>O("elements"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${F==="elements"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Proprits"}),s.jsx("button",{onClick:()=>O("background"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${F==="background"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Arrire-plan"}),s.jsx("button",{onClick:()=>O("fonts"),className:`flex-1 px-3 py-3 text-sm font-medium transition-colors ${F==="fonts"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:"Polices"})]}),F==="elements"&&s.jsx(T_e,{element:ge,customFonts:[],onChange:K,onDelete:ee,onDuplicate:pe}),F==="background"&&f&&s.jsx(O_e,{template:f,onUpdate:se}),F==="fonts"&&s.jsx(D_e,{})]})})]})]})},vu={getThreads:async(e,t)=>{const r=new URLSearchParams;t?.sort&&r.append("sort",t.sort),t?.pinned&&r.append("pinned",t.pinned);const n=`/forums/${e}/threads${r.toString()?`?${r.toString()}`:""}`;return at.get(n)},createThread:async(e,t)=>at.post(`/forums/${e}/threads`,t),getThread:async e=>at.get(`/forums/threads/${e}`),updateThread:async(e,t)=>at.put(`/forums/threads/${e}`,t),deleteThread:async(e,t,r=!1)=>at.delete(`/forums/threads/${e}?user_id=${t}&is_admin=${r}`),pinThread:async(e,t)=>at.patch(`/forums/threads/${e}/pin`,{is_pinned:t}),lockThread:async(e,t)=>at.patch(`/forums/threads/${e}/lock`,{is_locked:t}),incrementViewCount:async e=>at.patch(`/forums/threads/${e}/view`,{}),getPosts:async e=>at.get(`/forums/threads/${e}/posts`),createPost:async(e,t)=>at.post(`/forums/threads/${e}/posts`,t),updatePost:async(e,t)=>at.put(`/forums/posts/${e}`,t),deletePost:async(e,t,r=!1)=>at.delete(`/forums/posts/${e}?user_id=${t}&is_admin=${r}`),addReaction:async(e,t)=>at.post(`/forums/posts/${e}/reactions`,t),removeReaction:async(e,t,r)=>at.delete(`/forums/posts/${e}/reactions/${r}?user_id=${t}`),getReactions:async e=>at.get(`/forums/posts/${e}/reactions`),getStats:async()=>at.get("/forums/stats")},kl={all:["forums"],threads:e=>["forums","threads",e],thread:e=>["forums","thread",e],posts:e=>["forums","posts",e],reactions:e=>["forums","reactions",e],stats:()=>["forums","stats"]},L_e=(e,t)=>ur({queryKey:[...kl.threads(e||""),t],queryFn:()=>{if(!e)throw new Error("Formation ID is required");return vu.getThreads(e,t)},enabled:!!e,staleTime:120*1e3}),M_e=e=>ur({queryKey:kl.thread(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return vu.getThread(e)},enabled:!!e,staleTime:300*1e3}),R_e=()=>{const e=Ft();return Bt({mutationFn:({formationId:t,data:r})=>vu.createThread(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.threads(r.formationId)})}})},I_e=()=>{const e=Ft();return Bt({mutationFn:t=>vu.incrementViewCount(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.thread(r)})}})},B_e=e=>ur({queryKey:kl.posts(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return vu.getPosts(e)},enabled:!!e,staleTime:60*1e3}),U_e=()=>{const e=Ft();return Bt({mutationFn:({threadId:t,data:r})=>vu.createPost(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.posts(r.threadId)}),e.invalidateQueries({queryKey:kl.thread(r.threadId)}),e.invalidateQueries({queryKey:kl.all})}})},z_e=()=>{const e=Ft();return Bt({mutationFn:({postId:t,userId:r,isAdmin:n})=>vu.deletePost(t,r,n),onSuccess:()=>{e.invalidateQueries({queryKey:kl.all})}})},q_e=()=>{const e=Ft();return Bt({mutationFn:({postId:t,data:r})=>vu.addReaction(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.reactions(r.postId)}),e.invalidateQueries({queryKey:kl.all})}})},$_e=()=>{const e=Ft();return Bt({mutationFn:({postId:t,userId:r,reactionType:n})=>vu.removeReaction(t,r,n),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:kl.reactions(r.postId)}),e.invalidateQueries({queryKey:kl.all})}})},H_e=()=>ur({queryKey:kl.stats(),queryFn:()=>vu.getStats(),staleTime:300*1e3}),V_e=()=>{const e=pn(),[t,r]=C.useState(""),[n,a]=C.useState(""),{data:i}=H_e(),{data:l}=Fg(),o=i?.stats,u=l||[],f=n?u.filter(h=>h.id===n):u;return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modration des Forums"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les discussions et modrez le contenu des forums"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Js,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_threads||0}),s.jsx("div",{className:"text-blue-100 text-sm",children:"Total discussions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(eF,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_posts||0}),s.jsx("div",{className:"text-green-100 text-sm",children:"Total rponses"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(G0,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.total_reactions||0}),s.jsx("div",{className:"text-purple-100 text-sm",children:"Total ractions"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-5 text-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(ls,{className:"h-8 w-8 opacity-80"})}),s.jsx("div",{className:"text-3xl font-bold",children:o?.active_posters||0}),s.jsx("div",{className:"text-amber-100 text-sm",children:"Participants actifs"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une discussion...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les formations"}),u.map(h=>s.jsx("option",{value:h.id,children:h.title},h.id))]})]})}),s.jsx("div",{className:"space-y-4",children:f.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Js,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-600",children:"Crez des formations pour activer les forums"})]}):f.map(h=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Js,{className:"h-4 w-4"}),"Forum actif"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ls,{className:"h-4 w-4"}),h.enrolled_count||0," tudiants"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(rt,{onClick:()=>e(`/student/forums/${h.id}`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Os,{className:"h-4 w-4 mr-2"}),"Voir le forum"]})})]})},h.id))}),s.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Actions de modration disponibles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-800",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(K_,{className:"h-4 w-4 mt-0.5 text-yellow-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"pingler:"})," Mettre en avant les discussions importantes"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Hx,{className:"h-4 w-4 mt-0.5 text-gray-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Verrouiller:"})," Empcher de nouvelles rponses"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Hn,{className:"h-4 w-4 mt-0.5 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Supprimer:"})," Retirer du contenu inappropri"]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Os,{className:"h-4 w-4 mt-0.5 text-blue-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Surveiller:"})," Suivre l'activit des discussions"]})]})]}),s.jsx("p",{className:"mt-3 text-sm text-blue-700",children:" Accdez  un forum spcifique pour utiliser ces actions de modration."})]}),o&&s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-lg p-5",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Statistiques gnrales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Crateurs de discussions:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_thread_creators})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Participants actifs:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_posters})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Taux d'engagement:"}),s.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[o.total_threads>0?(o.total_posts/o.total_threads*100).toFixed(1):0,"% rponses/thread"]})]})]})]})]})},W_e=()=>{const e=pn(),{user:t}=_i(),{data:r=[],isLoading:n}=EL(),a=r.filter(g=>g.students?.some(x=>x.student_id===t?.id)),i=g=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[g]||"bg-gray-100 text-gray-700",l=g=>({planned:"Planifie",active:"En cours",completed:"Termine",cancelled:"Annule"})[g]||g,o=g=>new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=g=>{const x=new Date,b=new Date(g.start_date),v=new Date(g.end_date);return x>=b&&x<=v},f=a.filter(g=>g.status==="active"||u(g)),h=a.filter(g=>g.status==="planned"&&!u(g)),m=a.filter(g=>g.status==="completed");return s.jsx(ha,{title:`Bonjour ${t?.full_name||"tudiant"}`,subtitle:"Bienvenue sur votre portail de formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Sessions inscrites"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:a.length})]}),s.jsx(qn,{className:"h-12 w-12 text-blue-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Sessions actives"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:f.length})]}),s.jsx(G0,{className:"h-12 w-12 text-green-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:" venir"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:h.length})]}),s.jsx(Bi,{className:"h-12 w-12 text-purple-200"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Termines"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:m.length})]}),s.jsx(ii,{className:"h-12 w-12 text-orange-200"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accs Rapide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(rt,{onClick:()=>e("/student/catalog"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[s.jsx(qn,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Catalogue de Formations"})]}),s.jsxs(rt,{onClick:()=>e("/student/certificates"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white",children:[s.jsx(ii,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Mes Certificats"})]}),f.length>0&&f[0].formation_id&&s.jsxs(rt,{onClick:()=>e(`/student/formations/${f[0].formation_id}`),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Continuer ma formation"})]})]})]}),f.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(jc,{className:"h-6 w-6 text-green-600"}),"Sessions en cours"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(g=>s.jsxs("div",{className:"border border-green-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-green-50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[o(g.start_date)," - ",o(g.end_date)]})]})]}),g.formation_id&&s.jsx("div",{className:"mt-4",children:s.jsxs(rt,{onClick:()=>e(`/student/formations/${g.formation_id}`),className:"w-full bg-green-600 hover:bg-green-700",size:"sm",children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Accder  la formation"]})})]},g.id))})]}),h.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(As,{className:"h-6 w-6 text-purple-600"}),"Sessions  venir"]}),s.jsx("div",{className:"space-y-4",children:h.map(g=>s.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",g.formation_title]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[g.segment_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ls,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.segment_name})]}),g.city_name&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ks,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:g.city_name})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Dbut: ",o(g.start_date)]})]})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),m.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[s.jsx(ii,{className:"h-6 w-6 text-gray-600"}),"Sessions termines"]}),s.jsx("div",{className:"space-y-4",children:m.map(g=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",g.formation_title]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:l(g.status)})]})},g.id))})]}),!n&&a.length===0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session inscrite"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'tes inscrit  aucune session de formation pour le moment."}),s.jsx(rt,{onClick:()=>e("/student/catalog"),children:"Parcourir le catalogue"})]}),n&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})},G_e=()=>{const e=pn(),{data:t=[],isLoading:r}=Fg(),[n,a]=C.useState(""),[i,l]=C.useState("all"),o=t.filter(m=>m.status==="published"),u=C.useMemo(()=>o.filter(m=>{const g=m.title.toLowerCase().includes(n.toLowerCase())||m.description?.toLowerCase().includes(n.toLowerCase()),x=i==="all"||m.level===i;return g&&x}),[o,n,i]),f=m=>{const x=m?{debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}}[m]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${x.bg} ${x.text}`,children:x.label})},h=m=>m==="debutant"?s.jsx(G0,{className:"h-4 w-4 text-green-600"}):m==="intermediaire"?s.jsx(G0,{className:"h-4 w-4 text-yellow-600"}):m==="avance"?s.jsx(ii,{className:"h-4 w-4 text-red-600"}):s.jsx(qn,{className:"h-4 w-4 text-gray-400"});return s.jsx(ha,{title:"Catalogue de formations",subtitle:"Explorez nos formations disponibles",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[o.length," formations disponibles"]}),s.jsx("p",{className:"text-blue-100",children:"Dveloppez vos comptences avec nos formations en ligne"})]}),s.jsx(qn,{className:"h-16 w-16 text-blue-200 opacity-50"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ip,{className:"h-4 w-4 inline mr-2"}),"Rechercher"]}),s.jsx("input",{type:"text",value:n,onChange:m=>a(m.target.value),placeholder:"Titre ou description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx($_,{className:"h-4 w-4 inline mr-2"}),"Niveau"]}),s.jsxs("select",{value:i,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les niveaux"}),s.jsx("option",{value:"debutant",children:"Dbutant"}),s.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),s.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),(n||i!=="all")&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Filtres actifs:"}),n&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:['Recherche: "',n,'"']}),i!=="all"&&s.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:["Niveau: ",f(i).props.children]}),s.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-xs text-red-600 hover:text-red-700",children:"Effacer les filtres"})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[u.length," formation(s) trouve(s)"]})}),r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation trouve"}),s.jsx("p",{className:"text-gray-500 mb-6",children:n||i!=="all"?"Essayez de modifier vos critres de recherche":"Aucune formation publie pour le moment"}),(n||i!=="all")&&s.jsx(rt,{onClick:()=>{a(""),l("all")},variant:"outline",children:"Effacer les filtres"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-lg transition-all duration-200 overflow-hidden group",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden",children:[m.thumbnail_url?s.jsx("img",{src:m.thumbnail_url,alt:m.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(qn,{className:"h-16 w-16 text-white opacity-50"})}),s.jsx("div",{className:"absolute top-3 right-3",children:f(m.level)})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:m.title}),m.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:m.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[m.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[m.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h(m.level),s.jsxs("span",{children:["Niveau ",m.level||"N/A"]})]}),m.module_count!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(jc,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[m.module_count," module(s)"]})]}),m.passing_score_percentage!==void 0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(si,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",m.passing_score_percentage,"%"]})]})]}),m.price!==void 0&&m.price!==null&&Number(m.price)>0&&s.jsx("div",{className:"mb-4 pb-4 border-b",children:s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I3(m.price)})}),s.jsxs(rt,{onClick:()=>e(`/student/formations/${m.id}`),className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(jc,{className:"h-4 w-4 mr-2"}),"Voir la formation"]})]})]},m.id))})]})})},sb={async markVideoComplete(e){return at.post(`/progress/videos/${e}/complete`,{})},async recordVideoWatch(e){return at.post(`/progress/videos/${e}/watch`,{})},async getFormationVideoProgress(e){return at.get(`/progress/formations/${e}/videos`)},async submitTestAttempt(e,t){return at.post(`/progress/tests/${e}/attempts`,t)},async getTestAttempts(e){return at.get(`/progress/tests/${e}/attempts`)},async getFormationTestAttempts(e){return at.get(`/progress/formations/${e}/tests`)},async getFormationProgress(e){return at.get(`/progress/formations/${e}`)},async getStudentTranscript(e){return at.get(`/progress/student/${e}/transcript`)}};function K_e(){const e=Ft();return Bt({mutationFn:t=>sb.markVideoComplete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["video-progress"]}),e.invalidateQueries({queryKey:["formation-progress"]})}})}function Y_e(e){return ur({queryKey:["video-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return sb.getFormationVideoProgress(e)},enabled:!!e})}function X_e(){const e=Ft();return Bt({mutationFn:({testId:t,data:r})=>sb.submitTestAttempt(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["test-attempts",r.testId]}),e.invalidateQueries({queryKey:["test-attempts-formation"]}),e.invalidateQueries({queryKey:["formation-progress"]}),e.invalidateQueries({queryKey:["transcript"]})}})}function Q_e(e){return ur({queryKey:["formation-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return sb.getFormationProgress(e)},enabled:!!e,staleTime:1e3*60*5})}const Z_e=()=>{const{id:e}=io(),t=pn(),{user:r}=_i(),{data:n,isLoading:a,error:i}=dp(e),{data:l}=Q_e(e),{data:o}=AU(r?.id||null),[u,f]=C.useState(new Set),h=o?.certificates.some(D=>D.formation_id===e)||!1,m=D=>{const F=new Set(u);F.has(D)?F.delete(D):F.add(D),f(F)},g=D=>l?.video_progress.some(F=>F.video_id===D&&F.completed_at)||!1,x=D=>l?.test_attempts.some(F=>F.test_id===D&&F.passed)||!1,b=D=>{const F={debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}},O=D&&D in F?F[D]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${O.bg} ${O.text}`,children:O.label})},v=D=>D==="video"?s.jsx(jc,{className:"h-5 w-5 text-purple-600"}):D==="test"?s.jsx(nf,{className:"h-5 w-5 text-orange-600"}):s.jsx(qn,{className:"h-5 w-5 text-blue-600"}),w=(D,F)=>(!D.prerequisite_module_id||!F.find(T=>T.id===D.prerequisite_module_id),!0);if(a)return s.jsx(ha,{title:"Chargement...",subtitle:"Chargement de la formation",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(i||!n)return s.jsx(ha,{title:"Erreur",subtitle:"Formation introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette formation n'existe pas ou n'est pas disponible."}),s.jsxs(rt,{onClick:()=>t("/student/catalog"),variant:"outline",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]})]})});const N=n.modules||[],E=N.reduce((D,F)=>D+(F.videos?.length||0),0),S=N.reduce((D,F)=>D+(F.tests?.length||0),0);return s.jsx(ha,{title:n.title,subtitle:"Contenu de la formation",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>t("/student/catalog"),className:"mb-4",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"hidden md:block",children:n.thumbnail_url?s.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-48 h-32 object-cover rounded-lg"}):s.jsx("div",{className:"w-48 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(qn,{className:"h-12 w-12 text-white opacity-50"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),b(n.level)]}),n.description&&s.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[n.duration_hours&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[n.duration_hours,"h de contenu"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[N.length," module(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jc,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[E," vido(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nf,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[S," test(s)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score de russite: ",n.passing_score_percentage,"%"]})]})]})]})]})]}),l&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre progression"}),s.jsx("div",{className:"mb-6",children:s.jsx(i2,{progress:l.summary.overall_progress,label:"Progression globale",color:"purple",size:"lg"})}),h&&s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t("/student/certificates"),className:"bg-gradient-to-r from-amber-50 to-amber-100 border-2 border-amber-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-amber-500 p-3 rounded-full",children:s.jsx(ii,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:" Certificat disponible !"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Flicitations ! Vous avez termin cette formation. Cliquez ici pour tlcharger votre certificat."})]}),s.jsx(Io,{className:"h-5 w-5 text-amber-600"})]})})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{onClick:()=>t(`/student/forums/${e}`),className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-full",children:s.jsx(Js,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:" Forum de discussion"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Posez vos questions, partagez vos ides et discutez avec les autres tudiants."})]}),s.jsx(Io,{className:"h-5 w-5 text-blue-600"})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(bD,{completed:l.summary.completed_videos,total:l.summary.total_videos,label:"Vidos termines",color:"blue"}),s.jsx(bD,{completed:l.summary.passed_tests,total:l.summary.total_tests,label:"Tests russis",color:"green"})]})]}),N.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun contenu disponible"}),s.jsx("p",{className:"text-gray-500",children:"Cette formation n'a pas encore de contenu. Revenez plus tard."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contenu de la formation"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cliquez sur un module pour voir son contenu"})]}),s.jsx("div",{className:"divide-y",children:N.map((D,F)=>{const O=u.has(D.id),T=w(D,N),M=D.videos||[],B=D.tests||[],H=M.length>0||B.length>0;return s.jsxs("div",{children:[s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${T?"cursor-pointer":"opacity-60"}`,onClick:()=>T&&H&&m(D.id),children:s.jsxs("div",{className:"flex items-center gap-3",children:[H?s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:O?s.jsx(rp,{className:"h-5 w-5"}):s.jsx(Io,{className:"h-5 w-5"})}):s.jsx("div",{className:"w-5"}),v(D.module_type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Module ",F+1]}),!T&&s.jsx(Hx,{className:"h-4 w-4 text-gray-400"})]}),s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:D.title}),D.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:D.description})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[M.length>0&&s.jsxs("span",{className:"mr-3",children:[M.length," vido(s)"]}),B.length>0&&s.jsxs("span",{children:[B.length," test(s)"]})]})]})}),O&&H&&s.jsxs("div",{className:"bg-gray-50 px-4 py-3 space-y-2",children:[M.map((R,U)=>{const K=g(R.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-purple-200"}`,onClick:()=>t(`/student/formations/${n.id}/videos/${R.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jc,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-purple-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Vido ",U+1,": ",R.title]}),R.duration_seconds&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Dure: ",Math.floor(R.duration_seconds/60)," min"," ",R.duration_seconds%60," sec"]})]}),K?s.jsx(si,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(Io,{className:"h-5 w-5 text-gray-400"})]})},R.id)}),B.map((R,U)=>{const K=x(R.id);return s.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-orange-200"}`,onClick:()=>t(`/student/formations/${n.id}/tests/${R.id}`),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nf,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-orange-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Test ",U+1,": ",R.title]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[R.questions&&s.jsxs("span",{children:[R.questions.length," question(s)"]}),R.time_limit_minutes&&s.jsxs("span",{children:[" ",R.time_limit_minutes," min"]}),s.jsxs("span",{children:["Score min: ",R.passing_score,"%"]})]})]}),K?s.jsx(si,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(Io,{className:"h-5 w-5 text-gray-400"})]})},R.id)})]})]},D.id)})})]})]})})},J_e=()=>{const{id:e,videoId:t}=io(),r=pn(),{data:n,isLoading:a,error:i}=dp(e),{data:l}=Y_e(e),o=K_e(),u=n?.modules?.flatMap(S=>S.videos||[]).find(S=>S.id===t),f=n?.modules?.find(S=>S.videos?.some(D=>D.id===t)),h=[];n?.modules?.forEach(S=>{S.videos?.forEach(D=>{h.push({video:D,module:S})})});const m=h.findIndex(S=>S.video.id===t),g=m>0?h[m-1]:null,x=m<h.length-1?h[m+1]:null,b=S=>{if(!S)return null;const D=[/(?:youtube\.com\/watch\?v=)([^&]+)/,/(?:youtu\.be\/)([^?]+)/,/(?:youtube\.com\/embed\/)([^?]+)/];for(const F of D){const O=S.match(F);if(O)return O[1]}return null},v=u?.youtube_url?b(u.youtube_url):null,w=S=>{const D=Math.floor(S/60),F=S%60;return`${D}:${F.toString().padStart(2,"0")}`},N=l?.some(S=>S.video_id===t&&S.completed_at)||!1,E=async()=>{if(!(!t||N))try{await o.mutateAsync(t)}catch(S){console.error("Erreur lors du marquage de la vido:",S)}};return C.useEffect(()=>{t&&console.log("Vido en cours de visionnage:",t)},[t]),a?s.jsx(ha,{title:"Chargement...",subtitle:"Chargement de la vido",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!u?s.jsx(ha,{title:"Erreur",subtitle:"Vido introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette vido n'existe pas ou n'est pas disponible."}),s.jsxs(rt,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(ha,{title:u.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),N?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm",children:[s.jsx(si,{className:"h-5 w-5"}),s.jsx("span",{children:"Vido termine"})]}):s.jsxs(rt,{onClick:E,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),o.isPending?"Enregistrement...":"Marquer comme termin"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:v?s.jsx("div",{className:"relative",style:{paddingBottom:"56.25%"},children:s.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${v}?rel=0`,title:u.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):s.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(jc,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"URL de vido non disponible"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:u.youtube_url||"Aucune URL configure"})]})})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(jc,{className:"h-5 w-5 text-purple-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.title})]}),f&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:f.title})]})]}),u.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded-lg",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:w(u.duration_seconds)})]})]}),u.description&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:u.description})]})]}),(g||x)&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${g.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsx(z_,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido prcdente"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.module.title})]})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Premire vido"})}),x?s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${x.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido suivante"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.video.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.module.title})]}),s.jsx(Io,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}):s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Dernire vido"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Toutes les vidos (",h.length,")"]}),s.jsx("div",{className:"space-y-2",children:h.map(({video:S,module:D},F)=>s.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${S.id}`),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${S.id===t?"bg-purple-50 border-purple-300 shadow-sm":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${S.id===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:S.id===t?s.jsx(jc,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:F+1})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium truncate ${S.id===t?"text-purple-900":"text-gray-900"}`,children:S.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:D.title})]}),S.duration_seconds&&s.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(As,{className:"h-3 w-3"}),w(S.duration_seconds)]})]},S.id))})]})]})})},e3e=()=>{const{id:e,testId:t}=io(),r=pn(),{data:n,isLoading:a,error:i}=dp(e),l=X_e(),[o,u]=C.useState({}),[f,h]=C.useState(!1),[m,g]=C.useState(null),[x]=C.useState(new Date),b=n?.modules?.flatMap(T=>T.tests||[]).find(T=>T.id===t),v=n?.modules?.find(T=>T.tests?.some(M=>M.id===t)),w=b?.questions||[];C.useEffect(()=>{if(b?.time_limit_minutes&&!f){g(b.time_limit_minutes*60);const T=setInterval(()=>{g(M=>M===null||M<=0?(clearInterval(T),f||E(),0):M-1)},1e3);return()=>clearInterval(T)}},[b,f]);const N=(T,M)=>{f||u(B=>({...B,[T]:M}))},E=async()=>{if(f||!t)return;const T=w.filter(U=>!o[U.id]).length;if(T>0&&!window.confirm(`${T} question(s) non rpondue(s). Voulez-vous vraiment soumettre le test ?`))return;h(!0);let M=0,B=0;w.forEach(U=>{M+=U.points;const K=o[U.id];K&&U.choices.find(pe=>pe.id===K)?.is_correct&&(B+=U.points)});const R=(M>0?B/M*100:0)>=(b?.passing_score||70);try{await l.mutateAsync({testId:t,data:{answers:o,score:B,total_points:M,passed:R}})}catch(U){console.error("Erreur lors de l'enregistrement de la tentative:",U)}},S=()=>{let T=0,M=0,B=0;w.forEach(U=>{M+=U.points;const K=o[U.id];K&&U.choices.find(pe=>pe.id===K)?.is_correct&&(T++,B+=U.points)});const H=w.length>0?T/w.length*100:0,R=M>0?B/M*100:0;return{correctCount:T,totalQuestions:w.length,percentage:Math.round(H),earnedPoints:B,totalPoints:M,pointsPercentage:Math.round(R),passed:R>=(b?.passing_score||70)}},D=T=>{const M=Math.floor(T/60),B=T%60;return`${M}:${B.toString().padStart(2,"0")}`},F=()=>{if(!f)return"";const M=Math.floor((new Date().getTime()-x.getTime())/1e3);return D(M)},O=f?S():null;return a?s.jsx(ha,{title:"Chargement...",subtitle:"Chargement du test",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!b?s.jsx(ha,{title:"Erreur",subtitle:"Test introuvable",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Ce test n'existe pas ou n'est pas disponible."}),s.jsxs(rt,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):s.jsx(ha,{title:b.title,subtitle:n.title,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),disabled:!f,children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),!f&&m!==null&&s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${m<60?"bg-red-100 text-red-700":m<300?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[s.jsx(As,{className:"h-4 w-4"}),s.jsx("span",{children:D(m)})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(nf,{className:"h-6 w-6 text-orange-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:b.title}),v&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[s.jsx(qn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{children:v.title})]}),b.description&&s.jsx("p",{className:"text-gray-600 mb-3",children:b.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(nf,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[w.length," questions"]})]}),b.time_limit_minutes&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:[b.time_limit_minutes," min"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ii,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{children:["Score minimum: ",b.passing_score,"%"]})]})]})]})]})]}),f&&O&&s.jsxs("div",{className:`rounded-lg shadow-sm border p-6 ${O.passed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[O.passed?s.jsx(si,{className:"h-8 w-8 text-green-600"}):s.jsx(Ad,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-bold ${O.passed?"text-green-900":"text-red-900"}`,children:O.passed?"Test russi !":"Test chou"}),s.jsxs("p",{className:O.passed?"text-green-700":"text-red-700",children:["Score: ",O.pointsPercentage,"% (",O.earnedPoints,"/",O.totalPoints," points)"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Bonnes rponses"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[O.correctCount,"/",O.totalQuestions]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pourcentage"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[O.percentage,"%"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Points obtenus"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[O.earnedPoints,"/",O.totalPoints]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Temps coul"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:F()})]})]})]}),w.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(nf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune question"}),s.jsx("p",{className:"text-gray-500",children:"Ce test n'a pas encore de questions."})]}):s.jsx("div",{className:"space-y-6",children:w.map((T,M)=>{const B=o[T.id],R=T.choices.find(U=>U.id===B)?.is_correct||!1;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${f?R?"bg-green-100 text-green-700":B?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:f?R?s.jsx(si,{className:"h-4 w-4"}):B?s.jsx(Ad,{className:"h-4 w-4"}):s.jsx(rN,{className:"h-4 w-4"}):s.jsx("span",{className:"text-sm font-medium",children:M+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:["Question ",M+1]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[T.points," pts"]})]}),s.jsx("p",{className:"text-gray-700",children:T.question_text})]})]}),s.jsx("div",{className:"space-y-2 ml-11",children:T.choices.map(U=>{const K=B===U.id,ee=f&&U.is_correct,pe=f&&K&&!U.is_correct;return s.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all cursor-pointer ${f?ee?"bg-green-50 border-green-300":pe?"bg-red-50 border-red-300":"border-gray-200 bg-gray-50":K?"bg-blue-50 border-blue-300":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"} ${f?"cursor-default":""}`,children:[s.jsx("input",{type:"radio",name:`question-${T.id}`,value:U.id,checked:K,onChange:()=>N(T.id,U.id),disabled:f,className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm ${ee?"text-green-900 font-medium":pe?"text-red-900":"text-gray-900"}`,children:U.choice_text}),f&&U.is_correct&&s.jsx("p",{className:"text-xs text-green-700 mt-1",children:" Bonne rponse"}),f&&pe&&s.jsx("p",{className:"text-xs text-red-700 mt-1",children:" Mauvaise rponse"})]})]},U.id)})}),!f&&!B&&s.jsxs("div",{className:"mt-3 ml-11 text-sm text-amber-600 flex items-center gap-2",children:[s.jsx(rN,{className:"h-4 w-4"}),s.jsx("span",{children:"Question non rpondue"})]})]},T.id)})}),!f&&w.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[Object.keys(o).length," / ",w.length," questions rpondues"]}),b.show_correct_answers&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Les rponses correctes seront affiches aprs la soumission"})]}),s.jsxs(rt,{onClick:E,size:"lg",className:"min-w-[200px]",children:[s.jsx(si,{className:"h-5 w-5 mr-2"}),"Soumettre le test"]})]})})]})})},t3e=()=>{const{user:e}=_i(),{data:t,isLoading:r,error:n}=AU(e?.id||null),a=async l=>{await EU(l)};if(r)return s.jsx(ha,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(n)return s.jsx(ha,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des certificats"})})});const i=t?.certificates||[];return s.jsx(ha,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(ii,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Formations Compltes"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),s.jsx(si,{className:"h-12 w-12 opacity-80"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),s.jsxs("p",{className:"text-4xl font-bold mt-2",children:[i.length>0?(i.filter(l=>l.grade!==null).reduce((l,o)=>l+(o.grade||0),0)/i.filter(l=>l.grade!==null).length).toFixed(1):"0","%"]})]}),s.jsx(XV,{className:"h-12 w-12 opacity-80"})]})})]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(qx,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat disponible"}),s.jsx("p",{className:"text-gray-600",children:"Compltez vos formations pour obtenir vos certificats de russite !"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(l=>{const o=new Date(l.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=new Date(l.issued_at).toLocaleDateString("fr-FR");return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ii,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Certificat de Russite"})]}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:l.formation_title})]}),l.grade!==null&&l.grade!==void 0&&s.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 text-center backdrop-blur-sm",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[l.grade,"%"]}),s.jsx("p",{className:"text-xs opacity-90",children:"Note"})]})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(Bi,{className:"h-4 w-4 text-blue-500"}),s.jsxs("span",{children:["Complt le ",o]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(qn,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:["Dlivr le ",u]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(qx,{className:"h-4 w-4 text-purple-500"}),s.jsxs("span",{className:"font-mono text-xs",children:["N ",l.certificate_number]})]})]}),s.jsxs("button",{onClick:()=>a(l),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[s.jsx(Es,{className:"h-5 w-5"}),"Tlcharger le Certificat"]})]}),s.jsx("div",{className:"bg-green-50 border-t border-green-100 px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-green-700 text-sm font-medium",children:[s.jsx(si,{className:"h-4 w-4"}),"Formation complte avec succs"]})})]},l.id)})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(ii,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos de vos certificats"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Les certificats sont gnrs automatiquement aprs compltion d'une formation"}),s.jsx("li",{children:" Chaque certificat contient un numro unique pour vrification"}),s.jsx("li",{children:" Vous pouvez tlcharger vos certificats  tout moment"}),s.jsx("li",{children:" Les certificats sont au format PDF professionnel"})]})]})]})})]})})},r3e=()=>{const{formationId:e}=io(),t=pn(),[r,n]=C.useState("recent"),{data:a,isLoading:i}=dp(e||void 0),{data:l,isLoading:o}=L_e(e||null,{sort:r,pinned:"true"}),u=a,f=l?.threads||[],h=m=>{const g=new Date(m),b=new Date().getTime()-g.getTime(),v=Math.floor(b/6e4),w=Math.floor(v/60),N=Math.floor(w/24);return v<1?" l'instant":v<60?`Il y a ${v} min`:w<24?`Il y a ${w}h`:N<7?`Il y a ${N}j`:g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};return i||o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du forum..."})]})}):u?s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Forum - ",u.title]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Posez vos questions et discutez avec les autres tudiants"})]}),s.jsxs(rt,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Nouvelle discussion"]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Js,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:f.length})," ","discussions"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eF,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:f.reduce((m,g)=>m+(g.post_count||0),0)})," ","rponses"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trier par:"}),s.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"recent",children:"Plus rcent"}),s.jsx("option",{value:"popular",children:"Plus populaire"}),s.jsx("option",{value:"active",children:"Plus actif"})]})]})]})}),f.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Js,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune discussion pour le moment"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Soyez le premier  poser une question ou partager une ide"}),s.jsxs(rt,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Crer une discussion"]})]}):s.jsx("div",{className:"space-y-3",children:f.map(m=>s.jsx("div",{onClick:()=>t(`/student/forums/thread/${m.id}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(Js,{className:"h-6 w-6 text-white"})})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.is_pinned&&s.jsx(K_,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),m.is_locked&&s.jsx(Hx,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600",children:m.title})]}),m.content&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:m.content}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Par ",m.author_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-3 w-3"}),h(m.created_at)]}),m.last_post_at&&s.jsxs("span",{children:["Dernire rponse: ",h(m.last_post_at)]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(Os,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:m.view_count})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"vues"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(Js,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:m.post_count||0})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"rponses"})]})]})]})})]})},m.id))}),r==="popular"&&f.length>0&&s.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(G0,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Discussions les plus populaires en ce moment"})]})})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Formation non trouve"})})},n3e=()=>{const{threadId:e}=io(),t=pn(),{user:r}=_i(),[n,a]=C.useState(""),{data:i,isLoading:l}=M_e(e||null),{data:o,isLoading:u}=B_e(e||null),f=I_e(),h=U_e(),m=q_e(),g=$_e(),x=z_e(),b=i?.thread,v=o?.posts||[];C.useEffect(()=>{e&&f.mutate(e)},[e]);const w=async()=>{if(!(!n.trim()||!e||!r))try{await h.mutateAsync({threadId:e,data:{author_id:r.id,content:n.trim()}}),a("")}catch(F){console.error("Error posting reply:",F),alert("Erreur lors de l'envoi de la rponse")}},N=async(F,O,T)=>{if(r)try{T||await m.mutateAsync({postId:F,data:{user_id:r.id,reaction_type:O}})}catch(M){console.error("Error toggling reaction:",M)}},E=async F=>{if(r&&confirm("tes-vous sr de vouloir supprimer cette rponse ?"))try{await x.mutateAsync({postId:F,userId:r.id,isAdmin:r.role==="admin"})}catch(O){console.error("Error deleting post:",O),alert("Erreur lors de la suppression")}},S=(F,O)=>{if(!F.reactions)return 0;const T=F.reactions.find(M=>M.reaction_type===O);return T?T.count:0},D=F=>new Date(F).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return l||u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de la discussion..."})]})}):b?s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs(rt,{onClick:()=>t(`/student/forums/${b.formation_id}`),variant:"ghost",className:"mb-4",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Js,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.is_pinned&&s.jsx(K_,{className:"h-5 w-5 text-yellow-600"}),b.is_locked&&s.jsx(Hx,{className:"h-5 w-5 text-gray-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title})]}),b.content&&s.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:b.content}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:b.author_name}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(As,{className:"h-4 w-4"}),D(b.created_at)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Os,{className:"h-4 w-4"}),b.view_count," vues"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Js,{className:"h-4 w-4"}),b.post_count||0," rponses"]})]})]})]})}),s.jsx("div",{className:"space-y-4 mb-6",children:v.map(F=>{const O=r?.id===F.author_id,T=r?.role==="admin",M=O||T;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:F.author_name?.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-gray-900",children:F.author_name}),F.author_role==="admin"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Admin"}),F.author_role==="gerant"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Formateur"}),s.jsx("span",{className:"ml-3 text-sm text-gray-500",children:D(F.created_at)}),F.is_edited&&s.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(modifi)"})]}),M&&s.jsx("button",{onClick:()=>E(F.id),className:"text-red-600 hover:text-red-700 p-1",children:s.jsx(Hn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:F.content}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>N(F.id,"like",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[s.jsx(rW,{className:"h-4 w-4"}),s.jsx("span",{children:S(F,"like")})]}),s.jsxs("button",{onClick:()=>N(F.id,"helpful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-green-600 transition-colors",children:[s.jsx(Js,{className:"h-4 w-4"}),s.jsx("span",{children:S(F,"helpful")})]}),s.jsxs("button",{onClick:()=>N(F.id,"insightful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-purple-600 transition-colors",children:[s.jsx(wV,{className:"h-4 w-4"}),s.jsx("span",{children:S(F,"insightful")})]})]})]})]})},F.id)})}),b.is_locked?s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx(Hx,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),s.jsx("p",{className:"text-yellow-800 font-medium",children:"Cette discussion est verrouille. Vous ne pouvez plus y rpondre."})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Votre rponse"}),s.jsx("textarea",{value:n,onChange:F=>a(F.target.value),placeholder:"crivez votre rponse ici...",rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Soyez respectueux et constructif dans vos rponses"}),s.jsx(rt,{onClick:w,disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Envoi...":s.jsxs(s.Fragment,{children:[s.jsx(Cm,{className:"h-4 w-4 mr-2"}),"Envoyer"]})})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"Discussion non trouve"})})},a3e=()=>{const{formationId:e}=io(),t=pn(),{user:r}=_i(),[n,a]=C.useState(""),[i,l]=C.useState(""),[o,u]=C.useState(""),{data:f}=dp(e||void 0),h=R_e(),m=f,g=async x=>{if(x.preventDefault(),u(""),!n.trim()){u("Le titre est requis");return}if(!e||!r){u("Erreur: Formation ou utilisateur non trouv");return}try{const b=await h.mutateAsync({formationId:e,data:{author_id:r.id,title:n.trim(),content:i.trim()||void 0}});t(`/student/forums/thread/${b.thread.id}`)}catch(b){console.error("Error creating thread:",b),u("Erreur lors de la cration de la discussion")}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs(rt,{onClick:()=>t(`/student/forums/${e}`),variant:"ghost",className:"mb-4",children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 mb-6 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Js,{className:"h-8 w-8"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Nouvelle discussion"})]}),s.jsxs("p",{className:"text-blue-100",children:["Formation: ",m?.title||"Chargement..."]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Conseils pour crer une bonne discussion"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Choisissez un titre clair et descriptif"}),s.jsx("li",{children:" Expliquez votre question ou sujet en dtail"}),s.jsx("li",{children:" Soyez respectueux et constructif"}),s.jsx("li",{children:" Vrifiez qu'une discussion similaire n'existe pas dj"})]})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(Wr,{className:"h-5 w-5"}),s.jsx("span",{children:o})]})}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Titre de la discussion *"}),s.jsx("input",{type:"text",id:"title",value:n,onChange:x=>a(x.target.value),placeholder:"Ex: Comment configurer l'environnement de dveloppement ?",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:200}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[n.length,"/200 caractres"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description (optionnelle)"}),s.jsx("textarea",{id:"content",value:i,onChange:x=>l(x.target.value),placeholder:"Dcrivez votre question ou sujet en dtail...",rows:10,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",maxLength:5e3}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[i.length,"/5000 caractres"]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx(rt,{type:"button",onClick:()=>t(`/student/forums/${e}`),variant:"outline",children:"Annuler"}),s.jsx(rt,{type:"submit",disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Cration...":s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"h-4 w-4 mr-2"}),"Crer la discussion"]})})]})]}),s.jsx("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[" ",s.jsx("strong",{children:"Note:"})," Votre discussion sera visible par tous les tudiants de cette formation. Vous pourrez la modifier ou la supprimer aprs sa cration."]})})]})},Qr=({children:e,adminOnly:t=!1,gerantOnly:r=!1})=>{const{isAuthenticated:n,isAdmin:a,isGerant:i}=_i();return n?t&&!a?s.jsx(Em,{to:"/dashboard",replace:!0}):r&&!i?s.jsx(Em,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(Em,{to:"/login",replace:!0})},i3e=({children:e})=>{const{isAuthenticated:t}=_i();return t?s.jsx(Em,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:e})},s3e=()=>{const{isLoading:e}=_i();return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):s.jsxs(N$,{children:[s.jsx(Rr,{path:"/login",element:s.jsx(i3e,{children:s.jsx(xW,{})})}),s.jsx(Rr,{path:"/dashboard",element:s.jsx(Qr,{children:s.jsx(NW,{})})}),s.jsx(Rr,{path:"/admin/segments",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(Iae,{})})}),s.jsx(Rr,{path:"/admin/cities",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(Uae,{})})}),s.jsx(Rr,{path:"/admin/users",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(Xae,{})})}),s.jsx(Rr,{path:"/admin/calculation-sheets",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(die,{})})}),s.jsx(Rr,{path:"/admin/calculation-sheets/:id",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(fie,{})})}),s.jsx(Rr,{path:"/admin/calculation-sheets/:id/editor",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(pie,{})})}),s.jsx(Rr,{path:"/admin/declarations",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(_ie,{})})}),s.jsx(Rr,{path:"/admin/declarations/:id",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(Die,{})})}),s.jsx(Rr,{path:"/admin/create-declaration",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(Gk,{})})}),s.jsx(Rr,{path:"/admin/formations/sessions",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(hse,{})})}),s.jsx(Rr,{path:"/admin/formations/cours",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(bse,{})})}),s.jsx(Rr,{path:"/admin/formations/cours/:id/editor",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(jse,{})})}),s.jsx(Rr,{path:"/admin/analytics",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(s_e,{})})}),s.jsx(Rr,{path:"/admin/student-reports",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(l_e,{})})}),s.jsx(Rr,{path:"/admin/certificates",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(h_e,{})})}),s.jsx(Rr,{path:"/admin/certificate-templates",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(w_e,{})})}),s.jsx(Rr,{path:"/admin/certificate-templates/:id/edit",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(E_e,{})})}),s.jsx(Rr,{path:"/admin/certificate-templates/:id/canvas-edit",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(P_e,{})})}),s.jsx(Rr,{path:"/admin/forums",element:s.jsx(Qr,{adminOnly:!0,children:s.jsx(V_e,{})})}),s.jsx(Rr,{path:"/professor/declarations",element:s.jsx(Qr,{children:s.jsx(Lie,{})})}),s.jsx(Rr,{path:"/professor/declarations/:id/fill",element:s.jsx(Qr,{children:s.jsx(Mie,{})})}),s.jsx(Rr,{path:"/student/dashboard",element:s.jsx(Qr,{children:s.jsx(W_e,{})})}),s.jsx(Rr,{path:"/student/catalog",element:s.jsx(Qr,{children:s.jsx(G_e,{})})}),s.jsx(Rr,{path:"/student/formations/:id",element:s.jsx(Qr,{children:s.jsx(Z_e,{})})}),s.jsx(Rr,{path:"/student/formations/:id/videos/:videoId",element:s.jsx(Qr,{children:s.jsx(J_e,{})})}),s.jsx(Rr,{path:"/student/formations/:id/tests/:testId",element:s.jsx(Qr,{children:s.jsx(e3e,{})})}),s.jsx(Rr,{path:"/student/certificates",element:s.jsx(Qr,{children:s.jsx(t3e,{})})}),s.jsx(Rr,{path:"/student/forums/:formationId",element:s.jsx(Qr,{children:s.jsx(r3e,{})})}),s.jsx(Rr,{path:"/student/forums/:formationId/new",element:s.jsx(Qr,{children:s.jsx(a3e,{})})}),s.jsx(Rr,{path:"/student/forums/thread/:threadId",element:s.jsx(Qr,{children:s.jsx(n3e,{})})}),s.jsx(Rr,{path:"/gerant/declarations",element:s.jsx(Qr,{gerantOnly:!0,children:s.jsx($ie,{})})}),s.jsx(Rr,{path:"/gerant/create-declaration",element:s.jsx(Qr,{gerantOnly:!0,children:s.jsx(Gk,{})})}),s.jsx(Rr,{path:"/",element:s.jsx(Em,{to:"/login",replace:!0})}),s.jsx(Rr,{path:"*",element:s.jsx(Em,{to:"/login",replace:!0})})]})},l3e=()=>s.jsx(W$,{children:s.jsx(iH,{children:s.jsx(s3e,{})})}),o3e=new gq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});Kz.createRoot(document.getElementById("root")).render(s.jsx(C.StrictMode,{children:s.jsxs(vq,{client:o3e,children:[s.jsx(l3e,{}),s.jsx(Dq,{initialIsOpen:!1})]})}));export{_n as _,c3e as c,bf as g};
