function pz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Z_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ow={exports:{}},Kp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function xz(){if(KA)return Kp;KA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:s,ref:a!==void 0?a:null,props:i}}return Kp.Fragment=t,Kp.jsx=r,Kp.jsxs=r,Kp}var YA;function gz(){return YA||(YA=1,ow.exports=xz()),ow.exports}var l=gz(),cw={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function vz(){if(XA)return vr;XA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function x(te){return te===null||typeof te!="object"?null:(te=g&&te[g]||te["@@iterator"],typeof te=="function"?te:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function _(te,P,L){this.props=te,this.context=P,this.refs=w,this.updater=L||b}_.prototype.isReactComponent={},_.prototype.setState=function(te,P){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,P,"setState")},_.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function E(){}E.prototype=_.prototype;function A(te,P,L){this.props=te,this.context=P,this.refs=w,this.updater=L||b}var T=A.prototype=new E;T.constructor=A,y(T,_.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function R(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(te,P,L){var q=L.ref;return{$$typeof:e,type:te,key:P,ref:q!==void 0?q:null,props:L}}function G(te,P){return B(te.type,P,te.props)}function I(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function z(te){var P={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(L){return P[L]})}var K=/\/+/g;function J(te,P){return typeof te=="object"&&te!==null&&te.key!=null?z(""+te.key):P.toString(36)}function pe(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(R,R):(te.status="pending",te.then(function(P){te.status==="pending"&&(te.status="fulfilled",te.value=P)},function(P){te.status==="pending"&&(te.status="rejected",te.reason=P)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function ne(te,P,L,q,W){var Z=typeof te;(Z==="undefined"||Z==="boolean")&&(te=null);var oe=!1;if(te===null)oe=!0;else switch(Z){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(te.$$typeof){case e:case t:oe=!0;break;case h:return oe=te._init,ne(oe(te._payload),P,L,q,W)}}if(oe)return W=W(te),oe=q===""?"."+J(te,0):q,O(W)?(L="",oe!=null&&(L=oe.replace(K,"$&/")+"/"),ne(W,P,L,"",function(Se){return Se})):W!=null&&(I(W)&&(W=G(W,L+(W.key==null||te&&te.key===W.key?"":(""+W.key).replace(K,"$&/")+"/")+oe)),P.push(W)),1;oe=0;var ce=q===""?".":q+":";if(O(te))for(var ae=0;ae<te.length;ae++)q=te[ae],Z=ce+J(q,ae),oe+=ne(q,P,L,Z,W);else if(ae=x(te),typeof ae=="function")for(te=ae.call(te),ae=0;!(q=te.next()).done;)q=q.value,Z=ce+J(q,ae++),oe+=ne(q,P,L,Z,W);else if(Z==="object"){if(typeof te.then=="function")return ne(pe(te),P,L,q,W);throw P=String(te),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return oe}function le(te,P,L){if(te==null)return te;var q=[],W=0;return ne(te,q,"","",function(Z){return P.call(L,Z,W++)}),q}function ve(te){if(te._status===-1){var P=te._result;P=P(),P.then(function(L){(te._status===0||te._status===-1)&&(te._status=1,te._result=L)},function(L){(te._status===0||te._status===-1)&&(te._status=2,te._result=L)}),te._status===-1&&(te._status=0,te._result=P)}if(te._status===1)return te._result.default;throw te._result}var ue=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)},je={map:le,forEach:function(te,P,L){le(te,function(){P.apply(this,arguments)},L)},count:function(te){var P=0;return le(te,function(){P++}),P},toArray:function(te){return le(te,function(P){return P})||[]},only:function(te){if(!I(te))throw Error("React.Children.only expected to receive a single React element child.");return te}};return vr.Activity=p,vr.Children=je,vr.Component=_,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=A,vr.StrictMode=n,vr.Suspense=u,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vr.__COMPILER_RUNTIME={__proto__:null,c:function(te){return D.H.useMemoCache(te)}},vr.cache=function(te){return function(){return te.apply(null,arguments)}},vr.cacheSignal=function(){return null},vr.cloneElement=function(te,P,L){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var q=y({},te.props),W=te.key;if(P!=null)for(Z in P.key!==void 0&&(W=""+P.key),P)!M.call(P,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&P.ref===void 0||(q[Z]=P[Z]);var Z=arguments.length-2;if(Z===1)q.children=L;else if(1<Z){for(var oe=Array(Z),ce=0;ce<Z;ce++)oe[ce]=arguments[ce+2];q.children=oe}return B(te.type,W,q)},vr.createContext=function(te){return te={$$typeof:s,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:i,_context:te},te},vr.createElement=function(te,P,L){var q,W={},Z=null;if(P!=null)for(q in P.key!==void 0&&(Z=""+P.key),P)M.call(P,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=P[q]);var oe=arguments.length-2;if(oe===1)W.children=L;else if(1<oe){for(var ce=Array(oe),ae=0;ae<oe;ae++)ce[ae]=arguments[ae+2];W.children=ce}if(te&&te.defaultProps)for(q in oe=te.defaultProps,oe)W[q]===void 0&&(W[q]=oe[q]);return B(te,Z,W)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(te){return{$$typeof:o,render:te}},vr.isValidElement=I,vr.lazy=function(te){return{$$typeof:h,_payload:{_status:-1,_result:te},_init:ve}},vr.memo=function(te,P){return{$$typeof:f,type:te,compare:P===void 0?null:P}},vr.startTransition=function(te){var P=D.T,L={};D.T=L;try{var q=te(),W=D.S;W!==null&&W(L,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(R,ue)}catch(Z){ue(Z)}finally{P!==null&&L.types!==null&&(P.types=L.types),D.T=P}},vr.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vr.use=function(te){return D.H.use(te)},vr.useActionState=function(te,P,L){return D.H.useActionState(te,P,L)},vr.useCallback=function(te,P){return D.H.useCallback(te,P)},vr.useContext=function(te){return D.H.useContext(te)},vr.useDebugValue=function(){},vr.useDeferredValue=function(te,P){return D.H.useDeferredValue(te,P)},vr.useEffect=function(te,P){return D.H.useEffect(te,P)},vr.useEffectEvent=function(te){return D.H.useEffectEvent(te)},vr.useId=function(){return D.H.useId()},vr.useImperativeHandle=function(te,P,L){return D.H.useImperativeHandle(te,P,L)},vr.useInsertionEffect=function(te,P){return D.H.useInsertionEffect(te,P)},vr.useLayoutEffect=function(te,P){return D.H.useLayoutEffect(te,P)},vr.useMemo=function(te,P){return D.H.useMemo(te,P)},vr.useOptimistic=function(te,P){return D.H.useOptimistic(te,P)},vr.useReducer=function(te,P,L){return D.H.useReducer(te,P,L)},vr.useRef=function(te){return D.H.useRef(te)},vr.useState=function(te){return D.H.useState(te)},vr.useSyncExternalStore=function(te,P,L){return D.H.useSyncExternalStore(te,P,L)},vr.useTransition=function(){return D.H.useTransition()},vr.version="19.2.0",vr}var QA;function $m(){return QA||(QA=1,cw.exports=vz()),cw.exports}var C=$m();const xd=vf(C),yz=pz({__proto__:null,default:xd},[C]);var uw={exports:{}},Yp={},fw={exports:{}},dw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function bz(){return ZA||(ZA=1,(function(e){function t(ne,le){var ve=ne.length;ne.push(le);e:for(;0<ve;){var ue=ve-1>>>1,je=ne[ue];if(0<a(je,le))ne[ue]=le,ne[ve]=je,ve=ue;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var le=ne[0],ve=ne.pop();if(ve!==le){ne[0]=ve;e:for(var ue=0,je=ne.length,te=je>>>1;ue<te;){var P=2*(ue+1)-1,L=ne[P],q=P+1,W=ne[q];if(0>a(L,ve))q<je&&0>a(W,L)?(ne[ue]=W,ne[q]=ve,ue=q):(ne[ue]=L,ne[P]=ve,ue=P);else if(q<je&&0>a(W,ve))ne[ue]=W,ne[q]=ve,ue=q;else break e}}return le}function a(ne,le){var ve=ne.sortIndex-le.sortIndex;return ve!==0?ve:ne.id-le.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],f=[],h=1,p=null,g=3,x=!1,b=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(ne){for(var le=r(f);le!==null;){if(le.callback===null)n(f);else if(le.startTime<=ne)n(f),le.sortIndex=le.expirationTime,t(u,le);else break;le=r(f)}}function O(ne){if(y=!1,T(ne),!b)if(r(u)!==null)b=!0,R||(R=!0,z());else{var le=r(f);le!==null&&pe(O,le.startTime-ne)}}var R=!1,D=-1,M=5,B=-1;function G(){return w?!0:!(e.unstable_now()-B<M)}function I(){if(w=!1,R){var ne=e.unstable_now();B=ne;var le=!0;try{e:{b=!1,y&&(y=!1,E(D),D=-1),x=!0;var ve=g;try{t:{for(T(ne),p=r(u);p!==null&&!(p.expirationTime>ne&&G());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var je=ue(p.expirationTime<=ne);if(ne=e.unstable_now(),typeof je=="function"){p.callback=je,T(ne),le=!0;break t}p===r(u)&&n(u),T(ne)}else n(u);p=r(u)}if(p!==null)le=!0;else{var te=r(f);te!==null&&pe(O,te.startTime-ne),le=!1}}break e}finally{p=null,g=ve,x=!1}le=void 0}}finally{le?z():R=!1}}}var z;if(typeof A=="function")z=function(){A(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=I,z=function(){J.postMessage(null)}}else z=function(){_(I,0)};function pe(ne,le){D=_(function(){ne(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ne){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var ve=g;g=le;try{return ne()}finally{g=ve}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(ne,le){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ve=g;g=ne;try{return le()}finally{g=ve}},e.unstable_scheduleCallback=function(ne,le,ve){var ue=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ue+ve:ue):ve=ue,ne){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ve+je,ne={id:h++,callback:le,priorityLevel:ne,startTime:ve,expirationTime:je,sortIndex:-1},ve>ue?(ne.sortIndex=ve,t(f,ne),r(u)===null&&ne===r(f)&&(y?(E(D),D=-1):y=!0,pe(O,ve-ue))):(ne.sortIndex=je,t(u,ne),b||x||(b=!0,R||(R=!0,z()))),ne},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(ne){var le=g;return function(){var ve=g;g=le;try{return ne.apply(this,arguments)}finally{g=ve}}}})(dw)),dw}var JA;function wz(){return JA||(JA=1,fw.exports=bz()),fw.exports}var hw={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function _z(){if(eE)return ds;eE=1;var e=$m();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ds.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,h)},ds.flushSync=function(u){var f=s.T,h=n.p;try{if(s.T=null,n.p=2,u)return u()}finally{s.T=f,n.p=h,n.d.f()}},ds.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},ds.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},ds.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):h==="script"&&n.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ds.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},ds.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin);n.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ds.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=o(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},ds.requestFormReset=function(u){n.d.r(u)},ds.unstable_batchedUpdates=function(u,f){return u(f)},ds.useFormState=function(u,f,h){return s.H.useFormState(u,f,h)},ds.useFormStatus=function(){return s.H.useHostTransitionStatus()},ds.version="19.2.0",ds}var tE;function sD(){if(tE)return hw.exports;tE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hw.exports=_z(),hw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function Nz(){if(rE)return Yp;rE=1;var e=wz(),t=$m(),r=sD();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function s(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function o(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(n(188))}function f(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(n(188));return d!==c?null:c}for(var m=c,v=d;;){var S=m.return;if(S===null)break;var k=S.alternate;if(k===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===k.child){for(k=S.child;k;){if(k===m)return u(S),c;if(k===v)return u(S),d;k=k.sibling}throw Error(n(188))}if(m.return!==v.return)m=S,v=k;else{for(var V=!1,se=S.child;se;){if(se===m){V=!0,m=S,v=k;break}if(se===v){V=!0,v=S,m=k;break}se=se.sibling}if(!V){for(se=k.child;se;){if(se===m){V=!0,m=k,v=S;break}if(se===v){V=!0,v=k,m=S;break}se=se.sibling}if(!V)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:d}function h(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=h(c),d!==null)return d;c=c.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var K=Symbol.for("react.client.reference");function J(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===K?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case A:return c.displayName||"Context";case E:return(c._context.displayName||"Context")+".Consumer";case T:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return d=c.displayName||null,d!==null?d:J(c.type)||"Memo";case M:d=c._payload,c=c._init;try{return J(c(d))}catch{}}return null}var pe=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ue=[],je=-1;function te(c){return{current:c}}function P(c){0>je||(c.current=ue[je],ue[je]=null,je--)}function L(c,d){je++,ue[je]=c.current,c.current=d}var q=te(null),W=te(null),Z=te(null),oe=te(null);function ce(c,d){switch(L(Z,d),L(W,c),L(q,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?gA(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=gA(d),c=vA(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}P(q),L(q,c)}function ae(){P(q),P(W),P(Z)}function Se(c){c.memoizedState!==null&&L(oe,c);var d=q.current,m=vA(d,c.type);d!==m&&(L(W,c),L(q,m))}function De(c){W.current===c&&(P(q),P(W)),oe.current===c&&(P(oe),Hp._currentValue=ve)}var X,Ke;function Ce(c){if(X===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);X=d&&d[1]||"",Ke=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+c+Ke}var xe=!1;function dt(c,d){if(!c||xe)return"";xe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(We){var Ve=We}Reflect.construct(c,[],at)}else{try{at.call()}catch(We){Ve=We}c.call(at.prototype)}}else{try{throw Error()}catch(We){Ve=We}(at=c())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(We){if(We&&Ve&&typeof We.stack=="string")return[We.stack,Ve.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),V=k[0],se=k[1];if(V&&se){var Ae=V.split(`
`),$e=se.split(`
`);for(S=v=0;v<Ae.length&&!Ae[v].includes("DetermineComponentFrameRoot");)v++;for(;S<$e.length&&!$e[S].includes("DetermineComponentFrameRoot");)S++;if(v===Ae.length||S===$e.length)for(v=Ae.length-1,S=$e.length-1;1<=v&&0<=S&&Ae[v]!==$e[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Ae[v]!==$e[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Ae[v]!==$e[S]){var Je=`
`+Ae[v].replace(" at new "," at ");return c.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",c.displayName)),Je}while(1<=v&&0<=S);break}}}finally{xe=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?Ce(m):""}function Xe(c,d){switch(c.tag){case 26:case 27:case 5:return Ce(c.type);case 16:return Ce("Lazy");case 13:return c.child!==d&&d!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return dt(c.type,!1);case 11:return dt(c.type.render,!1);case 1:return dt(c.type,!0);case 31:return Ce("Activity");default:return""}}function wt(c){try{var d="",m=null;do d+=Xe(c,m),m=c,c=c.return;while(c);return d}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var st=Object.prototype.hasOwnProperty,At=e.unstable_scheduleCallback,pt=e.unstable_cancelCallback,Qt=e.unstable_shouldYield,Pt=e.unstable_requestPaint,$t=e.unstable_now,Zt=e.unstable_getCurrentPriorityLevel,Jt=e.unstable_ImmediatePriority,Dr=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,Ct=e.unstable_LowPriority,xt=e.unstable_IdlePriority,St=e.log,Nr=e.unstable_setDisableYieldValue,Yt=null,Nt=null;function er(c){if(typeof St=="function"&&Nr(c),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Yt,c)}catch{}}var br=Math.clz32?Math.clz32:fr,ar=Math.log,Ar=Math.LN2;function fr(c){return c>>>=0,c===0?32:31-(ar(c)/Ar|0)|0}var pn=256,In=262144,qr=4194304;function Vt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Pr(c,d,m){var v=c.pendingLanes;if(v===0)return 0;var S=0,k=c.suspendedLanes,V=c.pingedLanes;c=c.warmLanes;var se=v&134217727;return se!==0?(v=se&~k,v!==0?S=Vt(v):(V&=se,V!==0?S=Vt(V):m||(m=se&~c,m!==0&&(S=Vt(m))))):(se=v&~k,se!==0?S=Vt(se):V!==0?S=Vt(V):m||(m=v&~c,m!==0&&(S=Vt(m)))),S===0?0:d!==0&&d!==S&&(d&k)===0&&(k=S&-S,m=d&-d,k>=m||k===32&&(m&4194048)!==0)?d:S}function Os(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Ya(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nl(){var c=qr;return qr<<=1,(qr&62914560)===0&&(qr=4194304),c}function os(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function Wt(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Tl(c,d,m,v,S,k){var V=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var se=c.entanglements,Ae=c.expirationTimes,$e=c.hiddenUpdates;for(m=V&~m;0<m;){var Je=31-br(m),at=1<<Je;se[Je]=0,Ae[Je]=-1;var Ve=$e[Je];if(Ve!==null)for($e[Je]=null,Je=0;Je<Ve.length;Je++){var We=Ve[Je];We!==null&&(We.lane&=-536870913)}m&=~at}v!==0&&al(c,v,0),k!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=k&~(V&~d))}function al(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var v=31-br(d);c.entangledLanes|=d,c.entanglements[v]=c.entanglements[v]|1073741824|m&261930}function si(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var v=31-br(m),S=1<<v;S&d|c[v]&d&&(c[v]|=d),m&=~S}}function qi(c,d){var m=d&-d;return m=(m&42)!==0?1:Sn(m),(m&(c.suspendedLanes|d))!==0?0:m}function Sn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ea(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ee(){var c=le.p;return c!==0?c:(c=window.event,c===void 0?32:zA(c.type))}function we(c,d){var m=le.p;try{return le.p=c,d()}finally{le.p=m}}var de=Math.random().toString(36).slice(2),he="__reactFiber$"+de,ge="__reactProps$"+de,Ne="__reactContainer$"+de,Me="__reactEvents$"+de,Ge="__reactListeners$"+de,Ie="__reactHandles$"+de,Be="__reactResources$"+de,ze="__reactMarker$"+de;function ut(c){delete c[he],delete c[ge],delete c[Me],delete c[Ge],delete c[Ie]}function mt(c){var d=c[he];if(d)return d;for(var m=c.parentNode;m;){if(d=m[Ne]||m[he]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=jA(c);c!==null;){if(m=c[he])return m;c=jA(c)}return d}c=m,m=c.parentNode}return null}function _t(c){if(c=c[he]||c[Ne]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function ht(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function vt(c){var d=c[Be];return d||(d=c[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Tt(c){c[ze]=!0}var an=new Set,kr={};function un(c,d){$i(c,d),$i(c+"Capture",d)}function $i(c,d){for(kr[c]=d,c=0;c<d.length;c++)an.add(d[c])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Ds={};function Fc(c){return st.call(Ds,c)?!0:st.call(Dl,c)?!1:Ol.test(c)?Ds[c]=!0:(Dl[c]=!0,!1)}function Ia(c,d,m){if(Fc(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function Cf(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function fn(c,d,m,v){if(v===null)c.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+v)}}function Hi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Vd(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Wo(c,d,m){var v=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,k=v.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(V){m=""+V,k.call(this,V)}}),Object.defineProperty(c,d,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Go(c){if(!c._valueTracker){var d=Vd(c)?"checked":"value";c._valueTracker=Wo(c,d,""+c[d])}}function il(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return c&&(v=Vd(c)?c.checked?"true":"false":c.value),c=v,c!==m?(d.setValue(c),!0):!1}function so(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var pa=/[\n"\\]/g;function Ei(c){return c.replace(pa,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Wd(c,d,m,v,S,k,V,se){c.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.type=V:c.removeAttribute("type"),d!=null?V==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Hi(d)):c.value!==""+Hi(d)&&(c.value=""+Hi(d)):V!=="submit"&&V!=="reset"||c.removeAttribute("value"),d!=null?Gd(c,V,Hi(d)):m!=null?Gd(c,V,Hi(m)):v!=null&&c.removeAttribute("value"),S==null&&k!=null&&(c.defaultChecked=!!k),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?c.name=""+Hi(se):c.removeAttribute("name")}function xh(c,d,m,v,S,k,V,se){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),d!=null||m!=null){if(!(k!=="submit"&&k!=="reset"||d!=null)){Go(c);return}m=m!=null?""+Hi(m):"",d=d!=null?""+Hi(d):m,se||d===c.value||(c.value=d),c.defaultValue=d}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=se?c.checked:!!v,c.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(c.name=V),Go(c)}function Gd(c,d,m){d==="number"&&so(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Vi(c,d,m,v){if(c=c.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=d.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&v&&(c[m].defaultSelected=!0)}else{for(m=""+Hi(m),d=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,v&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function Kd(c,d,m){if(d!=null&&(d=""+Hi(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+Hi(m):""}function Yd(c,d,m,v){if(d==null){if(v!=null){if(m!=null)throw Error(n(92));if(pe(v)){if(1<v.length)throw Error(n(93));v=v[0]}m=v}m==null&&(m=""),d=m}m=Hi(d),c.defaultValue=m,v=c.textContent,v===m&&v!==""&&v!==null&&(c.value=v),Go(c)}function Ps(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var Xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(c,d,m){var v=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":v?c.setProperty(d,m):typeof m!="number"||m===0||Xd.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function vh(c,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var S in d)v=d[S],d.hasOwnProperty(S)&&m[S]!==v&&gh(c,S,v)}else for(var k in d)d.hasOwnProperty(k)&&gh(c,k,d[k])}function Qd(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(c){return xu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Fl(){}var Ko=null;function gu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ir=null,Lc=null;function yh(c){var d=_t(c);if(d&&(c=d.stateNode)){var m=c[ge]||null;e:switch(c=d.stateNode,d.type){case"input":if(Wd(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ei(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==c&&v.form===c.form){var S=v[ge]||null;if(!S)throw Error(n(90));Wd(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<m.length;d++)v=m[d],v.form===c.form&&il(v)}break e;case"textarea":Kd(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&Vi(c,!!m.multiple,d,!1)}}}var Jd=!1;function bh(c,d,m){if(Jd)return c(d,m);Jd=!0;try{var v=c(d);return v}finally{if(Jd=!1,(ir!==null||Lc!==null)&&(x1(),ir&&(d=ir,c=Lc,Lc=ir=null,yh(d),c)))for(d=0;d<c.length;d++)yh(c[d])}}function Fs(c,d){var m=c.stateNode;if(m===null)return null;var v=m[ge]||null;if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e0=!1;if(li)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){e0=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{e0=!1}var Ls=null,yu=null,lo=null;function bu(){if(lo)return lo;var c,d=yu,m=d.length,v,S="value"in Ls?Ls.value:Ls.textContent,k=S.length;for(c=0;c<m&&d[c]===S[c];c++);var V=m-c;for(v=1;v<=V&&d[m-v]===S[k-v];v++);return lo=S.slice(c,1<v?1-v:void 0)}function Yo(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Tf(){return!0}function Of(){return!1}function Xa(c){function d(m,v,S,k,V){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=k,this.target=V,this.currentTarget=null;for(var se in c)c.hasOwnProperty(se)&&(m=c[se],this[se]=m?m(k):k[se]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Tf:Of,this.isPropagationStopped=Of,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Tf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Tf)},persist:function(){},isPersistent:Tf}),d}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Xa(Ms),Xo=p({},Ms,{view:0,detail:0}),Df=Xa(Xo),wu,Qo,Mc,_u=p({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Mc&&(Mc&&c.type==="mousemove"?(wu=c.screenX-Mc.screenX,Qo=c.screenY-Mc.screenY):Qo=wu=0,Mc=c),wu)},movementY:function(c){return"movementY"in c?c.movementY:Qo}}),co=Xa(_u),Zo=p({},_u,{dataTransfer:0}),wh=Xa(Zo),_h=p({},Xo,{relatedTarget:0}),Jo=Xa(_h),Nh=p({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),F=Xa(Nh),Y=p({},Ms,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),_e=Xa(Y),Ee=p({},Ms,{data:0}),Pe=Xa(Ee),et={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ut(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ft[c])?!!d[c]:!1}function or(){return Ut}var xr=p({},Xo,{key:function(c){if(c.key){var d=et[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Yo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ot[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(c){return c.type==="keypress"?Yo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Yo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Gr=Xa(xr),Hn=p({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xa=Xa(Hn),jn=p({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Ba=Xa(jn),ja=p({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),oi=Xa(ja),sl=p({},_u,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),cs=Xa(sl),Sh=p({},Ms,{newState:0,oldState:0}),Pf=Xa(Sh),Nu=[9,13,27,32],uo=li&&"CompositionEvent"in window,Ll=null;li&&"documentMode"in document&&(Ll=document.documentMode);var Su=li&&"TextEvent"in window&&!Ll,Rc=li&&(!uo||Ll&&8<Ll&&11>=Ll),ci=" ",Ic=!1;function Bc(c,d){switch(c){case"keyup":return Nu.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var fo=!1;function ta(c,d){switch(c){case"compositionend":return Ff(d);case"keypress":return d.which!==32?null:(Ic=!0,ci);case"textInput":return c=d.data,c===ci&&Ic?null:c;default:return null}}function ec(c,d){if(fo)return c==="compositionend"||!uo&&Bc(c,d)?(c=bu(),lo=yu=Ls=null,fo=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Rc&&d.locale!=="ko"?null:d.data;default:return null}}var Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Lf[c.type]:d==="textarea"}function Rs(c,d,m,v){ir?Lc?Lc.push(v):Lc=[v]:ir=v,d=N1(d,"onChange"),0<d.length&&(m=new oo("onChange","change",null,m,v),c.push({event:m,listeners:d}))}var Ml=null,tc=null;function r0(c){fA(c,0)}function Rl(c){var d=ht(c);if(il(d))return c}function Uc(c,d){if(c==="change")return d}var us=!1;if(li){var Wi;if(li){var ho="oninput"in document;if(!ho){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),ho=typeof mo.oninput=="function"}Wi=ho}else Wi=!1;us=Wi&&(!document.documentMode||9<document.documentMode)}function rc(){Ml&&(Ml.detachEvent("onpropertychange",Mf),tc=Ml=null)}function Mf(c){if(c.propertyName==="value"&&Rl(tc)){var d=[];Rs(d,tc,c,gu(c)),bh(r0,d)}}function Rf(c,d,m){c==="focusin"?(rc(),Ml=d,tc=m,Ml.attachEvent("onpropertychange",Mf)):c==="focusout"&&rc()}function ga(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Rl(tc)}function jh(c,d){if(c==="click")return Rl(d)}function po(c,d){if(c==="input"||c==="change")return Rl(d)}function xo(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ui=typeof Object.is=="function"?Object.is:xo;function nc(c,d){if(ui(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!st.call(d,S)||!ui(c[S],d[S]))return!1}return!0}function If(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Bf(c,d){var m=If(c);c=0;for(var v;m;){if(m.nodeType===3){if(v=c+m.textContent.length,c<=d&&v>=d)return{node:m,offset:d-c};c=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=If(m)}}function ac(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?ac(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function ic(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=so(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=so(c.document)}return d}function go(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var ju=li&&"documentMode"in document&&11>=document.documentMode,Is=null,sc=null,ki=null,ll=!1;function Kr(c,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ll||Is==null||Is!==so(v)||(v=Is,"selectionStart"in v&&go(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ki&&nc(ki,v)||(ki=v,v=N1(sc,"onSelect"),0<v.length&&(d=new oo("onSelect","select",null,d,m),c.push({event:d,listeners:v}),d.target=Is)))}function Br(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var An={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},va={},vo={};li&&(vo=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Il(c){if(va[c])return va[c];if(!An[c])return c;var d=An[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in vo)return va[c]=d[m];return c}var Au=Il("animationend"),n0=Il("animationiteration"),hp=Il("animationstart"),Wg=Il("transitionrun"),Gg=Il("transitionstart"),Kg=Il("transitioncancel"),mp=Il("transitionend"),pp=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function ol(c,d){pp.set(c,d),un(d,[c])}var a0=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Bs=[],ku=0,Ah=0;function i0(){for(var c=ku,d=Ah=ku=0;d<c;){var m=Bs[d];Bs[d++]=null;var v=Bs[d];Bs[d++]=null;var S=Bs[d];Bs[d++]=null;var k=Bs[d];if(Bs[d++]=null,v!==null&&S!==null){var V=v.pending;V===null?S.next=S:(S.next=V.next,V.next=S),v.pending=S}k!==0&&l0(m,S,k)}}function s0(c,d,m,v){Bs[ku++]=c,Bs[ku++]=d,Bs[ku++]=m,Bs[ku++]=v,Ah|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function Eh(c,d,m,v){return s0(c,d,m,v),Ci(c)}function lc(c,d){return s0(c,null,null,d),Ci(c)}function l0(c,d,m){c.lanes|=m;var v=c.alternate;v!==null&&(v.lanes|=m);for(var S=!1,k=c.return;k!==null;)k.childLanes|=m,v=k.alternate,v!==null&&(v.childLanes|=m),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(S=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,S&&d!==null&&(S=31-br(m),c=k.hiddenUpdates,v=c[S],v===null?c[S]=[d]:v.push(d),d.lane=m|536870912),k):null}function Ci(c){if(50<Rp)throw Rp=0,Db=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var fi={};function kh(c,d,m,v){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(c,d,m,v){return new kh(c,d,m,v)}function Ch(c){return c=c.prototype,!(!c||!c.isReactComponent)}function cl(c,d){var m=c.alternate;return m===null?(m=Ti(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function o0(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Uf(c,d,m,v,S,k){var V=0;if(v=c,typeof c=="function")Ch(c)&&(V=1);else if(typeof c=="string")V=nz(c,m,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=Ti(31,m,d,S),c.elementType=B,c.lanes=k,c;case y:return zc(m.children,S,k,d);case w:V=8,S|=24;break;case _:return c=Ti(12,m,d,S|2),c.elementType=_,c.lanes=k,c;case O:return c=Ti(13,m,d,S),c.elementType=O,c.lanes=k,c;case R:return c=Ti(19,m,d,S),c.elementType=R,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:V=10;break e;case E:V=9;break e;case T:V=11;break e;case D:V=14;break e;case M:V=16,v=null;break e}V=29,m=Error(n(130,c===null?"null":typeof c,"")),v=null}return d=Ti(V,m,d,S),d.elementType=c,d.type=v,d.lanes=k,d}function zc(c,d,m,v){return c=Ti(7,c,v,d),c.lanes=m,c}function c0(c,d,m){return c=Ti(6,c,null,d),c.lanes=m,c}function Th(c){var d=Ti(18,null,null,0);return d.stateNode=c,d}function zf(c,d,m){return d=Ti(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Oh=new WeakMap;function ul(c,d){if(typeof c=="object"&&c!==null){var m=Oh.get(c);return m!==void 0?m:(d={value:c,source:d,stack:wt(d)},Oh.set(c,d),d)}return{value:c,source:d,stack:wt(d)}}var qf=[],Cu=0,Dh=null,u0=0,fl=[],dl=0,qc=null,hl=1,ml="";function Us(c,d){qf[Cu++]=u0,qf[Cu++]=Dh,Dh=c,u0=d}function Yg(c,d,m){fl[dl++]=hl,fl[dl++]=ml,fl[dl++]=qc,qc=c;var v=hl;c=ml;var S=32-br(v)-1;v&=~(1<<S),m+=1;var k=32-br(d)+S;if(30<k){var V=S-S%5;k=(v&(1<<V)-1).toString(32),v>>=V,S-=V,hl=1<<32-br(d)+S|m<<S|v,ml=k+c}else hl=1<<k|m<<S|v,ml=c}function xp(c){c.return!==null&&(Us(c,1),Yg(c,1,0))}function Ph(c){for(;c===Dh;)Dh=qf[--Cu],qf[Cu]=null,u0=qf[--Cu],qf[Cu]=null;for(;c===qc;)qc=fl[--dl],fl[dl]=null,ml=fl[--dl],fl[dl]=null,hl=fl[--dl],fl[dl]=null}function Xg(c,d){fl[dl++]=hl,fl[dl++]=ml,fl[dl++]=qc,hl=d.id,ml=d.overflow,qc=c}var di=null,Pn=null,Fr=!1,Gi=null,ra=!1,Bl=Error(n(519));function $c(c){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $f(ul(d,c)),Bl}function gp(c){var d=c.stateNode,m=c.type,v=c.memoizedProps;switch(d[he]=c,d[ge]=v,m){case"dialog":Mr("cancel",d),Mr("close",d);break;case"iframe":case"object":case"embed":Mr("load",d);break;case"video":case"audio":for(m=0;m<Bp.length;m++)Mr(Bp[m],d);break;case"source":Mr("error",d);break;case"img":case"image":case"link":Mr("error",d),Mr("load",d);break;case"details":Mr("toggle",d);break;case"input":Mr("invalid",d),xh(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Mr("invalid",d);break;case"textarea":Mr("invalid",d),Yd(d,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||v.suppressHydrationWarning===!0||pA(d.textContent,m)?(v.popover!=null&&(Mr("beforetoggle",d),Mr("toggle",d)),v.onScroll!=null&&Mr("scroll",d),v.onScrollEnd!=null&&Mr("scrollend",d),v.onClick!=null&&(d.onclick=Fl),d=!0):d=!1,d||$c(c,!0)}function oc(c){for(di=c.return;di;)switch(di.tag){case 5:case 31:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:di=di.return}}function hi(c){if(c!==di)return!1;if(!Fr)return oc(c),Fr=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||Gb(c.type,c.memoizedProps)),m=!m),m&&Pn&&$c(c),oc(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Pn=SA(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Pn=SA(c)}else d===27?(d=Pn,nd(c.type)?(c=Zb,Zb=null,Pn=c):Pn=d):Pn=di?_o(c.stateNode.nextSibling):null;return!0}function Tu(){Pn=di=null,Fr=!1}function vp(){var c=Gi;return c!==null&&(bl===null?bl=c:bl.push.apply(bl,c),Gi=null),c}function $f(c){Gi===null?Gi=[c]:Gi.push(c)}var Fh=te(null),Hc=null,yo=null;function Vc(c,d,m){L(Fh,d._currentValue),d._currentValue=m}function pl(c){c._currentValue=Fh.current,P(Fh)}function Hf(c,d,m){for(;c!==null;){var v=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),c===m)break;c=c.return}}function Ou(c,d,m,v){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var k=S.dependencies;if(k!==null){var V=S.child;k=k.firstContext;e:for(;k!==null;){var se=k;k=S;for(var Ae=0;Ae<d.length;Ae++)if(se.context===d[Ae]){k.lanes|=m,se=k.alternate,se!==null&&(se.lanes|=m),Hf(k.return,m,c),v||(V=null);break e}k=se.next}}else if(S.tag===18){if(V=S.return,V===null)throw Error(n(341));V.lanes|=m,k=V.alternate,k!==null&&(k.lanes|=m),Hf(V,m,c),V=null}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===c){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}}function Wc(c,d,m,v){c=null;for(var S=d,k=!1;S!==null;){if(!k){if((S.flags&524288)!==0)k=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var V=S.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var se=S.type;ui(S.pendingProps.value,V.value)||(c!==null?c.push(se):c=[se])}}else if(S===oe.current){if(V=S.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Hp):c=[Hp])}S=S.return}c!==null&&Ou(d,c,m,v),d.flags|=262144}function Lh(c){for(c=c.firstContext;c!==null;){if(!ui(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Gc(c){Hc=c,yo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function mi(c){return Qg(Hc,c)}function Mh(c,d){return Hc===null&&Gc(c),Qg(c,d)}function Qg(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},yo===null){if(c===null)throw Error(n(308));yo=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else yo=yo.next=d;return m}var Q2=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,v){c.push(v)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},Z2=e.unstable_scheduleCallback,J2=e.unstable_NormalPriority,ya={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new Q2,data:new Map,refCount:0}}function f0(c){c.refCount--,c.refCount===0&&Z2(J2,function(){c.controller.abort()})}var d0=null,Rh=0,N=0,j=null;function U(c,d){if(d0===null){var m=d0=[];Rh=0,N=Ib(),j={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Rh++,d.then(H,H),d}function H(){if(--Rh===0&&d0!==null){j!==null&&(j.status="fulfilled");var c=d0;d0=null,N=0,j=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function Q(c,d){var m=[],v={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return c.then(function(){v.status="fulfilled",v.value=d;for(var S=0;S<m.length;S++)(0,m[S])(d)},function(S){for(v.status="rejected",v.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),v}var re=ne.S;ne.S=function(c,d){B6=$t(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&U(c,d),re!==null&&re(c,d)};var ie=te(null);function fe(){var c=ie.current;return c!==null?c:Ln.pooledCache}function me(c,d){d===null?L(ie,ie.current):L(ie,d.pool)}function be(){var c=fe();return c===null?null:{parent:ya._currentValue,pool:c}}var ke=Error(n(460)),Ue=Error(n(474)),ye=Error(n(542)),Oe={then:function(){}};function Le(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Qe(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(Fl,Fl),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ft(c),c;default:if(typeof d.status=="string")d.then(Fl,Fl);else{if(c=Ln,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(v){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=v}},function(v){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,ft(c),c}throw Ye=d,ke}}function Re(c){try{var d=c._init;return d(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Ye=m,ke):m}}var Ye=null;function tt(){if(Ye===null)throw Error(n(459));var c=Ye;return Ye=null,c}function ft(c){if(c===ke||c===ye)throw Error(n(483))}var it=null,Mt=0;function Et(c){var d=Mt;return Mt+=1,it===null&&(it=[]),Qe(it,c,d)}function hr(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Ot(c,d){throw d.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Tr(c){function d(Fe,Te){if(c){var qe=Fe.deletions;qe===null?(Fe.deletions=[Te],Fe.flags|=16):qe.push(Te)}}function m(Fe,Te){if(!c)return null;for(;Te!==null;)d(Fe,Te),Te=Te.sibling;return null}function v(Fe){for(var Te=new Map;Fe!==null;)Fe.key!==null?Te.set(Fe.key,Fe):Te.set(Fe.index,Fe),Fe=Fe.sibling;return Te}function S(Fe,Te){return Fe=cl(Fe,Te),Fe.index=0,Fe.sibling=null,Fe}function k(Fe,Te,qe){return Fe.index=qe,c?(qe=Fe.alternate,qe!==null?(qe=qe.index,qe<Te?(Fe.flags|=67108866,Te):qe):(Fe.flags|=67108866,Te)):(Fe.flags|=1048576,Te)}function V(Fe){return c&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function se(Fe,Te,qe,nt){return Te===null||Te.tag!==6?(Te=c0(qe,Fe.mode,nt),Te.return=Fe,Te):(Te=S(Te,qe),Te.return=Fe,Te)}function Ae(Fe,Te,qe,nt){var rr=qe.type;return rr===y?Je(Fe,Te,qe.props.children,nt,qe.key):Te!==null&&(Te.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===M&&Re(rr)===Te.type)?(Te=S(Te,qe.props),hr(Te,qe),Te.return=Fe,Te):(Te=Uf(qe.type,qe.key,qe.props,null,Fe.mode,nt),hr(Te,qe),Te.return=Fe,Te)}function $e(Fe,Te,qe,nt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==qe.containerInfo||Te.stateNode.implementation!==qe.implementation?(Te=zf(qe,Fe.mode,nt),Te.return=Fe,Te):(Te=S(Te,qe.children||[]),Te.return=Fe,Te)}function Je(Fe,Te,qe,nt,rr){return Te===null||Te.tag!==7?(Te=zc(qe,Fe.mode,nt,rr),Te.return=Fe,Te):(Te=S(Te,qe),Te.return=Fe,Te)}function at(Fe,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=c0(""+Te,Fe.mode,qe),Te.return=Fe,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return qe=Uf(Te.type,Te.key,Te.props,null,Fe.mode,qe),hr(qe,Te),qe.return=Fe,qe;case b:return Te=zf(Te,Fe.mode,qe),Te.return=Fe,Te;case M:return Te=Re(Te),at(Fe,Te,qe)}if(pe(Te)||z(Te))return Te=zc(Te,Fe.mode,qe,null),Te.return=Fe,Te;if(typeof Te.then=="function")return at(Fe,Et(Te),qe);if(Te.$$typeof===A)return at(Fe,Mh(Fe,Te),qe);Ot(Fe,Te)}return null}function Ve(Fe,Te,qe,nt){var rr=Te!==null?Te.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return rr!==null?null:se(Fe,Te,""+qe,nt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:return qe.key===rr?Ae(Fe,Te,qe,nt):null;case b:return qe.key===rr?$e(Fe,Te,qe,nt):null;case M:return qe=Re(qe),Ve(Fe,Te,qe,nt)}if(pe(qe)||z(qe))return rr!==null?null:Je(Fe,Te,qe,nt,null);if(typeof qe.then=="function")return Ve(Fe,Te,Et(qe),nt);if(qe.$$typeof===A)return Ve(Fe,Te,Mh(Fe,qe),nt);Ot(Fe,qe)}return null}function We(Fe,Te,qe,nt,rr){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Fe=Fe.get(qe)||null,se(Te,Fe,""+nt,rr);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:return Fe=Fe.get(nt.key===null?qe:nt.key)||null,Ae(Te,Fe,nt,rr);case b:return Fe=Fe.get(nt.key===null?qe:nt.key)||null,$e(Te,Fe,nt,rr);case M:return nt=Re(nt),We(Fe,Te,qe,nt,rr)}if(pe(nt)||z(nt))return Fe=Fe.get(qe)||null,Je(Te,Fe,nt,rr,null);if(typeof nt.then=="function")return We(Fe,Te,qe,Et(nt),rr);if(nt.$$typeof===A)return We(Fe,Te,qe,Mh(Te,nt),rr);Ot(Te,nt)}return null}function Lt(Fe,Te,qe,nt){for(var rr=null,Jr=null,zt=Te,Sr=Te=0,Ir=null;zt!==null&&Sr<qe.length;Sr++){zt.index>Sr?(Ir=zt,zt=null):Ir=zt.sibling;var en=Ve(Fe,zt,qe[Sr],nt);if(en===null){zt===null&&(zt=Ir);break}c&&zt&&en.alternate===null&&d(Fe,zt),Te=k(en,Te,Sr),Jr===null?rr=en:Jr.sibling=en,Jr=en,zt=Ir}if(Sr===qe.length)return m(Fe,zt),Fr&&Us(Fe,Sr),rr;if(zt===null){for(;Sr<qe.length;Sr++)zt=at(Fe,qe[Sr],nt),zt!==null&&(Te=k(zt,Te,Sr),Jr===null?rr=zt:Jr.sibling=zt,Jr=zt);return Fr&&Us(Fe,Sr),rr}for(zt=v(zt);Sr<qe.length;Sr++)Ir=We(zt,Fe,Sr,qe[Sr],nt),Ir!==null&&(c&&Ir.alternate!==null&&zt.delete(Ir.key===null?Sr:Ir.key),Te=k(Ir,Te,Sr),Jr===null?rr=Ir:Jr.sibling=Ir,Jr=Ir);return c&&zt.forEach(function(od){return d(Fe,od)}),Fr&&Us(Fe,Sr),rr}function lr(Fe,Te,qe,nt){if(qe==null)throw Error(n(151));for(var rr=null,Jr=null,zt=Te,Sr=Te=0,Ir=null,en=qe.next();zt!==null&&!en.done;Sr++,en=qe.next()){zt.index>Sr?(Ir=zt,zt=null):Ir=zt.sibling;var od=Ve(Fe,zt,en.value,nt);if(od===null){zt===null&&(zt=Ir);break}c&&zt&&od.alternate===null&&d(Fe,zt),Te=k(od,Te,Sr),Jr===null?rr=od:Jr.sibling=od,Jr=od,zt=Ir}if(en.done)return m(Fe,zt),Fr&&Us(Fe,Sr),rr;if(zt===null){for(;!en.done;Sr++,en=qe.next())en=at(Fe,en.value,nt),en!==null&&(Te=k(en,Te,Sr),Jr===null?rr=en:Jr.sibling=en,Jr=en);return Fr&&Us(Fe,Sr),rr}for(zt=v(zt);!en.done;Sr++,en=qe.next())en=We(zt,Fe,Sr,en.value,nt),en!==null&&(c&&en.alternate!==null&&zt.delete(en.key===null?Sr:en.key),Te=k(en,Te,Sr),Jr===null?rr=en:Jr.sibling=en,Jr=en);return c&&zt.forEach(function(mz){return d(Fe,mz)}),Fr&&Us(Fe,Sr),rr}function Tn(Fe,Te,qe,nt){if(typeof qe=="object"&&qe!==null&&qe.type===y&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case x:e:{for(var rr=qe.key;Te!==null;){if(Te.key===rr){if(rr=qe.type,rr===y){if(Te.tag===7){m(Fe,Te.sibling),nt=S(Te,qe.props.children),nt.return=Fe,Fe=nt;break e}}else if(Te.elementType===rr||typeof rr=="object"&&rr!==null&&rr.$$typeof===M&&Re(rr)===Te.type){m(Fe,Te.sibling),nt=S(Te,qe.props),hr(nt,qe),nt.return=Fe,Fe=nt;break e}m(Fe,Te);break}else d(Fe,Te);Te=Te.sibling}qe.type===y?(nt=zc(qe.props.children,Fe.mode,nt,qe.key),nt.return=Fe,Fe=nt):(nt=Uf(qe.type,qe.key,qe.props,null,Fe.mode,nt),hr(nt,qe),nt.return=Fe,Fe=nt)}return V(Fe);case b:e:{for(rr=qe.key;Te!==null;){if(Te.key===rr)if(Te.tag===4&&Te.stateNode.containerInfo===qe.containerInfo&&Te.stateNode.implementation===qe.implementation){m(Fe,Te.sibling),nt=S(Te,qe.children||[]),nt.return=Fe,Fe=nt;break e}else{m(Fe,Te);break}else d(Fe,Te);Te=Te.sibling}nt=zf(qe,Fe.mode,nt),nt.return=Fe,Fe=nt}return V(Fe);case M:return qe=Re(qe),Tn(Fe,Te,qe,nt)}if(pe(qe))return Lt(Fe,Te,qe,nt);if(z(qe)){if(rr=z(qe),typeof rr!="function")throw Error(n(150));return qe=rr.call(qe),lr(Fe,Te,qe,nt)}if(typeof qe.then=="function")return Tn(Fe,Te,Et(qe),nt);if(qe.$$typeof===A)return Tn(Fe,Te,Mh(Fe,qe),nt);Ot(Fe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Te!==null&&Te.tag===6?(m(Fe,Te.sibling),nt=S(Te,qe),nt.return=Fe,Fe=nt):(m(Fe,Te),nt=c0(qe,Fe.mode,nt),nt.return=Fe,Fe=nt),V(Fe)):m(Fe,Te)}return function(Fe,Te,qe,nt){try{Mt=0;var rr=Tn(Fe,Te,qe,nt);return it=null,rr}catch(zt){if(zt===ke||zt===ye)throw zt;var Jr=Ti(29,zt,null,Fe.mode);return Jr.lanes=nt,Jr.return=Fe,Jr}finally{}}}var Fn=Tr(!0),gr=Tr(!1),kt=!1;function bt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vn(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function sr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function wr(c,d,m){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,(on&2)!==0){var S=v.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),v.pending=d,d=Ci(c),l0(c,null,m),d}return s0(c,v,d,m),Ci(c)}function sn(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,si(c,m)}}function Ua(c,d){var m=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var V={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};k===null?S=k=V:k=k.next=V,m=m.next}while(m!==null);k===null?S=k=d:k=k.next=d}else S=k=d;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var pi=!1;function En(){if(pi){var c=j;if(c!==null)throw c}}function Aa(c,d,m,v){pi=!1;var S=c.updateQueue;kt=!1;var k=S.firstBaseUpdate,V=S.lastBaseUpdate,se=S.shared.pending;if(se!==null){S.shared.pending=null;var Ae=se,$e=Ae.next;Ae.next=null,V===null?k=$e:V.next=$e,V=Ae;var Je=c.alternate;Je!==null&&(Je=Je.updateQueue,se=Je.lastBaseUpdate,se!==V&&(se===null?Je.firstBaseUpdate=$e:se.next=$e,Je.lastBaseUpdate=Ae))}if(k!==null){var at=S.baseState;V=0,Je=$e=Ae=null,se=k;do{var Ve=se.lane&-536870913,We=Ve!==se.lane;if(We?(Rr&Ve)===Ve:(v&Ve)===Ve){Ve!==0&&Ve===N&&(pi=!0),Je!==null&&(Je=Je.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Lt=c,lr=se;Ve=d;var Tn=m;switch(lr.tag){case 1:if(Lt=lr.payload,typeof Lt=="function"){at=Lt.call(Tn,at,Ve);break e}at=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=lr.payload,Ve=typeof Lt=="function"?Lt.call(Tn,at,Ve):Lt,Ve==null)break e;at=p({},at,Ve);break e;case 2:kt=!0}}Ve=se.callback,Ve!==null&&(c.flags|=64,We&&(c.flags|=8192),We=S.callbacks,We===null?S.callbacks=[Ve]:We.push(Ve))}else We={lane:Ve,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Je===null?($e=Je=We,Ae=at):Je=Je.next=We,V|=Ve;if(se=se.next,se===null){if(se=S.shared.pending,se===null)break;We=se,se=We.next,We.next=null,S.lastBaseUpdate=We,S.shared.pending=null}}while(!0);Je===null&&(Ae=at),S.baseState=Ae,S.firstBaseUpdate=$e,S.lastBaseUpdate=Je,k===null&&(S.shared.lanes=0),Zf|=V,c.lanes=V,c.memoizedState=at}}function Oi(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function Ea(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)Oi(m[c],d)}var Er=te(null),$r=te(0);function Wn(c,d){c=zu,L($r,c),L(Er,d),zu=c|d.baseLanes}function Yr(){L($r,zu),L(Er,Er.current)}function za(){zu=$r.current,P(Er),P($r)}var Gn=te(null),Hr=null;function ba(c){var d=c.alternate;L(Ur,Ur.current&1),L(Gn,c),Hr===null&&(d===null||Er.current!==null||d.memoizedState!==null)&&(Hr=c)}function ln(c){L(Ur,Ur.current),L(Gn,c),Hr===null&&(Hr=c)}function ka(c){c.tag===22?(L(Ur,Ur.current),L(Gn,c),Hr===null&&(Hr=c)):Ca()}function Ca(){L(Ur,Ur.current),L(Gn,Gn.current)}function xn(c){P(Gn),Hr===c&&(Hr=null),P(Ur)}var Ur=te(0);function Di(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Xb(m)||Qb(m)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var na=0,Xt=null,tr=null,Vr=null,fs=!1,xl=!1,Ki=!1,Ta=0,Kc=0,Yc=null,Ih=0;function kn(){throw Error(n(321))}function yp(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!ui(c[m],d[m]))return!1;return!0}function bp(c,d,m,v,S,k){return na=k,Xt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ne.H=c===null||c.memoizedState===null?Xj:lb,Ki=!1,k=m(v,S),Ki=!1,xl&&(k=cc(d,m,v,S)),Bh(c),k}function Bh(c){ne.H=kp;var d=tr!==null&&tr.next!==null;if(na=0,Vr=tr=Xt=null,fs=!1,Kc=0,Yc=null,d)throw Error(n(300));c===null||Za||(c=c.dependencies,c!==null&&Lh(c)&&(Za=!0))}function cc(c,d,m,v){Xt=c;var S=0;do{if(xl&&(Yc=null),Kc=0,xl=!1,25<=S)throw Error(n(301));if(S+=1,Vr=tr=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}ne.H=Qj,k=d(m,v)}while(xl);return k}function eb(){var c=ne.H,d=c.useState()[0];return d=typeof d.then=="function"?Xc(d):d,c=c.useState()[0],(tr!==null?tr.memoizedState:null)!==c&&(Xt.flags|=1024),d}function wp(){var c=Ta!==0;return Ta=0,c}function _p(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function Uh(c){if(fs){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}fs=!1}na=0,Vr=tr=Xt=null,xl=!1,Kc=Ta=0,Yc=null}function Qa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Xt.memoizedState=Vr=c:Vr=Vr.next=c,Vr}function aa(){if(tr===null){var c=Xt.alternate;c=c!==null?c.memoizedState:null}else c=tr.next;var d=Vr===null?Xt.memoizedState:Vr.next;if(d!==null)Vr=d,tr=c;else{if(c===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));tr=c,c={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},Vr===null?Xt.memoizedState=Vr=c:Vr=Vr.next=c}return Vr}function h0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(c){var d=Kc;return Kc+=1,Yc===null&&(Yc=[]),c=Qe(Yc,c,d),d=Xt,(Vr===null?d.memoizedState:Vr.next)===null&&(d=d.alternate,ne.H=d===null||d.memoizedState===null?Xj:lb),c}function Wf(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Xc(c);if(c.$$typeof===A)return mi(c)}throw Error(n(438,String(c)))}function Du(c){var d=null,m=Xt.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var v=Xt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=h0(),Xt.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),v=0;v<c;v++)m[v]=G;return d.index++,m}function bo(c,d){return typeof d=="function"?d(c):d}function zh(c){var d=aa();return Gf(d,tr,c)}function Gf(c,d,m){var v=c.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=m;var S=c.baseQueue,k=v.pending;if(k!==null){if(S!==null){var V=S.next;S.next=k.next,k.next=V}d.baseQueue=S=k,v.pending=null}if(k=c.baseState,S===null)c.memoizedState=k;else{d=S.next;var se=V=null,Ae=null,$e=d,Je=!1;do{var at=$e.lane&-536870913;if(at!==$e.lane?(Rr&at)===at:(na&at)===at){var Ve=$e.revertLane;if(Ve===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),at===N&&(Je=!0);else if((na&Ve)===Ve){$e=$e.next,Ve===N&&(Je=!0);continue}else at={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(se=Ae=at,V=k):Ae=Ae.next=at,Xt.lanes|=Ve,Zf|=Ve;at=$e.action,Ki&&m(k,at),k=$e.hasEagerState?$e.eagerState:m(k,at)}else Ve={lane:at,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(se=Ae=Ve,V=k):Ae=Ae.next=Ve,Xt.lanes|=at,Zf|=at;$e=$e.next}while($e!==null&&$e!==d);if(Ae===null?V=k:Ae.next=se,!ui(k,c.memoizedState)&&(Za=!0,Je&&(m=j,m!==null)))throw m;c.memoizedState=k,c.baseState=V,c.baseQueue=Ae,v.lastRenderedState=k}return S===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function qh(c){var d=aa(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=m.dispatch,S=m.pending,k=d.memoizedState;if(S!==null){m.pending=null;var V=S=S.next;do k=c(k,V.action),V=V.next;while(V!==S);ui(k,d.memoizedState)||(Za=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),m.lastRenderedState=k}return[k,v]}function $h(c,d,m){var v=Xt,S=aa(),k=Fr;if(k){if(m===void 0)throw Error(n(407));m=m()}else m=d();var V=!ui((tr||S).memoizedState,m);if(V&&(S.memoizedState=m,Za=!0),S=S.queue,tb(Sp.bind(null,v,S,c),[c]),S.getSnapshot!==d||V||Vr!==null&&Vr.memoizedState.tag&1){if(v.flags|=2048,Fu(9,{destroy:void 0},Np.bind(null,v,S,m,d),null),Ln===null)throw Error(n(349));k||(na&127)!==0||uc(v,d,m)}return m}function uc(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Xt.updateQueue,d===null?(d=h0(),Xt.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function Np(c,d,m,v){d.value=m,d.getSnapshot=v,Zg(d)&&jp(c)}function Sp(c,d,m){return m(function(){Zg(d)&&jp(c)})}function Zg(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!ui(c,m)}catch{return!0}}function jp(c){var d=lc(c,2);d!==null&&wl(d,c,2)}function Qc(c){var d=Qa();if(typeof c=="function"){var m=c;if(c=m(),Ki){er(!0);try{m()}finally{er(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:c},d}function Jg(c,d,m,v){return c.baseState=m,Gf(c,tr,typeof v=="function"?v:bo)}function e1(c,d,m,v,S){if(a1(c))throw Error(n(485));if(c=d.action,c!==null){var k={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){k.listeners.push(V)}};ne.T!==null?m(!0):k.isTransition=!1,v(k),m=d.pending,m===null?(k.next=d.pending=k,t1(d,k)):(k.next=m.next,d.pending=m.next=k)}}function t1(c,d){var m=d.action,v=d.payload,S=c.state;if(d.isTransition){var k=ne.T,V={};ne.T=V;try{var se=m(S,v),Ae=ne.S;Ae!==null&&Ae(V,se),Ap(c,d,se)}catch($e){Pu(c,d,$e)}finally{k!==null&&V.types!==null&&(k.types=V.types),ne.T=k}}else try{k=m(S,v),Ap(c,d,k)}catch($e){Pu(c,d,$e)}}function Ap(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){r1(c,d,v)},function(v){return Pu(c,d,v)}):r1(c,d,m)}function r1(c,d,m){d.status="fulfilled",d.value=m,Hh(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,t1(c,m)))}function Pu(c,d,m){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=m,Hh(d),d=d.next;while(d!==v)}c.action=null}function Hh(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function m0(c,d){return d}function wo(c,d){if(Fr){var m=Ln.formState;if(m!==null){e:{var v=Xt;if(Fr){if(Pn){t:{for(var S=Pn,k=ra;S.nodeType!==8;){if(!k){S=null;break t}if(S=_o(S.nextSibling),S===null){S=null;break t}}k=S.data,S=k==="F!"||k==="F"?S:null}if(S){Pn=_o(S.nextSibling),v=S.data==="F!";break e}}$c(v)}v=!1}v&&(d=m[0])}}return m=Qa(),m.memoizedState=m.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m0,lastRenderedState:d},m.queue=v,m=Gj.bind(null,Xt,v),v.dispatch=m,v=Qc(!1),k=sb.bind(null,Xt,!1,v.queue),v=Qa(),S={state:d,dispatch:null,action:c,pending:null},v.queue=S,m=e1.bind(null,Xt,S,k,m),S.dispatch=m,v.memoizedState=c,[d,m,!1]}function fc(c){var d=aa();return dc(d,tr,c)}function dc(c,d,m){if(d=Gf(c,d,m0)[0],c=zh(bo)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var v=Xc(d)}catch(V){throw V===ke?ye:V}else v=d;d=aa();var S=d.queue,k=S.dispatch;return m!==d.memoizedState&&(Xt.flags|=2048,Fu(9,{destroy:void 0},Vh.bind(null,S,m),null)),[v,k,c]}function Vh(c,d){c.action=d}function Wh(c){var d=aa(),m=tr;if(m!==null)return dc(d,m,c);aa(),d=d.memoizedState,m=aa();var v=m.queue.dispatch;return m.memoizedState=c,[d,v,!1]}function Fu(c,d,m,v){return c={tag:c,create:m,deps:v,inst:d,next:null},d=Xt.updateQueue,d===null&&(d=h0(),Xt.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(v=m.next,m.next=c,c.next=v,d.lastEffect=c),c}function n1(){return aa().memoizedState}function Kf(c,d,m,v){var S=Qa();Xt.flags|=c,S.memoizedState=Fu(1|d,{destroy:void 0},m,v===void 0?null:v)}function Yf(c,d,m,v){var S=aa();v=v===void 0?null:v;var k=S.memoizedState.inst;tr!==null&&v!==null&&yp(v,tr.memoizedState.deps)?S.memoizedState=Fu(d,k,m,v):(Xt.flags|=c,S.memoizedState=Fu(1|d,k,m,v))}function Pj(c,d){Kf(8390656,8,c,d)}function tb(c,d){Yf(2048,8,c,d)}function oU(c){Xt.flags|=4;var d=Xt.updateQueue;if(d===null)d=h0(),Xt.updateQueue=d,d.events=[c];else{var m=d.events;m===null?d.events=[c]:m.push(c)}}function Fj(c){var d=aa().memoizedState;return oU({ref:d,nextImpl:c}),function(){if((on&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function Lj(c,d){return Yf(4,2,c,d)}function Mj(c,d){return Yf(4,4,c,d)}function Rj(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Ij(c,d,m){m=m!=null?m.concat([c]):null,Yf(4,4,Rj.bind(null,d,c),m)}function rb(){}function Bj(c,d){var m=aa();d=d===void 0?null:d;var v=m.memoizedState;return d!==null&&yp(d,v[1])?v[0]:(m.memoizedState=[c,d],c)}function Uj(c,d){var m=aa();d=d===void 0?null:d;var v=m.memoizedState;if(d!==null&&yp(d,v[1]))return v[0];if(v=c(),Ki){er(!0);try{c()}finally{er(!1)}}return m.memoizedState=[v,d],v}function nb(c,d,m){return m===void 0||(na&1073741824)!==0&&(Rr&261930)===0?c.memoizedState=d:(c.memoizedState=m,c=z6(),Xt.lanes|=c,Zf|=c,m)}function zj(c,d,m,v){return ui(m,d)?m:Er.current!==null?(c=nb(c,m,v),ui(c,d)||(Za=!0),c):(na&42)===0||(na&1073741824)!==0&&(Rr&261930)===0?(Za=!0,c.memoizedState=m):(c=z6(),Xt.lanes|=c,Zf|=c,d)}function qj(c,d,m,v,S){var k=le.p;le.p=k!==0&&8>k?k:8;var V=ne.T,se={};ne.T=se,sb(c,!1,d,m);try{var Ae=S(),$e=ne.S;if($e!==null&&$e(se,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Je=Q(Ae,v);Ep(c,d,Je,ql(c))}else Ep(c,d,v,ql(c))}catch(at){Ep(c,d,{then:function(){},status:"rejected",reason:at},ql())}finally{le.p=k,V!==null&&se.types!==null&&(V.types=se.types),ne.T=V}}function cU(){}function ab(c,d,m,v){if(c.tag!==5)throw Error(n(476));var S=$j(c).queue;qj(c,S,d,ve,m===null?cU:function(){return Hj(c),m(v)})}function $j(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:ve},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function Hj(c){var d=$j(c);d.next===null&&(d=c.alternate.memoizedState),Ep(c,d.next.queue,{},ql())}function ib(){return mi(Hp)}function Vj(){return aa().memoizedState}function Wj(){return aa().memoizedState}function uU(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=ql();c=sr(m);var v=wr(d,c,m);v!==null&&(wl(v,d,m),sn(v,d,m)),d={cache:Vf()},c.payload=d;return}d=d.return}}function fU(c,d,m){var v=ql();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},a1(c)?Kj(d,m):(m=Eh(c,d,m,v),m!==null&&(wl(m,c,v),Yj(m,d,v)))}function Gj(c,d,m){var v=ql();Ep(c,d,m,v)}function Ep(c,d,m,v){var S={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(a1(c))Kj(d,S);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var V=d.lastRenderedState,se=k(V,m);if(S.hasEagerState=!0,S.eagerState=se,ui(se,V))return s0(c,d,S,0),Ln===null&&i0(),!1}catch{}finally{}if(m=Eh(c,d,S,v),m!==null)return wl(m,c,v),Yj(m,d,v),!0}return!1}function sb(c,d,m,v){if(v={lane:2,revertLane:Ib(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},a1(c)){if(d)throw Error(n(479))}else d=Eh(c,m,v,2),d!==null&&wl(d,c,2)}function a1(c){var d=c.alternate;return c===Xt||d!==null&&d===Xt}function Kj(c,d){xl=fs=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function Yj(c,d,m){if((m&4194048)!==0){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,si(c,m)}}var kp={readContext:mi,use:Wf,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};kp.useEffectEvent=kn;var Xj={readContext:mi,use:Wf,useCallback:function(c,d){return Qa().memoizedState=[c,d===void 0?null:d],c},useContext:mi,useEffect:Pj,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,Kf(4194308,4,Rj.bind(null,d,c),m)},useLayoutEffect:function(c,d){return Kf(4194308,4,c,d)},useInsertionEffect:function(c,d){Kf(4,2,c,d)},useMemo:function(c,d){var m=Qa();d=d===void 0?null:d;var v=c();if(Ki){er(!0);try{c()}finally{er(!1)}}return m.memoizedState=[v,d],v},useReducer:function(c,d,m){var v=Qa();if(m!==void 0){var S=m(d);if(Ki){er(!0);try{m(d)}finally{er(!1)}}}else S=d;return v.memoizedState=v.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},v.queue=c,c=c.dispatch=fU.bind(null,Xt,c),[v.memoizedState,c]},useRef:function(c){var d=Qa();return c={current:c},d.memoizedState=c},useState:function(c){c=Qc(c);var d=c.queue,m=Gj.bind(null,Xt,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:rb,useDeferredValue:function(c,d){var m=Qa();return nb(m,c,d)},useTransition:function(){var c=Qc(!1);return c=qj.bind(null,Xt,c.queue,!0,!1),Qa().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var v=Xt,S=Qa();if(Fr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),Ln===null)throw Error(n(349));(Rr&127)!==0||uc(v,d,m)}S.memoizedState=m;var k={value:m,getSnapshot:d};return S.queue=k,Pj(Sp.bind(null,v,k,c),[c]),v.flags|=2048,Fu(9,{destroy:void 0},Np.bind(null,v,k,m,d),null),m},useId:function(){var c=Qa(),d=Ln.identifierPrefix;if(Fr){var m=ml,v=hl;m=(v&~(1<<32-br(v)-1)).toString(32)+m,d="_"+d+"R_"+m,m=Ta++,0<m&&(d+="H"+m.toString(32)),d+="_"}else m=Ih++,d="_"+d+"r_"+m.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:ib,useFormState:wo,useActionState:wo,useOptimistic:function(c){var d=Qa();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=sb.bind(null,Xt,!0,m),m.dispatch=d,[c,d]},useMemoCache:Du,useCacheRefresh:function(){return Qa().memoizedState=uU.bind(null,Xt)},useEffectEvent:function(c){var d=Qa(),m={impl:c};return d.memoizedState=m,function(){if((on&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},lb={readContext:mi,use:Wf,useCallback:Bj,useContext:mi,useEffect:tb,useImperativeHandle:Ij,useInsertionEffect:Lj,useLayoutEffect:Mj,useMemo:Uj,useReducer:zh,useRef:n1,useState:function(){return zh(bo)},useDebugValue:rb,useDeferredValue:function(c,d){var m=aa();return zj(m,tr.memoizedState,c,d)},useTransition:function(){var c=zh(bo)[0],d=aa().memoizedState;return[typeof c=="boolean"?c:Xc(c),d]},useSyncExternalStore:$h,useId:Vj,useHostTransitionStatus:ib,useFormState:fc,useActionState:fc,useOptimistic:function(c,d){var m=aa();return Jg(m,tr,c,d)},useMemoCache:Du,useCacheRefresh:Wj};lb.useEffectEvent=Fj;var Qj={readContext:mi,use:Wf,useCallback:Bj,useContext:mi,useEffect:tb,useImperativeHandle:Ij,useInsertionEffect:Lj,useLayoutEffect:Mj,useMemo:Uj,useReducer:qh,useRef:n1,useState:function(){return qh(bo)},useDebugValue:rb,useDeferredValue:function(c,d){var m=aa();return tr===null?nb(m,c,d):zj(m,tr.memoizedState,c,d)},useTransition:function(){var c=qh(bo)[0],d=aa().memoizedState;return[typeof c=="boolean"?c:Xc(c),d]},useSyncExternalStore:$h,useId:Vj,useHostTransitionStatus:ib,useFormState:Wh,useActionState:Wh,useOptimistic:function(c,d){var m=aa();return tr!==null?Jg(m,tr,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Wj};Qj.useEffectEvent=Fj;function ob(c,d,m,v){d=c.memoizedState,m=m(v,d),m=m==null?d:p({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var cb={enqueueSetState:function(c,d,m){c=c._reactInternals;var v=ql(),S=sr(v);S.payload=d,m!=null&&(S.callback=m),d=wr(c,S,v),d!==null&&(wl(d,c,v),sn(d,c,v))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var v=ql(),S=sr(v);S.tag=1,S.payload=d,m!=null&&(S.callback=m),d=wr(c,S,v),d!==null&&(wl(d,c,v),sn(d,c,v))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=ql(),v=sr(m);v.tag=2,d!=null&&(v.callback=d),d=wr(c,v,m),d!==null&&(wl(d,c,m),sn(d,c,m))}};function Zj(c,d,m,v,S,k,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,k,V):d.prototype&&d.prototype.isPureReactComponent?!nc(m,v)||!nc(S,k):!0}function Jj(c,d,m,v){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==c&&cb.enqueueReplaceState(d,d.state,null)}function p0(c,d){var m=d;if("ref"in d){m={};for(var v in d)v!=="ref"&&(m[v]=d[v])}if(c=c.defaultProps){m===d&&(m=p({},m));for(var S in c)m[S]===void 0&&(m[S]=c[S])}return m}function e6(c){a0(c)}function t6(c){console.error(c)}function r6(c){a0(c)}function i1(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function n6(c,d,m){try{var v=c.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function ub(c,d,m){return m=sr(m),m.tag=3,m.payload={element:null},m.callback=function(){i1(c,d)},m}function a6(c){return c=sr(c),c.tag=3,c}function i6(c,d,m,v){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var k=v.value;c.payload=function(){return S(k)},c.callback=function(){n6(d,m,v)}}var V=m.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){n6(d,m,v),typeof S!="function"&&(Jf===null?Jf=new Set([this]):Jf.add(this));var se=v.stack;this.componentDidCatch(v.value,{componentStack:se!==null?se:""})})}function dU(c,d,m,v,S){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=m.alternate,d!==null&&Wc(d,m,S,!0),m=Gn.current,m!==null){switch(m.tag){case 31:case 13:return Hr===null?g1():m.alternate===null&&Oa===0&&(Oa=3),m.flags&=-257,m.flags|=65536,m.lanes=S,v===Oe?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([v]):d.add(v),Lb(c,v,S)),!1;case 22:return m.flags|=65536,v===Oe?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([v]):m.add(v)),Lb(c,v,S)),!1}throw Error(n(435,m.tag))}return Lb(c,v,S),g1(),!1}if(Fr)return d=Gn.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,v!==Bl&&(c=Error(n(422),{cause:v}),$f(ul(c,m)))):(v!==Bl&&(d=Error(n(423),{cause:v}),$f(ul(d,m))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,v=ul(v,m),S=ub(c.stateNode,v,S),Ua(c,S),Oa!==4&&(Oa=2)),!1;var k=Error(n(520),{cause:v});if(k=ul(k,m),Mp===null?Mp=[k]:Mp.push(k),Oa!==4&&(Oa=2),d===null)return!0;v=ul(v,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=S&-S,m.lanes|=c,c=ub(m.stateNode,v,c),Ua(m,c),!1;case 1:if(d=m.type,k=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Jf===null||!Jf.has(k))))return m.flags|=65536,S&=-S,m.lanes|=S,S=a6(S),i6(S,c,m,v),Ua(m,S),!1}m=m.return}while(m!==null);return!1}var fb=Error(n(461)),Za=!1;function Yi(c,d,m,v){d.child=c===null?gr(d,null,m,v):Fn(d,c.child,m,v)}function s6(c,d,m,v,S){m=m.render;var k=d.ref;if("ref"in v){var V={};for(var se in v)se!=="ref"&&(V[se]=v[se])}else V=v;return Gc(d),v=bp(c,d,m,V,k,S),se=wp(),c!==null&&!Za?(_p(c,d,S),Lu(c,d,S)):(Fr&&se&&xp(d),d.flags|=1,Yi(c,d,v,S),d.child)}function l6(c,d,m,v,S){if(c===null){var k=m.type;return typeof k=="function"&&!Ch(k)&&k.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=k,o6(c,d,k,v,S)):(c=Uf(m.type,null,v,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(k=c.child,!yb(c,S)){var V=k.memoizedProps;if(m=m.compare,m=m!==null?m:nc,m(V,v)&&c.ref===d.ref)return Lu(c,d,S)}return d.flags|=1,c=cl(k,v),c.ref=d.ref,c.return=d,d.child=c}function o6(c,d,m,v,S){if(c!==null){var k=c.memoizedProps;if(nc(k,v)&&c.ref===d.ref)if(Za=!1,d.pendingProps=v=k,yb(c,S))(c.flags&131072)!==0&&(Za=!0);else return d.lanes=c.lanes,Lu(c,d,S)}return db(c,d,m,v,S)}function c6(c,d,m,v){var S=v.children,k=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((d.flags&128)!==0){if(k=k!==null?k.baseLanes|m:m,c!==null){for(v=d.child=c.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~k}else v=0,d.child=null;return u6(c,d,k,m,v)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&me(d,k!==null?k.cachePool:null),k!==null?Wn(d,k):Yr(),ka(d);else return v=d.lanes=536870912,u6(c,d,k!==null?k.baseLanes|m:m,m,v)}else k!==null?(me(d,k.cachePool),Wn(d,k),Ca(),d.memoizedState=null):(c!==null&&me(d,null),Yr(),Ca());return Yi(c,d,S,m),d.child}function Cp(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function u6(c,d,m,v,S){var k=fe();return k=k===null?null:{parent:ya._currentValue,pool:k},d.memoizedState={baseLanes:m,cachePool:k},c!==null&&me(d,null),Yr(),ka(d),c!==null&&Wc(c,d,v,!0),d.childLanes=S,null}function s1(c,d){return d=o1({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function f6(c,d,m){return Fn(d,c.child,null,m),c=s1(d,d.pendingProps),c.flags|=2,xn(d),d.memoizedState=null,c}function hU(c,d,m){var v=d.pendingProps,S=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(Fr){if(v.mode==="hidden")return c=s1(d,v),d.lanes=536870912,Cp(null,c);if(ln(d),(c=Pn)?(c=NA(c,ra),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:qc!==null?{id:hl,overflow:ml}:null,retryLane:536870912,hydrationErrors:null},m=Th(c),m.return=d,d.child=m,di=d,Pn=null)):c=null,c===null)throw $c(d);return d.lanes=536870912,null}return s1(d,v)}var k=c.memoizedState;if(k!==null){var V=k.dehydrated;if(ln(d),S)if(d.flags&256)d.flags&=-257,d=f6(c,d,m);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(n(558));else if(Za||Wc(c,d,m,!1),S=(m&c.childLanes)!==0,Za||S){if(v=Ln,v!==null&&(V=qi(v,m),V!==0&&V!==k.retryLane))throw k.retryLane=V,lc(c,V),wl(v,c,V),fb;g1(),d=f6(c,d,m)}else c=k.treeContext,Pn=_o(V.nextSibling),di=d,Fr=!0,Gi=null,ra=!1,c!==null&&Xg(d,c),d=s1(d,v),d.flags|=4096;return d}return c=cl(c.child,{mode:v.mode,children:v.children}),c.ref=d.ref,d.child=c,c.return=d,c}function l1(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function db(c,d,m,v,S){return Gc(d),m=bp(c,d,m,v,void 0,S),v=wp(),c!==null&&!Za?(_p(c,d,S),Lu(c,d,S)):(Fr&&v&&xp(d),d.flags|=1,Yi(c,d,m,S),d.child)}function d6(c,d,m,v,S,k){return Gc(d),d.updateQueue=null,m=cc(d,v,m,S),Bh(c),v=wp(),c!==null&&!Za?(_p(c,d,k),Lu(c,d,k)):(Fr&&v&&xp(d),d.flags|=1,Yi(c,d,m,k),d.child)}function h6(c,d,m,v,S){if(Gc(d),d.stateNode===null){var k=fi,V=m.contextType;typeof V=="object"&&V!==null&&(k=mi(V)),k=new m(v,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=cb,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=v,k.state=d.memoizedState,k.refs={},bt(d),V=m.contextType,k.context=typeof V=="object"&&V!==null?mi(V):fi,k.state=d.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&(ob(d,m,V,v),k.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(V=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),V!==k.state&&cb.enqueueReplaceState(k,k.state,null),Aa(d,v,k,S),En(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(c===null){k=d.stateNode;var se=d.memoizedProps,Ae=p0(m,se);k.props=Ae;var $e=k.context,Je=m.contextType;V=fi,typeof Je=="object"&&Je!==null&&(V=mi(Je));var at=m.getDerivedStateFromProps;Je=typeof at=="function"||typeof k.getSnapshotBeforeUpdate=="function",se=d.pendingProps!==se,Je||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(se||$e!==V)&&Jj(d,k,v,V),kt=!1;var Ve=d.memoizedState;k.state=Ve,Aa(d,v,k,S),En(),$e=d.memoizedState,se||Ve!==$e||kt?(typeof at=="function"&&(ob(d,m,at,v),$e=d.memoizedState),(Ae=kt||Zj(d,m,Ae,v,Ve,$e,V))?(Je||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=$e),k.props=v,k.state=$e,k.context=V,v=Ae):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{k=d.stateNode,Vn(c,d),V=d.memoizedProps,Je=p0(m,V),k.props=Je,at=d.pendingProps,Ve=k.context,$e=m.contextType,Ae=fi,typeof $e=="object"&&$e!==null&&(Ae=mi($e)),se=m.getDerivedStateFromProps,($e=typeof se=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(V!==at||Ve!==Ae)&&Jj(d,k,v,Ae),kt=!1,Ve=d.memoizedState,k.state=Ve,Aa(d,v,k,S),En();var We=d.memoizedState;V!==at||Ve!==We||kt||c!==null&&c.dependencies!==null&&Lh(c.dependencies)?(typeof se=="function"&&(ob(d,m,se,v),We=d.memoizedState),(Je=kt||Zj(d,m,Je,v,Ve,We,Ae)||c!==null&&c.dependencies!==null&&Lh(c.dependencies))?($e||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,We,Ae),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,We,Ae)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=We),k.props=v,k.state=We,k.context=Ae,v=Je):(typeof k.componentDidUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Ve===c.memoizedState||(d.flags|=1024),v=!1)}return k=v,l1(c,d),v=(d.flags&128)!==0,k||v?(k=d.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,c!==null&&v?(d.child=Fn(d,c.child,null,S),d.child=Fn(d,null,m,S)):Yi(c,d,m,S),d.memoizedState=k.state,c=d.child):c=Lu(c,d,S),c}function m6(c,d,m,v){return Tu(),d.flags|=256,Yi(c,d,m,v),d.child}var hb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mb(c){return{baseLanes:c,cachePool:be()}}function pb(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=zl),c}function p6(c,d,m){var v=d.pendingProps,S=!1,k=(d.flags&128)!==0,V;if((V=k)||(V=c!==null&&c.memoizedState===null?!1:(Ur.current&2)!==0),V&&(S=!0,d.flags&=-129),V=(d.flags&32)!==0,d.flags&=-33,c===null){if(Fr){if(S?ba(d):Ca(),(c=Pn)?(c=NA(c,ra),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:qc!==null?{id:hl,overflow:ml}:null,retryLane:536870912,hydrationErrors:null},m=Th(c),m.return=d,d.child=m,di=d,Pn=null)):c=null,c===null)throw $c(d);return Qb(c)?d.lanes=32:d.lanes=536870912,null}var se=v.children;return v=v.fallback,S?(Ca(),S=d.mode,se=o1({mode:"hidden",children:se},S),v=zc(v,S,m,null),se.return=d,v.return=d,se.sibling=v,d.child=se,v=d.child,v.memoizedState=mb(m),v.childLanes=pb(c,V,m),d.memoizedState=hb,Cp(null,v)):(ba(d),xb(d,se))}var Ae=c.memoizedState;if(Ae!==null&&(se=Ae.dehydrated,se!==null)){if(k)d.flags&256?(ba(d),d.flags&=-257,d=gb(c,d,m)):d.memoizedState!==null?(Ca(),d.child=c.child,d.flags|=128,d=null):(Ca(),se=v.fallback,S=d.mode,v=o1({mode:"visible",children:v.children},S),se=zc(se,S,m,null),se.flags|=2,v.return=d,se.return=d,v.sibling=se,d.child=v,Fn(d,c.child,null,m),v=d.child,v.memoizedState=mb(m),v.childLanes=pb(c,V,m),d.memoizedState=hb,d=Cp(null,v));else if(ba(d),Qb(se)){if(V=se.nextSibling&&se.nextSibling.dataset,V)var $e=V.dgst;V=$e,v=Error(n(419)),v.stack="",v.digest=V,$f({value:v,source:null,stack:null}),d=gb(c,d,m)}else if(Za||Wc(c,d,m,!1),V=(m&c.childLanes)!==0,Za||V){if(V=Ln,V!==null&&(v=qi(V,m),v!==0&&v!==Ae.retryLane))throw Ae.retryLane=v,lc(c,v),wl(V,c,v),fb;Xb(se)||g1(),d=gb(c,d,m)}else Xb(se)?(d.flags|=192,d.child=c.child,d=null):(c=Ae.treeContext,Pn=_o(se.nextSibling),di=d,Fr=!0,Gi=null,ra=!1,c!==null&&Xg(d,c),d=xb(d,v.children),d.flags|=4096);return d}return S?(Ca(),se=v.fallback,S=d.mode,Ae=c.child,$e=Ae.sibling,v=cl(Ae,{mode:"hidden",children:v.children}),v.subtreeFlags=Ae.subtreeFlags&65011712,$e!==null?se=cl($e,se):(se=zc(se,S,m,null),se.flags|=2),se.return=d,v.return=d,v.sibling=se,d.child=v,Cp(null,v),v=d.child,se=c.child.memoizedState,se===null?se=mb(m):(S=se.cachePool,S!==null?(Ae=ya._currentValue,S=S.parent!==Ae?{parent:Ae,pool:Ae}:S):S=be(),se={baseLanes:se.baseLanes|m,cachePool:S}),v.memoizedState=se,v.childLanes=pb(c,V,m),d.memoizedState=hb,Cp(c.child,v)):(ba(d),m=c.child,c=m.sibling,m=cl(m,{mode:"visible",children:v.children}),m.return=d,m.sibling=null,c!==null&&(V=d.deletions,V===null?(d.deletions=[c],d.flags|=16):V.push(c)),d.child=m,d.memoizedState=null,m)}function xb(c,d){return d=o1({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function o1(c,d){return c=Ti(22,c,null,d),c.lanes=0,c}function gb(c,d,m){return Fn(d,c.child,null,m),c=xb(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function x6(c,d,m){c.lanes|=d;var v=c.alternate;v!==null&&(v.lanes|=d),Hf(c.return,d,m)}function vb(c,d,m,v,S,k){var V=c.memoizedState;V===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S,treeForkCount:k}:(V.isBackwards=d,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=m,V.tailMode=S,V.treeForkCount=k)}function g6(c,d,m){var v=d.pendingProps,S=v.revealOrder,k=v.tail;v=v.children;var V=Ur.current,se=(V&2)!==0;if(se?(V=V&1|2,d.flags|=128):V&=1,L(Ur,V),Yi(c,d,v,m),v=Fr?u0:0,!se&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&x6(c,m,d);else if(c.tag===19)x6(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(m=d.child,S=null;m!==null;)c=m.alternate,c!==null&&Di(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),vb(d,!1,S,m,k,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&Di(c)===null){d.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}vb(d,!0,m,null,k,v);break;case"together":vb(d,!1,null,null,void 0,v);break;default:d.memoizedState=null}return d.child}function Lu(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),Zf|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(Wc(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,m=cl(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=cl(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function yb(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Lh(c)))}function mU(c,d,m){switch(d.tag){case 3:ce(d,d.stateNode.containerInfo),Vc(d,ya,c.memoizedState.cache),Tu();break;case 27:case 5:Se(d);break;case 4:ce(d,d.stateNode.containerInfo);break;case 10:Vc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,ln(d),null;break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(ba(d),d.flags|=128,null):(m&d.child.childLanes)!==0?p6(c,d,m):(ba(d),c=Lu(c,d,m),c!==null?c.sibling:null);ba(d);break;case 19:var S=(c.flags&128)!==0;if(v=(m&d.childLanes)!==0,v||(Wc(c,d,m,!1),v=(m&d.childLanes)!==0),S){if(v)return g6(c,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),L(Ur,Ur.current),v)break;return null;case 22:return d.lanes=0,c6(c,d,m,d.pendingProps);case 24:Vc(d,ya,c.memoizedState.cache)}return Lu(c,d,m)}function v6(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)Za=!0;else{if(!yb(c,m)&&(d.flags&128)===0)return Za=!1,mU(c,d,m);Za=(c.flags&131072)!==0}else Za=!1,Fr&&(d.flags&1048576)!==0&&Yg(d,u0,d.index);switch(d.lanes=0,d.tag){case 16:e:{var v=d.pendingProps;if(c=Re(d.elementType),d.type=c,typeof c=="function")Ch(c)?(v=p0(c,v),d.tag=1,d=h6(null,d,c,v,m)):(d.tag=0,d=db(null,d,c,v,m));else{if(c!=null){var S=c.$$typeof;if(S===T){d.tag=11,d=s6(null,d,c,v,m);break e}else if(S===D){d.tag=14,d=l6(null,d,c,v,m);break e}}throw d=J(c)||c,Error(n(306,d,""))}}return d;case 0:return db(c,d,d.type,d.pendingProps,m);case 1:return v=d.type,S=p0(v,d.pendingProps),h6(c,d,v,S,m);case 3:e:{if(ce(d,d.stateNode.containerInfo),c===null)throw Error(n(387));v=d.pendingProps;var k=d.memoizedState;S=k.element,Vn(c,d),Aa(d,v,null,m);var V=d.memoizedState;if(v=V.cache,Vc(d,ya,v),v!==k.cache&&Ou(d,[ya],m,!0),En(),v=V.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:V.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=m6(c,d,v,m);break e}else if(v!==S){S=ul(Error(n(424)),d),$f(S),d=m6(c,d,v,m);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Pn=_o(c.firstChild),di=d,Fr=!0,Gi=null,ra=!0,m=gr(d,null,v,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Tu(),v===S){d=Lu(c,d,m);break e}Yi(c,d,v,m)}d=d.child}return d;case 26:return l1(c,d),c===null?(m=CA(d.type,null,d.pendingProps,null))?d.memoizedState=m:Fr||(m=d.type,c=d.pendingProps,v=S1(Z.current).createElement(m),v[he]=d,v[ge]=c,Xi(v,m,c),Tt(v),d.stateNode=v):d.memoizedState=CA(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Se(d),c===null&&Fr&&(v=d.stateNode=AA(d.type,d.pendingProps,Z.current),di=d,ra=!0,S=Pn,nd(d.type)?(Zb=S,Pn=_o(v.firstChild)):Pn=S),Yi(c,d,d.pendingProps.children,m),l1(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Fr&&((S=v=Pn)&&(v=HU(v,d.type,d.pendingProps,ra),v!==null?(d.stateNode=v,di=d,Pn=_o(v.firstChild),ra=!1,S=!0):S=!1),S||$c(d)),Se(d),S=d.type,k=d.pendingProps,V=c!==null?c.memoizedProps:null,v=k.children,Gb(S,k)?v=null:V!==null&&Gb(S,V)&&(d.flags|=32),d.memoizedState!==null&&(S=bp(c,d,eb,null,null,m),Hp._currentValue=S),l1(c,d),Yi(c,d,v,m),d.child;case 6:return c===null&&Fr&&((c=m=Pn)&&(m=VU(m,d.pendingProps,ra),m!==null?(d.stateNode=m,di=d,Pn=null,c=!0):c=!1),c||$c(d)),null;case 13:return p6(c,d,m);case 4:return ce(d,d.stateNode.containerInfo),v=d.pendingProps,c===null?d.child=Fn(d,null,v,m):Yi(c,d,v,m),d.child;case 11:return s6(c,d,d.type,d.pendingProps,m);case 7:return Yi(c,d,d.pendingProps,m),d.child;case 8:return Yi(c,d,d.pendingProps.children,m),d.child;case 12:return Yi(c,d,d.pendingProps.children,m),d.child;case 10:return v=d.pendingProps,Vc(d,d.type,v.value),Yi(c,d,v.children,m),d.child;case 9:return S=d.type._context,v=d.pendingProps.children,Gc(d),S=mi(S),v=v(S),d.flags|=1,Yi(c,d,v,m),d.child;case 14:return l6(c,d,d.type,d.pendingProps,m);case 15:return o6(c,d,d.type,d.pendingProps,m);case 19:return g6(c,d,m);case 31:return hU(c,d,m);case 22:return c6(c,d,m,d.pendingProps);case 24:return Gc(d),v=mi(ya),c===null?(S=fe(),S===null&&(S=Ln,k=Vf(),S.pooledCache=k,k.refCount++,k!==null&&(S.pooledCacheLanes|=m),S=k),d.memoizedState={parent:v,cache:S},bt(d),Vc(d,ya,S)):((c.lanes&m)!==0&&(Vn(c,d),Aa(d,null,null,m),En()),S=c.memoizedState,k=d.memoizedState,S.parent!==v?(S={parent:v,cache:v},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),Vc(d,ya,v)):(v=k.cache,Vc(d,ya,v),v!==S.cache&&Ou(d,[ya],m,!0))),Yi(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function Mu(c){c.flags|=4}function bb(c,d,m,v,S){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(V6())c.flags|=8192;else throw Ye=Oe,Ue}else c.flags&=-16777217}function y6(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!FA(d))if(V6())c.flags|=8192;else throw Ye=Oe,Ue}function c1(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?nl():536870912,c.lanes|=d,Xh|=d)}function Tp(c,d){if(!Fr)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Kn(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,v=0;if(d)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=v,c.childLanes=m,d}function pU(c,d,m){var v=d.pendingProps;switch(Ph(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(d),null;case 1:return Kn(d),null;case 3:return m=d.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),pl(ya),ae(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(hi(d)?Mu(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,vp())),Kn(d),null;case 26:var S=d.type,k=d.memoizedState;return c===null?(Mu(d),k!==null?(Kn(d),y6(d,k)):(Kn(d),bb(d,S,null,v,m))):k?k!==c.memoizedState?(Mu(d),Kn(d),y6(d,k)):(Kn(d),d.flags&=-16777217):(c=c.memoizedProps,c!==v&&Mu(d),Kn(d),bb(d,S,c,v,m)),null;case 27:if(De(d),m=Z.current,S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Mu(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Kn(d),null}c=q.current,hi(d)?gp(d):(c=AA(S,v,m),d.stateNode=c,Mu(d))}return Kn(d),null;case 5:if(De(d),S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Mu(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Kn(d),null}if(k=q.current,hi(d))gp(d);else{var V=S1(Z.current);switch(k){case 1:k=V.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:k=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":k=V.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":k=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":k=V.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?V.createElement(S,{is:v.is}):V.createElement(S)}}k[he]=d,k[ge]=v;e:for(V=d.child;V!==null;){if(V.tag===5||V.tag===6)k.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===d)break e;for(;V.sibling===null;){if(V.return===null||V.return===d)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}d.stateNode=k;e:switch(Xi(k,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Mu(d)}}return Kn(d),bb(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,m),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==v&&Mu(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(c=Z.current,hi(d)){if(c=d.stateNode,m=d.memoizedProps,v=null,S=di,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}c[he]=d,c=!!(c.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||pA(c.nodeValue,m)),c||$c(d,!0)}else c=S1(c).createTextNode(v),c[he]=d,d.stateNode=c}return Kn(d),null;case 31:if(m=d.memoizedState,c===null||c.memoizedState!==null){if(v=hi(d),m!==null){if(c===null){if(!v)throw Error(n(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[he]=d}else Tu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Kn(d),c=!1}else m=vp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return d.flags&256?(xn(d),d):(xn(d),null);if((d.flags&128)!==0)throw Error(n(558))}return Kn(d),null;case 13:if(v=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=hi(d),v!==null&&v.dehydrated!==null){if(c===null){if(!S)throw Error(n(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[he]=d}else Tu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Kn(d),S=!1}else S=vp(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(xn(d),d):(xn(d),null)}return xn(d),(d.flags&128)!==0?(d.lanes=m,d):(m=v!==null,c=c!==null&&c.memoizedState!==null,m&&(v=d.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==S&&(v.flags|=2048)),m!==c&&m&&(d.child.flags|=8192),c1(d,d.updateQueue),Kn(d),null);case 4:return ae(),c===null&&qb(d.stateNode.containerInfo),Kn(d),null;case 10:return pl(d.type),Kn(d),null;case 19:if(P(Ur),v=d.memoizedState,v===null)return Kn(d),null;if(S=(d.flags&128)!==0,k=v.rendering,k===null)if(S)Tp(v,!1);else{if(Oa!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(k=Di(c),k!==null){for(d.flags|=128,Tp(v,!1),c=k.updateQueue,d.updateQueue=c,c1(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)o0(m,c),m=m.sibling;return L(Ur,Ur.current&1|2),Fr&&Us(d,v.treeForkCount),d.child}c=c.sibling}v.tail!==null&&$t()>m1&&(d.flags|=128,S=!0,Tp(v,!1),d.lanes=4194304)}else{if(!S)if(c=Di(k),c!==null){if(d.flags|=128,S=!0,c=c.updateQueue,d.updateQueue=c,c1(d,c),Tp(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!Fr)return Kn(d),null}else 2*$t()-v.renderingStartTime>m1&&m!==536870912&&(d.flags|=128,S=!0,Tp(v,!1),d.lanes=4194304);v.isBackwards?(k.sibling=d.child,d.child=k):(c=v.last,c!==null?c.sibling=k:d.child=k,v.last=k)}return v.tail!==null?(c=v.tail,v.rendering=c,v.tail=c.sibling,v.renderingStartTime=$t(),c.sibling=null,m=Ur.current,L(Ur,S?m&1|2:m&1),Fr&&Us(d,v.treeForkCount),c):(Kn(d),null);case 22:case 23:return xn(d),za(),v=d.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(m&536870912)!==0&&(d.flags&128)===0&&(Kn(d),d.subtreeFlags&6&&(d.flags|=8192)):Kn(d),m=d.updateQueue,m!==null&&c1(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048),c!==null&&P(ie),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),pl(ya),Kn(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function xU(c,d){switch(Ph(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return pl(ya),ae(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return De(d),null;case 31:if(d.memoizedState!==null){if(xn(d),d.alternate===null)throw Error(n(340));Tu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(xn(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Tu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return P(Ur),null;case 4:return ae(),null;case 10:return pl(d.type),null;case 22:case 23:return xn(d),za(),c!==null&&P(ie),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return pl(ya),null;case 25:return null;default:return null}}function b6(c,d){switch(Ph(d),d.tag){case 3:pl(ya),ae();break;case 26:case 27:case 5:De(d);break;case 4:ae();break;case 31:d.memoizedState!==null&&xn(d);break;case 13:xn(d);break;case 19:P(Ur);break;case 10:pl(d.type);break;case 22:case 23:xn(d),za(),c!==null&&P(ie);break;case 24:pl(ya)}}function Op(c,d){try{var m=d.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var S=v.next;m=S;do{if((m.tag&c)===c){v=void 0;var k=m.create,V=m.inst;v=k(),V.destroy=v}m=m.next}while(m!==S)}}catch(se){vn(d,d.return,se)}}function Xf(c,d,m){try{var v=d.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var k=S.next;v=k;do{if((v.tag&c)===c){var V=v.inst,se=V.destroy;if(se!==void 0){V.destroy=void 0,S=d;var Ae=m,$e=se;try{$e()}catch(Je){vn(S,Ae,Je)}}}v=v.next}while(v!==k)}}catch(Je){vn(d,d.return,Je)}}function w6(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{Ea(d,m)}catch(v){vn(c,c.return,v)}}}function _6(c,d,m){m.props=p0(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(v){vn(c,d,v)}}function Dp(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var v=c.stateNode;break;case 30:v=c.stateNode;break;default:v=c.stateNode}typeof m=="function"?c.refCleanup=m(v):m.current=v}}catch(S){vn(c,d,S)}}function Zc(c,d){var m=c.ref,v=c.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(S){vn(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){vn(c,d,S)}else m.current=null}function N6(c){var d=c.type,m=c.memoizedProps,v=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(S){vn(c,c.return,S)}}function wb(c,d,m){try{var v=c.stateNode;IU(v,c.type,m,d),v[ge]=d}catch(S){vn(c,c.return,S)}}function S6(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&nd(c.type)||c.tag===4}function _b(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||S6(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&nd(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Nb(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Fl));else if(v!==4&&(v===27&&nd(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(Nb(c,d,m),c=c.sibling;c!==null;)Nb(c,d,m),c=c.sibling}function u1(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(v!==4&&(v===27&&nd(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(u1(c,d,m),c=c.sibling;c!==null;)u1(c,d,m),c=c.sibling}function j6(c){var d=c.stateNode,m=c.memoizedProps;try{for(var v=c.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);Xi(d,v,m),d[he]=c,d[ge]=m}catch(k){vn(c,c.return,k)}}var Ru=!1,Ja=!1,Sb=!1,A6=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function gU(c,d){if(c=c.containerInfo,Vb=O1,c=ic(c),go(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var V=0,se=-1,Ae=-1,$e=0,Je=0,at=c,Ve=null;t:for(;;){for(var We;at!==m||S!==0&&at.nodeType!==3||(se=V+S),at!==k||v!==0&&at.nodeType!==3||(Ae=V+v),at.nodeType===3&&(V+=at.nodeValue.length),(We=at.firstChild)!==null;)Ve=at,at=We;for(;;){if(at===c)break t;if(Ve===m&&++$e===S&&(se=V),Ve===k&&++Je===v&&(Ae=V),(We=at.nextSibling)!==null)break;at=Ve,Ve=at.parentNode}at=We}m=se===-1||Ae===-1?null:{start:se,end:Ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(Wb={focusedElem:c,selectionRange:m},O1=!1,Pi=d;Pi!==null;)if(d=Pi,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Pi=c;else for(;Pi!==null;){switch(d=Pi,k=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)S=c[m],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,m=d,S=k.memoizedProps,k=k.memoizedState,v=m.stateNode;try{var Lt=p0(m.type,S);c=v.getSnapshotBeforeUpdate(Lt,k),v.__reactInternalSnapshotBeforeUpdate=c}catch(lr){vn(m,m.return,lr)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)Yb(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Yb(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,Pi=c;break}Pi=d.return}}function E6(c,d,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Bu(c,m),v&4&&Op(5,m);break;case 1:if(Bu(c,m),v&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(V){vn(m,m.return,V)}else{var S=p0(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(V){vn(m,m.return,V)}}v&64&&w6(m),v&512&&Dp(m,m.return);break;case 3:if(Bu(c,m),v&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{Ea(c,d)}catch(V){vn(m,m.return,V)}}break;case 27:d===null&&v&4&&j6(m);case 26:case 5:Bu(c,m),d===null&&v&4&&N6(m),v&512&&Dp(m,m.return);break;case 12:Bu(c,m);break;case 31:Bu(c,m),v&4&&T6(c,m);break;case 13:Bu(c,m),v&4&&O6(c,m),v&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=AU.bind(null,m),WU(c,m))));break;case 22:if(v=m.memoizedState!==null||Ru,!v){d=d!==null&&d.memoizedState!==null||Ja,S=Ru;var k=Ja;Ru=v,(Ja=d)&&!k?Uu(c,m,(m.subtreeFlags&8772)!==0):Bu(c,m),Ru=S,Ja=k}break;case 30:break;default:Bu(c,m)}}function k6(c){var d=c.alternate;d!==null&&(c.alternate=null,k6(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&ut(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ia=null,gl=!1;function Iu(c,d,m){for(m=m.child;m!==null;)C6(c,d,m),m=m.sibling}function C6(c,d,m){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Yt,m)}catch{}switch(m.tag){case 26:Ja||Zc(m,d),Iu(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Ja||Zc(m,d);var v=ia,S=gl;nd(m.type)&&(ia=m.stateNode,gl=!1),Iu(c,d,m),zp(m.stateNode),ia=v,gl=S;break;case 5:Ja||Zc(m,d);case 6:if(v=ia,S=gl,ia=null,Iu(c,d,m),ia=v,gl=S,ia!==null)if(gl)try{(ia.nodeType===9?ia.body:ia.nodeName==="HTML"?ia.ownerDocument.body:ia).removeChild(m.stateNode)}catch(k){vn(m,d,k)}else try{ia.removeChild(m.stateNode)}catch(k){vn(m,d,k)}break;case 18:ia!==null&&(gl?(c=ia,wA(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),am(c)):wA(ia,m.stateNode));break;case 4:v=ia,S=gl,ia=m.stateNode.containerInfo,gl=!0,Iu(c,d,m),ia=v,gl=S;break;case 0:case 11:case 14:case 15:Xf(2,m,d),Ja||Xf(4,m,d),Iu(c,d,m);break;case 1:Ja||(Zc(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"&&_6(m,d,v)),Iu(c,d,m);break;case 21:Iu(c,d,m);break;case 22:Ja=(v=Ja)||m.memoizedState!==null,Iu(c,d,m),Ja=v;break;default:Iu(c,d,m)}}function T6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{am(c)}catch(m){vn(d,d.return,m)}}}function O6(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{am(c)}catch(m){vn(d,d.return,m)}}function vU(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new A6),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new A6),d;default:throw Error(n(435,c.tag))}}function f1(c,d){var m=vU(c);d.forEach(function(v){if(!m.has(v)){m.add(v);var S=EU.bind(null,c,v);v.then(S,S)}})}function vl(c,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v],k=c,V=d,se=V;e:for(;se!==null;){switch(se.tag){case 27:if(nd(se.type)){ia=se.stateNode,gl=!1;break e}break;case 5:ia=se.stateNode,gl=!1;break e;case 3:case 4:ia=se.stateNode.containerInfo,gl=!0;break e}se=se.return}if(ia===null)throw Error(n(160));C6(k,V,S),ia=null,gl=!1,k=S.alternate,k!==null&&(k.return=null),S.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)D6(d,c),d=d.sibling}var hc=null;function D6(c,d){var m=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:vl(d,c),yl(c),v&4&&(Xf(3,c,c.return),Op(3,c),Xf(5,c,c.return));break;case 1:vl(d,c),yl(c),v&512&&(Ja||m===null||Zc(m,m.return)),v&64&&Ru&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var S=hc;if(vl(d,c),yl(c),v&512&&(Ja||m===null||Zc(m,m.return)),v&4){var k=m!==null?m.memoizedState:null;if(v=c.memoizedState,m===null)if(v===null)if(c.stateNode===null){e:{v=c.type,m=c.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":k=S.getElementsByTagName("title")[0],(!k||k[ze]||k[he]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=S.createElement(v),S.head.insertBefore(k,S.querySelector("head > title"))),Xi(k,v,m),k[he]=c,Tt(k),v=k;break e;case"link":var V=DA("link","href",S).get(v+(m.href||""));if(V){for(var se=0;se<V.length;se++)if(k=V[se],k.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&k.getAttribute("rel")===(m.rel==null?null:m.rel)&&k.getAttribute("title")===(m.title==null?null:m.title)&&k.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){V.splice(se,1);break t}}k=S.createElement(v),Xi(k,v,m),S.head.appendChild(k);break;case"meta":if(V=DA("meta","content",S).get(v+(m.content||""))){for(se=0;se<V.length;se++)if(k=V[se],k.getAttribute("content")===(m.content==null?null:""+m.content)&&k.getAttribute("name")===(m.name==null?null:m.name)&&k.getAttribute("property")===(m.property==null?null:m.property)&&k.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&k.getAttribute("charset")===(m.charSet==null?null:m.charSet)){V.splice(se,1);break t}}k=S.createElement(v),Xi(k,v,m),S.head.appendChild(k);break;default:throw Error(n(468,v))}k[he]=c,Tt(k),v=k}c.stateNode=v}else PA(S,c.type,c.stateNode);else c.stateNode=OA(S,v,c.memoizedProps);else k!==v?(k===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):k.count--,v===null?PA(S,c.type,c.stateNode):OA(S,v,c.memoizedProps)):v===null&&c.stateNode!==null&&wb(c,c.memoizedProps,m.memoizedProps)}break;case 27:vl(d,c),yl(c),v&512&&(Ja||m===null||Zc(m,m.return)),m!==null&&v&4&&wb(c,c.memoizedProps,m.memoizedProps);break;case 5:if(vl(d,c),yl(c),v&512&&(Ja||m===null||Zc(m,m.return)),c.flags&32){S=c.stateNode;try{Ps(S,"")}catch(Lt){vn(c,c.return,Lt)}}v&4&&c.stateNode!=null&&(S=c.memoizedProps,wb(c,S,m!==null?m.memoizedProps:S)),v&1024&&(Sb=!0);break;case 6:if(vl(d,c),yl(c),v&4){if(c.stateNode===null)throw Error(n(162));v=c.memoizedProps,m=c.stateNode;try{m.nodeValue=v}catch(Lt){vn(c,c.return,Lt)}}break;case 3:if(E1=null,S=hc,hc=j1(d.containerInfo),vl(d,c),hc=S,yl(c),v&4&&m!==null&&m.memoizedState.isDehydrated)try{am(d.containerInfo)}catch(Lt){vn(c,c.return,Lt)}Sb&&(Sb=!1,P6(c));break;case 4:v=hc,hc=j1(c.stateNode.containerInfo),vl(d,c),yl(c),hc=v;break;case 12:vl(d,c),yl(c);break;case 31:vl(d,c),yl(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,f1(c,v)));break;case 13:vl(d,c),yl(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(h1=$t()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,f1(c,v)));break;case 22:S=c.memoizedState!==null;var Ae=m!==null&&m.memoizedState!==null,$e=Ru,Je=Ja;if(Ru=$e||S,Ja=Je||Ae,vl(d,c),Ja=Je,Ru=$e,yl(c),v&8192)e:for(d=c.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(m===null||Ae||Ru||Ja||x0(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){Ae=m=d;try{if(k=Ae.stateNode,S)V=k.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{se=Ae.stateNode;var at=Ae.memoizedProps.style,Ve=at!=null&&at.hasOwnProperty("display")?at.display:null;se.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Lt){vn(Ae,Ae.return,Lt)}}}else if(d.tag===6){if(m===null){Ae=d;try{Ae.stateNode.nodeValue=S?"":Ae.memoizedProps}catch(Lt){vn(Ae,Ae.return,Lt)}}}else if(d.tag===18){if(m===null){Ae=d;try{var We=Ae.stateNode;S?_A(We,!0):_A(Ae.stateNode,!1)}catch(Lt){vn(Ae,Ae.return,Lt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=c.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,f1(c,m))));break;case 19:vl(d,c),yl(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,f1(c,v)));break;case 30:break;case 21:break;default:vl(d,c),yl(c)}}function yl(c){var d=c.flags;if(d&2){try{for(var m,v=c.return;v!==null;){if(S6(v)){m=v;break}v=v.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var S=m.stateNode,k=_b(c);u1(c,k,S);break;case 5:var V=m.stateNode;m.flags&32&&(Ps(V,""),m.flags&=-33);var se=_b(c);u1(c,se,V);break;case 3:case 4:var Ae=m.stateNode.containerInfo,$e=_b(c);Nb(c,$e,Ae);break;default:throw Error(n(161))}}catch(Je){vn(c,c.return,Je)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function P6(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;P6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Bu(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)E6(c,d.alternate,d),d=d.sibling}function x0(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Xf(4,d,d.return),x0(d);break;case 1:Zc(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&_6(d,d.return,m),x0(d);break;case 27:zp(d.stateNode);case 26:case 5:Zc(d,d.return),x0(d);break;case 22:d.memoizedState===null&&x0(d);break;case 30:x0(d);break;default:x0(d)}c=c.sibling}}function Uu(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,S=c,k=d,V=k.flags;switch(k.tag){case 0:case 11:case 15:Uu(S,k,m),Op(4,k);break;case 1:if(Uu(S,k,m),v=k,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch($e){vn(v,v.return,$e)}if(v=k,S=v.updateQueue,S!==null){var se=v.stateNode;try{var Ae=S.shared.hiddenCallbacks;if(Ae!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ae.length;S++)Oi(Ae[S],se)}catch($e){vn(v,v.return,$e)}}m&&V&64&&w6(k),Dp(k,k.return);break;case 27:j6(k);case 26:case 5:Uu(S,k,m),m&&v===null&&V&4&&N6(k),Dp(k,k.return);break;case 12:Uu(S,k,m);break;case 31:Uu(S,k,m),m&&V&4&&T6(S,k);break;case 13:Uu(S,k,m),m&&V&4&&O6(S,k);break;case 22:k.memoizedState===null&&Uu(S,k,m),Dp(k,k.return);break;case 30:break;default:Uu(S,k,m)}d=d.sibling}}function jb(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&f0(m))}function Ab(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&f0(c))}function mc(c,d,m,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)F6(c,d,m,v),d=d.sibling}function F6(c,d,m,v){var S=d.flags;switch(d.tag){case 0:case 11:case 15:mc(c,d,m,v),S&2048&&Op(9,d);break;case 1:mc(c,d,m,v);break;case 3:mc(c,d,m,v),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&f0(c)));break;case 12:if(S&2048){mc(c,d,m,v),c=d.stateNode;try{var k=d.memoizedProps,V=k.id,se=k.onPostCommit;typeof se=="function"&&se(V,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Ae){vn(d,d.return,Ae)}}else mc(c,d,m,v);break;case 31:mc(c,d,m,v);break;case 13:mc(c,d,m,v);break;case 23:break;case 22:k=d.stateNode,V=d.alternate,d.memoizedState!==null?k._visibility&2?mc(c,d,m,v):Pp(c,d):k._visibility&2?mc(c,d,m,v):(k._visibility|=2,Gh(c,d,m,v,(d.subtreeFlags&10256)!==0||!1)),S&2048&&jb(V,d);break;case 24:mc(c,d,m,v),S&2048&&Ab(d.alternate,d);break;default:mc(c,d,m,v)}}function Gh(c,d,m,v,S){for(S=S&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var k=c,V=d,se=m,Ae=v,$e=V.flags;switch(V.tag){case 0:case 11:case 15:Gh(k,V,se,Ae,S),Op(8,V);break;case 23:break;case 22:var Je=V.stateNode;V.memoizedState!==null?Je._visibility&2?Gh(k,V,se,Ae,S):Pp(k,V):(Je._visibility|=2,Gh(k,V,se,Ae,S)),S&&$e&2048&&jb(V.alternate,V);break;case 24:Gh(k,V,se,Ae,S),S&&$e&2048&&Ab(V.alternate,V);break;default:Gh(k,V,se,Ae,S)}d=d.sibling}}function Pp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,v=d,S=v.flags;switch(v.tag){case 22:Pp(m,v),S&2048&&jb(v.alternate,v);break;case 24:Pp(m,v),S&2048&&Ab(v.alternate,v);break;default:Pp(m,v)}d=d.sibling}}var Fp=8192;function Kh(c,d,m){if(c.subtreeFlags&Fp)for(c=c.child;c!==null;)L6(c,d,m),c=c.sibling}function L6(c,d,m){switch(c.tag){case 26:Kh(c,d,m),c.flags&Fp&&c.memoizedState!==null&&az(m,hc,c.memoizedState,c.memoizedProps);break;case 5:Kh(c,d,m);break;case 3:case 4:var v=hc;hc=j1(c.stateNode.containerInfo),Kh(c,d,m),hc=v;break;case 22:c.memoizedState===null&&(v=c.alternate,v!==null&&v.memoizedState!==null?(v=Fp,Fp=16777216,Kh(c,d,m),Fp=v):Kh(c,d,m));break;default:Kh(c,d,m)}}function M6(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Lp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];Pi=v,I6(v,c)}M6(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)R6(c),c=c.sibling}function R6(c){switch(c.tag){case 0:case 11:case 15:Lp(c),c.flags&2048&&Xf(9,c,c.return);break;case 3:Lp(c);break;case 12:Lp(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,d1(c)):Lp(c);break;default:Lp(c)}}function d1(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];Pi=v,I6(v,c)}M6(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Xf(8,d,d.return),d1(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,d1(d));break;default:d1(d)}c=c.sibling}}function I6(c,d){for(;Pi!==null;){var m=Pi;switch(m.tag){case 0:case 11:case 15:Xf(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:f0(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,Pi=v;else e:for(m=c;Pi!==null;){v=Pi;var S=v.sibling,k=v.return;if(k6(v),v===m){Pi=null;break e}if(S!==null){S.return=k,Pi=S;break e}Pi=k}}}var yU={getCacheForType:function(c){var d=mi(ya),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m},cacheSignal:function(){return mi(ya).controller.signal}},bU=typeof WeakMap=="function"?WeakMap:Map,on=0,Ln=null,Lr=null,Rr=0,gn=0,Ul=null,Qf=!1,Yh=!1,Eb=!1,zu=0,Oa=0,Zf=0,g0=0,kb=0,zl=0,Xh=0,Mp=null,bl=null,Cb=!1,h1=0,B6=0,m1=1/0,p1=null,Jf=null,xi=0,ed=null,Qh=null,qu=0,Tb=0,Ob=null,U6=null,Rp=0,Db=null;function ql(){return(on&2)!==0&&Rr!==0?Rr&-Rr:ne.T!==null?Ib():ee()}function z6(){if(zl===0)if((Rr&536870912)===0||Fr){var c=In;In<<=1,(In&3932160)===0&&(In=262144),zl=c}else zl=536870912;return c=Gn.current,c!==null&&(c.flags|=32),zl}function wl(c,d,m){(c===Ln&&(gn===2||gn===9)||c.cancelPendingCommit!==null)&&(Zh(c,0),td(c,Rr,zl,!1)),Wt(c,m),((on&2)===0||c!==Ln)&&(c===Ln&&((on&2)===0&&(g0|=m),Oa===4&&td(c,Rr,zl,!1)),Jc(c))}function q6(c,d,m){if((on&6)!==0)throw Error(n(327));var v=!m&&(d&127)===0&&(d&c.expiredLanes)===0||Os(c,d),S=v?NU(c,d):Fb(c,d,!0),k=v;do{if(S===0){Yh&&!v&&td(c,d,0,!1);break}else{if(m=c.current.alternate,k&&!wU(m)){S=Fb(c,d,!1),k=!1;continue}if(S===2){if(k=d,c.errorRecoveryDisabledLanes&k)var V=0;else V=c.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){d=V;e:{var se=c;S=Mp;var Ae=se.current.memoizedState.isDehydrated;if(Ae&&(Zh(se,V).flags|=256),V=Fb(se,V,!1),V!==2){if(Eb&&!Ae){se.errorRecoveryDisabledLanes|=k,g0|=k,S=4;break e}k=bl,bl=S,k!==null&&(bl===null?bl=k:bl.push.apply(bl,k))}S=V}if(k=!1,S!==2)continue}}if(S===1){Zh(c,0),td(c,d,0,!0);break}e:{switch(v=c,k=S,k){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:td(v,d,zl,!Qf);break e;case 2:bl=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(S=h1+300-$t(),10<S)){if(td(v,d,zl,!Qf),Pr(v,0,!0)!==0)break e;qu=d,v.timeoutHandle=yA($6.bind(null,v,m,bl,p1,Cb,d,zl,g0,Xh,Qf,k,"Throttled",-0,0),S);break e}$6(v,m,bl,p1,Cb,d,zl,g0,Xh,Qf,k,null,-0,0)}}break}while(!0);Jc(c)}function $6(c,d,m,v,S,k,V,se,Ae,$e,Je,at,Ve,We){if(c.timeoutHandle=-1,at=d.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fl},L6(d,k,at);var Lt=(k&62914560)===k?h1-$t():(k&4194048)===k?B6-$t():0;if(Lt=iz(at,Lt),Lt!==null){qu=k,c.cancelPendingCommit=Lt(Q6.bind(null,c,d,k,m,v,S,V,se,Ae,Je,at,null,Ve,We)),td(c,k,V,!$e);return}}Q6(c,d,k,m,v,S,V,se,Ae)}function wU(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var S=m[v],k=S.getSnapshot;S=S.value;try{if(!ui(k(),S))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function td(c,d,m,v){d&=~kb,d&=~g0,c.suspendedLanes|=d,c.pingedLanes&=~d,v&&(c.warmLanes|=d),v=c.expirationTimes;for(var S=d;0<S;){var k=31-br(S),V=1<<k;v[k]=-1,S&=~V}m!==0&&al(c,m,d)}function x1(){return(on&6)===0?(Ip(0),!1):!0}function Pb(){if(Lr!==null){if(gn===0)var c=Lr.return;else c=Lr,yo=Hc=null,Uh(c),it=null,Mt=0,c=Lr;for(;c!==null;)b6(c.alternate,c),c=c.return;Lr=null}}function Zh(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,zU(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),qu=0,Pb(),Ln=c,Lr=m=cl(c.current,null),Rr=d,gn=0,Ul=null,Qf=!1,Yh=Os(c,d),Eb=!1,Xh=zl=kb=g0=Zf=Oa=0,bl=Mp=null,Cb=!1,(d&8)!==0&&(d|=d&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=d;0<v;){var S=31-br(v),k=1<<S;d|=c[S],v&=~k}return zu=d,i0(),m}function H6(c,d){Xt=null,ne.H=kp,d===ke||d===ye?(d=tt(),gn=3):d===Ue?(d=tt(),gn=4):gn=d===fb?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ul=d,Lr===null&&(Oa=1,i1(c,ul(d,c.current)))}function V6(){var c=Gn.current;return c===null?!0:(Rr&4194048)===Rr?Hr===null:(Rr&62914560)===Rr||(Rr&536870912)!==0?c===Hr:!1}function W6(){var c=ne.H;return ne.H=kp,c===null?kp:c}function G6(){var c=ne.A;return ne.A=yU,c}function g1(){Oa=4,Qf||(Rr&4194048)!==Rr&&Gn.current!==null||(Yh=!0),(Zf&134217727)===0&&(g0&134217727)===0||Ln===null||td(Ln,Rr,zl,!1)}function Fb(c,d,m){var v=on;on|=2;var S=W6(),k=G6();(Ln!==c||Rr!==d)&&(p1=null,Zh(c,d)),d=!1;var V=Oa;e:do try{if(gn!==0&&Lr!==null){var se=Lr,Ae=Ul;switch(gn){case 8:Pb(),V=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(d=!0);var $e=gn;if(gn=0,Ul=null,Jh(c,se,Ae,$e),m&&Yh){V=0;break e}break;default:$e=gn,gn=0,Ul=null,Jh(c,se,Ae,$e)}}_U(),V=Oa;break}catch(Je){H6(c,Je)}while(!0);return d&&c.shellSuspendCounter++,yo=Hc=null,on=v,ne.H=S,ne.A=k,Lr===null&&(Ln=null,Rr=0,i0()),V}function _U(){for(;Lr!==null;)K6(Lr)}function NU(c,d){var m=on;on|=2;var v=W6(),S=G6();Ln!==c||Rr!==d?(p1=null,m1=$t()+500,Zh(c,d)):Yh=Os(c,d);e:do try{if(gn!==0&&Lr!==null){d=Lr;var k=Ul;t:switch(gn){case 1:gn=0,Ul=null,Jh(c,d,k,1);break;case 2:case 9:if(Le(k)){gn=0,Ul=null,Y6(d);break}d=function(){gn!==2&&gn!==9||Ln!==c||(gn=7),Jc(c)},k.then(d,d);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:Le(k)?(gn=0,Ul=null,Y6(d)):(gn=0,Ul=null,Jh(c,d,k,7));break;case 5:var V=null;switch(Lr.tag){case 26:V=Lr.memoizedState;case 5:case 27:var se=Lr;if(V?FA(V):se.stateNode.complete){gn=0,Ul=null;var Ae=se.sibling;if(Ae!==null)Lr=Ae;else{var $e=se.return;$e!==null?(Lr=$e,v1($e)):Lr=null}break t}}gn=0,Ul=null,Jh(c,d,k,5);break;case 6:gn=0,Ul=null,Jh(c,d,k,6);break;case 8:Pb(),Oa=6;break e;default:throw Error(n(462))}}SU();break}catch(Je){H6(c,Je)}while(!0);return yo=Hc=null,ne.H=v,ne.A=S,on=m,Lr!==null?0:(Ln=null,Rr=0,i0(),Oa)}function SU(){for(;Lr!==null&&!Qt();)K6(Lr)}function K6(c){var d=v6(c.alternate,c,zu);c.memoizedProps=c.pendingProps,d===null?v1(c):Lr=d}function Y6(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=d6(m,d,d.pendingProps,d.type,void 0,Rr);break;case 11:d=d6(m,d,d.pendingProps,d.type.render,d.ref,Rr);break;case 5:Uh(d);default:b6(m,d),d=Lr=o0(d,zu),d=v6(m,d,zu)}c.memoizedProps=c.pendingProps,d===null?v1(c):Lr=d}function Jh(c,d,m,v){yo=Hc=null,Uh(d),it=null,Mt=0;var S=d.return;try{if(dU(c,S,d,m,Rr)){Oa=1,i1(c,ul(m,c.current)),Lr=null;return}}catch(k){if(S!==null)throw Lr=S,k;Oa=1,i1(c,ul(m,c.current)),Lr=null;return}d.flags&32768?(Fr||v===1?c=!0:Yh||(Rr&536870912)!==0?c=!1:(Qf=c=!0,(v===2||v===9||v===3||v===6)&&(v=Gn.current,v!==null&&v.tag===13&&(v.flags|=16384))),X6(d,c)):v1(d)}function v1(c){var d=c;do{if((d.flags&32768)!==0){X6(d,Qf);return}c=d.return;var m=pU(d.alternate,d,zu);if(m!==null){Lr=m;return}if(d=d.sibling,d!==null){Lr=d;return}Lr=d=c}while(d!==null);Oa===0&&(Oa=5)}function X6(c,d){do{var m=xU(c.alternate,c);if(m!==null){m.flags&=32767,Lr=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){Lr=c;return}Lr=c=m}while(c!==null);Oa=6,Lr=null}function Q6(c,d,m,v,S,k,V,se,Ae){c.cancelPendingCommit=null;do y1();while(xi!==0);if((on&6)!==0)throw Error(n(327));if(d!==null){if(d===c.current)throw Error(n(177));if(k=d.lanes|d.childLanes,k|=Ah,Tl(c,m,k,V,se,Ae),c===Ln&&(Lr=Ln=null,Rr=0),Qh=d,ed=c,qu=m,Tb=k,Ob=S,U6=v,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,kU(It,function(){return rA(),null})):(c.callbackNode=null,c.callbackPriority=0),v=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||v){v=ne.T,ne.T=null,S=le.p,le.p=2,V=on,on|=4;try{gU(c,d,m)}finally{on=V,le.p=S,ne.T=v}}xi=1,Z6(),J6(),eA()}}function Z6(){if(xi===1){xi=0;var c=ed,d=Qh,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=ne.T,ne.T=null;var v=le.p;le.p=2;var S=on;on|=4;try{D6(d,c);var k=Wb,V=ic(c.containerInfo),se=k.focusedElem,Ae=k.selectionRange;if(V!==se&&se&&se.ownerDocument&&ac(se.ownerDocument.documentElement,se)){if(Ae!==null&&go(se)){var $e=Ae.start,Je=Ae.end;if(Je===void 0&&(Je=$e),"selectionStart"in se)se.selectionStart=$e,se.selectionEnd=Math.min(Je,se.value.length);else{var at=se.ownerDocument||document,Ve=at&&at.defaultView||window;if(Ve.getSelection){var We=Ve.getSelection(),Lt=se.textContent.length,lr=Math.min(Ae.start,Lt),Tn=Ae.end===void 0?lr:Math.min(Ae.end,Lt);!We.extend&&lr>Tn&&(V=Tn,Tn=lr,lr=V);var Fe=Bf(se,lr),Te=Bf(se,Tn);if(Fe&&Te&&(We.rangeCount!==1||We.anchorNode!==Fe.node||We.anchorOffset!==Fe.offset||We.focusNode!==Te.node||We.focusOffset!==Te.offset)){var qe=at.createRange();qe.setStart(Fe.node,Fe.offset),We.removeAllRanges(),lr>Tn?(We.addRange(qe),We.extend(Te.node,Te.offset)):(qe.setEnd(Te.node,Te.offset),We.addRange(qe))}}}}for(at=[],We=se;We=We.parentNode;)We.nodeType===1&&at.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<at.length;se++){var nt=at[se];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}O1=!!Vb,Wb=Vb=null}finally{on=S,le.p=v,ne.T=m}}c.current=d,xi=2}}function J6(){if(xi===2){xi=0;var c=ed,d=Qh,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=ne.T,ne.T=null;var v=le.p;le.p=2;var S=on;on|=4;try{E6(c,d.alternate,d)}finally{on=S,le.p=v,ne.T=m}}xi=3}}function eA(){if(xi===4||xi===3){xi=0,Pt();var c=ed,d=Qh,m=qu,v=U6;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?xi=5:(xi=0,Qh=ed=null,tA(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(Jf=null),ea(m),d=d.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Yt,d,void 0,(d.current.flags&128)===128)}catch{}if(v!==null){d=ne.T,S=le.p,le.p=2,ne.T=null;try{for(var k=c.onRecoverableError,V=0;V<v.length;V++){var se=v[V];k(se.value,{componentStack:se.stack})}}finally{ne.T=d,le.p=S}}(qu&3)!==0&&y1(),Jc(c),S=c.pendingLanes,(m&261930)!==0&&(S&42)!==0?c===Db?Rp++:(Rp=0,Db=c):Rp=0,Ip(0)}}function tA(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,f0(d)))}function y1(){return Z6(),J6(),eA(),rA()}function rA(){if(xi!==5)return!1;var c=ed,d=Tb;Tb=0;var m=ea(qu),v=ne.T,S=le.p;try{le.p=32>m?32:m,ne.T=null,m=Ob,Ob=null;var k=ed,V=qu;if(xi=0,Qh=ed=null,qu=0,(on&6)!==0)throw Error(n(331));var se=on;if(on|=4,R6(k.current),F6(k,k.current,V,m),on=se,Ip(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Yt,k)}catch{}return!0}finally{le.p=S,ne.T=v,tA(c,d)}}function nA(c,d,m){d=ul(m,d),d=ub(c.stateNode,d,2),c=wr(c,d,2),c!==null&&(Wt(c,2),Jc(c))}function vn(c,d,m){if(c.tag===3)nA(c,c,m);else for(;d!==null;){if(d.tag===3){nA(d,c,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Jf===null||!Jf.has(v))){c=ul(m,c),m=a6(2),v=wr(d,m,2),v!==null&&(i6(m,v,d,c),Wt(v,2),Jc(v));break}}d=d.return}}function Lb(c,d,m){var v=c.pingCache;if(v===null){v=c.pingCache=new bU;var S=new Set;v.set(d,S)}else S=v.get(d),S===void 0&&(S=new Set,v.set(d,S));S.has(m)||(Eb=!0,S.add(m),c=jU.bind(null,c,d,m),d.then(c,c))}function jU(c,d,m){var v=c.pingCache;v!==null&&v.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,Ln===c&&(Rr&m)===m&&(Oa===4||Oa===3&&(Rr&62914560)===Rr&&300>$t()-h1?(on&2)===0&&Zh(c,0):kb|=m,Xh===Rr&&(Xh=0)),Jc(c)}function aA(c,d){d===0&&(d=nl()),c=lc(c,d),c!==null&&(Wt(c,d),Jc(c))}function AU(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),aA(c,m)}function EU(c,d){var m=0;switch(c.tag){case 31:case 13:var v=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(d),aA(c,m)}function kU(c,d){return At(c,d)}var b1=null,em=null,Mb=!1,w1=!1,Rb=!1,rd=0;function Jc(c){c!==em&&c.next===null&&(em===null?b1=em=c:em=em.next=c),w1=!0,Mb||(Mb=!0,TU())}function Ip(c,d){if(!Rb&&w1){Rb=!0;do for(var m=!1,v=b1;v!==null;){if(c!==0){var S=v.pendingLanes;if(S===0)var k=0;else{var V=v.suspendedLanes,se=v.pingedLanes;k=(1<<31-br(42|c)+1)-1,k&=S&~(V&~se),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(m=!0,oA(v,k))}else k=Rr,k=Pr(v,v===Ln?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||Os(v,k)||(m=!0,oA(v,k));v=v.next}while(m);Rb=!1}}function CU(){iA()}function iA(){w1=Mb=!1;var c=0;rd!==0&&UU()&&(c=rd);for(var d=$t(),m=null,v=b1;v!==null;){var S=v.next,k=sA(v,d);k===0?(v.next=null,m===null?b1=S:m.next=S,S===null&&(em=m)):(m=v,(c!==0||(k&3)!==0)&&(w1=!0)),v=S}xi!==0&&xi!==5||Ip(c),rd!==0&&(rd=0)}function sA(c,d){for(var m=c.suspendedLanes,v=c.pingedLanes,S=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var V=31-br(k),se=1<<V,Ae=S[V];Ae===-1?((se&m)===0||(se&v)!==0)&&(S[V]=Ya(se,d)):Ae<=d&&(c.expiredLanes|=se),k&=~se}if(d=Ln,m=Rr,m=Pr(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v=c.callbackNode,m===0||c===d&&(gn===2||gn===9)||c.cancelPendingCommit!==null)return v!==null&&v!==null&&pt(v),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||Os(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(v!==null&&pt(v),ea(m)){case 2:case 8:m=Dr;break;case 32:m=It;break;case 268435456:m=xt;break;default:m=It}return v=lA.bind(null,c),m=At(m,v),c.callbackPriority=d,c.callbackNode=m,d}return v!==null&&v!==null&&pt(v),c.callbackPriority=2,c.callbackNode=null,2}function lA(c,d){if(xi!==0&&xi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(y1()&&c.callbackNode!==m)return null;var v=Rr;return v=Pr(c,c===Ln?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),v===0?null:(q6(c,v,d),sA(c,$t()),c.callbackNode!=null&&c.callbackNode===m?lA.bind(null,c):null)}function oA(c,d){if(y1())return null;q6(c,d,!0)}function TU(){qU(function(){(on&6)!==0?At(Jt,CU):iA()})}function Ib(){if(rd===0){var c=N;c===0&&(c=pn,pn<<=1,(pn&261888)===0&&(pn=256)),rd=c}return rd}function cA(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Pl(""+c)}function uA(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function OU(c,d,m,v,S){if(d==="submit"&&m&&m.stateNode===S){var k=cA((S[ge]||null).action),V=v.submitter;V&&(d=(d=V[ge]||null)?cA(d.formAction):V.getAttribute("formAction"),d!==null&&(k=d,V=null));var se=new oo("action","action",null,v,S);c.push({event:se,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(rd!==0){var Ae=V?uA(S,V):new FormData(S);ab(m,{pending:!0,data:Ae,method:S.method,action:k},null,Ae)}}else typeof k=="function"&&(se.preventDefault(),Ae=V?uA(S,V):new FormData(S),ab(m,{pending:!0,data:Ae,method:S.method,action:k},k,Ae))},currentTarget:S}]})}}for(var Bb=0;Bb<Eu.length;Bb++){var Ub=Eu[Bb],DU=Ub.toLowerCase(),PU=Ub[0].toUpperCase()+Ub.slice(1);ol(DU,"on"+PU)}ol(Au,"onAnimationEnd"),ol(n0,"onAnimationIteration"),ol(hp,"onAnimationStart"),ol("dblclick","onDoubleClick"),ol("focusin","onFocus"),ol("focusout","onBlur"),ol(Wg,"onTransitionRun"),ol(Gg,"onTransitionStart"),ol(Kg,"onTransitionCancel"),ol(mp,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bp));function fA(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var v=c[m],S=v.event;v=v.listeners;e:{var k=void 0;if(d)for(var V=v.length-1;0<=V;V--){var se=v[V],Ae=se.instance,$e=se.currentTarget;if(se=se.listener,Ae!==k&&S.isPropagationStopped())break e;k=se,S.currentTarget=$e;try{k(S)}catch(Je){a0(Je)}S.currentTarget=null,k=Ae}else for(V=0;V<v.length;V++){if(se=v[V],Ae=se.instance,$e=se.currentTarget,se=se.listener,Ae!==k&&S.isPropagationStopped())break e;k=se,S.currentTarget=$e;try{k(S)}catch(Je){a0(Je)}S.currentTarget=null,k=Ae}}}}function Mr(c,d){var m=d[Me];m===void 0&&(m=d[Me]=new Set);var v=c+"__bubble";m.has(v)||(dA(d,c,2,!1),m.add(v))}function zb(c,d,m){var v=0;d&&(v|=4),dA(m,c,v,d)}var _1="_reactListening"+Math.random().toString(36).slice(2);function qb(c){if(!c[_1]){c[_1]=!0,an.forEach(function(m){m!=="selectionchange"&&(FU.has(m)||zb(m,!1,c),zb(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[_1]||(d[_1]=!0,zb("selectionchange",!1,d))}}function dA(c,d,m,v){switch(zA(d)){case 2:var S=oz;break;case 8:S=cz;break;default:S=nw}m=S.bind(null,d,m,c),S=void 0,!e0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),v?S!==void 0?c.addEventListener(d,m,{capture:!0,passive:S}):c.addEventListener(d,m,!0):S!==void 0?c.addEventListener(d,m,{passive:S}):c.addEventListener(d,m,!1)}function $b(c,d,m,v,S){var k=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var se=v.stateNode.containerInfo;if(se===S)break;if(V===4)for(V=v.return;V!==null;){var Ae=V.tag;if((Ae===3||Ae===4)&&V.stateNode.containerInfo===S)return;V=V.return}for(;se!==null;){if(V=mt(se),V===null)return;if(Ae=V.tag,Ae===5||Ae===6||Ae===26||Ae===27){v=k=V;continue e}se=se.parentNode}}v=v.return}bh(function(){var $e=k,Je=gu(m),at=[];e:{var Ve=pp.get(c);if(Ve!==void 0){var We=oo,Lt=c;switch(c){case"keypress":if(Yo(m)===0)break e;case"keydown":case"keyup":We=Gr;break;case"focusin":Lt="focus",We=Jo;break;case"focusout":Lt="blur",We=Jo;break;case"beforeblur":case"afterblur":We=Jo;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Ba;break;case Au:case n0:case hp:We=F;break;case mp:We=oi;break;case"scroll":case"scrollend":We=Df;break;case"wheel":We=cs;break;case"copy":case"cut":case"paste":We=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=xa;break;case"toggle":case"beforetoggle":We=Pf}var lr=(d&4)!==0,Tn=!lr&&(c==="scroll"||c==="scrollend"),Fe=lr?Ve!==null?Ve+"Capture":null:Ve;lr=[];for(var Te=$e,qe;Te!==null;){var nt=Te;if(qe=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||qe===null||Fe===null||(nt=Fs(Te,Fe),nt!=null&&lr.push(Up(Te,nt,qe))),Tn)break;Te=Te.return}0<lr.length&&(Ve=new We(Ve,Lt,null,m,Je),at.push({event:Ve,listeners:lr}))}}if((d&7)===0){e:{if(Ve=c==="mouseover"||c==="pointerover",We=c==="mouseout"||c==="pointerout",Ve&&m!==Ko&&(Lt=m.relatedTarget||m.fromElement)&&(mt(Lt)||Lt[Ne]))break e;if((We||Ve)&&(Ve=Je.window===Je?Je:(Ve=Je.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,We?(Lt=m.relatedTarget||m.toElement,We=$e,Lt=Lt?mt(Lt):null,Lt!==null&&(Tn=i(Lt),lr=Lt.tag,Lt!==Tn||lr!==5&&lr!==27&&lr!==6)&&(Lt=null)):(We=null,Lt=$e),We!==Lt)){if(lr=co,nt="onMouseLeave",Fe="onMouseEnter",Te="mouse",(c==="pointerout"||c==="pointerover")&&(lr=xa,nt="onPointerLeave",Fe="onPointerEnter",Te="pointer"),Tn=We==null?Ve:ht(We),qe=Lt==null?Ve:ht(Lt),Ve=new lr(nt,Te+"leave",We,m,Je),Ve.target=Tn,Ve.relatedTarget=qe,nt=null,mt(Je)===$e&&(lr=new lr(Fe,Te+"enter",Lt,m,Je),lr.target=qe,lr.relatedTarget=Tn,nt=lr),Tn=nt,We&&Lt)t:{for(lr=LU,Fe=We,Te=Lt,qe=0,nt=Fe;nt;nt=lr(nt))qe++;nt=0;for(var rr=Te;rr;rr=lr(rr))nt++;for(;0<qe-nt;)Fe=lr(Fe),qe--;for(;0<nt-qe;)Te=lr(Te),nt--;for(;qe--;){if(Fe===Te||Te!==null&&Fe===Te.alternate){lr=Fe;break t}Fe=lr(Fe),Te=lr(Te)}lr=null}else lr=null;We!==null&&hA(at,Ve,We,lr,!1),Lt!==null&&Tn!==null&&hA(at,Tn,Lt,lr,!0)}}e:{if(Ve=$e?ht($e):window,We=Ve.nodeName&&Ve.nodeName.toLowerCase(),We==="select"||We==="input"&&Ve.type==="file")var Jr=Uc;else if(t0(Ve))if(us)Jr=po;else{Jr=ga;var zt=Rf}else We=Ve.nodeName,!We||We.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?$e&&Qd($e.elementType)&&(Jr=Uc):Jr=jh;if(Jr&&(Jr=Jr(c,$e))){Rs(at,Jr,m,Je);break e}zt&&zt(c,Ve,$e),c==="focusout"&&$e&&Ve.type==="number"&&$e.memoizedProps.value!=null&&Gd(Ve,"number",Ve.value)}switch(zt=$e?ht($e):window,c){case"focusin":(t0(zt)||zt.contentEditable==="true")&&(Is=zt,sc=$e,ki=null);break;case"focusout":ki=sc=Is=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,Kr(at,m,Je);break;case"selectionchange":if(ju)break;case"keydown":case"keyup":Kr(at,m,Je)}var Sr;if(uo)e:{switch(c){case"compositionstart":var Ir="onCompositionStart";break e;case"compositionend":Ir="onCompositionEnd";break e;case"compositionupdate":Ir="onCompositionUpdate";break e}Ir=void 0}else fo?Bc(c,m)&&(Ir="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Ir="onCompositionStart");Ir&&(Rc&&m.locale!=="ko"&&(fo||Ir!=="onCompositionStart"?Ir==="onCompositionEnd"&&fo&&(Sr=bu()):(Ls=Je,yu="value"in Ls?Ls.value:Ls.textContent,fo=!0)),zt=N1($e,Ir),0<zt.length&&(Ir=new Pe(Ir,c,null,m,Je),at.push({event:Ir,listeners:zt}),Sr?Ir.data=Sr:(Sr=Ff(m),Sr!==null&&(Ir.data=Sr)))),(Sr=Su?ta(c,m):ec(c,m))&&(Ir=N1($e,"onBeforeInput"),0<Ir.length&&(zt=new Pe("onBeforeInput","beforeinput",null,m,Je),at.push({event:zt,listeners:Ir}),zt.data=Sr)),OU(at,c,$e,m,Je)}fA(at,d)})}function Up(c,d,m){return{instance:c,listener:d,currentTarget:m}}function N1(c,d){for(var m=d+"Capture",v=[];c!==null;){var S=c,k=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||k===null||(S=Fs(c,m),S!=null&&v.unshift(Up(c,S,k)),S=Fs(c,d),S!=null&&v.push(Up(c,S,k))),c.tag===3)return v;c=c.return}return[]}function LU(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function hA(c,d,m,v,S){for(var k=d._reactName,V=[];m!==null&&m!==v;){var se=m,Ae=se.alternate,$e=se.stateNode;if(se=se.tag,Ae!==null&&Ae===v)break;se!==5&&se!==26&&se!==27||$e===null||(Ae=$e,S?($e=Fs(m,k),$e!=null&&V.unshift(Up(m,$e,Ae))):S||($e=Fs(m,k),$e!=null&&V.push(Up(m,$e,Ae)))),m=m.return}V.length!==0&&c.push({event:d,listeners:V})}var MU=/\r\n?/g,RU=/\u0000|\uFFFD/g;function mA(c){return(typeof c=="string"?c:""+c).replace(MU,`
`).replace(RU,"")}function pA(c,d){return d=mA(d),mA(c)===d}function Cn(c,d,m,v,S,k){switch(m){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||Ps(c,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&Ps(c,""+v);break;case"className":Cf(c,"class",v);break;case"tabIndex":Cf(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Cf(c,m,v);break;case"style":vh(c,v,k);break;case"data":if(d!=="object"){Cf(c,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=Pl(""+v),c.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(m==="formAction"?(d!=="input"&&Cn(c,d,"name",S.name,S,null),Cn(c,d,"formEncType",S.formEncType,S,null),Cn(c,d,"formMethod",S.formMethod,S,null),Cn(c,d,"formTarget",S.formTarget,S,null)):(Cn(c,d,"encType",S.encType,S,null),Cn(c,d,"method",S.method,S,null),Cn(c,d,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=Pl(""+v),c.setAttribute(m,v);break;case"onClick":v!=null&&(c.onclick=Fl);break;case"onScroll":v!=null&&Mr("scroll",c);break;case"onScrollEnd":v!=null&&Mr("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}m=Pl(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""+v):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":v===!0?c.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,v):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(m,v):c.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(m):c.setAttribute(m,v);break;case"popover":Mr("beforetoggle",c),Mr("toggle",c),Ia(c,"popover",v);break;case"xlinkActuate":fn(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":fn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":fn(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":fn(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":fn(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":fn(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":fn(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":fn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":fn(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ia(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Zd.get(m)||m,Ia(c,m,v))}}function Hb(c,d,m,v,S,k){switch(m){case"style":vh(c,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"children":typeof v=="string"?Ps(c,v):(typeof v=="number"||typeof v=="bigint")&&Ps(c,""+v);break;case"onScroll":v!=null&&Mr("scroll",c);break;case"onScrollEnd":v!=null&&Mr("scrollend",c);break;case"onClick":v!=null&&(c.onclick=Fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),d=m.slice(2,S?m.length-7:void 0),k=c[ge]||null,k=k!=null?k[m]:null,typeof k=="function"&&c.removeEventListener(d,k,S),typeof v=="function")){typeof k!="function"&&k!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,v,S);break e}m in c?c[m]=v:v===!0?c.setAttribute(m,""):Ia(c,m,v)}}}function Xi(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mr("error",c),Mr("load",c);var v=!1,S=!1,k;for(k in m)if(m.hasOwnProperty(k)){var V=m[k];if(V!=null)switch(k){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,k,V,m,null)}}S&&Cn(c,d,"srcSet",m.srcSet,m,null),v&&Cn(c,d,"src",m.src,m,null);return;case"input":Mr("invalid",c);var se=k=V=S=null,Ae=null,$e=null;for(v in m)if(m.hasOwnProperty(v)){var Je=m[v];if(Je!=null)switch(v){case"name":S=Je;break;case"type":V=Je;break;case"checked":Ae=Je;break;case"defaultChecked":$e=Je;break;case"value":k=Je;break;case"defaultValue":se=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,d));break;default:Cn(c,d,v,Je,m,null)}}xh(c,k,se,Ae,$e,V,S,!1);return;case"select":Mr("invalid",c),v=V=k=null;for(S in m)if(m.hasOwnProperty(S)&&(se=m[S],se!=null))switch(S){case"value":k=se;break;case"defaultValue":V=se;break;case"multiple":v=se;default:Cn(c,d,S,se,m,null)}d=k,m=V,c.multiple=!!v,d!=null?Vi(c,!!v,d,!1):m!=null&&Vi(c,!!v,m,!0);return;case"textarea":Mr("invalid",c),k=S=v=null;for(V in m)if(m.hasOwnProperty(V)&&(se=m[V],se!=null))switch(V){case"value":v=se;break;case"defaultValue":S=se;break;case"children":k=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(91));break;default:Cn(c,d,V,se,m,null)}Yd(c,v,S,k);return;case"option":for(Ae in m)if(m.hasOwnProperty(Ae)&&(v=m[Ae],v!=null))switch(Ae){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Cn(c,d,Ae,v,m,null)}return;case"dialog":Mr("beforetoggle",c),Mr("toggle",c),Mr("cancel",c),Mr("close",c);break;case"iframe":case"object":Mr("load",c);break;case"video":case"audio":for(v=0;v<Bp.length;v++)Mr(Bp[v],c);break;case"image":Mr("error",c),Mr("load",c);break;case"details":Mr("toggle",c);break;case"embed":case"source":case"link":Mr("error",c),Mr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in m)if(m.hasOwnProperty($e)&&(v=m[$e],v!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Cn(c,d,$e,v,m,null)}return;default:if(Qd(d)){for(Je in m)m.hasOwnProperty(Je)&&(v=m[Je],v!==void 0&&Hb(c,d,Je,v,m,void 0));return}}for(se in m)m.hasOwnProperty(se)&&(v=m[se],v!=null&&Cn(c,d,se,v,m,null))}function IU(c,d,m,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,k=null,V=null,se=null,Ae=null,$e=null,Je=null;for(We in m){var at=m[We];if(m.hasOwnProperty(We)&&at!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":Ae=at;default:v.hasOwnProperty(We)||Cn(c,d,We,null,v,at)}}for(var Ve in v){var We=v[Ve];if(at=m[Ve],v.hasOwnProperty(Ve)&&(We!=null||at!=null))switch(Ve){case"type":k=We;break;case"name":S=We;break;case"checked":$e=We;break;case"defaultChecked":Je=We;break;case"value":V=We;break;case"defaultValue":se=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,d));break;default:We!==at&&Cn(c,d,Ve,We,v,at)}}Wd(c,V,se,Ae,$e,Je,k,S);return;case"select":We=V=se=Ve=null;for(k in m)if(Ae=m[k],m.hasOwnProperty(k)&&Ae!=null)switch(k){case"value":break;case"multiple":We=Ae;default:v.hasOwnProperty(k)||Cn(c,d,k,null,v,Ae)}for(S in v)if(k=v[S],Ae=m[S],v.hasOwnProperty(S)&&(k!=null||Ae!=null))switch(S){case"value":Ve=k;break;case"defaultValue":se=k;break;case"multiple":V=k;default:k!==Ae&&Cn(c,d,S,k,v,Ae)}d=se,m=V,v=We,Ve!=null?Vi(c,!!m,Ve,!1):!!v!=!!m&&(d!=null?Vi(c,!!m,d,!0):Vi(c,!!m,m?[]:"",!1));return;case"textarea":We=Ve=null;for(se in m)if(S=m[se],m.hasOwnProperty(se)&&S!=null&&!v.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:Cn(c,d,se,null,v,S)}for(V in v)if(S=v[V],k=m[V],v.hasOwnProperty(V)&&(S!=null||k!=null))switch(V){case"value":Ve=S;break;case"defaultValue":We=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==k&&Cn(c,d,V,S,v,k)}Kd(c,Ve,We);return;case"option":for(var Lt in m)if(Ve=m[Lt],m.hasOwnProperty(Lt)&&Ve!=null&&!v.hasOwnProperty(Lt))switch(Lt){case"selected":c.selected=!1;break;default:Cn(c,d,Lt,null,v,Ve)}for(Ae in v)if(Ve=v[Ae],We=m[Ae],v.hasOwnProperty(Ae)&&Ve!==We&&(Ve!=null||We!=null))switch(Ae){case"selected":c.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Cn(c,d,Ae,Ve,v,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lr in m)Ve=m[lr],m.hasOwnProperty(lr)&&Ve!=null&&!v.hasOwnProperty(lr)&&Cn(c,d,lr,null,v,Ve);for($e in v)if(Ve=v[$e],We=m[$e],v.hasOwnProperty($e)&&Ve!==We&&(Ve!=null||We!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,d));break;default:Cn(c,d,$e,Ve,v,We)}return;default:if(Qd(d)){for(var Tn in m)Ve=m[Tn],m.hasOwnProperty(Tn)&&Ve!==void 0&&!v.hasOwnProperty(Tn)&&Hb(c,d,Tn,void 0,v,Ve);for(Je in v)Ve=v[Je],We=m[Je],!v.hasOwnProperty(Je)||Ve===We||Ve===void 0&&We===void 0||Hb(c,d,Je,Ve,v,We);return}}for(var Fe in m)Ve=m[Fe],m.hasOwnProperty(Fe)&&Ve!=null&&!v.hasOwnProperty(Fe)&&Cn(c,d,Fe,null,v,Ve);for(at in v)Ve=v[at],We=m[at],!v.hasOwnProperty(at)||Ve===We||Ve==null&&We==null||Cn(c,d,at,Ve,v,We)}function xA(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BU(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var S=m[v],k=S.transferSize,V=S.initiatorType,se=S.duration;if(k&&se&&xA(V)){for(V=0,se=S.responseEnd,v+=1;v<m.length;v++){var Ae=m[v],$e=Ae.startTime;if($e>se)break;var Je=Ae.transferSize,at=Ae.initiatorType;Je&&xA(at)&&(Ae=Ae.responseEnd,V+=Je*(Ae<se?1:(se-$e)/(Ae-$e)))}if(--v,d+=8*(k+V)/(S.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Vb=null,Wb=null;function S1(c){return c.nodeType===9?c:c.ownerDocument}function gA(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vA(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function Gb(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Kb=null;function UU(){var c=window.event;return c&&c.type==="popstate"?c===Kb?!1:(Kb=c,!0):(Kb=null,!1)}var yA=typeof setTimeout=="function"?setTimeout:void 0,zU=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,qU=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(c){return bA.resolve(null).then(c).catch($U)}:yA;function $U(c){setTimeout(function(){throw c})}function nd(c){return c==="head"}function wA(c,d){var m=d,v=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"||m==="/&"){if(v===0){c.removeChild(S),am(d);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")zp(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,zp(m);for(var k=m.firstChild;k;){var V=k.nextSibling,se=k.nodeName;k[ze]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&k.rel.toLowerCase()==="stylesheet"||m.removeChild(k),k=V}}else m==="body"&&zp(c.ownerDocument.body);m=S}while(m);am(d)}function _A(c,d){var m=c;c=0;do{var v=m.nextSibling;if(m.nodeType===1?d?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(d?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=v}while(m)}function Yb(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Yb(m),ut(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function HU(c,d,m,v){for(;c.nodeType===1;){var S=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[ze])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var k=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=_o(c.nextSibling),c===null)break}return null}function VU(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=_o(c.nextSibling),c===null))return null;return c}function NA(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=_o(c.nextSibling),c===null))return null;return c}function Xb(c){return c.data==="$?"||c.data==="$~"}function Qb(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function WU(c,d){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||m.readyState!=="loading")d();else{var v=function(){d(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),c._reactRetry=v}}function _o(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var Zb=null;function SA(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(d===0)return _o(c.nextSibling);d--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||d++}c=c.nextSibling}return null}function jA(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(d===0)return c;d--}else m!=="/$"&&m!=="/&"||d++}c=c.previousSibling}return null}function AA(c,d,m){switch(d=S1(m),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function zp(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);ut(c)}var No=new Map,EA=new Set;function j1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var $u=le.d;le.d={f:GU,r:KU,D:YU,C:XU,L:QU,m:ZU,X:ez,S:JU,M:tz};function GU(){var c=$u.f(),d=x1();return c||d}function KU(c){var d=_t(c);d!==null&&d.tag===5&&d.type==="form"?Hj(d):$u.r(c)}var tm=typeof document>"u"?null:document;function kA(c,d,m){var v=tm;if(v&&typeof d=="string"&&d){var S=Ei(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),EA.has(S)||(EA.add(S),c={rel:c,crossOrigin:m,href:d},v.querySelector(S)===null&&(d=v.createElement("link"),Xi(d,"link",c),Tt(d),v.head.appendChild(d)))}}function YU(c){$u.D(c),kA("dns-prefetch",c,null)}function XU(c,d){$u.C(c,d),kA("preconnect",c,d)}function QU(c,d,m){$u.L(c,d,m);var v=tm;if(v&&c&&d){var S='link[rel="preload"][as="'+Ei(d)+'"]';d==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+Ei(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+Ei(m.imageSizes)+'"]')):S+='[href="'+Ei(c)+'"]';var k=S;switch(d){case"style":k=rm(c);break;case"script":k=nm(c)}No.has(k)||(c=p({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),No.set(k,c),v.querySelector(S)!==null||d==="style"&&v.querySelector(qp(k))||d==="script"&&v.querySelector($p(k))||(d=v.createElement("link"),Xi(d,"link",c),Tt(d),v.head.appendChild(d)))}}function ZU(c,d){$u.m(c,d);var m=tm;if(m&&c){var v=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+Ei(v)+'"][href="'+Ei(c)+'"]',k=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=nm(c)}if(!No.has(k)&&(c=p({rel:"modulepreload",href:c},d),No.set(k,c),m.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector($p(k)))return}v=m.createElement("link"),Xi(v,"link",c),Tt(v),m.head.appendChild(v)}}}function JU(c,d,m){$u.S(c,d,m);var v=tm;if(v&&c){var S=vt(v).hoistableStyles,k=rm(c);d=d||"default";var V=S.get(k);if(!V){var se={loading:0,preload:null};if(V=v.querySelector(qp(k)))se.loading=5;else{c=p({rel:"stylesheet",href:c,"data-precedence":d},m),(m=No.get(k))&&Jb(c,m);var Ae=V=v.createElement("link");Tt(Ae),Xi(Ae,"link",c),Ae._p=new Promise(function($e,Je){Ae.onload=$e,Ae.onerror=Je}),Ae.addEventListener("load",function(){se.loading|=1}),Ae.addEventListener("error",function(){se.loading|=2}),se.loading|=4,A1(V,d,v)}V={type:"stylesheet",instance:V,count:1,state:se},S.set(k,V)}}}function ez(c,d){$u.X(c,d);var m=tm;if(m&&c){var v=vt(m).hoistableScripts,S=nm(c),k=v.get(S);k||(k=m.querySelector($p(S)),k||(c=p({src:c,async:!0},d),(d=No.get(S))&&ew(c,d),k=m.createElement("script"),Tt(k),Xi(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(S,k))}}function tz(c,d){$u.M(c,d);var m=tm;if(m&&c){var v=vt(m).hoistableScripts,S=nm(c),k=v.get(S);k||(k=m.querySelector($p(S)),k||(c=p({src:c,async:!0,type:"module"},d),(d=No.get(S))&&ew(c,d),k=m.createElement("script"),Tt(k),Xi(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(S,k))}}function CA(c,d,m,v){var S=(S=Z.current)?j1(S):null;if(!S)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=rm(m.href),m=vt(S).hoistableStyles,v=m.get(d),v||(v={type:"style",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=rm(m.href);var k=vt(S).hoistableStyles,V=k.get(c);if(V||(S=S.ownerDocument||S,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,V),(k=S.querySelector(qp(c)))&&!k._p&&(V.instance=k,V.state.loading=5),No.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},No.set(c,m),k||rz(S,c,m,V.state))),d&&v===null)throw Error(n(528,""));return V}if(d&&v!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=nm(m),m=vt(S).hoistableScripts,v=m.get(d),v||(v={type:"script",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function rm(c){return'href="'+Ei(c)+'"'}function qp(c){return'link[rel="stylesheet"]['+c+"]"}function TA(c){return p({},c,{"data-precedence":c.precedence,precedence:null})}function rz(c,d,m,v){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=c.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Xi(d,"link",m),Tt(d),c.head.appendChild(d))}function nm(c){return'[src="'+Ei(c)+'"]'}function $p(c){return"script[async]"+c}function OA(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var v=c.querySelector('style[data-href~="'+Ei(m.href)+'"]');if(v)return d.instance=v,Tt(v),v;var S=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),Tt(v),Xi(v,"style",S),A1(v,m.precedence,c),d.instance=v;case"stylesheet":S=rm(m.href);var k=c.querySelector(qp(S));if(k)return d.state.loading|=4,d.instance=k,Tt(k),k;v=TA(m),(S=No.get(S))&&Jb(v,S),k=(c.ownerDocument||c).createElement("link"),Tt(k);var V=k;return V._p=new Promise(function(se,Ae){V.onload=se,V.onerror=Ae}),Xi(k,"link",v),d.state.loading|=4,A1(k,m.precedence,c),d.instance=k;case"script":return k=nm(m.src),(S=c.querySelector($p(k)))?(d.instance=S,Tt(S),S):(v=m,(S=No.get(k))&&(v=p({},m),ew(v,S)),c=c.ownerDocument||c,S=c.createElement("script"),Tt(S),Xi(S,"link",v),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,A1(v,m.precedence,c));return d.instance}function A1(c,d,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,k=S,V=0;V<v.length;V++){var se=v[V];if(se.dataset.precedence===d)k=se;else if(k!==S)break}k?k.parentNode.insertBefore(c,k.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function Jb(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function ew(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var E1=null;function DA(c,d,m){if(E1===null){var v=new Map,S=E1=new Map;S.set(m,v)}else S=E1,v=S.get(m),v||(v=new Map,S.set(m,v));if(v.has(c))return v;for(v.set(c,null),m=m.getElementsByTagName(c),S=0;S<m.length;S++){var k=m[S];if(!(k[ze]||k[he]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var V=k.getAttribute(d)||"";V=c+V;var se=v.get(V);se?se.push(k):v.set(V,[k])}}return v}function PA(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function nz(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function FA(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function az(c,d,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var S=rm(v.href),k=d.querySelector(qp(S));if(k){d=k._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=k1.bind(c),d.then(c,c)),m.state.loading|=4,m.instance=k,Tt(k);return}k=d.ownerDocument||d,v=TA(v),(S=No.get(S))&&Jb(v,S),k=k.createElement("link"),Tt(k);var V=k;V._p=new Promise(function(se,Ae){V.onload=se,V.onerror=Ae}),Xi(k,"link",v),m.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=k1.bind(c),d.addEventListener("load",m),d.addEventListener("error",m))}}var tw=0;function iz(c,d){return c.stylesheets&&c.count===0&&T1(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var v=setTimeout(function(){if(c.stylesheets&&T1(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+d);0<c.imgBytes&&tw===0&&(tw=62500*BU());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&T1(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>tw?50:800)+d);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function k1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)T1(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var C1=null;function T1(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,C1=new Map,d.forEach(sz,c),C1=null,k1.call(c))}function sz(c,d){if(!(d.state.loading&4)){var m=C1.get(c);if(m)var v=m.get(null);else{m=new Map,C1.set(c,m);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<S.length;k++){var V=S[k];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(m.set(V.dataset.precedence,V),v=V)}v&&m.set(null,v)}S=d.instance,V=S.getAttribute("data-precedence"),k=m.get(V)||v,k===v&&m.set(null,S),m.set(V,S),this.count++,v=k1.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),k?k.parentNode.insertBefore(S,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var Hp={$$typeof:A,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function lz(c,d,m,v,S,k,V,se,Ae){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=k,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function LA(c,d,m,v,S,k,V,se,Ae,$e,Je,at){return c=new lz(c,d,m,V,Ae,$e,Je,at,se),d=1,k===!0&&(d|=24),k=Ti(3,null,null,d),c.current=k,k.stateNode=c,d=Vf(),d.refCount++,c.pooledCache=d,d.refCount++,k.memoizedState={element:v,isDehydrated:m,cache:d},bt(k),c}function MA(c){return c?(c=fi,c):fi}function RA(c,d,m,v,S,k){S=MA(S),v.context===null?v.context=S:v.pendingContext=S,v=sr(d),v.payload={element:m},k=k===void 0?null:k,k!==null&&(v.callback=k),m=wr(c,v,d),m!==null&&(wl(m,c,d),sn(m,c,d))}function IA(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function rw(c,d){IA(c,d),(c=c.alternate)&&IA(c,d)}function BA(c){if(c.tag===13||c.tag===31){var d=lc(c,67108864);d!==null&&wl(d,c,67108864),rw(c,67108864)}}function UA(c){if(c.tag===13||c.tag===31){var d=ql();d=Sn(d);var m=lc(c,d);m!==null&&wl(m,c,d),rw(c,d)}}var O1=!0;function oz(c,d,m,v){var S=ne.T;ne.T=null;var k=le.p;try{le.p=2,nw(c,d,m,v)}finally{le.p=k,ne.T=S}}function cz(c,d,m,v){var S=ne.T;ne.T=null;var k=le.p;try{le.p=8,nw(c,d,m,v)}finally{le.p=k,ne.T=S}}function nw(c,d,m,v){if(O1){var S=aw(v);if(S===null)$b(c,d,v,D1,m),qA(c,v);else if(fz(S,c,d,m,v))v.stopPropagation();else if(qA(c,v),d&4&&-1<uz.indexOf(c)){for(;S!==null;){var k=_t(S);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var V=Vt(k.pendingLanes);if(V!==0){var se=k;for(se.pendingLanes|=2,se.entangledLanes|=2;V;){var Ae=1<<31-br(V);se.entanglements[1]|=Ae,V&=~Ae}Jc(k),(on&6)===0&&(m1=$t()+500,Ip(0))}}break;case 31:case 13:se=lc(k,2),se!==null&&wl(se,k,2),x1(),rw(k,2)}if(k=aw(v),k===null&&$b(c,d,v,D1,m),k===S)break;S=k}S!==null&&v.stopPropagation()}else $b(c,d,v,null,m)}}function aw(c){return c=gu(c),iw(c)}var D1=null;function iw(c){if(D1=null,c=mt(c),c!==null){var d=i(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=s(d),c!==null)return c;c=null}else if(m===31){if(c=o(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return D1=c,null}function zA(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Jt:return 2;case Dr:return 8;case It:case Ct:return 32;case xt:return 268435456;default:return 32}default:return 32}}var sw=!1,ad=null,id=null,sd=null,Vp=new Map,Wp=new Map,ld=[],uz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qA(c,d){switch(c){case"focusin":case"focusout":ad=null;break;case"dragenter":case"dragleave":id=null;break;case"mouseover":case"mouseout":sd=null;break;case"pointerover":case"pointerout":Vp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wp.delete(d.pointerId)}}function Gp(c,d,m,v,S,k){return c===null||c.nativeEvent!==k?(c={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:k,targetContainers:[S]},d!==null&&(d=_t(d),d!==null&&BA(d)),c):(c.eventSystemFlags|=v,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function fz(c,d,m,v,S){switch(d){case"focusin":return ad=Gp(ad,c,d,m,v,S),!0;case"dragenter":return id=Gp(id,c,d,m,v,S),!0;case"mouseover":return sd=Gp(sd,c,d,m,v,S),!0;case"pointerover":var k=S.pointerId;return Vp.set(k,Gp(Vp.get(k)||null,c,d,m,v,S)),!0;case"gotpointercapture":return k=S.pointerId,Wp.set(k,Gp(Wp.get(k)||null,c,d,m,v,S)),!0}return!1}function $A(c){var d=mt(c.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=s(m),d!==null){c.blockedOn=d,we(c.priority,function(){UA(m)});return}}else if(d===31){if(d=o(m),d!==null){c.blockedOn=d,we(c.priority,function(){UA(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function P1(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=aw(c.nativeEvent);if(m===null){m=c.nativeEvent;var v=new m.constructor(m.type,m);Ko=v,m.target.dispatchEvent(v),Ko=null}else return d=_t(m),d!==null&&BA(d),c.blockedOn=m,!1;d.shift()}return!0}function HA(c,d,m){P1(c)&&m.delete(d)}function dz(){sw=!1,ad!==null&&P1(ad)&&(ad=null),id!==null&&P1(id)&&(id=null),sd!==null&&P1(sd)&&(sd=null),Vp.forEach(HA),Wp.forEach(HA)}function F1(c,d){c.blockedOn===d&&(c.blockedOn=null,sw||(sw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dz)))}var L1=null;function VA(c){L1!==c&&(L1=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){L1===c&&(L1=null);for(var d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],S=c[d+2];if(typeof v!="function"){if(iw(v||m)===null)continue;break}var k=_t(m);k!==null&&(c.splice(d,3),d-=3,ab(k,{pending:!0,data:S,method:m.method,action:v},v,S))}}))}function am(c){function d(Ae){return F1(Ae,c)}ad!==null&&F1(ad,c),id!==null&&F1(id,c),sd!==null&&F1(sd,c),Vp.forEach(d),Wp.forEach(d);for(var m=0;m<ld.length;m++){var v=ld[m];v.blockedOn===c&&(v.blockedOn=null)}for(;0<ld.length&&(m=ld[0],m.blockedOn===null);)$A(m),m.blockedOn===null&&ld.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var S=m[v],k=m[v+1],V=S[ge]||null;if(typeof k=="function")V||VA(m);else if(V){var se=null;if(k&&k.hasAttribute("formAction")){if(S=k,V=k[ge]||null)se=V.formAction;else if(iw(S)!==null)continue}else se=V.action;typeof se=="function"?m[v+1]=se:(m.splice(v,3),v-=3),VA(m)}}}function WA(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(V){return S=V})},focusReset:"manual",scroll:"manual"})}function d(){S!==null&&(S(),S=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),S!==null&&(S(),S=null)}}}function lw(c){this._internalRoot=c}M1.prototype.render=lw.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,v=ql();RA(m,v,c,d,null,null)},M1.prototype.unmount=lw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;RA(c.current,2,null,c,null,null),x1(),d[Ne]=null}};function M1(c){this._internalRoot=c}M1.prototype.unstable_scheduleHydration=function(c){if(c){var d=ee();c={blockedOn:null,target:c,priority:d};for(var m=0;m<ld.length&&d!==0&&d<ld[m].priority;m++);ld.splice(m,0,c),m===0&&$A(c)}};var GA=t.version;if(GA!=="19.2.0")throw Error(n(527,GA,"19.2.0"));le.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=f(d),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var hz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var R1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!R1.isDisabled&&R1.supportsFiber)try{Yt=R1.inject(hz),Nt=R1}catch{}}return Yp.createRoot=function(c,d){if(!a(c))throw Error(n(299));var m=!1,v="",S=e6,k=t6,V=r6;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError)),d=LA(c,1,!1,null,null,m,v,null,S,k,V,WA),c[Ne]=d.current,qb(c),new lw(d)},Yp.hydrateRoot=function(c,d,m){if(!a(c))throw Error(n(299));var v=!1,S="",k=e6,V=t6,se=r6,Ae=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(k=m.onUncaughtError),m.onCaughtError!==void 0&&(V=m.onCaughtError),m.onRecoverableError!==void 0&&(se=m.onRecoverableError),m.formState!==void 0&&(Ae=m.formState)),d=LA(c,1,!0,d,m??null,v,S,Ae,k,V,se,WA),d.context=MA(null),m=d.current,v=ql(),v=Sn(v),S=sr(v),S.callback=null,wr(m,S,v),m=v,d.current.lanes=m,Wt(d,m),Jc(d),c[Ne]=d.current,qb(c),new M1(d)},Yp.version="19.2.0",Yp}var nE;function Sz(){if(nE)return uw.exports;nE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),uw.exports=Nz(),uw.exports}var jz=Sz(),Hm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Az={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ez=class{#e=Az;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},S0=new Ez;function kz(e){setTimeout(e,0)}var I0=typeof window>"u"||"Deno"in globalThis;function zs(){}function Cz(e,t){return typeof e=="function"?e(t):e}function F4(e){return typeof e=="number"&&e>=0&&e!==1/0}function lD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bd(e,t){return typeof e=="function"?e(t):e}function Fo(e,t){return typeof e=="function"?e(t):e}function aE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==bN(s,t.options))return!1}else if(!Ex(t.queryKey,s))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function iE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(B0(t.options.mutationKey)!==B0(i))return!1}else if(!Ex(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function bN(e,t){return(t?.queryKeyHashFn||B0)(e)}function B0(e){return JSON.stringify(e,(t,r)=>L4(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ex(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ex(e[r],t[r])):!1}var Tz=Object.prototype.hasOwnProperty;function oD(e,t){if(e===t)return e;const r=sE(e)&&sE(t);if(!r&&!(L4(e)&&L4(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let u=0;for(let f=0;f<s;f++){const h=r?f:i[f],p=e[h],g=t[h];if(p===g){o[h]=p,(r?f<a:Tz.call(e,h))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[h]=g;continue}const x=oD(p,g);o[h]=x,x===p&&u++}return a===s&&u===a?e:o}function Rv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function L4(e){if(!lE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!lE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lE(e){return Object.prototype.toString.call(e)==="[object Object]"}function Oz(e){return new Promise(t=>{S0.setTimeout(t,e)})}function M4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?oD(e,t):t}function Dz(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Pz(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wN=Symbol();function cD(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===wN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function uD(e,t){return typeof e=="function"?e(...t):!!e}var Fz=class extends Hm{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!I0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_N=new Fz;function R4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Lz=kz;function Mz(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Lz;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||s()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var vi=Mz(),Rz=class extends Hm{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!I0&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Iv=new Rz;function Iz(e){return Math.min(1e3*2**e,3e4)}function fD(e){return(e??"online")==="online"?Iv.isOnline():!0}var I4=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function dD(e){let t=!1,r=0,n;const a=R4(),i=()=>a.status!=="pending",s=y=>{if(!i()){const w=new I4(y);g(w),e.onCancel?.(w)}},o=()=>{t=!0},u=()=>{t=!1},f=()=>_N.isFocused()&&(e.networkMode==="always"||Iv.isOnline())&&e.canRun(),h=()=>fD(e.networkMode)&&e.canRun(),p=y=>{i()||(n?.(),a.resolve(y))},g=y=>{i()||(n?.(),a.reject(y))},x=()=>new Promise(y=>{n=w=>{(i()||f())&&y(w)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(p).catch(_=>{if(i())return;const E=e.retry??(I0?0:3),A=e.retryDelay??Iz,T=typeof A=="function"?A(r,_):A,O=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,_);if(t||!O){g(_);return}r++,e.onFail?.(r,_),Oz(T).then(()=>f()?void 0:x()).then(()=>{t?g(_):b()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?b():x().then(b),a)}}var hD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F4(this.gcTime)&&(this.#e=S0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(I0?1/0:300*1e3))}clearGcTimeout(){this.#e&&(S0.clearTimeout(this.#e),this.#e=void 0)}},Bz=class extends hD{#e;#t;#r;#a;#n;#s;#l;constructor(e){super(),this.#l=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=oE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=oE(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=M4(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(zs).catch(zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Fo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>bd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!lD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},a=()=>{const o=cD(this.options,t),f=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#l=!1,this.options.persister?this.options.persister(o,f,this):o(f)},s=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta}),this.#n=dD({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:o=>{o instanceof I4&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(o,u)=>{this.#i({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof I4){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mD(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),vi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function mD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Uz=class extends Hm{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#l=R4(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#l;#i;#p;#d;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),cE(this.#t,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B4(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B4(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!Rv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&uE(this.#t,r,this.options,t)&&this.#f(),this.updateResult(),n&&(this.#t!==r||Fo(this.options.enabled,this.#t)!==Fo(t.enabled,this.#t)||bd(this.options.staleTime,this.#t)!==bd(t.staleTime,this.#t))&&this.#x();const a=this.#g();n&&(this.#t!==r||Fo(this.options.enabled,this.#t)!==Fo(t.enabled,this.#t)||a!==this.#o)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return qz(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(zs)),t}#x(){this.#b();const e=bd(this.options.staleTime,this.#t);if(I0||this.#a.isStale||!F4(e))return;const r=lD(this.#a.dataUpdatedAt,e)+1;this.#c=S0.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#o=e,!(I0||Fo(this.options.enabled,this.#t)===!1||!F4(this.#o)||this.#o===0)&&(this.#u=S0.setInterval(()=>{(this.options.refetchIntervalInBackground||_N.isFocused())&&this.#f()},this.#o))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(S0.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(S0.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,s=this.#s,u=e!==r?e.state:this.#r,{state:f}=e;let h={...f},p=!1,g;if(t._optimisticResults){const M=this.hasListeners(),B=!M&&cE(e,t),G=M&&uE(e,r,t,n);(B||G)&&(h={...h,...mD(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:y}=h;g=h.data;let w=!1;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let M;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(M=a.data,w=!0):M=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,M!==void 0&&(y="success",g=M4(a?.data,M,t),p=!0)}if(t.select&&g!==void 0&&!w)if(a&&g===i?.data&&t.select===this.#p)g=this.#d;else try{this.#p=t.select,g=t.select(g),g=M4(a?.data,g,t),this.#d=g,this.#i=null}catch(M){this.#i=M}this.#i&&(x=this.#i,g=this.#d,b=Date.now(),y="error");const _=h.fetchStatus==="fetching",E=y==="pending",A=y==="error",T=E&&_,O=g!==void 0,D={status:y,fetchStatus:h.fetchStatus,isPending:E,isSuccess:y==="success",isError:A,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:A&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&O,isStale:NN(e,t),refetch:this.refetch,promise:this.#l,isEnabled:Fo(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=I=>{D.status==="error"?I.reject(D.error):D.data!==void 0&&I.resolve(D.data)},B=()=>{const I=this.#l=D.promise=R4();M(I)},G=this.#l;switch(G.status){case"pending":e.queryHash===r.queryHash&&M(G);break;case"fulfilled":(D.status==="error"||D.data!==G.value)&&B();break;case"rejected":(D.status!=="error"||D.error!==G.reason)&&B();break}}return D}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Rv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(s=>{const o=s;return this.#a[o]!==e[o]&&i.has(o)})};this.#N({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){vi.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function zz(e,t){return Fo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function cE(e,t){return zz(e,t)||e.state.data!==void 0&&B4(e,t,t.refetchOnMount)}function B4(e,t,r){if(Fo(t.enabled,e)!==!1&&bd(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&NN(e,t)}return!1}function uE(e,t,r,n){return(e!==t||Fo(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&NN(e,r)}function NN(e,t){return Fo(t.enabled,e)!==!1&&e.isStaleByTime(bd(t.staleTime,e))}function qz(e,t){return!Rv(e.getCurrentResult(),t)}function fE(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const f=async()=>{let h=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=cD(t.options,t.fetchOptions),x=async(b,y,w)=>{if(h)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};return p(R),R})(),A=await g(E),{maxPages:T}=t.options,O=w?Pz:Dz;return{pages:O(b.pages,A,T),pageParams:O(b.pageParams,y,T)}};if(a&&i.length){const b=a==="backward",y=b?$z:dE,w={pages:i,pageParams:s},_=y(n,w);o=await x(w,_,b)}else{const b=e??i.length;do{const y=u===0?s[0]??n.initialPageParam:dE(n,o);if(u>0&&y==null)break;o=await x(o,y),u++}while(u<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function dE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function $z(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Hz=class extends hD{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||pD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=dD({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const s=await this.options.onMutate?.(e,r);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),vi.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function pD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vz=class extends Hm{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new Hz({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=I1(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=I1(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=I1(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=I1(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vi.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>iE(t,r))}findAll(e={}){return this.getAll().filter(t=>iE(e,t))}notify(e){vi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vi.batch(()=>Promise.all(e.map(t=>t.continue().catch(zs))))}};function I1(e){return e.options.scope?.id}var Wz=class extends Hm{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Rv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&B0(r.mutationKey)!==B0(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??pD();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){vi.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},Gz=class extends Hm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??bN(n,t);let i=this.get(a);return i||(i=new Bz({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>aE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>aE(e,r)):t}notify(e){vi.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kz=class{#e;#t;#r;#a;#n;#s;#l;#i;constructor(e={}){this.#e=e.queryCache||new Gz,this.#t=e.mutationCache||new Vz,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=_N.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Iv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(bd(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,s=Cz(t,i);if(s!==void 0)return this.#e.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return vi.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;vi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return vi.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=vi.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(zs).catch(zs)}invalidateQueries(e,t={}){return vi.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=vi.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(zs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(zs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(bd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zs).catch(zs)}fetchInfiniteQuery(e){return e.behavior=fE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zs).catch(zs)}ensureInfiniteQueryData(e){return e.behavior=fE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Iv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(B0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Ex(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(B0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Ex(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},xD=C.createContext(void 0),qt=e=>{const t=C.useContext(xD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Yz=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(xD.Provider,{value:e,children:t})),gD=C.createContext(!1),Xz=()=>C.useContext(gD);gD.Provider;function Qz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Zz=C.createContext(Qz()),Jz=()=>C.useContext(Zz),eq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},tq=e=>{C.useEffect(()=>{e.clearReset()},[e])},rq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||uD(r,[e.error,n])),nq=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},aq=(e,t)=>e.isLoading&&e.isFetching&&!t,iq=(e,t)=>e?.suspense&&t.isPending,hE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function sq(e,t,r){const n=Xz(),a=Jz(),i=qt(),s=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=n?"isRestoring":"optimistic",nq(s),eq(s,a),tq(a);const o=!i.getQueryCache().get(s.queryHash),[u]=C.useState(()=>new t(i,s)),f=u.getOptimisticResult(s),h=!n&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(p=>{const g=h?u.subscribe(vi.batchCalls(p)):zs;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),C.useEffect(()=>{u.setOptions(s)},[s,u]),iq(s,f))throw hE(s,u,a);if(rq({result:f,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(s,f),s.experimental_prefetchInRender&&!I0&&aq(f,n)&&(o?hE(s,u,a):i.getQueryCache().get(s.queryHash)?.promise)?.catch(zs).finally(()=>{u.updateResult()}),s.notifyOnChangeProps?f:u.trackResult(f)}function pr(e,t){return sq(e,Uz)}function Kt(e,t){const r=qt(),[n]=C.useState(()=>new Wz(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const a=C.useSyncExternalStore(C.useCallback(s=>n.subscribe(vi.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((s,o)=>{n.mutate(s,o).catch(zs)},[n]);if(a.error&&uD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const lq="modulepreload",oq=function(e){return"/"+e},mE={},mw=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");a=u(r.map(f=>{if(f=oq(f),f in mE)return;mE[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":lq,h||(g.as="script"),g.crossOrigin="",g.href=f,o&&g.setAttribute("nonce",o),document.head.appendChild(g),h)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var cq=function(){return null};/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pE="popstate";function uq(e={}){function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return U4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kx(a)}return dq(t,r,null,e)}function ca(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Io(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fq(){return Math.random().toString(36).substring(2,10)}function xE(e,t){return{usr:e.state,key:e.key,idx:t}}function U4(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vm(t):t,state:r,key:t&&t.key||n||fq()}}function kx({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function dq(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",u=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function p(){o="POP";let w=h(),_=w==null?null:w-f;f=w,u&&u({action:o,location:y.location,delta:_})}function g(w,_){o="PUSH";let E=U4(y.location,w,_);f=h()+1;let A=xE(E,f),T=y.createHref(E);try{s.pushState(A,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(T)}i&&u&&u({action:o,location:y.location,delta:1})}function x(w,_){o="REPLACE";let E=U4(y.location,w,_);f=h();let A=xE(E,f),T=y.createHref(E);s.replaceState(A,"",T),i&&u&&u({action:o,location:y.location,delta:0})}function b(w){return hq(w)}let y={get action(){return o},get location(){return e(a,s)},listen(w){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(pE,p),u=w,()=>{a.removeEventListener(pE,p),u=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let _=b(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:x,go(w){return s.go(w)}};return y}function hq(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ca(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:kx(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function vD(e,t,r="/"){return mq(e,t,r,!1)}function mq(e,t,r,n){let a=typeof t=="string"?Vm(t):t,i=of(a.pathname||"/",r);if(i==null)return null;let s=yD(e);pq(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let f=Aq(i);o=Sq(s[u],f,n)}return o}function yD(e,t=[],r=[],n="",a=!1){let i=(s,o,u=a,f)=>{let h={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;ca(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=ef([n,h.relativePath]),g=r.concat(h);s.children&&s.children.length>0&&(ca(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),yD(s.children,t,g,p,u)),!(s.path==null&&!s.index)&&t.push({path:p,score:_q(p,s.index),routesMeta:g})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let u of bD(s.path))i(s,o,!0,u)}),t}function bD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=bD(n.join("/")),o=[];return o.push(...s.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...s),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function pq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xq=/^:[\w-]+$/,gq=3,vq=2,yq=1,bq=10,wq=-2,gE=e=>e==="*";function _q(e,t){let r=e.split("/"),n=r.length;return r.some(gE)&&(n+=wq),t&&(n+=vq),r.filter(a=>!gE(a)).reduce((a,i)=>a+(xq.test(i)?gq:i===""?yq:bq),n)}function Nq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Sq(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],f=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=Bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(a,p.params),s.push({params:a,pathname:ef([i,p.pathname]),pathnameBase:Tq(ef([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=ef([i,p.pathnameBase]))}return s}function Bv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jq(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let b=o[g]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return p&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:e}}function jq(e,t=!1,r=!0){Io(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Aq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Io(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function of(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Eq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Vm(e):e;return{pathname:r?r.startsWith("/")?r:kq(r,t):t,search:Oq(n),hash:Dq(a)}}function kq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function pw(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function SN(e){let t=Cq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function jN(e,t,r,n=!1){let a;typeof e=="string"?a=Vm(e):(a={...e},ca(!a.pathname||!a.pathname.includes("?"),pw("?","pathname","search",a)),ca(!a.pathname||!a.pathname.includes("#"),pw("#","pathname","hash",a)),ca(!a.search||!a.search.includes("#"),pw("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let p=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}o=p>=0?t[p]:"/"}let u=Eq(a,o),f=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var ef=e=>e.join("/").replace(/\/\/+/g,"/"),Tq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wD=["POST","PUT","PATCH","DELETE"];new Set(wD);var Fq=["GET",...wD];new Set(Fq);var Wm=C.createContext(null);Wm.displayName="DataRouter";var Yy=C.createContext(null);Yy.displayName="DataRouterState";C.createContext(!1);var _D=C.createContext({isTransitioning:!1});_D.displayName="ViewTransition";var Lq=C.createContext(new Map);Lq.displayName="Fetchers";var Mq=C.createContext(null);Mq.displayName="Await";var Ec=C.createContext(null);Ec.displayName="Navigation";var cg=C.createContext(null);cg.displayName="Location";var kc=C.createContext({outlet:null,matches:[],isDataRoute:!1});kc.displayName="Route";var AN=C.createContext(null);AN.displayName="RouteError";function Rq(e,{relative:t}={}){ca(Gm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(Ec),{hash:a,pathname:i,search:s}=ug(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:ef([r,i])),n.createHref({pathname:o,search:s,hash:a})}function Gm(){return C.useContext(cg)!=null}function Cc(){return ca(Gm(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(cg).location}var ND="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SD(e){C.useContext(Ec).static||C.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=C.useContext(kc);return e?Xq():Iq()}function Iq(){ca(Gm(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Wm),{basename:t,navigator:r}=C.useContext(Ec),{matches:n}=C.useContext(kc),{pathname:a}=Cc(),i=JSON.stringify(SN(n)),s=C.useRef(!1);return SD(()=>{s.current=!0}),C.useCallback((u,f={})=>{if(Io(s.current,ND),!s.current)return;if(typeof u=="number"){r.go(u);return}let h=jN(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ef([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}C.createContext(null);function Tc(){let{matches:e}=C.useContext(kc),t=e[e.length-1];return t?t.params:{}}function ug(e,{relative:t}={}){let{matches:r}=C.useContext(kc),{pathname:n}=Cc(),a=JSON.stringify(SN(r));return C.useMemo(()=>jN(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Bq(e,t){return jD(e,t)}function jD(e,t,r,n,a){ca(Gm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(Ec),{matches:s}=C.useContext(kc),o=s[s.length-1],u=o?o.params:{},f=o?o.pathname:"/",h=o?o.pathnameBase:"/",p=o&&o.route;{let E=p&&p.path||"";AD(f,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Cc(),x;if(t){let E=typeof t=="string"?Vm(t):t;ca(h==="/"||E.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=g;let b=x.pathname||"/",y=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=vD(e,{pathname:y});Io(p||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Io(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Hq(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ef([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ef([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,r,n,a);return t&&_?C.createElement(cg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function Uq(){let e=Yq(),t=Pq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,s)}var zq=C.createElement(Uq,null),qq=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(kc.Provider,{value:this.props.routeContext},C.createElement(AN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $q({routeContext:e,match:t,children:r}){let n=C.useContext(Wm);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(kc.Provider,{value:e},r)}function Hq(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r?.errors;if(s!=null){let f=i.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);ca(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=r,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,p)=>{let g,x=!1,b=null,y=null;r&&(g=s&&h.route.id?s[h.route.id]:void 0,b=h.route.errorElement||zq,o&&(u<0&&p===0?(AD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):u===p&&(x=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),_=()=>{let E;return g?E=b:x?E=y:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,C.createElement($q,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?C.createElement(qq,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):_()},null)}function EN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vq(e){let t=C.useContext(Wm);return ca(t,EN(e)),t}function Wq(e){let t=C.useContext(Yy);return ca(t,EN(e)),t}function Gq(e){let t=C.useContext(kc);return ca(t,EN(e)),t}function kN(e){let t=Gq(e),r=t.matches[t.matches.length-1];return ca(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Kq(){return kN("useRouteId")}function Yq(){let e=C.useContext(AN),t=Wq("useRouteError"),r=kN("useRouteError");return e!==void 0?e:t.errors?.[r]}function Xq(){let{router:e}=Vq("useNavigate"),t=kN("useNavigate"),r=C.useRef(!1);return SD(()=>{r.current=!0}),C.useCallback(async(a,i={})=>{Io(r.current,ND),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var vE={};function AD(e,t,r){!t&&!vE[e]&&(vE[e]=!0,Io(!1,r))}C.memo(Qq);function Qq({routes:e,future:t,state:r,unstable_onError:n}){return jD(e,void 0,r,n,t)}function bm({to:e,replace:t,state:r,relative:n}){ca(Gm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Ec);Io(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(kc),{pathname:s}=Cc(),o=$n(),u=jN(e,SN(i),s,n==="path"),f=JSON.stringify(u);return C.useEffect(()=>{o(JSON.parse(f),{replace:t,state:r,relative:n})},[o,f,n,t,r]),null}function zr(e){ca(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zq({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){ca(!Gm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=C.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=Vm(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,x=C.useMemo(()=>{let b=of(u,s);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:n}},[s,u,f,h,p,g,n]);return Io(x!=null,`<Router basename="${s}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(Ec.Provider,{value:o},C.createElement(cg.Provider,{children:t,value:x}))}function Jq({children:e,location:t}){return Bq(z4(e),t)}function z4(e,t=[]){let r=[];return C.Children.forEach(e,(n,a)=>{if(!C.isValidElement(n))return;let i=[...t,a];if(n.type===C.Fragment){r.push.apply(r,z4(n.props.children,i));return}ca(n.type===zr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ca(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=z4(n.props.children,i)),r.push(s)}),r}var jv="get",Av="application/x-www-form-urlencoded";function Xy(e){return e!=null&&typeof e.tagName=="string"}function e$(e){return Xy(e)&&e.tagName.toLowerCase()==="button"}function t$(e){return Xy(e)&&e.tagName.toLowerCase()==="form"}function r$(e){return Xy(e)&&e.tagName.toLowerCase()==="input"}function n$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a$(e,t){return e.button===0&&(!t||t==="_self")&&!n$(e)}function q4(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function i$(e,t){let r=q4(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var B1=null;function s$(){if(B1===null)try{new FormData(document.createElement("form"),0),B1=!1}catch{B1=!0}return B1}var l$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xw(e){return e!=null&&!l$.has(e)?(Io(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Av}"`),null):e}function o$(e,t){let r,n,a,i,s;if(t$(e)){let o=e.getAttribute("action");n=o?of(o,t):null,r=e.getAttribute("method")||jv,a=xw(e.getAttribute("enctype"))||Av,i=new FormData(e)}else if(e$(e)||r$(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?of(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||jv,a=xw(e.getAttribute("formenctype"))||xw(o.getAttribute("enctype"))||Av,i=new FormData(o,e),!s$()){let{name:f,type:h,value:p}=e;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,p)}}else{if(Xy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=jv,n=null,a=Av,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function CN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function c$(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&of(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function u$(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f$(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function d$(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await u$(i,r);return s.links?s.links():[]}return[]}));return x$(n.flat(1).filter(f$).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function yE(e,t,r,n,a,i){let s=(u,f)=>r[f]?u.route.id!==r[f].route.id:!0,o=(u,f)=>r[f].pathname!==u.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,f)=>s(u,f)||o(u,f)):i==="data"?t.filter((u,f)=>{let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,f)||o(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function h$(e,t,{includeHydrateFallback:r}={}){return m$(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function m$(e){return[...new Set(e)]}function p$(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function x$(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(p$(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function ED(){let e=C.useContext(Wm);return CN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function g$(){let e=C.useContext(Yy);return CN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var TN=C.createContext(void 0);TN.displayName="FrameworkContext";function kD(){let e=C.useContext(TN);return CN(e,"You must render this element inside a <HydratedRouter> element"),e}function v$(e,t){let r=C.useContext(TN),[n,a]=C.useState(!1),[i,s]=C.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,g=C.useRef(null);C.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let y=_=>{_.forEach(E=>{s(E.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return g.current&&w.observe(g.current),()=>{w.disconnect()}}},[e]),C.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let x=()=>{a(!0)},b=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Xp(o,x),onBlur:Xp(u,b),onMouseEnter:Xp(f,x),onMouseLeave:Xp(h,b),onTouchStart:Xp(p,x)}]:[!1,g,{}]}function Xp(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function y$({page:e,...t}){let{router:r}=ED(),n=C.useMemo(()=>vD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?C.createElement(w$,{page:e,matches:n,...t}):null}function b$(e){let{manifest:t,routeModules:r}=kD(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return d$(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function w$({page:e,matches:t,...r}){let n=Cc(),{manifest:a,routeModules:i}=kD(),{basename:s}=ED(),{loaderData:o,matches:u}=g$(),f=C.useMemo(()=>yE(e,t,u,a,n,"data"),[e,t,u,a,n]),h=C.useMemo(()=>yE(e,t,u,a,n,"assets"),[e,t,u,a,n]),p=C.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,y=!1;if(t.forEach(_=>{let E=a.routes[_.route.id];!E||!E.hasLoader||(!f.some(A=>A.route.id===_.route.id)&&_.route.id in o&&i[_.route.id]?.shouldRevalidate||E.hasClientLoader?y=!0:b.add(_.route.id))}),b.size===0)return[];let w=c$(e,s,"data");return y&&b.size>0&&w.searchParams.set("_routes",t.filter(_=>b.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[s,o,n,a,f,t,e,i]),g=C.useMemo(()=>h$(h,a),[h,a]),x=b$(h);return C.createElement(C.Fragment,null,p.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:y})=>C.createElement("link",{key:b,nonce:r.nonce,...y})))}function _$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var CD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CD&&(window.__reactRouterVersion="7.9.4")}catch{}function N$({basename:e,children:t,window:r}){let n=C.useRef();n.current==null&&(n.current=uq({window:r,v5Compat:!0}));let a=n.current,[i,s]=C.useState({action:a.action,location:a.location}),o=C.useCallback(u=>{C.startTransition(()=>s(u))},[s]);return C.useLayoutEffect(()=>a.listen(o),[a,o]),C.createElement(Zq,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var TD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,La=C.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:u,to:f,preventScrollReset:h,viewTransition:p,...g},x){let{basename:b}=C.useContext(Ec),y=typeof f=="string"&&TD.test(f),w,_=!1;if(typeof f=="string"&&y&&(w=f,CD))try{let B=new URL(window.location.href),G=f.startsWith("//")?new URL(B.protocol+f):new URL(f),I=of(G.pathname,b);G.origin===B.origin&&I!=null?f=I+G.search+G.hash:_=!0}catch{Io(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Rq(f,{relative:a}),[A,T,O]=v$(n,g),R=E$(f,{replace:s,state:o,target:u,preventScrollReset:h,relative:a,viewTransition:p});function D(B){t&&t(B),B.defaultPrevented||R(B)}let M=C.createElement("a",{...g,...O,href:w||E,onClick:_||i?t:D,ref:_$(x,T),target:u,"data-discover":!y&&r==="render"?"true":void 0});return A&&!y?C.createElement(C.Fragment,null,M,C.createElement(y$,{page:E})):M});La.displayName="Link";var S$=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:u,...f},h){let p=ug(s,{relative:f.relative}),g=Cc(),x=C.useContext(Yy),{navigator:b,basename:y}=C.useContext(Ec),w=x!=null&&P$(p)&&o===!0,_=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,E=g.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&y&&(A=of(A,y)||A);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=E===_||!a&&E.startsWith(_)&&E.charAt(T)==="/",R=A!=null&&(A===_||!a&&A.startsWith(_)&&A.charAt(_.length)==="/"),D={isActive:O,isPending:R,isTransitioning:w},M=O?t:void 0,B;typeof n=="function"?B=n(D):B=[n,O?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(D):i;return C.createElement(La,{...f,"aria-current":M,className:B,ref:h,style:G,to:s,viewTransition:o},typeof u=="function"?u(D):u)});S$.displayName="NavLink";var j$=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=jv,action:o,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...g},x)=>{let b=O$(),y=D$(o,{relative:f}),w=s.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&TD.test(o),E=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,O=T?.getAttribute("formmethod")||s;b(T||A.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:p})};return C.createElement("form",{ref:x,method:w,action:y,onSubmit:n?u:E,...g,"data-discover":!_&&e==="render"?"true":void 0})});j$.displayName="Form";function A$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OD(e){let t=C.useContext(Wm);return ca(t,A$(e)),t}function E$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=$n(),u=Cc(),f=ug(e,{relative:i});return C.useCallback(h=>{if(a$(h,t)){h.preventDefault();let p=r!==void 0?r:kx(u)===kx(f);o(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[u,o,f,r,n,t,e,a,i,s])}function k$(e){Io(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(q4(e)),r=C.useRef(!1),n=Cc(),a=C.useMemo(()=>i$(n.search,r.current?null:t.current),[n.search]),i=$n(),s=C.useCallback((o,u)=>{const f=q4(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+f,u)},[i,a]);return[a,s]}var C$=0,T$=()=>`__${String(++C$)}__`;function O$(){let{router:e}=OD("useSubmit"),{basename:t}=C.useContext(Ec),r=Kq();return C.useCallback(async(n,a={})=>{let{action:i,method:s,encType:o,formData:u,body:f}=o$(n,t);if(a.navigate===!1){let h=a.fetcherKey||T$();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function D$(e,{relative:t}={}){let{basename:r}=C.useContext(Ec),n=C.useContext(kc);ca(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...ug(e||".",{relative:t})},s=Cc();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(p=>p).forEach(p=>o.append("index",p));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ef([r,i.pathname])),kx(i)}function P$(e,{relative:t}={}){let r=C.useContext(_D);ca(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=OD("useViewTransitionState"),a=ug(e,{relative:t});if(!r.isTransitioning)return!1;let i=of(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=of(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bv(a.pathname,s)!=null||Bv(a.pathname,i)!=null}var DD=sD();const F$="http://localhost:3001/api";class U1 extends Error{status;code;constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.code=n}}class L${baseURL;constructor(t){this.baseURL=t}async request(t,r={}){const{params:n,...a}=r;let i=`${this.baseURL}${t}`;if(n){const o=new URLSearchParams(n).toString();i+=`?${o}`}const s={"Content-Type":"application/json",...a.headers};try{const o=await fetch(i,{...a,headers:s});if(!o.ok){const f=await o.json().catch(()=>({}));throw new U1(f.error||f.message||"Une erreur est survenue",o.status,f.code)}return await o.json()}catch(o){throw o instanceof U1?o:o instanceof Error?new U1(`Erreur de connexion: ${o.message}`,void 0,"NETWORK_ERROR"):new U1("Une erreur inconnue est survenue")}}async get(t,r){return this.request(t,{method:"GET",params:r})}async post(t,r){return this.request(t,{method:"POST",body:JSON.stringify(r)})}async put(t,r){return this.request(t,{method:"PUT",body:JSON.stringify(r)})}async patch(t,r){return this.request(t,{method:"PATCH",body:JSON.stringify(r)})}async delete(t){return this.request(t,{method:"DELETE"})}}const lt=new L$(F$),M$={async login(e,t){return(await lt.post("/auth/login",{username:e,password:t})).user}},PD=C.createContext(void 0),R$=({children:e})=>{const[t,r]=C.useState(null),[n,a]=C.useState(!0);C.useEffect(()=>{const f=localStorage.getItem("current_user");f&&r(JSON.parse(f)),a(!1)},[]);const i=async(f,h)=>{try{const p=await M$.login(f,h);return r(p),localStorage.setItem("current_user",JSON.stringify(p)),!0}catch(p){return console.error("Erreur de connexion:",p),!1}},s=()=>{r(null),localStorage.removeItem("current_user")},o=t?.role==="admin",u=t?.role==="gerant";return l.jsx(PD.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:n,login:i,logout:s,isAdmin:o,isGerant:u},children:e})},_i=()=>{const e=C.useContext(PD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Pd(...e){return e.filter(Boolean).join(" ")}const rt=C.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",s={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-blue-600"},o={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return l.jsx("button",{className:Pd(i,s[t],o[r],e),ref:a,...n})});rt.displayName="Button";const Gs=C.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Pd("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Gs.displayName="Input";const dn=C.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Pd("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",e),...t}));dn.displayName="Card";const cf=C.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Pd("flex flex-col space-y-1.5 p-6",e),...t}));cf.displayName="CardHeader";const uf=C.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:Pd("text-2xl font-semibold leading-none tracking-tight",e),...t}));uf.displayName="CardTitle";const FD=C.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:Pd("text-sm text-gray-500",e),...t}));FD.displayName="CardDescription";const hn=C.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Pd("p-6 pt-0",e),...t}));hn.displayName="CardContent";const I$=C.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Pd("flex items-center p-6 pt-0",e),...t}));I$.displayName="CardFooter";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),bE=e=>{const t=U$(e);return t.charAt(0).toUpperCase()+t.slice(1)},LD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),z$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},u)=>C.createElement("svg",{ref:u,...q$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:LD("lucide",a),...!i&&!z$(o)&&{"aria-hidden":"true"},...o},[...s.map(([f,h])=>C.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(e,t)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement($$,{ref:i,iconNode:t,className:LD(`lucide-${B$(bE(e))}`,`lucide-${e}`,n),...a}));return r.displayName=bE(e),r};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],MD=jt("activity",H$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],W$=jt("arrow-down",V$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],da=jt("arrow-left",G$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Y$=jt("arrow-up",K$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],as=jt("award",X$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zn=jt("book-open",Q$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],J$=jt("box",Z$);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],cu=jt("calculator",eH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rs=jt("calendar",tH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],RD=jt("chart-column",rH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ID=jt("check",nH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qy=jt("chevron-down",aH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ON=jt("chevron-left",iH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gu=jt("chevron-right",sH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],BD=jt("chevron-up",lH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mn=jt("circle-alert",oH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ai=jt("circle-check-big",cH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UD=jt("circle-check",uH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wc=jt("circle-play",fH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_d=jt("circle-x",dH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Uv=jt("clipboard-check",hH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ks=jt("clock",mH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hx=jt("copy",pH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$4=jt("dollar-sign",xH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qs=jt("download",gH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Zy=jt("external-link",vH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hs=jt("eye-off",yH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],As=jt("eye",bH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Cx=jt("file-check",wH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],zv=jt("file-plus",_H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],tf=jt("file-question-mark",NH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],U0=jt("file-spreadsheet",SH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zs=jt("file-text",jH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wE=jt("file-warning",AH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DN=jt("funnel",EH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],zD=jt("graduation-cap",kH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],TH=jt("grid-3x3",CH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],mx=jt("hard-hat",OH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qD=jt("hash",DH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ev=jt("house",PH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],LH=jt("image",FH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],PN=jt("layers",MH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],IH=jt("lightbulb",RH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],qv=jt("link",BH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],$D=jt("list",UH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Tx=jt("lock",zH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HD=jt("log-out",qH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],HH=jt("mail",$H);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Js=jt("map-pin",VH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],GH=jt("menu",WH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ys=jt("message-square",KH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],H4=jt("palette",YH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],QH=jt("paperclip",XH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fg=jt("pen-line",ZH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jy=jt("pen",JH);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],FN=jt("pin",eV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bi=jt("plus",tV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dg=jt("save",rV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Km=jt("search",nV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wm=jt("send",aV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VD=jt("settings",iV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],V4=jt("shield",sV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],WD=jt("square-pen",lV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],W4=jt("star",oV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],uV=jt("tag",cV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],dV=jt("text-align-start",fV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],mV=jt("thumbs-up",hV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Na=jt("trash-2",pV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],z0=jt("trending-up",xV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G4=jt("triangle-alert",gV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yV=jt("truck",vV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],wV=jt("type",bV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hg=jt("upload",_V);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],SV=jt("user-plus",NV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ox=jt("user",jV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],is=jt("users",AV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Dx=jt("video",EV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kl=jt("x",kV),im=[{url:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=1200&q=80",caption:"Oprateur de chariot lvateur"},{url:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&w=1200&q=80",caption:"Gestion des engins de chantier"},{url:"https://images.unsplash.com/photo-1581092162384-8987c1d64718?auto=format&fit=crop&w=1200&q=80",caption:"Manutention professionnelle"},{url:"https://images.unsplash.com/photo-1513828583688-c52646db42da?auto=format&fit=crop&w=1200&q=80",caption:"quipe de travaux"}],CV=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[a,i]=C.useState(""),[s,o]=C.useState(!1),[u,f]=C.useState(0),[h,p]=C.useState(!1),{login:g}=_i(),x=$n();C.useEffect(()=>{const _=setInterval(()=>{f(E=>E===im.length-1?0:E+1)},4e3);return()=>clearInterval(_)},[]);const b=async _=>{_.preventDefault(),i(""),o(!0),await g(e,r)?x("/dashboard"):i("Nom d'utilisateur ou mot de passe incorrect"),o(!1)},y=()=>{f(_=>_===0?im.length-1:_-1)},w=()=>{f(_=>_===im.length-1?0:_+1)};return l.jsxs("div",{className:"min-h-screen flex",children:[l.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-orange-600 to-blue-900 overflow-hidden",children:l.jsxs("div",{className:"relative w-full h-full",children:[im.map((_,E)=>l.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${E===u?"opacity-100":"opacity-0"}`,children:[l.jsx("img",{src:_.url,alt:_.caption,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"})]},E)),l.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-12 text-white z-10",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(mx,{className:"w-12 h-12"}),l.jsxs("h1",{className:"text-4xl font-bold",children:["Systme de Gestion",l.jsx("br",{}),"Comptable"]})]}),l.jsx("p",{className:"text-xl text-gray-200 max-w-md",children:"Solution professionnelle pour la gestion des dclarations de sessions"})]}),l.jsx("div",{className:"mb-4",children:l.jsx("p",{className:"text-lg font-medium text-gray-100",children:im[u].caption})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:y,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image prcdente",children:l.jsx(ON,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex gap-2",children:im.map((_,E)=>l.jsx("button",{onClick:()=>f(E),className:`h-2 rounded-full transition-all ${E===u?"w-8 bg-white":"w-2 bg-white/50 hover:bg-white/70"}`,"aria-label":`Aller  l'image ${E+1}`},E))}),l.jsx("button",{onClick:w,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors backdrop-blur-sm","aria-label":"Image suivante",children:l.jsx(Gu,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[l.jsx(yV,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Engins de chantier"})]}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[l.jsx(is,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Gestion d'quipes"})]}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-full bg-white/10 backdrop-blur-sm",children:[l.jsx(mx,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Manutention"})]})]})]})]})}),l.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"lg:hidden mb-8 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[l.jsx(mx,{className:"w-10 h-10 text-orange-600"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion Comptable"})]}),l.jsx("p",{className:"text-gray-600",children:"Solution pour vos dclarations de sessions"})]}),l.jsxs(dn,{className:"shadow-xl border-0",children:[l.jsxs(cf,{className:"space-y-1 pb-6",children:[l.jsx(uf,{className:"text-2xl font-bold text-center text-gray-900",children:"Connexion"}),l.jsx(FD,{className:"text-center text-gray-600",children:"Accdez  votre espace personnel"})]}),l.jsxs(hn,{children:[l.jsxs("form",{onSubmit:b,className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),l.jsx(Gs,{id:"username",type:"text",placeholder:"Votre identifiant",value:e,onChange:_=>t(_.target.value),required:!0,className:"h-11"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(Gs,{id:"password",type:h?"text":"password",placeholder:"Votre mot de passe",value:r,onChange:_=>n(_.target.value),required:!0,className:"h-11 pr-10"}),l.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:h?l.jsx(Hs,{className:"w-5 h-5"}):l.jsx(As,{className:"w-5 h-5"})})]})]}),a&&l.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2",children:[l.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.jsx("span",{children:a})]}),l.jsx(rt,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white font-medium shadow-lg",disabled:s,children:s?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion..."]}):"Se connecter"})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[l.jsx("p",{children:" 2025 Systme de Gestion Comptable"}),l.jsx("p",{className:"mt-1",children:"Tous droits rservs"})]})]})]})]})})]})},TV=({className:e=""})=>{const[t,r]=C.useState(!1),[n,a]=C.useState(["gestion-comptable","formation-en-ligne"]),{user:i,isAdmin:s,isGerant:o,logout:u}=_i(),f=$n(),h=Cc(),p=()=>{u(),f("/login"),r(!1)},g=A=>{a(T=>T.includes(A)?T.filter(O=>O!==A):[...T,A])},x=[{id:"gestion-comptable",title:"Gestion Comptable",icon:cu,items:[{to:"/dashboard",icon:Ev,label:"Tableau de bord"},{to:"/admin/segments",icon:cu,label:"Segments"},{to:"/admin/cities",icon:Js,label:"Villes"},{to:"/admin/users",icon:is,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:U0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:zv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Uv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:zD,items:[{to:"/admin/formations/sessions",icon:rs,label:"Sessions"}]}],b=[{to:"/dashboard",icon:Ev,label:"Tableau de bord"},{to:"/professor/declarations",icon:$D,label:"Mes dclarations"}],y=[{to:"/dashboard",icon:Ev,label:"Tableau de bord"},{to:"/gerant/view-declarations",icon:Uv,label:"Voir dclarations"}],w=s?x:[],_=s?[]:o?y:b,E=A=>h.pathname===A;return l.jsxs(l.Fragment,{children:[l.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:`lg:hidden ${e}`,"aria-label":"Open menu",children:l.jsx(GH,{className:"h-6 w-6"})}),t&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),l.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${t?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Menu"}),l.jsx(rt,{variant:"ghost",size:"icon",onClick:()=>r(!1),"aria-label":"Close menu",children:l.jsx(kl,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:i?.full_name||i?.username}),l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i?.role})]}),l.jsxs("nav",{className:"flex flex-col p-2 space-y-2 overflow-y-auto flex-1",children:[w.map(A=>{const T=n.includes(A.id),O=A.icon;return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>g(A.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(O,{className:"h-5 w-5 text-gray-600"}),l.jsx("span",{children:A.title})]}),T?l.jsx(BD,{className:"h-4 w-4 text-gray-400"}):l.jsx(Qy,{className:"h-4 w-4 text-gray-400"})]}),T&&l.jsx("div",{className:"ml-6 space-y-0.5",children:A.items.map(R=>{const D=R.icon,M=E(R.to);return l.jsxs(La,{to:R.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${M?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[l.jsx(D,{className:`h-4 w-4 ${M?"text-blue-600":"text-gray-400"}`}),l.jsx("span",{children:R.label})]},R.to)})})]},A.id)}),_.map(A=>l.jsxs(La,{to:A.to,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-colors ${E(A.to)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx(A.icon,{className:`h-5 w-5 ${E(A.to)?"text-blue-600":"text-gray-400"}`}),l.jsx("span",{className:"font-medium",children:A.label})]},A.to))]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-white",children:l.jsxs(rt,{onClick:p,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[l.jsx(HD,{className:"h-4 w-4"}),"Dconnexion"]})})]})]})},OV=({title:e,subtitle:t})=>{const{user:r,logout:n}=_i(),a=$n(),i=()=>{n(),a("/login")};return l.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:l.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsx(TV,{}),l.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[l.jsx(mx,{className:"h-6 w-6 sm:h-7 sm:w-7 text-orange-600"}),l.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Comptabilit PL"})]}),e&&l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 truncate max-w-[150px] sm:max-w-none",children:e}),t&&l.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:t})]})]}),l.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:r?.full_name||r?.username}),l.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r?.role})]}),l.jsxs(rt,{onClick:i,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(HD,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden xl:inline",children:"Dconnexion"})]})]}),!e&&l.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[l.jsx(mx,{className:"h-6 w-6 text-orange-600"}),l.jsx("span",{className:"text-base font-bold text-gray-800",children:"Comptabilit PL"})]})]})})})},DV=()=>{const e=Cc(),[t,r]=C.useState(["gestion-comptable","formation-en-ligne"]),n=s=>{r(o=>o.includes(s)?o.filter(u=>u!==s):[...o,s])},a=[{id:"gestion-comptable",title:"Gestion Comptable",icon:cu,items:[{to:"/dashboard",icon:Ev,label:"Tableau de bord"},{to:"/admin/segments",icon:cu,label:"Segments"},{to:"/admin/cities",icon:Js,label:"Villes"},{to:"/admin/users",icon:is,label:"Utilisateurs"},{to:"/admin/calculation-sheets",icon:U0,label:"Fiches de calcul"},{to:"/admin/create-declaration",icon:zv,label:"Crer dclaration"},{to:"/admin/declarations",icon:Uv,label:"Grer dclarations"}]},{id:"formation-en-ligne",title:"Formation en Ligne",icon:zD,items:[{to:"/admin/formations/cours",icon:zn,label:"Formations"},{to:"/admin/formations/sessions",icon:rs,label:"Sessions"},{to:"/admin/analytics",icon:RD,label:"Analytics"},{to:"/admin/student-reports",icon:Zs,label:"Rapports tudiants"},{to:"/admin/certificates",icon:as,label:"Certificats"},{to:"/admin/certificate-templates",icon:H4,label:"Templates de Certificats"},{to:"/admin/forums",icon:Ys,label:"Forums"}]}],i=s=>e.pathname===s;return l.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 bg-white border-r border-gray-200 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:[l.jsx("nav",{className:"flex-1 px-3 py-4 space-y-2",children:a.map(s=>{const o=t.includes(s.id),u=s.icon;return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>n(s.id),className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(u,{className:"h-5 w-5 text-gray-600 group-hover:text-blue-600"}),l.jsx("span",{className:"group-hover:text-blue-600",children:s.title})]}),o?l.jsx(BD,{className:"h-4 w-4 text-gray-400"}):l.jsx(Qy,{className:"h-4 w-4 text-gray-400"})]}),o&&l.jsx("div",{className:"ml-3 space-y-0.5 border-l-2 border-gray-200 pl-3",children:s.items.map(f=>{const h=f.icon,p=i(f.to);return l.jsxs(La,{to:f.to,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-all ${p?"bg-blue-50 text-blue-700 font-medium border-l-2 border-blue-600 -ml-[2px]":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[l.jsx(h,{className:`h-4 w-4 ${p?"text-blue-600":"text-gray-400"}`}),l.jsx("span",{children:f.label})]},f.to)})})]},s.id)})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:l.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Comptabilit PL  2025"})})]})},ua=({children:e,title:t,subtitle:r})=>l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(OV,{title:t,subtitle:r}),l.jsxs("div",{className:"flex",children:[l.jsx(DV,{}),l.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]});function PV(){return pr({queryKey:["dashboard-stats"],queryFn:async()=>lt.get("/admin/dashboard-stats"),refetchInterval:3e4})}const FV=()=>{const{data:e,isLoading:t,error:r}=PV();if(t)return l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(r||!e)return l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des statistiques"})});const{statusStats:n,alerts:a,metrics:i,rankings:s}=e;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques Rapides"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-4 border border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Fiches"}),l.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:n.total})]}),l.jsx(Zs,{className:"w-10 h-10 text-blue-500 opacity-50"})]})}),l.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.soumise>5?"bg-gradient-to-br from-red-50 to-red-100 border-red-300 animate-pulse":"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${n.soumise>5?"text-red-600":"text-blue-600"}`,children:"Soumises"}),l.jsx("p",{className:`text-3xl font-bold mt-1 ${n.soumise>5?"text-red-900":"text-blue-900"}`,children:n.soumise}),n.soumise>5&&l.jsx("p",{className:"text-xs text-red-700 mt-1",children:"  traiter rapidement"})]}),l.jsx(wm,{className:`w-10 h-10 opacity-50 ${n.soumise>5?"text-red-500":"text-blue-500"}`})]})}),l.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${n.a_declarer>3?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 animate-pulse":"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-orange-600",children:" dclarer"}),l.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-1",children:n.a_declarer}),n.a_declarer>3&&l.jsx("p",{className:"text-xs text-orange-700 mt-1",children:" Attente prof"})]}),l.jsx(mn,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),l.jsx("div",{className:`rounded-lg shadow-sm p-4 border ${a.expired.total>0?"bg-gradient-to-br from-red-50 to-red-100 border-red-300":"bg-gradient-to-br from-gray-50 to-gray-100 border-gray-200"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${a.expired.total>0?"text-red-600":"text-gray-600"}`,children:"Expires"}),l.jsx("p",{className:`text-3xl font-bold mt-1 ${a.expired.total>0?"text-red-900":"text-gray-900"}`,children:a.expired.total}),a.expired.critical>0&&l.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[" ",a.expired.critical," critique"]})]}),l.jsx(wE,{className:`w-10 h-10 opacity-50 ${a.expired.total>0?"text-red-500":"text-gray-400"}`})]})}),l.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-4 border border-green-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-600",children:"Revenus Total"}),l.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:[new Intl.NumberFormat("fr-FR").format(i.totalRevenue)," MAD"]})]}),l.jsx($4,{className:"w-10 h-10 text-green-500 opacity-50"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-4 border border-purple-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Dlai Moyen"}),l.jsxs("p",{className:"text-3xl font-bold text-purple-900 mt-1",children:[i.avgProcessingTime,l.jsx("span",{className:"text-lg ml-1",children:"j"})]}),l.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"de traitement"})]}),l.jsx(Ks,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]})]}),(n.soumise>0||a.expired.total>0||a.expiring>0||a.lateProcessing>0)&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Alertes Urgentes"}),l.jsxs("div",{className:"space-y-3",children:[n.soumise>0&&l.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-r-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(wm,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),l.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[n.soumise," dclaration",n.soumise>1?"s":""," soumise",n.soumise>1?"s":"","  traiter"]})]})}),a.expired.critical>0&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-600 rounded-r-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(G4,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),l.jsxs("p",{className:"text-sm font-medium text-red-900",children:[" ",a.expired.critical," dclaration",a.expired.critical>1?"s":""," expire",a.expired.critical>1?"s":""," depuis > 30 jours (CRITIQUE)"]})]})}),a.expired.warning>0&&l.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-r-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mn,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),l.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.expired.warning," dclaration",a.expired.warning>1?"s":""," expire",a.expired.warning>1?"s":""," depuis 7-30 jours"]})]})}),a.expiring>0&&l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-r-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ks,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),l.jsxs("p",{className:"text-sm font-medium text-yellow-900",children:[" ",a.expiring," dclaration",a.expiring>1?"s":""," arrivant  chance dans 7 jours"]})]})}),a.lateProcessing>0&&l.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-600 rounded-r-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(wE,{className:"w-5 h-5 text-orange-600 flex-shrink-0"}),l.jsxs("p",{className:"text-sm font-medium text-orange-900",children:[" ",a.lateProcessing," dclaration",a.lateProcessing>1?"s":""," en retard de traitement (> 7 jours)"]})]})})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dtails par Statut"}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Zs,{className:"w-4 h-4 text-gray-500"}),l.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Brouillon"})]}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.brouillon})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-orange-300",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(mn,{className:"w-4 h-4 text-orange-500"}),l.jsx("p",{className:"text-xs font-medium text-orange-600",children:" dclarer"})]}),l.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.a_declarer})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-blue-300",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(wm,{className:"w-4 h-4 text-blue-500"}),l.jsx("p",{className:"text-xs font-medium text-blue-600",children:"Soumise"})]}),l.jsx("p",{className:"text-2xl font-bold text-blue-900",children:n.soumise})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-yellow-300",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ks,{className:"w-4 h-4 text-yellow-500"}),l.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"En cours"})]}),l.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:n.en_cours})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-green-300",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ai,{className:"w-4 h-4 text-green-500"}),l.jsx("p",{className:"text-xs font-medium text-green-600",children:"Approuve"})]}),l.jsx("p",{className:"text-2xl font-bold text-green-900",children:n.approuvee})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-red-300",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(_d,{className:"w-4 h-4 text-red-500"}),l.jsx("p",{className:"text-xs font-medium text-red-600",children:"Refuse"})]}),l.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.refusee})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Mtriques de Performance"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm p-6 border border-green-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(z0,{className:"w-6 h-6 text-green-600"}),l.jsx("p",{className:"text-sm font-medium text-green-700",children:"Taux d'Approbation"})]}),l.jsxs("p",{className:"text-4xl font-bold text-green-900",children:[i.approvalRate.toFixed(1),"%"]}),l.jsx("div",{className:"mt-3 bg-green-200 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"bg-green-600 h-full transition-all duration-500",style:{width:`${i.approvalRate}%`}})})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-sm p-6 border border-purple-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(Ks,{className:"w-6 h-6 text-purple-600"}),l.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Dlai Moyen de Traitement"})]}),l.jsxs("p",{className:"text-4xl font-bold text-purple-900",children:[i.avgProcessingTime,l.jsx("span",{className:"text-2xl ml-1",children:"jours"})]}),l.jsx("p",{className:"text-xs text-purple-700 mt-2",children:"Entre soumission et validation"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm p-6 border border-blue-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx($4,{className:"w-6 h-6 text-blue-600"}),l.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Revenus Totaux (Approuves)"})]}),l.jsx("p",{className:"text-3xl font-bold text-blue-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MAD",minimumFractionDigits:0}).format(i.totalRevenue)}),l.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Bas sur les fiches approuves"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[l.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[l.jsx(Zs,{className:"w-4 h-4"}),"Top 3 Segments"]}),l.jsx("div",{className:"space-y-2",children:s.topSegments.length>0?s.topSegments.map((o,u)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):l.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[l.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4"}),"Top 5 Villes"]}),l.jsx("div",{className:"space-y-2",children:s.topCities.length>0?s.topCities.map((o,u)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.name}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):l.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[l.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[l.jsx(is,{className:"w-4 h-4"}),"Top 5 Professeurs Actifs"]}),l.jsx("div",{className:"space-y-2",children:s.topProfessors.length>0?s.topProfessors.map((o,u)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm text-gray-700 truncate",children:o.full_name}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.count})]},u)):l.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune donne"})})]})]})]})},LV=()=>{const{user:e,isAdmin:t,isGerant:r}=_i(),s=t?[{title:"Gestion des Segments",description:"Crer et grer les segments de formation",icon:cu,link:"/admin/segments",color:"bg-blue-500"},{title:"Gestion des Villes",description:"Grer les villes et leur affectation",icon:Js,link:"/admin/cities",color:"bg-green-500"},{title:"Gestion des Utilisateurs",description:"Crer et grer les comptes (admin, professeur, grant)",icon:is,link:"/admin/users",color:"bg-purple-500"},{title:"Fiches de Calcul",description:"Crer des templates de fiches de calcul",icon:U0,link:"/admin/calculation-sheets",color:"bg-orange-500"},{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:zv,link:"/admin/create-declaration",color:"bg-teal-500"},{title:"Gestion des Dclarations",description:"Valider et grer les dclarations des professeurs",icon:Uv,link:"/admin/declarations",color:"bg-indigo-500"},{title:"Analytics & Rapports",description:"Statistiques et analyses de performance des formations",icon:RD,link:"/admin/analytics",color:"bg-pink-500"},{title:"Rapports tudiants",description:"Consulter les rapports dtaills de progression des tudiants",icon:Zs,link:"/admin/student-reports",color:"bg-cyan-500"}]:r?[{title:"Crer des Dclarations",description:"Assigner des fiches de sessions aux professeurs",icon:zv,link:"/gerant/create-declaration",color:"bg-blue-500"},{title:"Mes Dclarations Cres",description:"Suivre les dclarations que j'ai assignes",icon:$D,link:"/gerant/declarations",color:"bg-green-500"}]:[{title:"Mes Dclarations",description:"Crer et grer mes dclarations de sessions",icon:U0,link:"/professor/declarations",color:"bg-blue-500"}];return l.jsxs(ua,{title:"Tableau de Bord",subtitle:`Bienvenue, ${e?.full_name} (${t?"Administrateur":r?"Grant":"Professeur"})`,children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:s.map((o,u)=>l.jsx(La,{to:o.link,children:l.jsxs(dn,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:[l.jsxs(cf,{children:[l.jsx("div",{className:`${o.color} w-12 h-12 rounded-lg flex items-center justify-center mb-4`,children:l.jsx(o.icon,{className:"h-6 w-6 text-white"})}),l.jsx(uf,{className:"text-xl",children:o.title})]}),l.jsx(hn,{children:l.jsx("p",{className:"text-gray-600",children:o.description})})]})},u))}),t&&l.jsx("div",{className:"mt-6 sm:mt-8",children:l.jsx(FV,{})}),!t&&l.jsxs("div",{className:"mt-6 sm:mt-8",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Statistiques Rapides"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r?"Dclarations cres":"Mes Fiches"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0 MAD"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Revenus Total"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"0 MAD"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Charges Total"})]})})})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var $v={};$v.version="0.18.5";var GD=1252,MV=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],LN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},MN=function(e){MV.indexOf(e)!=-1&&(GD=LN[0]=e)};function RV(){MN(1252)}var yc=function(e){MN(e)};function RN(){yc(1200),RV()}function _E(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function IV(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function KD(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var ox=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?IV(e.slice(2)):t==254&&r==255?KD(e.slice(2)):t==65279?e.slice(1):e},z1=function(t){return String.fromCharCode(t)},NE=function(t){return String.fromCharCode(t)},Px,gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fx(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,u=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),s=(r&3)<<4|n>>4,a=e.charCodeAt(f++),o=(n&15)<<2|a>>6,u=a&63,isNaN(n)?o=u=64:isNaN(a)&&(u=64),t+=gd.charAt(i)+gd.charAt(s)+gd.charAt(o)+gd.charAt(u);return t}function to(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=gd.indexOf(e.charAt(f++)),s=gd.indexOf(e.charAt(f++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=gd.indexOf(e.charAt(f++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),u=gd.indexOf(e.charAt(f++)),a=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(a));return t}var Cr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),yf=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Nd(e){return Cr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function SE(e){return Cr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xl=function(t){return Cr?yf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function e2(e){if(typeof ArrayBuffer>"u")return Xl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Fd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function BV(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function IN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return IN(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ri=Cr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:yf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function UV(e){for(var t=[],r=0,n=e.length+250,a=Nd(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Nd(65535),n=65530)}return t.push(a.slice(0,r)),Ri(t)}var el=/\u0000/g,cx=/[\u0001-\u0006]/g;function _m(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function bc(e,t){var r=""+e;return r.length>=t?r:Pa("0",t-r.length)+r}function BN(e,t){var r=""+e;return r.length>=t?r:Pa(" ",t-r.length)+r}function Hv(e,t){var r=""+e;return r.length>=t?r:r+Pa(" ",t-r.length)}function zV(e,t){var r=""+Math.round(e);return r.length>=t?r:Pa("0",t-r.length)+r}function qV(e,t){var r=""+e;return r.length>=t?r:Pa("0",t-r.length)+r}var jE=Math.pow(2,32);function sm(e,t){if(e>jE||e<-jE)return zV(e,t);var r=Math.round(e);return qV(r,t)}function Vv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var AE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],gw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function $V(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var cr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},EE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},HV={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Wv(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,u=1,f=0,h=0,p=Math.floor(a);f<t&&(p=Math.floor(a),o=p*s+i,h=p*f+u,!(a-p<5e-8));)a=1/(a-p),i=s,s=o,u=f,f=h;if(h>t&&(f>t?(h=u,o=i):(h=f,o=s)),!r)return[0,n*o,h];var g=Math.floor(n*o/h);return[g,n*o-g*h,h]}function j0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var u=new Date(1900,0,1);u.setDate(u.getDate()+n-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),n<60&&(i=(i+6)%7),r&&(i=XV(u,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var YD=new Date(1899,11,31,0,0,0),VV=YD.getTime(),WV=new Date(1900,2,1,0,0,0);function XD(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=WV&&(r+=1440*60*1e3),(r-(VV+(e.getTimezoneOffset()-YD.getTimezoneOffset())*6e4))/(1440*60*1e3)}function UN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function GV(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function KV(e){var t=e<0?12:11,r=UN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function YV(e){var t=UN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Lx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=KV(e):t===10?r=e.toFixed(10).substr(0,12):r=YV(e),UN(GV(r.toUpperCase()))}function q0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Lx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Bo(14,XD(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function XV(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function QV(e,t,r,n){var a="",i=0,s=0,o=r.y,u,f=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,f=2;break;default:u=o%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,f=t.length;break;case 3:return gw[r.m-1][1];case 5:return gw[r.m-1][0];default:return gw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,f=t.length;break;case 3:return AE[r.q][0];default:return AE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?bc(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=bc(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:u=o,f=1;break}var h=f>0?bc(u,f):"";return h}function vd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var QD=/%/g;function ZV(e,t,r){var n=t.replace(QD,""),a=t.length-n.length;return rf(e,n,r*Math.pow(10,2*a))+Pa("%",a)}function JV(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ZD(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ZD(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var JD=/# (\?+)( ?)\/( ?)(\d+)/;function eW(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Pa(" ",e[1].length+1+e[4].length):BN(s,e[1].length)+e[2]+"/"+e[3]+bc(o,e[4].length))}function tW(e,t,r){return r+(t===0?"":""+t)+Pa(" ",e[1].length+2+e[4].length)}var eP=/^#*0*\.([0#]+)/,tP=/\).*[0#]/,rP=/\(###\) ###\\?-####/;function qs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function kE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function CE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function rW(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function nW(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ko(e,t,r){if(e.charCodeAt(0)===40&&!t.match(tP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ko("n",n,r):"("+ko("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return JV(e,t,r);if(t.indexOf("%")!==-1)return ZV(e,t,r);if(t.indexOf("E")!==-1)return ZD(t,r);if(t.charCodeAt(0)===36)return"$"+ko(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+sm(u,t.length);if(t.match(/^[#?]+$/))return a=sm(r,0),a==="0"&&(a=""),a.length>t.length?a:qs(t.substr(0,t.length-a.length))+a;if(i=t.match(JD))return eW(i,u,f);if(t.match(/^#+0+$/))return f+sm(u,t.length-t.indexOf("0"));if(i=t.match(eP))return a=kE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+qs(i[1])).replace(/\.$/,"."+qs(i[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+Pa("0",qs(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+kE(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+vd(sm(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ko(e,t,-r):vd(""+(Math.floor(r)+rW(r,i[1].length)))+"."+bc(CE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ko(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=_m(ko(e,t.replace(/[\\-]/g,""),r)),s=0,_m(_m(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(t.match(rP))return a=ko(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Wv(u,Math.pow(10,s)-1,!1),a=""+f,h=rf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Hv(o[2],s),h.length<i[4].length&&(h=qs(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Wv(u,Math.pow(10,s)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BN(o[1],s)+i[2]+"/"+i[3]+Hv(o[2],s):Pa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=sm(r,0),t.length<=a.length?a:qs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var p=t.indexOf(".")-s,g=t.length-a.length-p;return qs(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=CE(r,i[1].length),r<0?"-"+ko(e,t,-r):vd(nW(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?bc(0,3-b.length):"")+b})+"."+bc(s,i[1].length);switch(t){case"###,##0.00":return ko(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=vd(sm(u,0));return x!=="0"?f+x:"";case"###,###.00":return ko(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ko(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function aW(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function iW(e,t,r){var n=t.replace(QD,""),a=t.length-n.length;return rf(e,n,r*Math.pow(10,2*a))+Pa("%",a)}function nP(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nP(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,f,h){return u+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ru(e,t,r){if(e.charCodeAt(0)===40&&!t.match(tP)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ru("n",n,r):"("+ru("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return aW(e,t,r);if(t.indexOf("%")!==-1)return iW(e,t,r);if(t.indexOf("E")!==-1)return nP(t,r);if(t.charCodeAt(0)===36)return"$"+ru(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,u=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+bc(u,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:qs(t.substr(0,t.length-a.length))+a;if(i=t.match(JD))return tW(i,u,f);if(t.match(/^#+0+$/))return f+bc(u,t.length-t.indexOf("0"));if(i=t.match(eP))return a=(""+r).replace(/^([^\.]+)$/,"$1."+qs(i[1])).replace(/\.$/,"."+qs(i[1])),a=a.replace(/\.(\d*)$/,function(b,y){return"."+y+Pa("0",qs(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+vd(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ru(e,t,-r):vd(""+r)+"."+Pa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ru(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=_m(ru(e,t.replace(/[\\-]/g,""),r)),s=0,_m(_m(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(t.match(rP))return a=ru(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Wv(u,Math.pow(10,s)-1,!1),a=""+f,h=rf("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=Hv(o[2],s),h.length<i[4].length&&(h=qs(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Wv(u,Math.pow(10,s)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BN(o[1],s)+i[2]+"/"+i[3]+Hv(o[2],s):Pa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:qs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var p=t.indexOf(".")-s,g=t.length-a.length-p;return qs(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ru(e,t,-r):vd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?bc(0,3-b.length):"")+b})+"."+bc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=vd(""+u);return x!=="0"?f+x:"";default:if(t.match(/\.[0#?]*$/))return ru(e,t.slice(0,t.lastIndexOf(".")),r)+qs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function rf(e,t,r){return(r|0)===r?ru(e,t,r):ko(e,t,r)}function sW(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var aP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ym(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Vv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(aP))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function lW(e,t,r,n){for(var a=[],i="",s=0,o="",u="t",f,h,p,g="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Vv(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(p=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(p);a[a.length]={t:"t",v:i},++s;break;case"\\":var x=e.charAt(++s),b=x==="("||x===")"?x:"t";a[a.length]={t:b,v:x},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(f==null&&(f=j0(t,r,e.charAt(s+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},u=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=j0(t,r),f==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:i},u=o;break;case"A":case"a":case"":var y={t:o,v:o};if(f==null&&(f=j0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(f!=null&&(y.v=f.H>=12?"P":"A"),y.t="T",g="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(f!=null&&(y.v=f.H>=12?"PM":"AM"),y.t="T",s+=5,g="h"):e.substr(s,5).toUpperCase()==="/"?(f!=null&&(y.v=f.H>=12?"":""),y.t="T",s+=5,g="h"):(y.t="t",++s),f==null&&y.t==="T")return"";a[a.length]=y,u=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(aP)){if(f==null&&(f=j0(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ym(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},u=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var w=0,_=0,E;for(s=a.length-1,u="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=g,u="h",w<1&&(w=1);break;case"s":(E=a[s].v.match(/\.0+$/))&&(_=Math.max(_,E[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":u=a[s].t;break;case"m":u==="s"&&(a[s].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[s].v.match(/[Hh]/)&&(w=1),w<2&&a[s].v.match(/[Mm]/)&&(w=2),w<3&&a[s].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var A="",T;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=QV(a[s].t.charCodeAt(0),a[s].v,f,_),a[s].t="t";break;case"n":case"?":for(T=s+1;a[T]!=null&&((o=a[T].t)==="?"||o==="D"||(o===" "||o==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[s].v+=a[T].v,a[T]={v:"",t:";"},++T;A+=a[s].v,s=T-1;break;case"G":a[s].t="t",a[s].v=q0(t,r);break}var O="",R,D;if(A.length>0){A.charCodeAt(0)==40?(R=t<0&&A.charCodeAt(0)===45?-t:t,D=rf("n",A,R)):(R=t<0&&n>1?-t:t,D=rf("n",A,R),R<0&&a[0]&&a[0].t=="t"&&(D=D.substr(1),a[0].v="-"+a[0].v)),T=D.length-1;var M=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){M=s;break}var B=a.length;if(M===a.length&&D.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(T>=a[s].v.length-1?(T-=a[s].v.length,a[s].v=D.substr(T+1,a[s].v.length)):T<0?a[s].v="":(a[s].v=D.substr(0,T+1),T=-1),a[s].t="t",B=s);T>=0&&B<a.length&&(a[B].v=D.substr(0,T+1)+a[B].v)}else if(M!==a.length&&D.indexOf("E")===-1){for(T=D.indexOf(".")-1,s=M;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(h=a[s].v.indexOf(".")>-1&&s===M?a[s].v.indexOf(".")-1:a[s].v.length-1,O=a[s].v.substr(h+1);h>=0;--h)T>=0&&(a[s].v.charAt(h)==="0"||a[s].v.charAt(h)==="#")&&(O=D.charAt(T--)+O);a[s].v=O,a[s].t="t",B=s}for(T>=0&&B<a.length&&(a[B].v=D.substr(0,T+1)+a[B].v),T=D.indexOf(".")+1,s=M;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==M)){for(h=a[s].v.indexOf(".")>-1&&s===M?a[s].v.indexOf(".")+1:0,O=a[s].v.substr(0,h);h<a[s].v.length;++h)T<D.length&&(O+=D.charAt(T++));a[s].v=O,a[s].t="t",B=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(R=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=rf(a[s].t,a[s].v,R),a[s].t="t");var G="";for(s=0;s!==a.length;++s)a[s]!=null&&(G+=a[s].v);return G}var TE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function OE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function oW(e,t){var r=sW(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(TE),o=r[1].match(TE);return OE(t,s)?[n,r[0]]:OE(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Bo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:cr)[e],n==null&&(n=r.table&&r.table[EE[e]]||cr[EE[e]]),n==null&&(n=HV[e]||"General");break}if(Vv(n,0))return q0(t,r);t instanceof Date&&(t=XD(t,r.date1904));var a=oW(n,t);if(Vv(a[1]))return q0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return lW(a[1],t,r,a[0])}function nf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(cr[r]==null){t<0&&(t=r);continue}if(cr[r]==e){t=r;break}}t<0&&(t=391)}return cr[t]=e,t}function t2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&nf(e[t],t)}function Xm(){cr=$V()}var cW={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},iP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uW(e){var t=typeof e=="number"?cr[e]:e;return t=t.replace(iP,"(\\d+)"),new RegExp("^"+t+"$")}function fW(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,u=-1;(t.match(iP)||[]).forEach(function(p,g){var x=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=x;break;case"d":i=x;break;case"h":s=x;break;case"s":u=x;break;case"m":s>=0?o=x:a=x;break}}),u>=0&&o==-1&&a>=0&&(o=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&o==-1&&u==-1?f:n==-1&&a==-1&&i==-1?h:f+"T"+h}var dW=(function(){var e={};e.version="1.2.0";function t(){for(var D=0,M=new Array(256),B=0;B!=256;++B)D=B,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,M[B]=D;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(D){var M=0,B=0,G=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)I[G]=D[G];for(G=0;G!=256;++G)for(B=D[G],M=256+G;M<4096;M+=256)B=I[M]=B>>>8^D[B&255];var z=[];for(G=1;G!=16;++G)z[G-1]=typeof Int32Array<"u"?I.subarray(G*256,G*256+256):I.slice(G*256,G*256+256);return z}var a=n(r),i=a[0],s=a[1],o=a[2],u=a[3],f=a[4],h=a[5],p=a[6],g=a[7],x=a[8],b=a[9],y=a[10],w=a[11],_=a[12],E=a[13],A=a[14];function T(D,M){for(var B=M^-1,G=0,I=D.length;G<I;)B=B>>>8^r[(B^D.charCodeAt(G++))&255];return~B}function O(D,M){for(var B=M^-1,G=D.length-15,I=0;I<G;)B=A[D[I++]^B&255]^E[D[I++]^B>>8&255]^_[D[I++]^B>>16&255]^w[D[I++]^B>>>24]^y[D[I++]]^b[D[I++]]^x[D[I++]]^g[D[I++]]^p[D[I++]]^h[D[I++]]^f[D[I++]]^u[D[I++]]^o[D[I++]]^s[D[I++]]^i[D[I++]]^r[D[I++]];for(G+=15;I<G;)B=B>>>8^r[(B^D[I++])&255];return~B}function R(D,M){for(var B=M^-1,G=0,I=D.length,z=0,K=0;G<I;)z=D.charCodeAt(G++),z<128?B=B>>>8^r[(B^z)&255]:z<2048?(B=B>>>8^r[(B^(192|z>>6&31))&255],B=B>>>8^r[(B^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,K=D.charCodeAt(G++)&1023,B=B>>>8^r[(B^(240|z>>8&7))&255],B=B>>>8^r[(B^(128|z>>2&63))&255],B=B>>>8^r[(B^(128|K>>6&15|(z&3)<<4))&255],B=B>>>8^r[(B^(128|K&63))&255]):(B=B>>>8^r[(B^(224|z>>12&15))&255],B=B>>>8^r[(B^(128|z>>6&63))&255],B=B>>>8^r[(B^(128|z&63))&255]);return~B}return e.table=r,e.bstr=T,e.buf=O,e.str=R,e})(),nr=(function(){var t={};t.version="1.2.1";function r(ee,we){for(var de=ee.split("/"),he=we.split("/"),ge=0,Ne=0,Me=Math.min(de.length,he.length);ge<Me;++ge){if(Ne=de[ge].length-he[ge].length)return Ne;if(de[ge]!=he[ge])return de[ge]<he[ge]?-1:1}return de.length-he.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var we=ee.lastIndexOf("/");return we===-1?ee:ee.slice(0,we+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var we=ee.lastIndexOf("/");return we===-1?ee:ee.slice(we+1)}function i(ee,we){typeof we=="string"&&(we=new Date(we));var de=we.getHours();de=de<<6|we.getMinutes(),de=de<<5|we.getSeconds()>>>1,ee.write_shift(2,de);var he=we.getFullYear()-1980;he=he<<4|we.getMonth()+1,he=he<<5|we.getDate(),ee.write_shift(2,he)}function s(ee){var we=ee.read_shift(2)&65535,de=ee.read_shift(2)&65535,he=new Date,ge=de&31;de>>>=5;var Ne=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(Ne-1),he.setDate(ge);var Me=we&31;we>>>=5;var Ge=we&63;return we>>>=6,he.setHours(we),he.setMinutes(Ge),he.setSeconds(Me<<1),he}function o(ee){ts(ee,0);for(var we={},de=0;ee.l<=ee.length-4;){var he=ee.read_shift(2),ge=ee.read_shift(2),Ne=ee.l+ge,Me={};switch(he){case 21589:de=ee.read_shift(1),de&1&&(Me.mtime=ee.read_shift(4)),ge>5&&(de&2&&(Me.atime=ee.read_shift(4)),de&4&&(Me.ctime=ee.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}ee.l=Ne,we[he]=Me}return we}var u;function f(){return u||(u={})}function h(ee,we){if(ee[0]==80&&ee[1]==75)return pn(ee,we);if((ee[0]|32)==109&&(ee[1]|32)==105)return Wt(ee,we);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var de=3,he=512,ge=0,Ne=0,Me=0,Ge=0,Ie=0,Be=[],ze=ee.slice(0,512);ts(ze,0);var ut=p(ze);switch(de=ut[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(ut[1]==0)return pn(ee,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&(ze=ee.slice(0,he),ts(ze,28));var mt=ee.slice(0,he);g(ze,de);var _t=ze.read_shift(4,"i");if(de===3&&_t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+_t);ze.l+=4,Me=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Ge=ze.read_shift(4,"i"),ge=ze.read_shift(4,"i"),Ie=ze.read_shift(4,"i"),Ne=ze.read_shift(4,"i");for(var ht=-1,vt=0;vt<109&&(ht=ze.read_shift(4,"i"),!(ht<0));++vt)Be[vt]=ht;var Tt=x(ee,he);w(Ie,Ne,Tt,he,Be);var an=E(Tt,Me,Be,he);an[Me].name="!Directory",ge>0&&Ge!==K&&(an[Ge].name="!MiniFAT"),an[Be[0]].name="!FAT",an.fat_addrs=Be,an.ssz=he;var kr={},un=[],$i=[],Ol=[];A(Me,an,Tt,un,ge,kr,$i,Ge),b($i,Ol,un),un.shift();var Dl={FileIndex:$i,FullPaths:Ol};return we&&we.raw&&(Dl.raw={header:mt,sectors:Tt}),Dl}function p(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(J,"Header Signature: "),ee.l+=16;var we=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),we]}function g(ee,we){var de=9;switch(ee.l+=2,de=ee.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function x(ee,we){for(var de=Math.ceil(ee.length/we)-1,he=[],ge=1;ge<de;++ge)he[ge-1]=ee.slice(ge*we,(ge+1)*we);return he[de-1]=ee.slice(de*we),he}function b(ee,we,de){for(var he=0,ge=0,Ne=0,Me=0,Ge=0,Ie=de.length,Be=[],ze=[];he<Ie;++he)Be[he]=ze[he]=he,we[he]=de[he];for(;Ge<ze.length;++Ge)he=ze[Ge],ge=ee[he].L,Ne=ee[he].R,Me=ee[he].C,Be[he]===he&&(ge!==-1&&Be[ge]!==ge&&(Be[he]=Be[ge]),Ne!==-1&&Be[Ne]!==Ne&&(Be[he]=Be[Ne])),Me!==-1&&(Be[Me]=he),ge!==-1&&he!=Be[he]&&(Be[ge]=Be[he],ze.lastIndexOf(ge)<Ge&&ze.push(ge)),Ne!==-1&&he!=Be[he]&&(Be[Ne]=Be[he],ze.lastIndexOf(Ne)<Ge&&ze.push(Ne));for(he=1;he<Ie;++he)Be[he]===he&&(Ne!==-1&&Be[Ne]!==Ne?Be[he]=Be[Ne]:ge!==-1&&Be[ge]!==ge&&(Be[he]=Be[ge]));for(he=1;he<Ie;++he)if(ee[he].type!==0){if(Ge=he,Ge!=Be[Ge])do Ge=Be[Ge],we[he]=we[Ge]+"/"+we[he];while(Ge!==0&&Be[Ge]!==-1&&Ge!=Be[Ge]);Be[he]=-1}for(we[0]+="/",he=1;he<Ie;++he)ee[he].type!==2&&(we[he]+="/")}function y(ee,we,de){for(var he=ee.start,ge=ee.size,Ne=[],Me=he;de&&ge>0&&Me>=0;)Ne.push(we.slice(Me*z,Me*z+z)),ge-=z,Me=_0(de,Me*4);return Ne.length===0?Ze(0):Ri(Ne).slice(0,ee.size)}function w(ee,we,de,he,ge){var Ne=K;if(ee===K){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Me=de[ee],Ge=(he>>>2)-1;if(!Me)return;for(var Ie=0;Ie<Ge&&(Ne=_0(Me,Ie*4))!==K;++Ie)ge.push(Ne);w(_0(Me,he-4),we-1,de,he,ge)}}function _(ee,we,de,he,ge){var Ne=[],Me=[];ge||(ge=[]);var Ge=he-1,Ie=0,Be=0;for(Ie=we;Ie>=0;){ge[Ie]=!0,Ne[Ne.length]=Ie,Me.push(ee[Ie]);var ze=de[Math.floor(Ie*4/he)];if(Be=Ie*4&Ge,he<4+Be)throw new Error("FAT boundary crossed: "+Ie+" 4 "+he);if(!ee[ze])break;Ie=_0(ee[ze],Be)}return{nodes:Ne,data:$E([Me])}}function E(ee,we,de,he){var ge=ee.length,Ne=[],Me=[],Ge=[],Ie=[],Be=he-1,ze=0,ut=0,mt=0,_t=0;for(ze=0;ze<ge;++ze)if(Ge=[],mt=ze+we,mt>=ge&&(mt-=ge),!Me[mt]){Ie=[];var ht=[];for(ut=mt;ut>=0;){ht[ut]=!0,Me[ut]=!0,Ge[Ge.length]=ut,Ie.push(ee[ut]);var vt=de[Math.floor(ut*4/he)];if(_t=ut*4&Be,he<4+_t)throw new Error("FAT boundary crossed: "+ut+" 4 "+he);if(!ee[vt]||(ut=_0(ee[vt],_t),ht[ut]))break}Ne[mt]={nodes:Ge,data:$E([Ie])}}return Ne}function A(ee,we,de,he,ge,Ne,Me,Ge){for(var Ie=0,Be=he.length?2:0,ze=we[ee].data,ut=0,mt=0,_t;ut<ze.length;ut+=128){var ht=ze.slice(ut,ut+128);ts(ht,64),mt=ht.read_shift(2),_t=GN(ht,0,mt-Be),he.push(_t);var vt={name:_t,type:ht.read_shift(1),color:ht.read_shift(1),L:ht.read_shift(4,"i"),R:ht.read_shift(4,"i"),C:ht.read_shift(4,"i"),clsid:ht.read_shift(16),state:ht.read_shift(4,"i"),start:0,size:0},Tt=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);Tt!==0&&(vt.ct=T(ht,ht.l-8));var an=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);an!==0&&(vt.mt=T(ht,ht.l-8)),vt.start=ht.read_shift(4,"i"),vt.size=ht.read_shift(4,"i"),vt.size<0&&vt.start<0&&(vt.size=vt.type=0,vt.start=K,vt.name=""),vt.type===5?(Ie=vt.start,ge>0&&Ie!==K&&(we[Ie].name="!StreamData")):vt.size>=4096?(vt.storage="fat",we[vt.start]===void 0&&(we[vt.start]=_(de,vt.start,we.fat_addrs,we.ssz)),we[vt.start].name=vt.name,vt.content=we[vt.start].data.slice(0,vt.size)):(vt.storage="minifat",vt.size<0?vt.size=0:Ie!==K&&vt.start!==K&&we[Ie]&&(vt.content=y(vt,we[Ie].data,(we[Ge]||{}).data))),vt.content&&ts(vt.content,0),Ne[_t]=vt,Me.push(vt)}}function T(ee,we){return new Date((Kl(ee,we+4)/1e7*Math.pow(2,32)+Kl(ee,we)/1e7-11644473600)*1e3)}function O(ee,we){return f(),h(u.readFileSync(ee),we)}function R(ee,we){var de=we&&we.type;switch(de||Cr&&Buffer.isBuffer(ee)&&(de="buffer"),de||"base64"){case"file":return O(ee,we);case"base64":return h(Xl(to(ee)),we);case"binary":return h(Xl(ee),we)}return h(ee,we)}function D(ee,we){var de=we||{},he=de.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=he+"/",ee.FileIndex[0]={name:he,type:5}),de.CLSID&&(ee.FileIndex[0].clsid=de.CLSID),M(ee)}function M(ee){var we="Sh33tJ5";if(!nr.find(ee,"/"+we)){var de=Ze(4);de[0]=55,de[1]=de[3]=50,de[2]=54,ee.FileIndex.push({name:we,type:2,content:de,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+we),B(ee)}}function B(ee,we){D(ee);for(var de=!1,he=!1,ge=ee.FullPaths.length-1;ge>=0;--ge){var Ne=ee.FileIndex[ge];switch(Ne.type){case 0:he?de=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(de=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!we)){var Me=new Date(1987,1,19),Ge=0,Ie=Object.create?Object.create(null):{},Be=[];for(ge=0;ge<ee.FullPaths.length;++ge)Ie[ee.FullPaths[ge]]=!0,ee.FileIndex[ge].type!==0&&Be.push([ee.FullPaths[ge],ee.FileIndex[ge]]);for(ge=0;ge<Be.length;++ge){var ze=n(Be[ge][0]);he=Ie[ze],he||(Be.push([ze,{name:a(ze).replace("/",""),type:1,clsid:ne,ct:Me,mt:Me,content:null}]),Ie[ze]=!0)}for(Be.sort(function(_t,ht){return r(_t[0],ht[0])}),ee.FullPaths=[],ee.FileIndex=[],ge=0;ge<Be.length;++ge)ee.FullPaths[ge]=Be[ge][0],ee.FileIndex[ge]=Be[ge][1];for(ge=0;ge<Be.length;++ge){var ut=ee.FileIndex[ge],mt=ee.FullPaths[ge];if(ut.name=a(mt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||ne,ge===0)ut.C=Be.length>1?1:-1,ut.size=0,ut.type=5;else if(mt.slice(-1)=="/"){for(Ge=ge+1;Ge<Be.length&&n(ee.FullPaths[Ge])!=mt;++Ge);for(ut.C=Ge>=Be.length?-1:Ge,Ge=ge+1;Ge<Be.length&&n(ee.FullPaths[Ge])!=n(mt);++Ge);ut.R=Ge>=Be.length?-1:Ge,ut.type=1}else n(ee.FullPaths[ge+1]||"")==n(mt)&&(ut.R=ge+1),ut.type=2}}}function G(ee,we){var de=we||{};if(de.fileType=="mad")return Tl(ee,de);switch(B(ee),de.fileType){case"zip":return qr(ee,de)}var he=(function(_t){for(var ht=0,vt=0,Tt=0;Tt<_t.FileIndex.length;++Tt){var an=_t.FileIndex[Tt];if(an.content){var kr=an.content.length;kr>0&&(kr<4096?ht+=kr+63>>6:vt+=kr+511>>9)}}for(var un=_t.FullPaths.length+3>>2,$i=ht+7>>3,Ol=ht+127>>7,Dl=$i+vt+un+Ol,Ds=Dl+127>>7,Fc=Ds<=109?0:Math.ceil((Ds-109)/127);Dl+Ds+Fc+127>>7>Ds;)Fc=++Ds<=109?0:Math.ceil((Ds-109)/127);var Ia=[1,Fc,Ds,Ol,un,vt,ht,0];return _t.FileIndex[0].size=ht<<6,Ia[7]=(_t.FileIndex[0].start=Ia[0]+Ia[1]+Ia[2]+Ia[3]+Ia[4]+Ia[5])+(Ia[6]+7>>3),Ia})(ee),ge=Ze(he[7]<<9),Ne=0,Me=0;{for(Ne=0;Ne<8;++Ne)ge.write_shift(1,pe[Ne]);for(Ne=0;Ne<8;++Ne)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),Ne=0;Ne<3;++Ne)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,he[2]),ge.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:K),ge.write_shift(4,he[3]),ge.write_shift(-4,he[1]?he[0]-1:K),ge.write_shift(4,he[1]),Ne=0;Ne<109;++Ne)ge.write_shift(-4,Ne<he[2]?he[1]+Ne:-1)}if(he[1])for(Me=0;Me<he[1];++Me){for(;Ne<236+Me*127;++Ne)ge.write_shift(-4,Ne<he[2]?he[1]+Ne:-1);ge.write_shift(-4,Me===he[1]-1?K:Me+1)}var Ge=function(_t){for(Me+=_t;Ne<Me-1;++Ne)ge.write_shift(-4,Ne+1);_t&&(++Ne,ge.write_shift(-4,K))};for(Me=Ne=0,Me+=he[1];Ne<Me;++Ne)ge.write_shift(-4,le.DIFSECT);for(Me+=he[2];Ne<Me;++Ne)ge.write_shift(-4,le.FATSECT);Ge(he[3]),Ge(he[4]);for(var Ie=0,Be=0,ze=ee.FileIndex[0];Ie<ee.FileIndex.length;++Ie)ze=ee.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(Be<4096)&&(ze.start=Me,Ge(Be+511>>9)));for(Ge(he[6]+7>>3);ge.l&511;)ge.write_shift(-4,le.ENDOFCHAIN);for(Me=Ne=0,Ie=0;Ie<ee.FileIndex.length;++Ie)ze=ee.FileIndex[Ie],ze.content&&(Be=ze.content.length,!(!Be||Be>=4096)&&(ze.start=Me,Ge(Be+63>>6)));for(;ge.l&511;)ge.write_shift(-4,le.ENDOFCHAIN);for(Ne=0;Ne<he[4]<<2;++Ne){var ut=ee.FullPaths[Ne];if(!ut||ut.length===0){for(Ie=0;Ie<17;++Ie)ge.write_shift(4,0);for(Ie=0;Ie<3;++Ie)ge.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)ge.write_shift(4,0);continue}ze=ee.FileIndex[Ne],Ne===0&&(ze.start=ze.size?ze.start-1:K);var mt=Ne===0&&de.root||ze.name;if(Be=2*(mt.length+1),ge.write_shift(64,mt,"utf16le"),ge.write_shift(2,Be),ge.write_shift(1,ze.type),ge.write_shift(1,ze.color),ge.write_shift(-4,ze.L),ge.write_shift(-4,ze.R),ge.write_shift(-4,ze.C),ze.clsid)ge.write_shift(16,ze.clsid,"hex");else for(Ie=0;Ie<4;++Ie)ge.write_shift(4,0);ge.write_shift(4,ze.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,ze.start),ge.write_shift(4,ze.size),ge.write_shift(4,0)}for(Ne=1;Ne<ee.FileIndex.length;++Ne)if(ze=ee.FileIndex[Ne],ze.size>=4096)if(ge.l=ze.start+1<<9,Cr&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+511&-512;else{for(Ie=0;Ie<ze.size;++Ie)ge.write_shift(1,ze.content[Ie]);for(;Ie&511;++Ie)ge.write_shift(1,0)}for(Ne=1;Ne<ee.FileIndex.length;++Ne)if(ze=ee.FileIndex[Ne],ze.size>0&&ze.size<4096)if(Cr&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+63&-64;else{for(Ie=0;Ie<ze.size;++Ie)ge.write_shift(1,ze.content[Ie]);for(;Ie&63;++Ie)ge.write_shift(1,0)}if(Cr)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function I(ee,we){var de=ee.FullPaths.map(function(Ie){return Ie.toUpperCase()}),he=de.map(function(Ie){var Be=Ie.split("/");return Be[Be.length-(Ie.slice(-1)=="/"?2:1)]}),ge=!1;we.charCodeAt(0)===47?(ge=!0,we=de[0].slice(0,-1)+we):ge=we.indexOf("/")!==-1;var Ne=we.toUpperCase(),Me=ge===!0?de.indexOf(Ne):he.indexOf(Ne);if(Me!==-1)return ee.FileIndex[Me];var Ge=!Ne.match(cx);for(Ne=Ne.replace(el,""),Ge&&(Ne=Ne.replace(cx,"!")),Me=0;Me<de.length;++Me)if((Ge?de[Me].replace(cx,"!"):de[Me]).replace(el,"")==Ne||(Ge?he[Me].replace(cx,"!"):he[Me]).replace(el,"")==Ne)return ee.FileIndex[Me];return null}var z=64,K=-2,J="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ve(ee,we,de){f();var he=G(ee,de);u.writeFileSync(we,he)}function ue(ee){for(var we=new Array(ee.length),de=0;de<ee.length;++de)we[de]=String.fromCharCode(ee[de]);return we.join("")}function je(ee,we){var de=G(ee,we);switch(we&&we.type||"buffer"){case"file":return f(),u.writeFileSync(we.filename,de),de;case"binary":return typeof de=="string"?de:ue(de);case"base64":return Fx(typeof de=="string"?de:ue(de));case"buffer":if(Cr)return Buffer.isBuffer(de)?de:yf(de);case"array":return typeof de=="string"?Xl(de):de}return de}var te;function P(ee){try{var we=ee.InflateRaw,de=new we;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)te=ee;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function L(ee,we){if(!te)return Ar(ee,we);var de=te.InflateRaw,he=new de,ge=he._processChunk(ee.slice(ee.l),he._finishFlushFlag);return ee.l+=he.bytesRead,ge}function q(ee){return te?te.deflateRawSync(ee):xt(ee)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(ee){var we=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(we>>16|we>>8|we)&255}for(var ae=typeof Uint8Array<"u",Se=ae?new Uint8Array(256):[],De=0;De<256;++De)Se[De]=ce(De);function X(ee,we){var de=Se[ee&255];return we<=8?de>>>8-we:(de=de<<8|Se[ee>>8&255],we<=16?de>>>16-we:(de=de<<8|Se[ee>>16&255],de>>>24-we))}function Ke(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=6?0:ee[he+1]<<8))>>>de&3}function Ce(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=5?0:ee[he+1]<<8))>>>de&7}function xe(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=4?0:ee[he+1]<<8))>>>de&15}function dt(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=3?0:ee[he+1]<<8))>>>de&31}function Xe(ee,we){var de=we&7,he=we>>>3;return(ee[he]|(de<=1?0:ee[he+1]<<8))>>>de&127}function wt(ee,we,de){var he=we&7,ge=we>>>3,Ne=(1<<de)-1,Me=ee[ge]>>>he;return de<8-he||(Me|=ee[ge+1]<<8-he,de<16-he)||(Me|=ee[ge+2]<<16-he,de<24-he)||(Me|=ee[ge+3]<<24-he),Me&Ne}function st(ee,we,de){var he=we&7,ge=we>>>3;return he<=5?ee[ge]|=(de&7)<<he:(ee[ge]|=de<<he&255,ee[ge+1]=(de&7)>>8-he),we+3}function At(ee,we,de){var he=we&7,ge=we>>>3;return de=(de&1)<<he,ee[ge]|=de,we+1}function pt(ee,we,de){var he=we&7,ge=we>>>3;return de<<=he,ee[ge]|=de&255,de>>>=8,ee[ge+1]=de,we+8}function Qt(ee,we,de){var he=we&7,ge=we>>>3;return de<<=he,ee[ge]|=de&255,de>>>=8,ee[ge+1]=de&255,ee[ge+2]=de>>>8,we+16}function Pt(ee,we){var de=ee.length,he=2*de>we?2*de:we+5,ge=0;if(de>=we)return ee;if(Cr){var Ne=SE(he);if(ee.copy)ee.copy(Ne);else for(;ge<ee.length;++ge)Ne[ge]=ee[ge];return Ne}else if(ae){var Me=new Uint8Array(he);if(Me.set)Me.set(ee);else for(;ge<de;++ge)Me[ge]=ee[ge];return Me}return ee.length=he,ee}function $t(ee){for(var we=new Array(ee),de=0;de<ee;++de)we[de]=0;return we}function Zt(ee,we,de){var he=1,ge=0,Ne=0,Me=0,Ge=0,Ie=ee.length,Be=ae?new Uint16Array(32):$t(32);for(Ne=0;Ne<32;++Ne)Be[Ne]=0;for(Ne=Ie;Ne<de;++Ne)ee[Ne]=0;Ie=ee.length;var ze=ae?new Uint16Array(Ie):$t(Ie);for(Ne=0;Ne<Ie;++Ne)Be[ge=ee[Ne]]++,he<ge&&(he=ge),ze[Ne]=0;for(Be[0]=0,Ne=1;Ne<=he;++Ne)Be[Ne+16]=Ge=Ge+Be[Ne-1]<<1;for(Ne=0;Ne<Ie;++Ne)Ge=ee[Ne],Ge!=0&&(ze[Ne]=Be[Ge+16]++);var ut=0;for(Ne=0;Ne<Ie;++Ne)if(ut=ee[Ne],ut!=0)for(Ge=X(ze[Ne],he)>>he-ut,Me=(1<<he+4-ut)-1;Me>=0;--Me)we[Ge|Me<<ut]=ut&15|Ne<<4;return he}var Jt=ae?new Uint16Array(512):$t(512),Dr=ae?new Uint16Array(32):$t(32);if(!ae){for(var It=0;It<512;++It)Jt[It]=0;for(It=0;It<32;++It)Dr[It]=0}(function(){for(var ee=[],we=0;we<32;we++)ee.push(5);Zt(ee,Dr,32);var de=[];for(we=0;we<=143;we++)de.push(8);for(;we<=255;we++)de.push(9);for(;we<=279;we++)de.push(7);for(;we<=287;we++)de.push(8);Zt(de,Jt,288)})();var Ct=(function(){for(var we=ae?new Uint8Array(32768):[],de=0,he=0;de<oe.length-1;++de)for(;he<oe[de+1];++he)we[he]=de;for(;he<32768;++he)we[he]=29;var ge=ae?new Uint8Array(259):[];for(de=0,he=0;de<Z.length-1;++de)for(;he<Z[de+1];++he)ge[he]=de;function Ne(Ge,Ie){for(var Be=0;Be<Ge.length;){var ze=Math.min(65535,Ge.length-Be),ut=Be+ze==Ge.length;for(Ie.write_shift(1,+ut),Ie.write_shift(2,ze),Ie.write_shift(2,~ze&65535);ze-- >0;)Ie[Ie.l++]=Ge[Be++]}return Ie.l}function Me(Ge,Ie){for(var Be=0,ze=0,ut=ae?new Uint16Array(32768):[];ze<Ge.length;){var mt=Math.min(65535,Ge.length-ze);if(mt<10){for(Be=st(Ie,Be,+(ze+mt==Ge.length)),Be&7&&(Be+=8-(Be&7)),Ie.l=Be/8|0,Ie.write_shift(2,mt),Ie.write_shift(2,~mt&65535);mt-- >0;)Ie[Ie.l++]=Ge[ze++];Be=Ie.l*8;continue}Be=st(Ie,Be,+(ze+mt==Ge.length)+2);for(var _t=0;mt-- >0;){var ht=Ge[ze];_t=(_t<<5^ht)&32767;var vt=-1,Tt=0;if((vt=ut[_t])&&(vt|=ze&-32768,vt>ze&&(vt-=32768),vt<ze))for(;Ge[vt+Tt]==Ge[ze+Tt]&&Tt<250;)++Tt;if(Tt>2){ht=ge[Tt],ht<=22?Be=pt(Ie,Be,Se[ht+1]>>1)-1:(pt(Ie,Be,3),Be+=5,pt(Ie,Be,Se[ht-23]>>5),Be+=3);var an=ht<8?0:ht-4>>2;an>0&&(Qt(Ie,Be,Tt-Z[ht]),Be+=an),ht=we[ze-vt],Be=pt(Ie,Be,Se[ht]>>3),Be-=3;var kr=ht<4?0:ht-2>>1;kr>0&&(Qt(Ie,Be,ze-vt-oe[ht]),Be+=kr);for(var un=0;un<Tt;++un)ut[_t]=ze&32767,_t=(_t<<5^Ge[ze])&32767,++ze;mt-=Tt-1}else ht<=143?ht=ht+48:Be=At(Ie,Be,1),Be=pt(Ie,Be,Se[ht]),ut[_t]=ze&32767,++ze}Be=pt(Ie,Be,0)-1}return Ie.l=(Be+7)/8|0,Ie.l}return function(Ie,Be){return Ie.length<8?Ne(Ie,Be):Me(Ie,Be)}})();function xt(ee){var we=Ze(50+Math.floor(ee.length*1.1)),de=Ct(ee,we);return we.slice(0,de)}var St=ae?new Uint16Array(32768):$t(32768),Nr=ae?new Uint16Array(32768):$t(32768),Yt=ae?new Uint16Array(128):$t(128),Nt=1,er=1;function br(ee,we){var de=dt(ee,we)+257;we+=5;var he=dt(ee,we)+1;we+=5;var ge=xe(ee,we)+4;we+=4;for(var Ne=0,Me=ae?new Uint8Array(19):$t(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,Be=ae?new Uint8Array(8):$t(8),ze=ae?new Uint8Array(8):$t(8),ut=Me.length,mt=0;mt<ge;++mt)Me[W[mt]]=Ne=Ce(ee,we),Ie<Ne&&(Ie=Ne),Be[Ne]++,we+=3;var _t=0;for(Be[0]=0,mt=1;mt<=Ie;++mt)ze[mt]=_t=_t+Be[mt-1]<<1;for(mt=0;mt<ut;++mt)(_t=Me[mt])!=0&&(Ge[mt]=ze[_t]++);var ht=0;for(mt=0;mt<ut;++mt)if(ht=Me[mt],ht!=0){_t=Se[Ge[mt]]>>8-ht;for(var vt=(1<<7-ht)-1;vt>=0;--vt)Yt[_t|vt<<ht]=ht&7|mt<<3}var Tt=[];for(Ie=1;Tt.length<de+he;)switch(_t=Yt[Xe(ee,we)],we+=_t&7,_t>>>=3){case 16:for(Ne=3+Ke(ee,we),we+=2,_t=Tt[Tt.length-1];Ne-- >0;)Tt.push(_t);break;case 17:for(Ne=3+Ce(ee,we),we+=3;Ne-- >0;)Tt.push(0);break;case 18:for(Ne=11+Xe(ee,we),we+=7;Ne-- >0;)Tt.push(0);break;default:Tt.push(_t),Ie<_t&&(Ie=_t);break}var an=Tt.slice(0,de),kr=Tt.slice(de);for(mt=de;mt<286;++mt)an[mt]=0;for(mt=he;mt<30;++mt)kr[mt]=0;return Nt=Zt(an,St,286),er=Zt(kr,Nr,30),we}function ar(ee,we){if(ee[0]==3&&!(ee[1]&3))return[Nd(we),2];for(var de=0,he=0,ge=SE(we||1<<18),Ne=0,Me=ge.length>>>0,Ge=0,Ie=0;(he&1)==0;){if(he=Ce(ee,de),de+=3,he>>>1)he>>1==1?(Ge=9,Ie=5):(de=br(ee,de),Ge=Nt,Ie=er);else{de&7&&(de+=8-(de&7));var Be=ee[de>>>3]|ee[(de>>>3)+1]<<8;if(de+=32,Be>0)for(!we&&Me<Ne+Be&&(ge=Pt(ge,Ne+Be),Me=ge.length);Be-- >0;)ge[Ne++]=ee[de>>>3],de+=8;continue}for(;;){!we&&Me<Ne+32767&&(ge=Pt(ge,Ne+32767),Me=ge.length);var ze=wt(ee,de,Ge),ut=he>>>1==1?Jt[ze]:St[ze];if(de+=ut&15,ut>>>=4,(ut>>>8&255)===0)ge[Ne++]=ut;else{if(ut==256)break;ut-=257;var mt=ut<8?0:ut-4>>2;mt>5&&(mt=0);var _t=Ne+Z[ut];mt>0&&(_t+=wt(ee,de,mt),de+=mt),ze=wt(ee,de,Ie),ut=he>>>1==1?Dr[ze]:Nr[ze],de+=ut&15,ut>>>=4;var ht=ut<4?0:ut-2>>1,vt=oe[ut];for(ht>0&&(vt+=wt(ee,de,ht),de+=ht),!we&&Me<_t&&(ge=Pt(ge,_t+100),Me=ge.length);Ne<_t;)ge[Ne]=ge[Ne-vt],++Ne}}}return we?[ge,de+7>>>3]:[ge.slice(0,Ne),de+7>>>3]}function Ar(ee,we){var de=ee.slice(ee.l||0),he=ar(de,we);return ee.l+=he[1],he[0]}function fr(ee,we){if(ee)typeof console<"u"&&console.error(we);else throw new Error(we)}function pn(ee,we){var de=ee;ts(de,0);var he=[],ge=[],Ne={FileIndex:he,FullPaths:ge};D(Ne,{root:we.root});for(var Me=de.length-4;(de[Me]!=80||de[Me+1]!=75||de[Me+2]!=5||de[Me+3]!=6)&&Me>=0;)--Me;de.l=Me+4,de.l+=4;var Ge=de.read_shift(2);de.l+=6;var Ie=de.read_shift(4);for(de.l=Ie,Me=0;Me<Ge;++Me){de.l+=20;var Be=de.read_shift(4),ze=de.read_shift(4),ut=de.read_shift(2),mt=de.read_shift(2),_t=de.read_shift(2);de.l+=8;var ht=de.read_shift(4),vt=o(de.slice(de.l+ut,de.l+ut+mt));de.l+=ut+mt+_t;var Tt=de.l;de.l=ht+4,In(de,Be,ze,Ne,vt),de.l=Tt}return Ne}function In(ee,we,de,he,ge){ee.l+=2;var Ne=ee.read_shift(2),Me=ee.read_shift(2),Ge=s(ee);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=ee.read_shift(4),Be=ee.read_shift(4),ze=ee.read_shift(4),ut=ee.read_shift(2),mt=ee.read_shift(2),_t="",ht=0;ht<ut;++ht)_t+=String.fromCharCode(ee[ee.l++]);if(mt){var vt=o(ee.slice(ee.l,ee.l+mt));(vt[21589]||{}).mt&&(Ge=vt[21589].mt),((ge||{})[21589]||{}).mt&&(Ge=ge[21589].mt)}ee.l+=mt;var Tt=ee.slice(ee.l,ee.l+Be);switch(Me){case 8:Tt=L(ee,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var an=!1;Ne&8&&(Ie=ee.read_shift(4),Ie==134695760&&(Ie=ee.read_shift(4),an=!0),Be=ee.read_shift(4),ze=ee.read_shift(4)),Be!=we&&fr(an,"Bad compressed size: "+we+" != "+Be),ze!=de&&fr(an,"Bad uncompressed size: "+de+" != "+ze),si(he,_t,Tt,{unsafe:!0,mt:Ge})}function qr(ee,we){var de=we||{},he=[],ge=[],Ne=Ze(1),Me=de.compression?8:0,Ge=0,Ie=0,Be=0,ze=0,ut=0,mt=ee.FullPaths[0],_t=mt,ht=ee.FileIndex[0],vt=[],Tt=0;for(Ie=1;Ie<ee.FullPaths.length;++Ie)if(_t=ee.FullPaths[Ie].slice(mt.length),ht=ee.FileIndex[Ie],!(!ht.size||!ht.content||_t=="Sh33tJ5")){var an=ze,kr=Ze(_t.length);for(Be=0;Be<_t.length;++Be)kr.write_shift(1,_t.charCodeAt(Be)&127);kr=kr.slice(0,kr.l),vt[ut]=dW.buf(ht.content,0);var un=ht.content;Me==8&&(un=q(un)),Ne=Ze(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,Ge),Ne.write_shift(2,Me),ht.mt?i(Ne,ht.mt):Ne.write_shift(4,0),Ne.write_shift(-4,vt[ut]),Ne.write_shift(4,un.length),Ne.write_shift(4,ht.content.length),Ne.write_shift(2,kr.length),Ne.write_shift(2,0),ze+=Ne.length,he.push(Ne),ze+=kr.length,he.push(kr),ze+=un.length,he.push(un),Ne=Ze(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,Ge),Ne.write_shift(2,Me),Ne.write_shift(4,0),Ne.write_shift(-4,vt[ut]),Ne.write_shift(4,un.length),Ne.write_shift(4,ht.content.length),Ne.write_shift(2,kr.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,an),Tt+=Ne.l,ge.push(Ne),Tt+=kr.length,ge.push(kr),++ut}return Ne=Ze(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,ut),Ne.write_shift(2,ut),Ne.write_shift(4,Tt),Ne.write_shift(4,ze),Ne.write_shift(2,0),Ri([Ri(he),Ri(ge),Ne])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Pr(ee,we){if(ee.ctype)return ee.ctype;var de=ee.name||"",he=de.match(/\.([^\.]+)$/);return he&&Vt[he[1]]||we&&(he=(de=we).match(/[\.\\]([^\.\\])+$/),he&&Vt[he[1]])?Vt[he[1]]:"application/octet-stream"}function Os(ee){for(var we=Fx(ee),de=[],he=0;he<we.length;he+=76)de.push(we.slice(he,he+76));return de.join(`\r
`)+`\r
`}function Ya(ee){var we=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var ze=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=we.split(`\r
`),ge=0;ge<he.length;++ge){var Ne=he[ge];if(Ne.length==0){de.push("");continue}for(var Me=0;Me<Ne.length;){var Ge=76,Ie=Ne.slice(Me,Me+Ge);Ie.charAt(Ge-1)=="="?Ge--:Ie.charAt(Ge-2)=="="?Ge-=2:Ie.charAt(Ge-3)=="="&&(Ge-=3),Ie=Ne.slice(Me,Me+Ge),Me+=Ge,Me<Ne.length&&(Ie+="="),de.push(Ie)}}return de.join(`\r
`)}function nl(ee){for(var we=[],de=0;de<ee.length;++de){for(var he=ee[de];de<=ee.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ee[++de];we.push(he)}for(var ge=0;ge<we.length;++ge)we[ge]=we[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Xl(we.join(`\r
`))}function os(ee,we,de){for(var he="",ge="",Ne="",Me,Ge=0;Ge<10;++Ge){var Ie=we[Ge];if(!Ie||Ie.match(/^\s*$/))break;var Be=Ie.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":he=Be[2].trim();break;case"content-type":Ne=Be[2].trim();break;case"content-transfer-encoding":ge=Be[2].trim();break}}switch(++Ge,ge.toLowerCase()){case"base64":Me=Xl(to(we.slice(Ge).join("")));break;case"quoted-printable":Me=nl(we.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var ze=si(ee,he.slice(de.length),Me,{unsafe:!0});Ne&&(ze.ctype=Ne)}function Wt(ee,we){if(ue(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=we&&we.root||"",he=(Cr&&Buffer.isBuffer(ee)?ee.toString("binary"):ue(ee)).split(`\r
`),ge=0,Ne="";for(ge=0;ge<he.length;++ge)if(Ne=he[ge],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),de||(de=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),Ne.slice(0,de.length)!=de););var Me=(he[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var Ge="--"+(Me[1]||""),Ie=[],Be=[],ze={FileIndex:Ie,FullPaths:Be};D(ze);var ut,mt=0;for(ge=0;ge<he.length;++ge){var _t=he[ge];_t!==Ge&&_t!==Ge+"--"||(mt++&&os(ze,he.slice(ut,ge),de),ut=ge)}return ze}function Tl(ee,we){var de=we||{},he=de.boundary||"SheetJS";he="------="+he;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],Ne=ee.FullPaths[0],Me=Ne,Ge=ee.FileIndex[0],Ie=1;Ie<ee.FullPaths.length;++Ie)if(Me=ee.FullPaths[Ie].slice(Ne.length),Ge=ee.FileIndex[Ie],!(!Ge.size||!Ge.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var Be=Ge.content,ze=Cr&&Buffer.isBuffer(Be)?Be.toString("binary"):ue(Be),ut=0,mt=Math.min(1024,ze.length),_t=0,ht=0;ht<=mt;++ht)(_t=ze.charCodeAt(ht))>=32&&_t<128&&++ut;var vt=ut>=mt*4/5;ge.push(he),ge.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Me),ge.push("Content-Transfer-Encoding: "+(vt?"quoted-printable":"base64")),ge.push("Content-Type: "+Pr(Ge,Me)),ge.push(""),ge.push(vt?Ya(ze):Os(ze))}return ge.push(he+`--\r
`),ge.join(`\r
`)}function al(ee){var we={};return D(we,ee),we}function si(ee,we,de,he){var ge=he&&he.unsafe;ge||D(ee);var Ne=!ge&&nr.find(ee,we);if(!Ne){var Me=ee.FullPaths[0];we.slice(0,Me.length)==Me?Me=we:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+we).replace("//","/")),Ne={name:a(we),type:2},ee.FileIndex.push(Ne),ee.FullPaths.push(Me),ge||nr.utils.cfb_gc(ee)}return Ne.content=de,Ne.size=de?de.length:0,he&&(he.CLSID&&(Ne.clsid=he.CLSID),he.mt&&(Ne.mt=he.mt),he.ct&&(Ne.ct=he.ct)),Ne}function qi(ee,we){D(ee);var de=nr.find(ee,we);if(de){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==de)return ee.FileIndex.splice(he,1),ee.FullPaths.splice(he,1),!0}return!1}function Sn(ee,we,de){D(ee);var he=nr.find(ee,we);if(he){for(var ge=0;ge<ee.FileIndex.length;++ge)if(ee.FileIndex[ge]==he)return ee.FileIndex[ge].name=a(de),ee.FullPaths[ge]=de,!0}return!1}function ea(ee){B(ee,!0)}return t.find=I,t.read=R,t.parse=h,t.write=je,t.writeFile=ve,t.utils={cfb_new:al,cfb_add:si,cfb_del:qi,cfb_mov:Sn,cfb_gc:ea,ReadShift:px,CheckField:EP,prep_blob:ts,bconcat:Ri,use_zlib:P,_deflateRaw:xt,_inflateRaw:Ar,consts:le},t})();function hW(e){return typeof e=="string"?e2(e):Array.isArray(e)?BV(e):e}function mg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=e2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?iu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([hW(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Fd(t)),o.write(t),o.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function mW(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ra(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function DE(e,t){for(var r=[],n=Ra(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function r2(e){for(var t=[],r=Ra(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function n2(e){for(var t=[],r=Ra(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function pW(e){for(var t=[],r=Ra(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Gv=new Date(1899,11,30,0,0,0);function wi(e,t){var r=e.getTime(),n=Gv.getTime()+(e.getTimezoneOffset()-Gv.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var sP=new Date,xW=Gv.getTime()+(sP.getTimezoneOffset()-Gv.getTimezoneOffset())*6e4,PE=sP.getTimezoneOffset();function a2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+xW),t.getTimezoneOffset()!==PE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-PE)*6e4),t}function gW(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var FE=new Date("2017-02-19T19:06:09.000Z"),lP=isNaN(FE.getFullYear())?new Date("2/19/17"):FE,vW=lP.getFullYear()==2017;function Zn(e,t){var r=new Date(e);if(vW)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(lP.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function $0(e,t){if(Cr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return iu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return iu(KD(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return iu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return iu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Jn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Jn(e[r]));return t}function Pa(e,t){for(var r="";r.length<t;)r+=e;return r}function _c(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var yW=["january","february","march","april","may","june","july","august","september","october","november","december"];function Pm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&yW.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var bW=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}})();function oP(e){return e?e.content&&e.type?$0(e.content,!0):e.data?ox(e.data):e.asNodeBuffer&&Cr?ox(e.asNodeBuffer().toString("binary")):e.asBinary?ox(e.asBinary()):e._data&&e._data.getContent?ox($0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function cP(e){if(!e)return null;if(e.data)return _E(e.data);if(e.asNodeBuffer&&Cr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?_E(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function wW(e){return e&&e.name.slice(-4)===".bin"?cP(e):oP(e)}function Do(e,t){for(var r=e.FullPaths||Ra(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function zN(e,t){var r=Do(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ti(e,t,r){if(!r)return wW(zN(e,t));if(!t)return null;try{return ti(e,t)}catch{return null}}function Ql(e,t,r){if(!r)return oP(zN(e,t));if(!t)return null;try{return Ql(e,t)}catch{return null}}function _W(e,t,r){return cP(zN(e,t))}function LE(e){for(var t=e.FullPaths||Ra(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function jr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Cr?n=yf(r):n=UV(r),nr.utils.cfb_add(e,t,n)}nr.utils.cfb_add(e,t,r)}else e.file(t,r)}function qN(){return nr.utils.cfb_new()}function uP(e,t){switch(t.type){case"base64":return nr.read(e,{type:"base64"});case"binary":return nr.read(e,{type:"binary"});case"buffer":case"array":return nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ux(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Ka=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,NW=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ME=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,SW=/<[^>]*>/g,Cs=Ka.match(ME)?ME:SW,jW=/<\w*:/,AW=/<(\/?)\w+:/;function dr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(NW),o=0,u="",f=0,h="",p="",g=1;if(s)for(f=0;f!=s.length;++f){for(p=s[f],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(h=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(g=(a=p.charCodeAt(i+1))==34||a==39?1:0,u=p.slice(i+1+g,p.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=u,n[h.toLowerCase()]=u;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(n[x]&&h.slice(o-3,o)=="ext")continue;n[x]=u,n[x.toLowerCase()]=u}}return n}function du(e){return e.replace(AW,"<$1")}var fP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},$N=r2(fP),Xr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,u){return fP[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}})(),HN=/[&<>'"]/g,EW=/[\u0000-\u0008\u000b-\u001f]/g;function Nn(e){var t=e+"";return t.replace(HN,function(r){return $N[r]}).replace(EW,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function RE(e){return Nn(e).replace(/ /g,"_x0020_")}var dP=/[\u0000-\u001f]/g;function VN(e){var t=e+"";return t.replace(HN,function(r){return $N[r]}).replace(/\n/g,"<br/>").replace(dP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function kW(e){var t=e+"";return t.replace(HN,function(r){return $N[r]}).replace(dP,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var IE=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function CW(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Xn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vw(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function BE(e){var t=Nd(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function UE(e){return yf(e,"binary").toString("utf8")}var q1="foo bar baz",Dn=Cr&&(UE(q1)==vw(q1)&&UE||BE(q1)==vw(q1)&&BE)||vw,iu=Cr?function(e){return yf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Mx=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),hP=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),TW=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),OW=/<\/?(?:vt:)?variant>/g,DW=/<(?:vt:)([^>]*)>([\s\S]*)</;function zE(e,t){var r=dr(e),n=e.match(TW(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(OW,"").match(DW);s&&a.push({v:Dn(s[2]),t:s[1]})}),a}var mP=/(^\s|\s$|\n)/;function ns(e,t){return"<"+e+(t.match(mP)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Rx(e){return Ra(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function gt(e,t,r){return"<"+e+(r!=null?Rx(r):"")+(t!=null?(t.match(mP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function K4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function PW(e,t){switch(typeof e){case"string":var r=gt("vt:lpwstr",Nn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return gt((e|0)==e?"vt:i4":"vt:r8",Nn(String(e)));case"boolean":return gt("vt:bool",e?"true":"false")}if(e instanceof Date)return gt("vt:filetime",K4(e));throw new Error("Unable to serialize "+e)}function WN(e){if(Cr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Dn(Fd(IN(e)));throw new Error("Bad input format: expected Buffer or string")}var Ix=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,yi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ih=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function FW(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function LW(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var qE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},$E=Cr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:yf(t)})):qE(e)}:qE,HE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Xu(e,a)));return n.join("").replace(el,"")},GN=Cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(el,""):HE(e,t,r)}:HE,VE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},pP=Cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):VE(e,t,r)}:VE,WE=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(mm(e,a)));return n.join("")},pg=Cr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):WE(t,r,n)}:WE,xP=function(e,t){var r=Kl(e,t);return r>0?pg(e,t+4,t+4+r-1):""},gP=xP,vP=function(e,t){var r=Kl(e,t);return r>0?pg(e,t+4,t+4+r-1):""},yP=vP,bP=function(e,t){var r=2*Kl(e,t);return r>0?pg(e,t+4,t+4+r-1):""},wP=bP,_P=function(t,r){var n=Kl(t,r);return n>0?GN(t,r+4,r+4+n):""},NP=_P,SP=function(e,t){var r=Kl(e,t);return r>0?pg(e,t+4,t+4+r):""},jP=SP,AP=function(e,t){return FW(e,t)},Kv=AP,KN=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Cr&&(gP=function(t,r){if(!Buffer.isBuffer(t))return xP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},yP=function(t,r){if(!Buffer.isBuffer(t))return vP(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},wP=function(t,r){if(!Buffer.isBuffer(t))return bP(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},NP=function(t,r){if(!Buffer.isBuffer(t))return _P(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},jP=function(t,r){if(!Buffer.isBuffer(t))return SP(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Kv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):AP(t,r)},KN=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var mm=function(e,t){return e[t]},Xu=function(e,t){return e[t+1]*256+e[t]},MW=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Kl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},RW=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function px(e,t){var r="",n,a,i=[],s,o,u,f;switch(t){case"dbcs":if(f=this.l,Cr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Xu(this,f)),f+=2;e*=2;break;case"utf8":r=pg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=GN(this,this.l,this.l+e);break;case"wstr":return px.call(this,e,"dbcs");case"lpstr-ansi":r=gP(this,this.l),e=4+Kl(this,this.l);break;case"lpstr-cp":r=yP(this,this.l),e=4+Kl(this,this.l);break;case"lpwstr":r=wP(this,this.l),e=4+2*Kl(this,this.l);break;case"lpp4":e=4+Kl(this,this.l),r=NP(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Kl(this,this.l),r=jP(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=mm(this,this.l+e++))!==0;)i.push(z1(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Xu(this,this.l+e))!==0;)i.push(z1(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=mm(this,f),this.l=f+1,o=px.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(z1(Xu(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return s=mm(this,f),this.l=f+1,o=px.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(z1(mm(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=mm(this,this.l),this.l++,n;case 2:return n=(t==="i"?MW:Xu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?_0:RW)(this,this.l),this.l+=4,n):(a=Kl(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Kv(this,this.l):a=Kv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=pP(this,this.l,e);break}}return this.l+=e,r}var IW=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},BW=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},UW=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function zW(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)UW(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,IW(this,t,this.l);break;case 8:if(n=8,r==="f"){LW(this,t,this.l);break}case 16:break;case-4:n=4,BW(this,t,this.l);break}return this.l+=n,this}function EP(e,t){var r=pP(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ts(e,t){e.l=t,e.read_shift=px,e.chk=EP,e.write_shift=zW}function Es(e,t){e.l+=t}function Ze(e){var t=Nd(e);return ts(t,0),t}function bf(e,t,r){if(e){var n,a,i;ts(e,e.l||0);for(var s=e.length,o=0,u=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var f=Hx[o]||Hx[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;u=e.l+i;var h=f.f&&f.f(e,i,r);if(e.l=u,t(h,f,o))return}}}function jl(){var e=[],t=Cr?256:2048,r=function(f){var h=Ze(f);return ts(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,t)))},s=function(){return a(),Ri(e)},o=function(f){a(),n=f,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function ct(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Hx[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&KN(r)&&e.push(r)}}function xx(e,t,r){var n=Jn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function GE(e,t,r){var n=Jn(e);return n.s=xx(n.s,t.s,r),n.e=xx(n.e,t.s,r),n}function gx(e,t){if(e.cRel&&e.c<0)for(e=Jn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Jn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ur(e);return!e.cRel&&e.cRel!=null&&(r=HW(r)),!e.rRel&&e.rRel!=null&&(r=qW(r)),r}function yw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+wa(e.s.c)+":"+(e.e.cRel?"":"$")+wa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ga(e.s.r)+":"+(e.e.rRel?"":"$")+Ga(e.e.r):gx(e.s,t.biff)+":"+gx(e.e,t.biff)}function YN(e){return parseInt($W(e),10)-1}function Ga(e){return""+(e+1)}function qW(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $W(e){return e.replace(/\$(\d+)$/,"$1")}function XN(e){for(var t=VW(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function wa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function HW(e){return e.replace(/^([A-Z])/,"$$$1")}function VW(e){return e.replace(/^\$([A-Z])/,"$1")}function WW(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _a(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ur(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function El(e){var t=e.indexOf(":");return t==-1?{s:_a(e),e:_a(e)}:{s:_a(e.slice(0,t)),e:_a(e.slice(t+1))}}function _r(e,t){return typeof t>"u"||typeof t=="number"?_r(e.s,e.e):(typeof e!="string"&&(e=ur(e)),typeof t!="string"&&(t=ur(t)),e==t?e:e+":"+t)}function Zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function KE(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Bo(e.z,r?wi(t):t)}catch{}try{return e.w=Bo((e.XF||{}).numFmtId||(r?14:0),r?wi(t):t)}catch{return""+t}}function ff(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?wf[e.v]||e.v:t==null?KE(e,e.v):KE(e,t))}function Ld(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function kP(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?_a(n.origin):n.origin;s=u.r,o=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Zr(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),s==-1&&(f.e.r=s=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var x={v:t[p][g]},b=s+p,y=o+g;if(f.s.r>b&&(f.s.r=b),f.s.c>y&&(f.s.c=y),f.e.r<b&&(f.e.r=b),f.e.c<y&&(f.e.c=y),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))x=t[p][g];else if(Array.isArray(x.v)&&(x.f=t[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||cr[14],n.cellDates?(x.t="d",x.w=Bo(x.z,wi(x.v))):(x.t="n",x.v=wi(x.v),x.w=Bo(x.z,x.v))):x.t="s";if(a)i[b]||(i[b]=[]),i[b][y]&&i[b][y].z&&(x.z=i[b][y].z),i[b][y]=x;else{var w=ur({c:y,r:b});i[w]&&i[w].z&&(x.z=i[w].z),i[w]=x}}}return f.s.c<1e7&&(i["!ref"]=_r(f)),i}function Qm(e,t){return kP(null,e,t)}function GW(e){return e.read_shift(4,"i")}function Nc(e,t){return t||(t=Ze(4)),t.write_shift(4,e),t}function Ss(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ii(e,t){var r=!1;return t==null&&(r=!0,t=Ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function KW(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function YW(e,t){return t||(t=Ze(4)),t.write_shift(2,0),t.write_shift(2,0),t}function QN(e,t){var r=e.l,n=e.read_shift(1),a=Ss(e),i=[],s={t:a,h:a};if((n&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)i.push(KW(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function XW(e,t){var r=!1;return t==null&&(r=!0,t=Ze(15+4*e.t.length)),t.write_shift(1,0),Ii(e.t,t),r?t.slice(0,t.l):t}var QW=QN;function ZW(e,t){var r=!1;return t==null&&(r=!0,t=Ze(23+4*e.t.length)),t.write_shift(1,1),Ii(e.t,t),t.write_shift(4,1),YW({},t),r?t.slice(0,t.l):t}function Ho(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sh(e,t){return t==null&&(t=Ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function lh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function oh(e,t){return t==null&&(t=Ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var JW=Ss,CP=Ii;function ZN(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Yv(e,t){var r=!1;return t==null&&(r=!0,t=Ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var eG=Ss,Y4=ZN,JN=Yv;function e3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Kv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):_0(t,0)>>2;return r?a/100:a}function TP(e,t){t==null&&(t=Ze(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function OP(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function tG(e,t){return t||(t=Ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ch=OP,Zm=tG;function Ns(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function H0(e,t){return(t||Ze(8)).write_shift(8,e,"f")}function rG(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=C0[a];f&&(t.rgb=Ux(f));break;case 2:t.rgb=Ux([s,o,u]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Xv(e,t){if(t||(t=Ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function nG(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function aG(e,t){t||(t=Ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function DP(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function iG(e){return DP(e,1)}function sG(e){return DP(e,2)}var t3=2,_l=3,$1=11,YE=12,Qv=19,H1=64,lG=65,oG=71,cG=4108,uG=4126,Fi=80,PP=81,fG=[Fi,PP],X4={1:{n:"CodePage",t:t3},2:{n:"Category",t:Fi},3:{n:"PresentationFormat",t:Fi},4:{n:"ByteCount",t:_l},5:{n:"LineCount",t:_l},6:{n:"ParagraphCount",t:_l},7:{n:"SlideCount",t:_l},8:{n:"NoteCount",t:_l},9:{n:"HiddenCount",t:_l},10:{n:"MultimediaClipCount",t:_l},11:{n:"ScaleCrop",t:$1},12:{n:"HeadingPairs",t:cG},13:{n:"TitlesOfParts",t:uG},14:{n:"Manager",t:Fi},15:{n:"Company",t:Fi},16:{n:"LinksUpToDate",t:$1},17:{n:"CharacterCount",t:_l},19:{n:"SharedDoc",t:$1},22:{n:"HyperlinksChanged",t:$1},23:{n:"AppVersion",t:_l,p:"version"},24:{n:"DigSig",t:lG},26:{n:"ContentType",t:Fi},27:{n:"ContentStatus",t:Fi},28:{n:"Language",t:Fi},29:{n:"Version",t:Fi},255:{},2147483648:{n:"Locale",t:Qv},2147483651:{n:"Behavior",t:Qv},1919054434:{}},Q4={1:{n:"CodePage",t:t3},2:{n:"Title",t:Fi},3:{n:"Subject",t:Fi},4:{n:"Author",t:Fi},5:{n:"Keywords",t:Fi},6:{n:"Comments",t:Fi},7:{n:"Template",t:Fi},8:{n:"LastAuthor",t:Fi},9:{n:"RevNumber",t:Fi},10:{n:"EditTime",t:H1},11:{n:"LastPrinted",t:H1},12:{n:"CreatedDate",t:H1},13:{n:"ModifiedDate",t:H1},14:{n:"PageCount",t:_l},15:{n:"WordCount",t:_l},16:{n:"CharCount",t:_l},17:{n:"Thumbnail",t:oG},18:{n:"Application",t:Fi},19:{n:"DocSecurity",t:_l},255:{},2147483648:{n:"Locale",t:Qv},2147483651:{n:"Behavior",t:Qv},1919054434:{}},XE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},dG=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function hG(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var mG=hG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),C0=Jn(mG),wf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Z4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},V1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function r3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function pG(e){var t=r3();if(!e||!e.match)return t;var r={};if((e.match(Cs)||[]).forEach(function(n){var a=dr(n);switch(a[0].replace(jW,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[Z4[a.ContentType]]!==void 0&&t[Z4[a.ContentType]].push(a.PartName);break}}),t.xmlns!==yi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function LP(e,t){var r=pW(Z4),n=[],a;n[n.length]=Ka,n[n.length]=gt("Types",null,{xmlns:yi.CT,"xmlns:xsd":yi.xsd,"xmlns:xsi":yi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return gt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(a=e[u][0],n[n.length]=gt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:V1[u][t.bookType]||V1[u].xlsx}))},s=function(u){(e[u]||[]).forEach(function(f){n[n.length]=gt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:V1[u][t.bookType]||V1[u].xlsx})})},o=function(u){(e[u]||[]).forEach(function(f){n[n.length]=gt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[u][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Bx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function vx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Cs)||[]).forEach(function(a){var i=dr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:ux(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function Nm(e){var t=[Ka,gt("Relationships",null,{xmlns:yi.RELS})];return Ra(e["!id"]).forEach(function(r){t[t.length]=gt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function bn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Or.HLINK,Or.XPATH,Or.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var xG="application/vnd.oasis.opendocument.spreadsheet";function gG(e,t){for(var r=WN(e),n,a;n=Ix.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=dr(n[0],!1),a.path=="/"&&a.type!==xG)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function vG(e){var t=[Ka];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function QE(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function yG(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function bG(e){var t=[Ka];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(QE(e[r][0],e[r][1])),t.push(yG("",e[r][0]));return t.push(QE("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function MP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+$v.version+"</meta:generator></office:meta></office:document-meta>"}var Ro=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wG=(function(){for(var e=new Array(Ro.length),t=0;t<Ro.length;++t){var r=Ro[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function RP(e){var t={};e=Dn(e);for(var r=0;r<Ro.length;++r){var n=Ro[r],a=e.match(wG[r]);a!=null&&a.length>0&&(t[n[1]]=Xr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Zn(t[n[1]]))}return t}function bw(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Nn(t),n[n.length]=r?gt(e,t,r):ns(e,t))}function IP(e,t){var r=t||{},n=[Ka,gt("cp:coreProperties",null,{"xmlns:cp":yi.CORE_PROPS,"xmlns:dc":yi.dc,"xmlns:dcterms":yi.dcterms,"xmlns:dcmitype":yi.dcmitype,"xmlns:xsi":yi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&bw("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:K4(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&bw("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:K4(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Ro.length;++i){var s=Ro[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&bw(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var T0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],BP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function UP(e,t,r,n){var a=[];if(typeof e=="string")a=zE(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(h){return{v:h}}));var s=typeof t=="string"?zE(t,n).map(function(h){return h.v}):t,o=0,u=0;if(s.length>0)for(var f=0;f!==a.length;f+=2){switch(u=+a[f+1].v,a[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=s.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=s.slice(o,o+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=s.slice(o,o+u);break}o+=u}}function _G(e,t,r){var n={};return t||(t={}),e=Dn(e),T0.forEach(function(a){var i=(e.match(Mx(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Xr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&UP(n.HeadingPairs,n.TitlesOfParts,t,r),t}function zP(e){var t=[],r=gt;return e||(e={}),e.Application="SheetJS",t[t.length]=Ka,t[t.length]=gt("Properties",null,{xmlns:yi.EXT_PROPS,"xmlns:vt":yi.vt}),T0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Nn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Nn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var NG=/<[^>]+>[^<]*/g;function SG(e,t){var r={},n="",a=e.match(NG);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=dr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Xr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),f=u[0].slice(4),h=u[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=Xr(h);break;case"bool":r[n]=Xn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=Zn(h);break;case"cy":case"error":r[n]=Xr(h);break;default:if(f.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,f,u)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function qP(e){var t=[Ka,gt("Properties",null,{xmlns:yi.CUST_PROPS,"xmlns:vt":yi.vt})];if(!e)return t.join("");var r=1;return Ra(e).forEach(function(a){++r,t[t.length]=gt("property",PW(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Nn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var J4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},ww;function jG(e,t,r){ww||(ww=r2(J4)),t=ww[t]||t,e[t]=r}function AG(e,t){var r=[];return Ra(J4).map(function(n){for(var a=0;a<Ro.length;++a)if(Ro[a][1]==n)return Ro[a];for(a=0;a<T0.length;++a)if(T0[a][1]==n)return T0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ns(J4[n[1]]||n[1],a))}}),gt("DocumentProperties",r.join(""),{xmlns:Gl.o})}function EG(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ra(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Ro.length;++s)if(i==Ro[s][1])return;for(s=0;s<T0.length;++s)if(i==T0[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),a.push(gt(RE(i),o,{"dt:dt":u}))}}),t&&Ra(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(gt(RE(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Gl.o+'">'+a.join("")+"</"+n+">"}function n3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function kG(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=Ze(8);return s.write_shift(4,n),s.write_shift(4,a),s}function $P(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function HP(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function VP(e,t,r){return t===31?HP(e):$P(e,t,r)}function e_(e,t,r){return VP(e,t,r===!1?0:4)}function CG(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return VP(e,t,0)}function TG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(el,""),e.l-a&2&&(e.l+=2)}return r}function OG(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(el,"");return r}function DG(e){var t=e.l,r=Zv(e,PP);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Zv(e,_l);return[r,n]}function PG(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(DG(e));return r}function ZE(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(el,"").replace(cx,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function WP(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function FG(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Zv(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==YE&&n!==t&&fG.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===YE?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return $P(e,n,4).replace(el,"");case 31:return HP(e);case 64:return n3(e);case 65:return WP(e);case 71:return FG(e);case 80:return e_(e,n,!i.raw).replace(el,"");case 81:return CG(e,n).replace(el,"");case 4108:return PG(e);case 4126:case 4127:return n==4127?TG(e):OG(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function JE(e,t){var r=Ze(4),n=Ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ze(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=kG(t);break;case 31:case 80:for(n=Ze(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ri([r,n])}function ek(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,u=-1,f={};for(s=0;s!=a;++s){var h=e.read_shift(4),p=e.read_shift(4);i[s]=[h,p+r]}i.sort(function(E,A){return E[1]-A[1]});var g={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var x=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],x=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(x=!1,e.l=i[s][1]),x)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var b=t[i[s][0]];if(g[b.n]=Zv(e,b.t,{raw:!0}),b.p==="version"&&(g[b.n]=String(g[b.n]>>16)+"."+("0000"+String(g[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(g[b.n]){case 0:g[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yc(o=g[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[b.n])}}else if(i[s][0]===1){if(o=g.CodePage=Zv(e,t3),yc(o),u!==-1){var y=e.l;e.l=i[u][1],f=ZE(e,o),e.l=y}}else if(i[s][0]===0){if(o===0){u=s,e.l=i[s+1][1];continue}f=ZE(e,o)}else{var w=f[i[s][0]],_;switch(e[e.l]){case 65:e.l+=4,_=WP(e);break;case 30:e.l+=4,_=e_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=e_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=qa(e,4);break;case 64:e.l+=4,_=Zn(n3(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[w]=_}}return e.l=r+n,g}var GP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function LG(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function tk(e,t,r){var n=Ze(8),a=[],i=[],s=8,o=0,u=Ze(8),f=Ze(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),i.push(u),a.push(f),s+=8+u.length,!t){f=Ze(8),f.write_shift(4,0),a.unshift(f);var h=[Ze(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var p=e[o][0];for(u=Ze(8+2*(p.length+1)+(p.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,p.length+1),u.write_shift(0,p,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=Ri(h),i.unshift(u),s+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(GP.indexOf(e[o][0])>-1||BP.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],x=0;if(t){x=+t[e[o][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}u=JE(b.t,g)}else{var w=LG(g);w==-1&&(w=31,g=String(g)),u=JE(w,g)}i.push(u),f=Ze(8),f.write_shift(4,t?x:2+o),a.push(f),s+=8+u.length}var _=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,_),_+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Ri([n].concat(a).concat(i))}function rk(e,t,r){var n=e.content;if(!n)return{};ts(n,0);var a,i,s,o,u=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),h=n.read_shift(16);if(h!==nr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),u=n.read_shift(4));var p=ek(n,t),g={SystemIdentifier:f};for(var x in p)g[x]=p[x];if(g.FMTID=i,a===1)return g;if(u-n.l==2&&(n.l+=2),n.l!==u)throw new Error("Length mismatch 2: "+n.l+" !== "+u);var b;try{b=ek(n,null)}catch{}for(x in b)g[x]=b[x];return g.FMTID=[i,s],g}function nk(e,t,r,n,a,i){var s=Ze(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,nr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var u=tk(e,r,n);if(o.push(u),a){var f=tk(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+u.length),o.push(f)}return Ri(o)}function cd(e,t){return e.read_shift(t),null}function MG(e,t){t||(t=Ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function RG(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function qa(e,t){return e.read_shift(t)===1}function $s(e,t){return t||(t=Ze(2)),t.write_shift(2,+!!e),t}function ri(e){return e.read_shift(2,"u")}function Po(e,t){return t||(t=Ze(2)),t.write_shift(2,e),t}function KP(e,t){return RG(e,t,ri)}function IG(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function YP(e,t,r){return r||(r=Ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function xg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function BG(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,u={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var f=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,f);return a&&(e.l+=4*s),n&&(e.l+=o),u.t=h,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function UG(e){var t=e.t||"",r=Ze(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ze(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ri(a)}function V0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function gg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):V0(e,n,r)}function uh(e,t,r){if(r.biff>5)return gg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function XP(e,t,r){return r||(r=Ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function zG(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function qG(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(el,"");return n&&(e.l+=24),a}function $G(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(el,"");return r+s}function HG(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return qG(e);case"0303000000000000c000000000000046":return $G(e);default:throw new Error("Unsupported Moniker "+r)}}function W1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(el,""):"";return r}function ak(e,t){t||(t=Ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function VG(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,u,f="",h,p;a&16&&(i=W1(e,r-e.l)),a&128&&(s=W1(e,r-e.l)),(a&257)===257&&(o=W1(e,r-e.l)),(a&257)===1&&(u=HG(e,r-e.l)),a&8&&(f=W1(e,r-e.l)),a&32&&(h=e.read_shift(16)),a&64&&(p=n3(e)),e.l=r;var g=s||o||u||"";g&&f&&(g+="#"+f),g||(g="#"+f),a&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),p&&(x.time=p),i&&(x.Tooltip=i),x}function WG(e){var t=Ze(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),ak(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&ak(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var u=0;n.slice(u*3,u*3+3)=="../"||n.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,n.length-3*u+1),r=0;r<n.length-3*u;++r)t.write_shift(1,n.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function QP(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function ZP(e,t){var r=QP(e);return r[3]=0,r}function hu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function W0(e,t,r,n){return n||(n=Ze(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function GG(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function KG(e,t,r){return t===0?"":uh(e,t,r)}function YG(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function JP(e){var t=e.read_shift(2),r=e3(e);return[t,r]}function XG(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=xg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function i2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function eF(e,t){return t||(t=Ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function tF(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var QG=tF;function rF(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function ZG(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function JG(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function hs(e){e.l+=2,e.l+=e.read_shift(2)}var eK={0:hs,4:hs,5:hs,6:hs,7:JG,8:hs,9:hs,10:hs,11:hs,12:hs,13:ZG,14:hs,15:hs,16:hs,17:hs,18:hs,19:hs,20:hs,21:rF};function tK(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(eK[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function G1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function a3(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ze(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function rK(e,t){return t===0||e.read_shift(2),1200}function nK(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=uh(e,0,r);return e.read_shift(t+n-e.l),a}function aK(e,t){var r=!t||t.biff==8,n=Ze(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function iK(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function sK(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=xg(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function lK(e,t){var r=!t||t.biff>=8?2:1,n=Ze(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function oK(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(BG(e));return i.Count=n,i.Unique=a,i}function cK(e,t){var r=Ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=UG(e[a]);var i=Ri([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function uK(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function fK(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function dK(e){var t=GG(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function hK(e){return e.read_shift(2),e.read_shift(4)}function ik(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function mK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),f=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:u,TabRatio:f}}function pK(){var e=Ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function xK(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function gK(e){var t=Ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function vK(){}function yK(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=xg(e,0,r),n}function bK(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ze(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function wK(e){var t=hu(e);return t.isst=e.read_shift(4),t}function _K(e,t,r,n){var a=Ze(10);return W0(e,t,n,a),a.write_shift(4,r),a}function NK(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=hu(e);r.biff==2&&e.l++;var i=gg(e,n-e.l,r);return a.val=i,a}function SK(e,t,r,n,a){var i=!a||a.biff==8,s=Ze(8+ +i+(1+i)*r.length);return W0(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function jK(e,t,r){var n=e.read_shift(2),a=uh(e,0,r);return[n,a]}function AK(e,t,r,n){var a=r&&r.biff==5;n||(n=Ze(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var EK=uh;function sk(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),u=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:u}}}function kK(e,t){var r=t.biff==8||!t.biff?4:2,n=Ze(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function CK(e){var t=e.read_shift(2),r=e.read_shift(2),n=JP(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function TK(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(JP(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function OK(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function DK(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return a.patternType=dG[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=u&127,a.icvBack=u>>7&127,a.fsxButton=u>>14&1),a}function PK(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=DK(e,t,n.fStyle,r),n}function lk(e,t,r,n){var a=r&&r.biff==5;n||(n=Ze(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function FK(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function LK(e){var t=Ze(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function ok(e,t,r){var n=hu(e);(r.biff==2||t==9)&&++e.l;var a=IG(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function MK(e,t,r,n,a,i){var s=Ze(8);return W0(e,t,n,s),YP(r,i,s),s}function RK(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=hu(e),a=Ns(e);return n.val=a,n}function IK(e,t,r,n){var a=Ze(14);return W0(e,t,n,a),H0(r,a),a}var ck=KG;function BK(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=V0(e,i),o=[];n>e.l;)o.push(gg(e));return[i,a,s,o]}function uk(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=XG(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var UK=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function fk(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var f=V0(e,s,r);a&32&&(f=UK[f.charCodeAt(0)]);var h=n-e.l;r&&r.biff==2&&--h;var p=n==e.l||o===0||!(h>0)?[]:tJ(e,h,r,o);return{chKey:i,Name:f,itab:u,rgce:p}}function nF(e,t,r){if(r.biff<8)return zK(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(YG(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function zK(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=xg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function qK(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=V0(e,n,r),s=V0(e,a,r);return[i,s]}function $K(e,t,r){var n=tF(e);e.l++;var a=e.read_shift(1);return t-=8,[rJ(e,t,r),a,n]}function dk(e,t,r){var n=QG(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,JZ(e,t,r)]}function HK(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function VK(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=uh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function WK(e,t,r){return VK(e,t,r)}function GK(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(i2(e));return r}function KK(e){var t=Ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)eF(e[r],t);return t}function YK(e,t,r){if(r&&r.biff<8)return QK(e,t,r);var n=rF(e),a=tK(e,t-22,n[1]);return{cmo:n,ft:a}}var XK={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function QK(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((XK[n]||Es)(e,t,r)),{cmo:[a,n,i],ft:s}}function ZK(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=zG(e,6,r);var o=e.read_shift(2);e.read_shift(2),ri(e,2);var u=e.read_shift(2);e.l+=u;for(var f=1;f<e.lens.length-1;++f){if(e.l-n!=e.lens[f])throw new Error("TxO: bad continue record");var h=e[e.l],p=V0(e,e.lens[f+1]-e.lens[f]-1);if(a+=p,a.length>=(h?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function JK(e,t){var r=i2(e);e.l+=16;var n=VG(e,t-24);return[r,n]}function eY(e){var t=Ze(24),r=_a(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ri([t,WG(e[1])])}function tY(e,t){e.read_shift(2);var r=i2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(el,""),[r,n]}function rY(e){var t=e[1].Tooltip,r=Ze(10+2*(t.length+1));r.write_shift(2,2048);var n=_a(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function nY(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=XE[r]||r,r=e.read_shift(2),t[1]=XE[r]||r,t}function aY(e){return e||(e=Ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function iY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(ZP(e));return r}function sY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(ZP(e));return r}function lY(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function aF(e,t,r){if(!r.cellStyles)return Es(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),u=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:s,ixfe:o,flags:u};return(r.biff>=5||!r.biff)&&(f.level=u>>8&7),f}function oY(e,t){var r=Ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function cY(e,t){var r={};return t<32||(e.l+=16,r.header=Ns(e),r.footer=Ns(e),e.l+=2),r}function uY(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function fY(e){for(var t=Ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var dY=hu,hY=KP,mY=gg;function pY(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function xY(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=hu(e);++e.l;var a=uh(e,t-7,r);return n.t="str",n.val=a,n}function gY(e){var t=hu(e);++e.l;var r=Ns(e);return t.t="n",t.val=r,t}function vY(e,t,r){var n=Ze(15);return wg(n,e,t),n.write_shift(8,r,"f"),n}function yY(e){var t=hu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function bY(e,t,r){var n=Ze(9);return wg(n,e,t),n.write_shift(2,r),n}function wY(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function _Y(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function NY(e,t,r){var n=e.l+t,a=hu(e),i=e.read_shift(2),s=V0(e,i,r);return e.l=n,a.t="str",a.val=s,a}var SY=[2,3,48,49,131,139,140,245],t_=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=r2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,u){var f=[],h=Nd(1);switch(u.type){case"base64":h=Xl(to(o));break;case"binary":h=Xl(o);break;case"buffer":case"array":h=o;break}ts(h,0);var p=h.read_shift(1),g=!!(p&136),x=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,w=521;p==2&&(y=h.read_shift(2)),h.l+=3,p!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(w=h.read_shift(2));var _=h.read_shift(2),E=u.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var A=[],T={},O=Math.min(h.length,p==2?521:w-10-(x?264:0)),R=b?32:11;h.l<O&&h[h.l]!=13;)switch(T={},T.name=Px.utils.decode(E,h.slice(h.l,h.l+R)).replace(/[\u0000\r\n].*$/g,""),h.l+=R,T.type=String.fromCharCode(h.read_shift(1)),p!=2&&!b&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),p==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&A.push(T),p!=2&&(h.l+=b?13:14),T.type){case"B":(!x||T.len!=8)&&u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var D=0,M=0;for(f[0]=[],M=0;M!=A.length;++M)f[0][M]=A[M].name;for(;y-- >0;){if(h[h.l]===42){h.l+=_;continue}for(++h.l,f[++D]=[],M=0,M=0;M!=A.length;++M){var B=h.slice(h.l,h.l+A[M].len);h.l+=A[M].len,ts(B,0);var G=Px.utils.decode(E,B);switch(A[M].type){case"C":G.trim().length&&(f[D][M]=G.replace(/\s+$/,""));break;case"D":G.length===8?f[D][M]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):f[D][M]=G;break;case"F":f[D][M]=parseFloat(G.trim());break;case"+":case"I":f[D][M]=b?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":f[D][M]=!0;break;case"N":case"F":f[D][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[D][M]="##MEMO##"+(b?parseInt(G.trim(),10):B.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(f[D][M]=+G||0);break;case"@":f[D][M]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":f[D][M]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":f[D][M]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[D][M]=-B.read_shift(-8,"f");break;case"B":if(x&&A[M].len==8){f[D][M]=B.read_shift(8,"f");break}case"G":case"P":B.l+=A[M].len;break;case"0":if(A[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[M].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=A,f}function n(o,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var h=Qm(r(o,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function a(o,u){try{return Ld(n(o,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,u){var f=u||{};if(+f.codepage>=0&&yc(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=jl(),p=ty(o,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),b=o["!cols"]||[],y=0,w=0,_=0,E=1;for(y=0;y<g.length;++y){if(((b[y]||{}).DBF||{}).name){g[y]=b[y].DBF.name,++_;continue}if(g[y]!=null){if(++_,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(w=0;w<1024;++w)if(g.indexOf(g[y]+"_"+w)==-1){g[y]+="_"+w;break}}}}var A=Zr(o["!ref"]),T=[],O=[],R=[];for(y=0;y<=A.e.c-A.s.c;++y){var D="",M="",B=0,G=[];for(w=0;w<x.length;++w)x[w][y]!=null&&G.push(x[w][y]);if(G.length==0||g[y]==null){T[y]="?";continue}for(w=0;w<G.length;++w){switch(typeof G[w]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=G[w]instanceof Date?"D":"C";break;default:M="C"}B=Math.max(B,String(G[w]).length),D=D&&D!=M?"C":M}B>250&&(B=250),M=((b[y]||{}).DBF||{}).type,M=="C"&&b[y].DBF.len>B&&(B=b[y].DBF.len),D=="B"&&M=="N"&&(D="N",R[y]=b[y].DBF.dec,B=b[y].DBF.len),O[y]=D=="C"||M=="N"?B:i[D]||0,E+=O[y],T[y]=D}var I=h.next(32);for(I.write_shift(4,318902576),I.write_shift(4,x.length),I.write_shift(2,296+32*_),I.write_shift(2,E),y=0;y<4;++y)I.write_shift(4,0);for(I.write_shift(4,0|(+t[GD]||3)<<8),y=0,w=0;y<g.length;++y)if(g[y]!=null){var z=h.next(32),K=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,K,"sbcs"),z.write_shift(1,T[y]=="?"?"C":T[y],"sbcs"),z.write_shift(4,w),z.write_shift(1,O[y]||i[T[y]]||0),z.write_shift(1,R[y]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),w+=O[y]||i[T[y]]||0}var J=h.next(264);for(J.write_shift(4,13),y=0;y<65;++y)J.write_shift(4,0);for(y=0;y<x.length;++y){var pe=h.next(E);for(pe.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(T[w]){case"L":pe.write_shift(1,x[y][w]==null?63:x[y][w]?84:70);break;case"B":pe.write_shift(8,x[y][w]||0,"f");break;case"N":var ne="0";for(typeof x[y][w]=="number"&&(ne=x[y][w].toFixed(R[w]||0)),_=0;_<O[w]-ne.length;++_)pe.write_shift(1,32);pe.write_shift(1,ne,"sbcs");break;case"D":x[y][w]?(pe.write_shift(4,("0000"+x[y][w].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(x[y][w].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+x[y][w].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var le=String(x[y][w]!=null?x[y][w]:"").slice(0,O[w]);for(pe.write_shift(1,le,"sbcs"),_=0;_<O[w]-le.length;++_)pe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}})(),iF=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ra(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?NE(b):b},n=function(g,x,b){var y=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?g:NE(y)};e["|"]=254;function a(g,x){switch(x.type){case"base64":return i(to(g),x);case"binary":return i(g,x);case"buffer":return i(Cr&&Buffer.isBuffer(g)?g.toString("binary"):Fd(g),x);case"array":return i($0(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var b=g.split(/[\n\r]+/),y=-1,w=-1,_=0,E=0,A=[],T=[],O=null,R={},D=[],M=[],B=[],G=0,I;for(+x.codepage>=0&&yc(+x.codepage);_!==b.length;++_){G=0;var z=b[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),K=z.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),J=K[0],pe;if(z.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&T.push(z.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,le=!1,ve=!1,ue=!1,je=-1,te=-1;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"A":break;case"X":w=parseInt(K[E].slice(1))-1,le=!0;break;case"Y":for(y=parseInt(K[E].slice(1))-1,le||(w=0),I=A.length;I<=y;++I)A[I]=[];break;case"K":pe=K[E].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(_c(pe))?isNaN(Pm(pe).getDate())||(pe=Zn(pe)):(pe=_c(pe),O!==null&&Ym(O)&&(pe=a2(pe))),ne=!0;break;case"E":ue=!0;var P=Sm(K[E].slice(1),{r:y,c:w});A[y][w]=[A[y][w],P];break;case"S":ve=!0,A[y][w]=[A[y][w],"S5S"];break;case"G":break;case"R":je=parseInt(K[E].slice(1))-1;break;case"C":te=parseInt(K[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}if(ne&&(A[y][w]&&A[y][w].length==2?A[y][w][0]=pe:A[y][w]=pe,O=null),ve){if(ue)throw new Error("SYLK shared formula cannot have own formula");var L=je>-1&&A[je][te];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");A[y][w][1]=NF(L[1],{r:y-je,c:w-te})}break;case"F":var q=0;for(E=1;E<K.length;++E)switch(K[E].charAt(0)){case"X":w=parseInt(K[E].slice(1))-1,++q;break;case"Y":for(y=parseInt(K[E].slice(1))-1,I=A.length;I<=y;++I)A[I]=[];break;case"M":G=parseInt(K[E].slice(1))/20;break;case"F":break;case"G":break;case"P":O=T[parseInt(K[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=K[E].slice(1).split(" "),I=parseInt(B[0],10);I<=parseInt(B[1],10);++I)G=parseInt(B[2],10),M[I-1]=G===0?{hidden:!0}:{wch:G},Sd(M[I-1]);break;case"C":w=parseInt(K[E].slice(1))-1,M[w]||(M[w]={});break;case"R":y=parseInt(K[E].slice(1))-1,D[y]||(D[y]={}),G>0?(D[y].hpt=G,D[y].hpx=Lm(G)):G===0&&(D[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}q<1&&(O=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+z)}}return D.length>0&&(R["!rows"]=D),M.length>0&&(R["!cols"]=M),x&&x.sheetRows&&(A=A.slice(0,x.sheetRows)),[A,R]}function s(g,x){var b=a(g,x),y=b[0],w=b[1],_=Qm(y,x);return Ra(w).forEach(function(E){_[E]=w[E]}),_}function o(g,x){return Ld(s(g,x),x)}function u(g,x,b,y){var w="C;Y"+(b+1)+";X"+(y+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+u3(g.f,{r:b,c:y}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(g,x){x.forEach(function(b,y){var w="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=zx(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=qx(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function h(g,x){x.forEach(function(b,y){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*$x(b.hpx)+";"),w.length>2&&g.push(w+"R"+(y+1))})}function p(g,x){var b=["ID;PWXL;N;E"],y=[],w=Zr(g["!ref"]),_,E=Array.isArray(g),A=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&f(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var T=w.s.r;T<=w.e.r;++T)for(var O=w.s.c;O<=w.e.c;++O){var R=ur({r:T,c:O});_=E?(g[T]||[])[O]:g[R],!(!_||_.v==null&&(!_.f||_.F))&&y.push(u(_,g,T,O))}return b.join(A)+A+y.join(A)+A+"E"+A}return{to_workbook:o,to_sheet:s,from_sheet:p}})(),sF=(function(){function e(i,s){switch(s.type){case"base64":return t(to(i),s);case"binary":return t(i,s);case"buffer":return t(Cr&&Buffer.isBuffer(i)?i.toString("binary"):Fd(i),s);case"array":return t($0(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),u=-1,f=-1,h=0,p=[];h!==o.length;++h){if(o[h].trim()==="BOT"){p[++u]=[],f=0;continue}if(!(u<0)){var g=o[h].trim().split(","),x=g[0],b=g[1];++h;for(var y=o[h]||"";(y.match(/["]/g)||[]).length&1&&h<o.length-1;)y+=`
`+o[++h];switch(y=y.trim(),+x){case-1:if(y==="BOT"){p[++u]=[],f=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[u][f]=!0:y==="FALSE"?p[u][f]=!1:isNaN(_c(b))?isNaN(Pm(b).getDate())?p[u][f]=b:p[u][f]=Zn(b):p[u][f]=_c(b),++f;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[u][f++]=y!==""?y:null;break}if(y==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function r(i,s){return Qm(e(i,s),s)}function n(i,s){return Ld(r(i,s),s)}var a=(function(){var i=function(u,f,h,p,g){u.push(f),u.push(h+","+p),u.push('"'+g.replace(/"/g,'""')+'"')},s=function(u,f,h,p){u.push(f+","+h),u.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(u){var f=[],h=Zr(u["!ref"]),p,g=Array.isArray(u);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){s(f,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var y=ur({r:x,c:b});if(p=g?(u[x]||[])[b]:u[y],!p){s(f,1,0,"");continue}switch(p.t){case"n":var w=p.w;!w&&p.v!=null&&(w=p.v),w==null?p.f&&!p.F?s(f,1,0,"="+p.f):s(f,1,0,""):s(f,0,w,"V");break;case"b":s(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Bo(p.z||cr[14],wi(Zn(p.v)))),s(f,0,p.w,"V");break;default:s(f,1,0,"")}}}s(f,-1,0,"EOD");var _=`\r
`,E=f.join(_);return E}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),lF=(function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var x=p.split(`
`),b=-1,y=-1,w=0,_=[];w!==x.length;++w){var E=x[w].trim().split(":");if(E[0]==="cell"){var A=_a(E[1]);if(_.length<=A.r)for(b=_.length;b<=A.r;++b)_[b]||(_[b]=[]);switch(b=A.r,y=A.c,E[2]){case"t":_[b][y]=e(E[3]);break;case"v":_[b][y]=+E[3];break;case"vtf":var T=E[E.length-1];case"vtc":switch(E[3]){case"nl":_[b][y]=!!+E[4];break;default:_[b][y]=+E[4];break}E[2]=="vtf"&&(_[b][y]=[_[b][y],T])}}}return g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),_}function n(p,g){return Qm(r(p,g),g)}function a(p,g){return Ld(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],b,y="",w=El(p["!ref"]),_=Array.isArray(p),E=w.s.r;E<=w.e.r;++E)for(var A=w.s.c;A<=w.e.c;++A)if(y=ur({r:E,c:A}),b=_?(p[E]||[])[A]:p[y],!(!b||b.v==null||b.t==="z")){switch(x=["cell",y,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var T=wi(Zn(b.v));x[2]="vtc",x[3]="nd",x[4]=""+T,x[5]=b.w||Bo(b.z||cr[14],T);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[i,s,o,s,f(p),u].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),Fm=(function(){function e(h,p,g,x,b){b.raw?p[g][x]=h:h===""||(h==="TRUE"?p[g][x]=!0:h==="FALSE"?p[g][x]=!1:isNaN(_c(h))?isNaN(Pm(h).getDate())?p[g][x]=h:p[g][x]=Zn(h):p[g][x]=_c(h))}function t(h,p){var g=p||{},x=[];if(!h||h.length===0)return x;for(var b=h.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var w=10,_=0,E=0;E<=y;++E)_=b[E].indexOf(" "),_==-1?_=b[E].length:_++,w=Math.max(w,_);for(E=0;E<=y;++E){x[E]=[];var A=0;for(e(b[E].slice(0,w).trim(),x,E,A,g),A=1;A<=(b[E].length-w)/10+1;++A)e(b[E].slice(w+(A-1)*10,w+A*10).trim(),x,E,A,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var p={},g=!1,x=0,b=0;x<h.length;++x)(b=h.charCodeAt(x))==34?g=!g:!g&&b in r&&(p[b]=(p[b]||0)+1);b=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&b.push([p[x],x]);if(!b.length){p=n;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&b.push([p[x],x])}return b.sort(function(y,w){return y[0]-w[0]||n[y[1]]-n[w[1]]}),r[b.pop()[1]]||44}function i(h,p){var g=p||{},x="",b=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=a(h.slice(0,1024)):g&&g.FS?x=g.FS:x=a(h.slice(0,1024));var w=0,_=0,E=0,A=0,T=0,O=x.charCodeAt(0),R=!1,D=0,M=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?uW(g.dateNF):null;function G(){var I=h.slice(A,T),z={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)z.t="z";else if(g.raw)z.t="s",z.v=I;else if(I.trim().length===0)z.t="s",z.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(z.t="s",z.v=I.slice(2,-1).replace(/""/g,'"')):BQ(I)?(z.t="n",z.f=I.slice(1)):(z.t="s",z.v=I);else if(I=="TRUE")z.t="b",z.v=!0;else if(I=="FALSE")z.t="b",z.v=!1;else if(!isNaN(E=_c(I)))z.t="n",g.cellText!==!1&&(z.w=I),z.v=E;else if(!isNaN(Pm(I).getDate())||B&&I.match(B)){z.z=g.dateNF||cr[14];var K=0;B&&I.match(B)&&(I=fW(I,g.dateNF,I.match(B)||[]),K=1),g.cellDates?(z.t="d",z.v=Zn(I,K)):(z.t="n",z.v=wi(Zn(I,K))),g.cellText!==!1&&(z.w=Bo(z.z,z.v instanceof Date?wi(z.v):z.v)),g.cellNF||delete z.z}else z.t="s",z.v=I;if(z.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][_]=z):b[ur({c:_,r:w})]=z),A=T+1,M=h.charCodeAt(A),y.e.c<_&&(y.e.c=_),y.e.r<w&&(y.e.r=w),D==O)++_;else if(_=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;T<h.length;++T)switch(D=h.charCodeAt(T)){case 34:M===34&&(R=!R);break;case O:case 10:case 13:if(!R&&G())break e;break}return T-A>0&&G(),b["!ref"]=_r(y),b}function s(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):Qm(t(h,p),p)}function o(h,p){var g="",x=p.type=="string"?[0,0,0,0]:v3(h,p);switch(p.type){case"base64":g=to(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof Px<"u"||(g=Cr&&Buffer.isBuffer(h)?h.toString("binary"):Fd(h));break;case"array":g=$0(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Dn(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=Dn(g):p.type=="binary"&&typeof Px<"u",g.slice(0,19)=="socialcalc:version:"?lF.to_sheet(p.type=="string"?g:Dn(g),p):s(g,p)}function u(h,p){return Ld(o(h,p),p)}function f(h){for(var p=[],g=Zr(h["!ref"]),x,b=Array.isArray(h),y=g.s.r;y<=g.e.r;++y){for(var w=[],_=g.s.c;_<=g.e.c;++_){var E=ur({r:y,c:_});if(x=b?(h[y]||[])[_]:h[E],!x||x.v==null){w.push("          ");continue}for(var A=(x.w||(ff(x),x.w)||"").slice(0,10);A.length<10;)A+=" ";w.push(A+(_===0?" ":""))}p.push(w.join(""))}return p.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:f}})();function jY(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=iF.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Fm.to_workbook(e,t)}}var O0=(function(){function e(P,L,q){if(P){ts(P,P.l||0);for(var W=q.Enum||je;P.l<P.length;){var Z=P.read_shift(2),oe=W[Z]||W[65535],ce=P.read_shift(2),ae=P.l+ce,Se=oe.f&&oe.f(P,ce,q);if(P.l=ae,L(Se,oe,Z))return}}}function t(P,L){switch(L.type){case"base64":return r(Xl(to(P)),L);case"binary":return r(Xl(P),L);case"buffer":case"array":return r(P,L)}throw"Unsupported type "+L.type}function r(P,L){if(!P)return P;var q=L||{},W=q.dense?[]:{},Z="Sheet1",oe="",ce=0,ae={},Se=[],De=[],X={s:{r:0,c:0},e:{r:0,c:0}},Ke=q.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)q.Enum=je,e(P,function(Xe,wt,st){switch(st){case 0:q.vers=Xe,Xe>=4096&&(q.qpro=!0);break;case 6:X=Xe;break;case 204:Xe&&(oe=Xe);break;case 222:oe=Xe;break;case 15:case 51:q.qpro||(Xe[1].v=Xe[1].v.slice(1));case 13:case 14:case 16:st==14&&(Xe[2]&112)==112&&(Xe[2]&15)>1&&(Xe[2]&15)<15&&(Xe[1].z=q.dateNF||cr[14],q.cellDates&&(Xe[1].t="d",Xe[1].v=a2(Xe[1].v))),q.qpro&&Xe[3]>ce&&(W["!ref"]=_r(X),ae[Z]=W,Se.push(Z),W=q.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},ce=Xe[3],Z=oe||"Sheet"+(ce+1),oe="");var At=q.dense?(W[Xe[0].r]||[])[Xe[0].c]:W[ur(Xe[0])];if(At){At.t=Xe[1].t,At.v=Xe[1].v,Xe[1].z!=null&&(At.z=Xe[1].z),Xe[1].f!=null&&(At.f=Xe[1].f);break}q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[ur(Xe[0])]=Xe[1];break}},q);else if(P[2]==26||P[2]==14)q.Enum=te,P[2]==14&&(q.qpro=!0,P.l=0),e(P,function(Xe,wt,st){switch(st){case 204:Z=Xe;break;case 22:Xe[1].v=Xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Xe[3]>ce&&(W["!ref"]=_r(X),ae[Z]=W,Se.push(Z),W=q.dense?[]:{},X={s:{r:0,c:0},e:{r:0,c:0}},ce=Xe[3],Z="Sheet"+(ce+1)),Ke>0&&Xe[0].r>=Ke)break;q.dense?(W[Xe[0].r]||(W[Xe[0].r]=[]),W[Xe[0].r][Xe[0].c]=Xe[1]):W[ur(Xe[0])]=Xe[1],X.e.c<Xe[0].c&&(X.e.c=Xe[0].c),X.e.r<Xe[0].r&&(X.e.r=Xe[0].r);break;case 27:Xe[14e3]&&(De[Xe[14e3][0]]=Xe[14e3][1]);break;case 1537:De[Xe[0]]=Xe[1],Xe[0]==ce&&(Z=Xe[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(W["!ref"]=_r(X),ae[oe||Z]=W,Se.push(oe||Z),!De.length)return{SheetNames:Se,Sheets:ae};for(var Ce={},xe=[],dt=0;dt<De.length;++dt)ae[Se[dt]]?(xe.push(De[dt]||Se[dt]),Ce[De[dt]]=ae[De[dt]]||ae[Se[dt]]):(xe.push(De[dt]),Ce[De[dt]]={"!ref":"A1"});return{SheetNames:xe,Sheets:Ce}}function n(P,L){var q=L||{};if(+q.codepage>=0&&yc(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=jl(),Z=Zr(P["!ref"]),oe=Array.isArray(P),ce=[];yt(W,0,i(1030)),yt(W,6,u(Z));for(var ae=Math.min(Z.e.r,8191),Se=Z.s.r;Se<=ae;++Se)for(var De=Ga(Se),X=Z.s.c;X<=Z.e.c;++X){Se===Z.s.r&&(ce[X]=wa(X));var Ke=ce[X]+De,Ce=oe?(P[Se]||[])[X]:P[Ke];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?yt(W,13,x(Se,X,Ce.v)):yt(W,14,y(Se,X,Ce.v));else{var xe=ff(Ce);yt(W,15,p(Se,X,xe.slice(0,239)))}}return yt(W,1),W.end()}function a(P,L){var q=L||{};if(+q.codepage>=0&&yc(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=jl();yt(W,0,s(P));for(var Z=0,oe=0;Z<P.SheetNames.length;++Z)(P.Sheets[P.SheetNames[Z]]||{})["!ref"]&&yt(W,27,ue(P.SheetNames[Z],oe++));var ce=0;for(Z=0;Z<P.SheetNames.length;++Z){var ae=P.Sheets[P.SheetNames[Z]];if(!(!ae||!ae["!ref"])){for(var Se=Zr(ae["!ref"]),De=Array.isArray(ae),X=[],Ke=Math.min(Se.e.r,8191),Ce=Se.s.r;Ce<=Ke;++Ce)for(var xe=Ga(Ce),dt=Se.s.c;dt<=Se.e.c;++dt){Ce===Se.s.r&&(X[dt]=wa(dt));var Xe=X[dt]+xe,wt=De?(ae[Ce]||[])[dt]:ae[Xe];if(!(!wt||wt.t=="z"))if(wt.t=="n")yt(W,23,G(Ce,dt,ce,wt.v));else{var st=ff(wt);yt(W,22,D(Ce,dt,ce,st.slice(0,239)))}}++ce}}return yt(W,1),W.end()}function i(P){var L=Ze(2);return L.write_shift(2,P),L}function s(P){var L=Ze(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var q=0,W=0,Z=0,oe=0;oe<P.SheetNames.length;++oe){var ce=P.SheetNames[oe],ae=P.Sheets[ce];if(!(!ae||!ae["!ref"])){++Z;var Se=El(ae["!ref"]);q<Se.e.r&&(q=Se.e.r),W<Se.e.c&&(W=Se.e.c)}}return q>8191&&(q=8191),L.write_shift(2,q),L.write_shift(1,Z),L.write_shift(1,W),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function o(P,L,q){var W={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&q.qpro?(W.s.c=P.read_shift(1),P.l++,W.s.r=P.read_shift(2),W.e.c=P.read_shift(1),P.l++,W.e.r=P.read_shift(2),W):(W.s.c=P.read_shift(2),W.s.r=P.read_shift(2),L==12&&q.qpro&&(P.l+=2),W.e.c=P.read_shift(2),W.e.r=P.read_shift(2),L==12&&q.qpro&&(P.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function u(P){var L=Ze(8);return L.write_shift(2,P.s.c),L.write_shift(2,P.s.r),L.write_shift(2,P.e.c),L.write_shift(2,P.e.r),L}function f(P,L,q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(W[0].c=P.read_shift(1),W[3]=P.read_shift(1),W[0].r=P.read_shift(2),P.l+=2):(W[2]=P.read_shift(1),W[0].c=P.read_shift(2),W[0].r=P.read_shift(2)),W}function h(P,L,q){var W=P.l+L,Z=f(P,L,q);if(Z[1].t="s",q.vers==20768){P.l++;var oe=P.read_shift(1);return Z[1].v=P.read_shift(oe,"utf8"),Z}return q.qpro&&P.l++,Z[1].v=P.read_shift(W-P.l,"cstr"),Z}function p(P,L,q){var W=Ze(7+q.length);W.write_shift(1,255),W.write_shift(2,L),W.write_shift(2,P),W.write_shift(1,39);for(var Z=0;Z<W.length;++Z){var oe=q.charCodeAt(Z);W.write_shift(1,oe>=128?95:oe)}return W.write_shift(1,0),W}function g(P,L,q){var W=f(P,L,q);return W[1].v=P.read_shift(2,"i"),W}function x(P,L,q){var W=Ze(7);return W.write_shift(1,255),W.write_shift(2,L),W.write_shift(2,P),W.write_shift(2,q,"i"),W}function b(P,L,q){var W=f(P,L,q);return W[1].v=P.read_shift(8,"f"),W}function y(P,L,q){var W=Ze(13);return W.write_shift(1,255),W.write_shift(2,L),W.write_shift(2,P),W.write_shift(8,q,"f"),W}function w(P,L,q){var W=P.l+L,Z=f(P,L,q);if(Z[1].v=P.read_shift(8,"f"),q.qpro)P.l=W;else{var oe=P.read_shift(2);T(P.slice(P.l,P.l+oe),Z),P.l+=oe}return Z}function _(P,L,q){var W=L&32768;return L&=-32769,L=(W?P:0)+(L>=8192?L-16384:L),(W?"":"$")+(q?wa(L):Ga(L))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(P,L){ts(P,0);for(var q=[],W=0,Z="",oe="",ce="",ae="";P.l<P.length;){var Se=P[P.l++];switch(Se){case 0:q.push(P.read_shift(8,"f"));break;case 1:oe=_(L[0].c,P.read_shift(2),!0),Z=_(L[0].r,P.read_shift(2),!1),q.push(oe+Z);break;case 2:{var De=_(L[0].c,P.read_shift(2),!0),X=_(L[0].r,P.read_shift(2),!1);oe=_(L[0].c,P.read_shift(2),!0),Z=_(L[0].r,P.read_shift(2),!1),q.push(De+X+":"+oe+Z)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(P.read_shift(2));break;case 6:{for(var Ke="";Se=P[P.l++];)Ke+=String.fromCharCode(Se);q.push('"'+Ke.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ae=q.pop(),ce=q.pop(),q.push(["AND","OR"][Se-20]+"("+ce+","+ae+")");break;default:if(Se<32&&A[Se])ae=q.pop(),ce=q.pop(),q.push(ce+A[Se]+ae);else if(E[Se]){if(W=E[Se][1],W==69&&(W=P[P.l++]),W>q.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+q.join("|")+"|");return}var Ce=q.slice(-W);q.length-=W,q.push(E[Se][0]+"("+Ce.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}q.length==1?L[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function O(P){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=P.read_shift(2),L[3]=P[P.l++],L[0].c=P[P.l++],L}function R(P,L){var q=O(P);return q[1].t="s",q[1].v=P.read_shift(L-4,"cstr"),q}function D(P,L,q,W){var Z=Ze(6+W.length);Z.write_shift(2,P),Z.write_shift(1,q),Z.write_shift(1,L),Z.write_shift(1,39);for(var oe=0;oe<W.length;++oe){var ce=W.charCodeAt(oe);Z.write_shift(1,ce>=128?95:ce)}return Z.write_shift(1,0),Z}function M(P,L){var q=O(P);q[1].v=P.read_shift(2);var W=q[1].v>>1;if(q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return q[1].v=W,q}function B(P,L){var q=O(P),W=P.read_shift(4),Z=P.read_shift(4),oe=P.read_shift(2);if(oe==65535)return W===0&&Z===3221225472?(q[1].t="e",q[1].v=15):W===0&&Z===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ce=oe&32768;return oe=(oe&32767)-16446,q[1].v=(1-ce*2)*(Z*Math.pow(2,oe+32)+W*Math.pow(2,oe)),q}function G(P,L,q,W){var Z=Ze(14);if(Z.write_shift(2,P),Z.write_shift(1,q),Z.write_shift(1,L),W==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var oe=0,ce=0,ae=0,Se=0;return W<0&&(oe=1,W=-W),ce=Math.log2(W)|0,W/=Math.pow(2,ce-31),Se=W>>>0,(Se&2147483648)==0&&(W/=2,++ce,Se=W>>>0),W-=Se,Se|=2147483648,Se>>>=0,W*=Math.pow(2,32),ae=W>>>0,Z.write_shift(4,ae),Z.write_shift(4,Se),ce+=16383+(oe?32768:0),Z.write_shift(2,ce),Z}function I(P,L){var q=B(P);return P.l+=L-14,q}function z(P,L){var q=O(P),W=P.read_shift(4);return q[1].v=W>>6,q}function K(P,L){var q=O(P),W=P.read_shift(8,"f");return q[1].v=W,q}function J(P,L){var q=K(P);return P.l+=L-10,q}function pe(P,L){return P[P.l+L-1]==0?P.read_shift(L,"cstr"):""}function ne(P,L){var q=P[P.l++];q>L-1&&(q=L-1);for(var W="";W.length<q;)W+=String.fromCharCode(P[P.l++]);return W}function le(P,L,q){if(!(!q.qpro||L<21)){var W=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var Z=P.read_shift(L-21,"cstr");return[W,Z]}}function ve(P,L){for(var q={},W=P.l+L;P.l<W;){var Z=P.read_shift(2);if(Z==14e3){for(q[Z]=[0,""],q[Z][0]=P.read_shift(2);P[P.l];)q[Z][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return q}function ue(P,L){var q=Ze(5+P.length);q.write_shift(2,14e3),q.write_shift(2,L);for(var W=0;W<P.length;++W){var Z=P.charCodeAt(W);q[q.l++]=Z>127?95:Z}return q[q.l++]=0,q}var je={0:{n:"BOF",f:ri},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ve},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function AY(e){var t={},r=e.match(Cs),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=dr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=LN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var EY=(function(){var e=Mx("t"),t=Mx("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Xr(s[1])},u=i.match(t);return u&&(o.s=AY(u[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}})(),kY=(function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var u=a.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),CY=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,TY=/<(?:\w+:)?r>/,OY=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function i3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Xr(Dn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Dn(e),r&&(n.h=VN(n.t))):e.match(TY)&&(n.r=Dn(e),n.t=Xr(Dn((e.replace(OY,"").match(CY)||[]).join("").replace(Cs,""))),r&&(n.h=kY(EY(n.r)))),n):{t:""}}var DY=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,PY=/<(?:\w+:)?(?:si|sstItem)>/g,FY=/<\/(?:\w+:)?(?:si|sstItem)>/;function LY(e,t){var r=[],n="";if(!e)return r;var a=e.match(DY);if(a){n=a[2].replace(PY,"").split(FY);for(var i=0;i!=n.length;++i){var s=i3(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=dr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var MY=/^\s|\s$|[\t\n\r]/;function oF(e,t){if(!t.bookSST)return"";var r=[Ka];r[r.length]=gt("sst",null,{xmlns:ih[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(MY)&&(i+=' xml:space="preserve"'),i+=">"+Nn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function RY(e){return[e.read_shift(4),e.read_shift(4)]}function IY(e,t){var r=[],n=!1;return bf(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function BY(e,t){return t||(t=Ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var UY=XW;function zY(e){var t=jl();ct(t,159,BY(e));for(var r=0;r<e.length;++r)ct(t,19,UY(e[r]));return ct(t,160),t.end()}function cF(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function af(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function qY(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=af(e,4),t.U=af(e,4),t.W=af(e,4),t}function $Y(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function HY(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push($Y(e));return t}function VY(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function WY(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=af(e,4),t.U=af(e,4),t.W=af(e,4),t}function GY(e){var t=WY(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function uF(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function fF(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function KY(e){var t=af(e);switch(t.Minor){case 2:return[t.Minor,YY(e)];case 3:return[t.Minor,XY()];case 4:return[t.Minor,QY(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function YY(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=uF(e,r),a=fF(e,e.length-e.l);return{t:"Std",h:n,v:a}}function XY(){throw new Error("File is password-protected: ECMA-376 Extensible")}function QY(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Cs,function(i){var s=dr(i);switch(du(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function ZY(e,t){var r={},n=r.EncryptionVersionInfo=af(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=uF(e,a),t-=a,r.EncryptionVerifier=fF(e,t),r}function JY(e){var t={},r=t.EncryptionVersionInfo=af(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function s3(e){var t=0,r,n=cF(e),a=n.length+1,i,s,o,u,f;for(r=Nd(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=(t&16384)===0?0:1,u=t<<1&32767,f=o|u,t=f^s;return t^52811}var dF=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],u=104,f=s.length-1;f>=0;--f)for(var h=s[f],p=0;p!=7;++p)h&64&&(o^=r[u]),h*=2,--u;return o};return function(s){for(var o=cF(s),u=i(o),f=o.length,h=Nd(16),p=0;p!=16;++p)h[p]=0;var g,x,b;for((f&1)===1&&(g=u>>8,h[f]=a(e[0],g),--f,g=u&255,x=o[o.length-1],h[f]=a(x,g));f>0;)--f,g=u>>8,h[f]=a(o[f],g),--f,g=u&255,h[f]=a(o[f],g);for(f=15,b=15-o.length;b>0;)g=u>>8,h[f]=a(e[b],g),--f,--b,g=u&255,h[f]=a(o[f],g),--f,--b;return h}})(),eX=function(e,t,r,n,a){a||(a=t),n||(n=dF(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},tX=function(e){var t=0,r=dF(e);return function(n){var a=eX("",n,t,r);return t=a[1],a[0]}};function rX(e,t,r,n){var a={key:ri(e),verificationBytes:ri(e)};return r.password&&(a.verifier=s3(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=tX(r.password)),a}function nX(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=JY(e):n.Data=ZY(e,t),n}function aX(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?nX(e,t-2,n):rX(e,r.biff>=8?t:t-2,r,n),n}var hF=(function(){function e(a,i){switch(i.type){case"base64":return t(to(a),i);case"binary":return t(a,i);case"buffer":return t(Cr&&Buffer.isBuffer(a)?a.toString("binary"):Fd(a),i);case"array":return t($0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},u=a.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,x=0,b,y=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(x,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var _={v:w,t:"s"};Array.isArray(o)?o[p][y]=_:o[ur({r:p,c:y})]=_}break}x=g.lastIndex}y>f.e.c&&(f.e.c=y)}),o["!ref"]=_r(f),o}function r(a,i){return Ld(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Zr(a["!ref"]),o,u=Array.isArray(a),f=s.s.r;f<=s.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var p=ur({r:f,c:h});o=u?(a[f]||[])[h]:a[p],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(ff(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function iX(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ux(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function sX(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,u=0,f=a+i;switch(u=s/(f>1?2-f:f),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,u,f/2]}function lX(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,u;if(r!==0)switch(o|0){case 0:case 6:u=a*o,s[0]+=a,s[1]+=u;break;case 1:u=a*(2-o),s[0]+=u,s[1]+=a;break;case 2:u=a*(o-2),s[1]+=a,s[2]+=u;break;case 3:u=a*(4-o),s[1]+=u,s[2]+=a;break;case 4:u=a*(o-4),s[2]+=a,s[0]+=u;break;case 5:u=a*(6-o),s[2]+=u,s[0]+=a;break}for(var f=0;f!=3;++f)s[f]=Math.round(s[f]*255);return s}function Jv(e,t){if(t===0)return e;var r=sX(iX(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Ux(lX(r))}var mF=6,oX=15,cX=1,ws=mF;function zx(e){return Math.floor((e+Math.round(128/ws)/256)*ws)}function qx(e){return Math.floor((e-5)/ws*100+.5)/100}function ey(e){return Math.round((e*ws+5)/ws*256)/256}function _w(e){return ey(qx(zx(e)))}function l3(e){var t=Math.abs(e-_w(e)),r=ws;if(t>.005)for(ws=cX;ws<oX;++ws)Math.abs(e-_w(e))<=t&&(t=Math.abs(e-_w(e)),r=ws);ws=r}function Sd(e){e.width?(e.wpx=zx(e.width),e.wch=qx(e.wpx),e.MDW=ws):e.wpx?(e.wch=qx(e.wpx),e.width=ey(e.wch),e.MDW=ws):typeof e.wch=="number"&&(e.width=ey(e.wch),e.wpx=zx(e.width),e.MDW=ws),e.customWidth&&delete e.customWidth}var uX=96,pF=uX;function $x(e){return e*96/pF}function Lm(e){return e*pF/96}var fX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function dX(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Cs)||[]).forEach(function(s){var o=dr(s);switch(du(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Xn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Xn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function hX(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Cs)||[]).forEach(function(s){var o=dr(s);switch(du(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function mX(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Cs)||[]).forEach(function(s){var o=dr(s);switch(du(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Dn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Xn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Xn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Xn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Xn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Xn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Xn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Xn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=LN[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Xn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var u=C0[a.color.index];a.color.index==81&&(u=C0[1]),u||(u=C0[1]),a.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Jv(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function pX(e,t,r){t.NumberFmt=[];for(var n=Ra(cr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=cr[n[a]];var i=e[0].match(Cs);if(i)for(a=0;a<i.length;++a){var s=dr(i[a]);switch(du(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Xr(Dn(s.formatCode)),u=parseInt(s.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}nf(o,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function xX(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=gt("numFmt",null,{numFmtId:n,formatCode:Nn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=gt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var K1=["numFmtId","fillId","fontId","borderId","xfId"],Y1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function gX(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Cs)||[]).forEach(function(i){var s=dr(i),o=0;switch(du(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<K1.length;++o)n[K1[o]]&&(n[K1[o]]=parseInt(n[K1[o]],10));for(o=0;o<Y1.length;++o)n[Y1[o]]&&(n[Y1[o]]=Xn(n[Y1[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=Xn(s.wrapText)),n.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function vX(e){var t=[];return t[t.length]=gt("cellXfs",null),e.forEach(function(r){t[t.length]=gt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=gt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var yX=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(t))&&pX(p,h,f),(p=o.match(a))&&mX(p,h,u,f),(p=o.match(n))&&hX(p,h,u,f),(p=o.match(i))&&dX(p,h,u,f),(p=o.match(r))&&gX(p,h,f),h}})();function xF(e,t){var r=[Ka,gt("styleSheet",null,{xmlns:ih[0],"xmlns:vt":yi.vt})],n;return e.SSF&&(n=xX(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=vX(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function bX(e,t){var r=e.read_shift(2),n=Ss(e);return[r,n]}function wX(e,t,r){r||(r=Ze(6+4*t.length)),r.write_shift(2,e),Ii(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function _X(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=nG(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var u=e.read_shift(1);switch(u>0&&(n.charset=u),e.l++,n.color=rG(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ss(e),n}function NX(e,t){t||(t=Ze(153)),t.write_shift(2,e.sz*20),aG(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Xv(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ii(e.name,t),t.length>t.l?t.slice(0,t.l):t}var SX=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Nw,jX=Es;function hk(e,t){t||(t=Ze(84)),Nw||(Nw=r2(SX));var r=Nw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Xv({auto:1},t),Xv({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function AX(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function gF(e,t,r){r||(r=Ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Qp(e,t){return t||(t=Ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var EX=Es;function kX(e,t){return t||(t=Ze(51)),t.write_shift(1,0),Qp(null,t),Qp(null,t),Qp(null,t),Qp(null,t),Qp(null,t),t.length>t.l?t.slice(0,t.l):t}function CX(e,t){return t||(t=Ze(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Yv(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function TX(e,t,r){var n=Ze(2052);return n.write_shift(4,e),Yv(t,n),Yv(r,n),n.length>n.l?n.slice(0,n.l):n}function OX(e,t,r){var n={};n.NumberFmt=[];for(var a in cr)n.NumberFmt[a]=cr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return bf(e,function(u,f,h){switch(h){case 44:n.NumberFmt[u[0]]=u[1],nf(u[1],u[0]);break;case 43:n.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=Jv(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(h),s=!0;break;case 38:i.pop(),s=!1;break;default:if(f.T>0)i.push(h);else if(f.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}function DX(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ct(e,615,Nc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ct(e,44,wX(a,t[a]))}),ct(e,616))}}function PX(e){var t=1;ct(e,611,Nc(t)),ct(e,43,NX({sz:12,color:{theme:1},name:"Calibri",family:2})),ct(e,612)}function FX(e){var t=2;ct(e,603,Nc(t)),ct(e,45,hk({patternType:"none"})),ct(e,45,hk({patternType:"gray125"})),ct(e,604)}function LX(e){var t=1;ct(e,613,Nc(t)),ct(e,46,kX()),ct(e,614)}function MX(e){var t=1;ct(e,626,Nc(t)),ct(e,47,gF({numFmtId:0},65535)),ct(e,627)}function RX(e,t){ct(e,617,Nc(t.length)),t.forEach(function(r){ct(e,47,gF(r,0))}),ct(e,618)}function IX(e){var t=1;ct(e,619,Nc(t)),ct(e,48,CX({xfId:0,name:"Normal"})),ct(e,620)}function BX(e){var t=0;ct(e,505,Nc(t)),ct(e,506)}function UX(e){var t=0;ct(e,508,TX(t,"TableStyleMedium9","PivotStyleMedium4")),ct(e,509)}function zX(e,t){var r=jl();return ct(r,278),DX(r,e.SSF),PX(r),FX(r),LX(r),MX(r),RX(r,t.cellXfs),IX(r),BX(r),UX(r),ct(r,279),r.end()}var qX=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function $X(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Cs)||[]).forEach(function(a){var i=dr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[qX.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function HX(){}function VX(){}var WX=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,GX=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,KX=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function YX(e,t,r){t.themeElements={};var n;[["clrScheme",WX,$X],["fontScheme",GX,HX],["fmtScheme",KX,VX]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var XX=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function vF(e,t){(!e||e.length===0)&&(e=o3());var r,n={};if(!(r=e.match(XX)))throw new Error("themeElements not found in theme");return YX(r[0],n,t),n.raw=e,n}function o3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ka];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function QX(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=uP(i,{type:"array"})}catch{return}var o=Ql(s,"theme/theme/theme1.xml",!0);if(o)return vF(o,r)}}function ZX(e){return e.read_shift(4)}function JX(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=eQ(e,4);break;case 2:t.xclrValue=QP(e);break;case 3:t.xclrValue=ZX(e);break;case 4:e.l+=4;break}return e.l+=8,t}function eQ(e,t){return Es(e,t)}function tQ(e,t){return Es(e,t)}function rQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=JX(e);break;case 6:n[1]=tQ(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function nQ(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(rQ(e,r-e.l));return{ixfe:n,ext:i}}function aQ(e,t){t.forEach(function(r){r[0]})}function iQ(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ss(e)}}function sQ(e){var t=Ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ii(e.name,t),t.slice(0,t.l)}function lQ(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function oQ(e){var t=Ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function cQ(e,t){var r=Ze(8+2*t.length);return r.write_shift(4,e),Ii(t,r),r.slice(0,r.l)}function uQ(e){return e.l+=4,e.read_shift(4)!=0}function fQ(e,t){var r=Ze(8);return r.write_shift(4,e),r.write_shift(4,1),r}function dQ(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return bf(e,function(u,f,h){switch(h){case 335:n.Types.push({name:u.name});break;case 51:u.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:i.push(h),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!f.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function hQ(){var e=jl();return ct(e,332),ct(e,334,Nc(1)),ct(e,335,sQ({name:"XLDAPR",version:12e4,flags:3496657072})),ct(e,336),ct(e,339,cQ(1,"XLDAPR")),ct(e,52),ct(e,35,Nc(514)),ct(e,4096,Nc(0)),ct(e,4097,Po(1)),ct(e,36),ct(e,53),ct(e,340),ct(e,337,fQ(1)),ct(e,51,oQ([[1,0]])),ct(e,338),ct(e,333),e.end()}function mQ(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Cs,function(o){var u=dr(o);switch(du(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==u.name&&(s=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[u.t-1].name,index:+u.v}):i==0&&n.Value.push({type:n.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),n}function yF(){var e=[Ka];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function pQ(e){var t=[];if(!e)return t;var r=1;return(e.match(Cs)||[]).forEach(function(n){var a=dr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function xQ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ur(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function gQ(e,t,r){var n=[];return bf(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function vQ(e,t,r,n){if(!e)return e;var a=n||{},i=!1;bf(e,function(o,u,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},a)}function yQ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var gm=1024;function bF(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[gt("xml",null,{"xmlns:v":Gl.v,"xmlns:o":Gl.o,"xmlns:x":Gl.x,"xmlns:mv":Gl.mv}).replace(/\/>/,">"),gt("o:shapelayout",gt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),gt("v:shapetype",[gt("v:stroke",null,{joinstyle:"miter"}),gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];gm<e*1e3;)gm+=1e3;return t.forEach(function(i){var s=_a(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var u=o.type=="gradient"?gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=gt("v:fill",u,o),h={on:"t",obscured:"t"};++gm,a=a.concat(["<v:shape"+Rx({id:"_x0000_s"+gm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,gt("v:shadow",null,h),gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ns("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ns("x:AutoFill","False"),ns("x:Row",String(s.r)),ns("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function mk(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=_a(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var u=Zr(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var f=_r(u);f!==e["!ref"]&&(e["!ref"]=f)}i.c||(i.c=[]);var h={a:s.author,t:s.t,r:s.r,T:r};s.h&&(h.h=s.h);for(var p=i.c.length-1;p>=0;--p){if(!r&&i.c[p].T)return;r&&!i.c[p].T&&i.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(h.a==n[p].id){h.a=n[p].name||h.a;break}}i.c.push(h)})}function bQ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=dr(o[0]),f={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=_a(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var p=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&i3(p[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(f.h=g.h),n.push(f)}}}}),n}function wF(e){var t=[Ka,gt("comments",null,{xmlns:ih[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Nn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(u){u.a&&(a=r.indexOf(Nn(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ns("t",Nn(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(ns("t",Nn(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function wQ(e,t){var r=[],n=!1,a={},i=0;return e.replace(Cs,function(o,u){var f=dr(o);switch(du(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=u+o.length;break;case"</text>":a.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),r}function _Q(e,t,r){var n=[Ka,gt("ThreadedComments",null,{xmlns:yi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var u={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=u.id:u.parentId=i,s.ID=u.id,s.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(gt("threadedComment",ns("text",s.t||""),u))})}),n.push("</ThreadedComments>"),n.join("")}function NQ(e,t){var r=[],n=!1;return e.replace(Cs,function(i){var s=dr(i);switch(du(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function SQ(e){var t=[Ka,gt("personList",null,{xmlns:yi.TCMNT,"xmlns:x":ih[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(gt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function jQ(e){var t={};t.iauthor=e.read_shift(4);var r=ch(e);return t.rfx=r.s,t.ref=ur(r.s),e.l+=16,t}function AQ(e,t){return t==null&&(t=Ze(36)),t.write_shift(4,e[1].iauthor),Zm(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var EQ=Ss;function kQ(e){return Ii(e.slice(0,54))}function CQ(e,t){var r=[],n=[],a={},i=!1;return bf(e,function(o,u,f){switch(f){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}function TQ(e){var t=jl(),r=[];return ct(t,628),ct(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ct(t,632,kQ(a.a)))})}),ct(t,631),ct(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:_a(n[0]),e:_a(n[0])};ct(t,635,AQ([i,a])),a.t&&a.t.length>0&&ct(t,637,ZW(a)),ct(t,636),delete a.iauthor})}),ct(t,634),ct(t,629),t.end()}var OQ="application/vnd.ms-office.vbaProject";function DQ(e){var t=nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),nr.write(t)}function PQ(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&nr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var _F=["xlsb","xlsm","xlam","biff8","xla"];function FQ(){return{"!type":"dialog"}}function LQ(){return{"!type":"dialog"}}function MQ(){return{"!type":"macro"}}function RQ(){return{"!type":"macro"}}var Sm=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return o?h+=t.c:--h,u?f+=t.r:--f,a+(o?"":"$")+wa(h)+(u?"":"$")+Ga(f)}return function(a,i){return t=i,a.replace(e,r)}})(),c3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,u3=(function(){return function(t,r){return t.replace(c3,function(n,a,i,s,o,u){var f=XN(s)-(i?0:r.c),h=YN(u)-(o?0:r.r),p=h==0?"":o?h+1:"["+h+"]",g=f==0?"":i?f+1:"["+f+"]";return a+"R"+p+"C"+g})}})();function NF(e,t){return e.replace(c3,function(r,n,a,i,s,o){return n+(a=="$"?a+i:wa(XN(i)+t.c))+(s=="$"?s+o:Ga(YN(o)+t.r))})}function IQ(e,t,r){var n=El(t),a=n.s,i=_a(r),s={r:i.r-a.r,c:i.c-a.c};return NF(e,s)}function BQ(e){return e.length!=1}function pk(e){return e.replace(/_xlfn\./g,"")}function ei(e){e.l+=1}function jd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function SF(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return jF(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=jd(e),o=jd(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function jF(e){var t=jd(e),r=jd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function UQ(e,t,r){if(r.biff<8)return jF(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=jd(e),s=jd(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function AF(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return zQ(e);var n=e.read_shift(r&&r.biff==12?4:2),a=jd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function zQ(e){var t=jd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function qQ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function $Q(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return HQ(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function HQ(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function VQ(e,t,r){var n=(e[e.l++]&96)>>5,a=SF(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function WQ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=SF(e,i,r);return[n,a,s]}function GQ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function KQ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function YQ(e,t,r){var n=(e[e.l++]&96)>>5,a=UQ(e,t-1,r);return[n,a]}function XQ(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function xk(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function QQ(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function ZQ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function JQ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function eZ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tZ(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function EF(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function rZ(e){return e.read_shift(2),EF(e)}function nZ(e){return e.read_shift(2),EF(e)}function aZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=AF(e,0,r);return[n,a]}function iZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=$Q(e,0,r);return[n,a]}function sZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=AF(e,0,r);return[n,a,i]}function lZ(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[uJ[a],TF[a],n]}function oZ(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:cZ(e);return[a,(i[0]===0?TF:cJ)[i[1]]]}function cZ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function uZ(e,t,r){e.l+=r&&r.biff==2?3:4}function fZ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dZ(e){return e.l++,wf[e.read_shift(1)]}function hZ(e){return e.l++,e.read_shift(2)}function mZ(e){return e.l++,e.read_shift(1)!==0}function pZ(e){return e.l++,Ns(e)}function xZ(e,t,r){return e.l++,xg(e,t-1,r)}function gZ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=qa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=wf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ns(e);break;case 2:r[1]=uh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vZ(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?ch:i2)(e));return a}function yZ(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=gZ(e,r.biff);return s}function bZ(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function wZ(e,t,r){if(r.biff==5)return _Z(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function _Z(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function NZ(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function SZ(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function jZ(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function AZ(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var EZ=Es,kZ=Es,CZ=Es;function vg(e,t,r){return e.l+=2,[qQ(e)]}function f3(e){return e.l+=6,[]}var TZ=vg,OZ=f3,DZ=f3,PZ=vg;function kF(e){return e.l+=2,[ri(e),e.read_shift(2)&1]}var FZ=vg,LZ=kF,MZ=f3,RZ=vg,IZ=vg,BZ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function UZ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=BZ[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function zZ(e){return e.l+=2,[e.read_shift(4)]}function qZ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function $Z(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function HZ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function VZ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function WZ(e){return e.l+=4,[0,0]}var gk={1:{n:"PtgExp",f:fZ},2:{n:"PtgTbl",f:CZ},3:{n:"PtgAdd",f:ei},4:{n:"PtgSub",f:ei},5:{n:"PtgMul",f:ei},6:{n:"PtgDiv",f:ei},7:{n:"PtgPower",f:ei},8:{n:"PtgConcat",f:ei},9:{n:"PtgLt",f:ei},10:{n:"PtgLe",f:ei},11:{n:"PtgEq",f:ei},12:{n:"PtgGe",f:ei},13:{n:"PtgGt",f:ei},14:{n:"PtgNe",f:ei},15:{n:"PtgIsect",f:ei},16:{n:"PtgUnion",f:ei},17:{n:"PtgRange",f:ei},18:{n:"PtgUplus",f:ei},19:{n:"PtgUminus",f:ei},20:{n:"PtgPercent",f:ei},21:{n:"PtgParen",f:ei},22:{n:"PtgMissArg",f:ei},23:{n:"PtgStr",f:xZ},26:{n:"PtgSheet",f:qZ},27:{n:"PtgEndSheet",f:$Z},28:{n:"PtgErr",f:dZ},29:{n:"PtgBool",f:mZ},30:{n:"PtgInt",f:hZ},31:{n:"PtgNum",f:pZ},32:{n:"PtgArray",f:XQ},33:{n:"PtgFunc",f:lZ},34:{n:"PtgFuncVar",f:oZ},35:{n:"PtgName",f:bZ},36:{n:"PtgRef",f:aZ},37:{n:"PtgArea",f:VQ},38:{n:"PtgMemArea",f:NZ},39:{n:"PtgMemErr",f:EZ},40:{n:"PtgMemNoMem",f:kZ},41:{n:"PtgMemFunc",f:SZ},42:{n:"PtgRefErr",f:jZ},43:{n:"PtgAreaErr",f:GQ},44:{n:"PtgRefN",f:iZ},45:{n:"PtgAreaN",f:YQ},46:{n:"PtgMemAreaN",f:HZ},47:{n:"PtgMemNoMemN",f:VZ},57:{n:"PtgNameX",f:wZ},58:{n:"PtgRef3d",f:sZ},59:{n:"PtgArea3d",f:WQ},60:{n:"PtgRefErr3d",f:AZ},61:{n:"PtgAreaErr3d",f:KQ},255:{}},GZ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},KZ={1:{n:"PtgElfLel",f:kF},2:{n:"PtgElfRw",f:RZ},3:{n:"PtgElfCol",f:TZ},6:{n:"PtgElfRwV",f:IZ},7:{n:"PtgElfColV",f:PZ},10:{n:"PtgElfRadical",f:FZ},11:{n:"PtgElfRadicalS",f:MZ},13:{n:"PtgElfColS",f:OZ},15:{n:"PtgElfColSV",f:DZ},16:{n:"PtgElfRadicalLel",f:LZ},25:{n:"PtgList",f:UZ},29:{n:"PtgSxName",f:zZ},255:{}},YZ={0:{n:"PtgAttrNoop",f:WZ},1:{n:"PtgAttrSemi",f:tZ},2:{n:"PtgAttrIf",f:JQ},4:{n:"PtgAttrChoose",f:QQ},8:{n:"PtgAttrGoto",f:ZQ},16:{n:"PtgAttrSum",f:uZ},32:{n:"PtgAttrBaxcel",f:xk},33:{n:"PtgAttrBaxcel",f:xk},64:{n:"PtgAttrSpace",f:rZ},65:{n:"PtgAttrSpaceSemi",f:nZ},128:{n:"PtgAttrIfError",f:eZ},255:{}};function yg(e,t,r,n){if(n.biff<8)return Es(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=yZ(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=vZ(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Es(e,t)),i}function bg(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=gk[i]||gk[GZ[i]],(i===24||i===25)&&(a=(i===24?KZ:YZ)[e[e.l+1]]),!a||!a.f?Es(e,t):s.push([a.n,a.f(e,t,r)]);return s}function XZ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var QZ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ZZ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function CF(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function vk(e,t,r){var n=CF(e,t,r);return n=="#REF"?n:ZZ(n,r)}function bs(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],u,f,h,p=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var y=-1,w="",_=0,E=e[0].length;_<E;++_){var A=e[0][_];switch(A[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),f=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:w=Pa(" ",e[0][y][1][1]);break;case 1:w=Pa("\r",e[0][y][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}f=f+w,y=-1}o.push(f+QZ[A[0]]+u);break;case"PtgIsect":u=o.pop(),f=o.pop(),o.push(f+" "+u);break;case"PtgUnion":u=o.pop(),f=o.pop(),o.push(f+","+u);break;case"PtgRange":u=o.pop(),f=o.pop(),o.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=xx(A[1][1],s,a),o.push(gx(h,i));break;case"PtgRefN":h=r?xx(A[1][1],r,a):A[1][1],o.push(gx(h,i));break;case"PtgRef3d":p=A[1][1],h=xx(A[1][2],s,a),b=vk(n,p,a),o.push(b+"!"+gx(h,i));break;case"PtgFunc":case"PtgFuncVar":var T=A[1][0],O=A[1][1];T||(T=0),T&=127;var R=T==0?[]:o.slice(-T);o.length-=T,O==="User"&&(O=R.shift()),o.push(O+"("+R.join(",")+")");break;case"PtgBool":o.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(A[1]);break;case"PtgNum":o.push(String(A[1]));break;case"PtgStr":o.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(A[1]);break;case"PtgAreaN":x=GE(A[1][1],r?{s:r}:s,a),o.push(yw(x,a));break;case"PtgArea":x=GE(A[1][1],s,a),o.push(yw(x,a));break;case"PtgArea3d":p=A[1][1],x=A[1][2],b=vk(n,p,a),o.push(b+"!"+yw(x,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=A[1][2];var D=(n.names||[])[g-1]||(n[0]||[])[g],M=D?D.Name:"SH33TJSNAME"+String(g);M&&M.slice(0,6)=="_xlfn."&&!a.xlfn&&(M=M.slice(6)),o.push(M);break;case"PtgNameX":var B=A[1][1];g=A[1][2];var G;if(a.biff<=5)B<0&&(B=-B),n[B]&&(G=n[B][g]);else{var I="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(I=n.SheetNames[n[B][g].itab-1]+"!"):I=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])I+=n[B][g].Name;else if(n[0]&&n[0][g])I+=n[0][g].Name;else{var z=(CF(n,B,a)||"").split(";;");z[g-1]?I=z[g-1]:I+="SH33TJSERRX"}o.push(I);break}G||(G={Name:"SH33TJSERRY"}),o.push(G.Name);break;case"PtgParen":var K="(",J=")";if(y>=0){switch(w="",e[0][y][1][0]){case 2:K=Pa(" ",e[0][y][1][1])+K;break;case 3:K=Pa("\r",e[0][y][1][1])+K;break;case 4:J=Pa(" ",e[0][y][1][1])+J;break;case 5:J=Pa("\r",e[0][y][1][1])+J;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(K+o.pop()+J);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var pe={c:r.c,r:r.r};if(n.sharedf[ur(h)]){var ne=n.sharedf[ur(h)];o.push(bs(ne,s,pe,n,a))}else{var le=!1;for(u=0;u!=n.arrayf.length;++u)if(f=n.arrayf[u],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(bs(f[1],s,pe,n,a)),le=!0;break}le||o.push(A[1])}break;case"PtgArray":o.push("{"+XZ(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var ve=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&y>=0&&ve.indexOf(e[0][_][0])==-1){A=e[0][y];var ue=!0;switch(A[1][0]){case 4:ue=!1;case 0:w=Pa(" ",A[1][1]);break;case 5:ue=!1;case 1:w=Pa("\r",A[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}o.push((ue?w:"")+o.pop()+(ue?"":w)),y=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function JZ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Es(e,t-2)];var o=bg(e,s,r);return t!==s+a&&(i=yg(e,t-s-a,o,r)),e.l=n,[o,i]}function eJ(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Es(e,t-2)];var o=bg(e,s,r);return t!==s+a&&(i=yg(e,t-s-a,o,r)),e.l=n,[o,i]}function tJ(e,t,r,n){var a=e.l+t,i=bg(e,n,r),s;return a!==e.l&&(s=yg(e,a-e.l,i,r)),[i,s]}function rJ(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=bg(e,i,r);return i==65535?[[],Es(e,t-2)]:(t!==i+2&&(a=yg(e,n-i-2,s,r)),[s,a])}function nJ(e){var t;if(Xu(e,e.l+6)!==65535)return[Ns(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function aJ(e){if(e==null){var t=Ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return H0(e);return H0(0)}function Sw(e,t,r){var n=e.l+t,a=hu(e);r.biff==2&&++e.l;var i=nJ(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=eJ(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function iJ(e,t,r,n,a){var i=W0(t,r,a),s=aJ(e.v),o=Ze(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var f=Ze(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var p=Ri([i,s,o,f]);return p}function s2(e,t,r){var n=e.read_shift(4),a=bg(e,n,r),i=e.read_shift(4),s=i>0?yg(e,i,a,r):null;return[a,s]}var sJ=s2,l2=s2,lJ=s2,oJ=s2,cJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},TF={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},uJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yk(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function fJ(e){var t="of:="+e.replace(c3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function jw(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function dJ(e){return e.replace(/\./,"!")}var yx={},jm={},bx=typeof Map<"u";function d3(e,t,r){var n=0,a=e.length;if(r){if(bx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=bx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(bx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function o2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ws=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=qx(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=ey(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function D0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Md(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){nf(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function OF(e,t,r,n,a,i){try{n.cellNF&&(e.z=cr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Zn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(cr[t]==null&&nf(cW[t]||"General",t),e.t==="e")e.w=e.w||wf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lx(e.v);else if(e.t==="d"){var s=wi(e.v);(s|0)===s?e.w=s.toString(10):e.w=Lx(s)}else{if(e.v===void 0)return"";e.w=q0(e.v,jm)}else e.t==="d"?e.w=Bo(t,wi(e.v),jm):e.w=Bo(t,e.v,jm)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Jv(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Jv(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function hJ(e,t,r){if(e&&e["!ref"]){var n=Zr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function mJ(e,t){var r=Zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=_r(r))}var pJ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,xJ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,gJ=/<(?:\w:)?hyperlink [^>]*>/mg,vJ=/"(\w*:\w*)"/,yJ=/<(?:\w:)?col\b[^>]*[\/]?>/g,bJ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,wJ=/<(?:\w:)?pageMargins[^>]*\/>/g,DF=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,_J=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,NJ=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function SJ(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",p=e.match(xJ);p?(f=e.slice(0,p.index),h=e.slice(p.index+p[0].length)):f=h=e;var g=f.match(DF);g?h3(g[0],o,a,r):(g=f.match(_J))&&AJ(g[0],g[1]||"",o,a,r);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var b=f.slice(x,x+50).match(vJ);b&&mJ(o,b[1])}var y=f.match(NJ);y&&y[1]&&BJ(y[1],a);var w=[];if(t.cellStyles){var _=f.match(yJ);_&&FJ(w,_)}p&&qJ(p[1],o,t,u,i,s);var E=h.match(bJ);E&&(o["!autofilter"]=MJ(E[0]));var A=[],T=h.match(pJ);if(T)for(x=0;x!=T.length;++x)A[x]=Zr(T[x].slice(T[x].indexOf('"')+1));var O=h.match(gJ);O&&OJ(o,O,n);var R=h.match(wJ);if(R&&(o["!margins"]=DJ(dr(R[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=_r(u)),t.sheetRows>0&&o["!ref"]){var D=Zr(o["!ref"]);t.sheetRows<=+D.e.r&&(D.e.r=t.sheetRows-1,D.e.r>u.e.r&&(D.e.r=u.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>u.e.c&&(D.e.c=u.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=_r(D))}return w.length>0&&(o["!cols"]=w),A.length>0&&(o["!merges"]=A),o}function jJ(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+_r(e[r])+'"/>';return t+"</mergeCells>"}function h3(e,t,r,n){var a=dr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Xr(Dn(a.codeName)))}function AJ(e,t,r,n,a){h3(e.slice(0,e.indexOf(">")),r,n,a)}function EJ(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,s.codeName=iu(Nn(u))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),o=(o||"")+gt("outlinePr",null,f)}!i&&!o||(a[a.length]=gt("sheetPr",o,s))}var kJ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],CJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function TJ(e){var t={sheet:1};return kJ.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),CJ.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=s3(e.password).toString(16).toUpperCase()),gt("sheetProtection",null,t)}function OJ(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=dr(Dn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Xr(i.location))):(i.Target="#"+Xr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Zr(i.ref),u=o.s.r;u<=o.e.r;++u)for(var f=o.s.c;f<=o.e.c;++f){var h=ur({c:f,r:u});n?(e[u]||(e[u]=[]),e[u][f]||(e[u][f]={t:"z",v:void 0}),e[u][f].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function DJ(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function PJ(e){return D0(e),gt("pageMargins",null,e)}function FJ(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=dr(t[n],!0);a.hidden&&(a.hidden=Xn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,l3(a.width)),Sd(a);i<=s;)e[i++]=Jn(a)}}function LJ(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=gt("col",null,o2(a,n)));return r[r.length]="</cols>",r.join("")}function MJ(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function RJ(e,t,r,n){var a=typeof e.ref=="string"?e.ref:_r(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=El(a);s.s.r==s.e.r&&(s.e.r=El(t["!ref"]).e.r,a=_r(s));for(var o=0;o<i.length;++o){var u=i[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),gt("autoFilter",null,{ref:a})}var IJ=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function BJ(e,t){t.Views||(t.Views=[{}]),(e.match(IJ)||[]).forEach(function(r,n){var a=dr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Xn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function UJ(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),gt("sheetViews",gt("sheetView",null,a),{})}function zJ(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=wf[e.v];break;case"d":n&&n.cellDates?a=Zn(e.v,-1).toISOString():(e=Jn(e),e.t="n",a=""+(e.v=wi(Zn(e.v)))),typeof e.z>"u"&&(e.z=cr[14]);break;default:a=e.v;break}var o=ns("v",Nn(a)),u={r:t},f=Md(n.cellXfs,e,n);switch(f!==0&&(u.s=f),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ns("v",""+d3(n.Strings,e.v,n.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=gt("f",Nn(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),gt("c",o,u)}var qJ=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Mx("v"),s=Mx("f");return function(u,f,h,p,g,x){for(var b=0,y="",w=[],_=[],E=0,A=0,T=0,O="",R,D,M=0,B=0,G,I,z=0,K=0,J=Array.isArray(x.CellXf),pe,ne=[],le=[],ve=Array.isArray(f),ue=[],je={},te=!1,P=!!h.sheetStubs,L=u.split(t),q=0,W=L.length;q!=W;++q){y=L[q].trim();var Z=y.length;if(Z!==0){var oe=0;e:for(b=0;b<Z;++b)switch(y[b]){case">":if(y[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(D=dr(y.slice(oe,b),!0),M=D.r!=null?parseInt(D.r,10):M+1,B=-1,h.sheetRows&&h.sheetRows<M)continue;je={},te=!1,D.ht&&(te=!0,je.hpt=parseFloat(D.ht),je.hpx=Lm(je.hpt)),D.hidden=="1"&&(te=!0,je.hidden=!0),D.outlineLevel!=null&&(te=!0,je.level=+D.outlineLevel),te&&(ue[M-1]=je)}break;case"<":oe=b;break}if(oe>=b)break;if(D=dr(y.slice(oe,b),!0),M=D.r!=null?parseInt(D.r,10):M+1,B=-1,!(h.sheetRows&&h.sheetRows<M)){p.s.r>M-1&&(p.s.r=M-1),p.e.r<M-1&&(p.e.r=M-1),h&&h.cellStyles&&(je={},te=!1,D.ht&&(te=!0,je.hpt=parseFloat(D.ht),je.hpx=Lm(je.hpt)),D.hidden=="1"&&(te=!0,je.hidden=!0),D.outlineLevel!=null&&(te=!0,je.level=+D.outlineLevel),te&&(ue[M-1]=je)),w=y.slice(b).split(e);for(var ce=0;ce!=w.length&&w[ce].trim().charAt(0)=="<";++ce);for(w=w.slice(ce),b=0;b!=w.length;++b)if(y=w[b].trim(),y.length!==0){if(_=y.match(r),E=b,A=0,T=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,_!=null&&_.length===2){for(E=0,O=_[1],A=0;A!=O.length&&!((T=O.charCodeAt(A)-64)<1||T>26);++A)E=26*E+T;--E,B=E}else++B;for(A=0;A!=y.length&&y.charCodeAt(A)!==62;++A);if(++A,D=dr(y.slice(0,A),!0),D.r||(D.r=ur({r:M-1,c:B})),O=y.slice(A),R={t:""},(_=O.match(i))!=null&&_[1]!==""&&(R.v=Xr(_[1])),h.cellFormula){if((_=O.match(s))!=null&&_[1]!==""){if(R.f=Xr(Dn(_[1])).replace(/\r\n/g,`
`),h.xlfn||(R.f=pk(R.f)),_[0].indexOf('t="array"')>-1)R.F=(O.match(a)||[])[1],R.F.indexOf(":")>-1&&ne.push([Zr(R.F),R.F]);else if(_[0].indexOf('t="shared"')>-1){I=dr(_[0]);var ae=Xr(Dn(_[1]));h.xlfn||(ae=pk(ae)),le[parseInt(I.si,10)]=[I,ae,D.r]}}else(_=O.match(/<f[^>]*\/>/))&&(I=dr(_[0]),le[I.si]&&(R.f=IQ(le[I.si][1],le[I.si][2],D.r)));var Se=_a(D.r);for(A=0;A<ne.length;++A)Se.r>=ne[A][0].s.r&&Se.r<=ne[A][0].e.r&&Se.c>=ne[A][0].s.c&&Se.c<=ne[A][0].e.c&&(R.F=ne[A][1])}if(D.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(P)R.t="z";else continue;else R.t=D.t||"n";switch(p.s.c>B&&(p.s.c=B),p.e.c<B&&(p.e.c=B),R.t){case"n":if(R.v==""||R.v==null){if(!P)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!P)continue;R.t="z"}else G=yx[parseInt(R.v,10)],R.v=G.t,R.r=G.r,h.cellHTML&&(R.h=G.h);break;case"str":R.t="s",R.v=R.v!=null?Dn(R.v):"",h.cellHTML&&(R.h=VN(R.v));break;case"inlineStr":_=O.match(n),R.t="s",_!=null&&(G=i3(_[1]))?(R.v=G.t,h.cellHTML&&(R.h=G.h)):R.v="";break;case"b":R.v=Xn(R.v);break;case"d":h.cellDates?R.v=Zn(R.v,1):(R.v=wi(Zn(R.v,1)),R.t="n");break;case"e":(!h||h.cellText!==!1)&&(R.w=R.v),R.v=FP[R.v];break}if(z=K=0,pe=null,J&&D.s!==void 0&&(pe=x.CellXf[D.s],pe!=null&&(pe.numFmtId!=null&&(z=pe.numFmtId),h.cellStyles&&pe.fillId!=null&&(K=pe.fillId))),OF(R,z,K,h,g,x),h.cellDates&&J&&R.t=="n"&&Ym(cr[z])&&(R.t="d",R.v=a2(R.v)),D.cm&&h.xlmeta){var De=(h.xlmeta.Cell||[])[+D.cm-1];De&&De.type=="XLDAPR"&&(R.D=!0)}if(ve){var X=_a(D.r);f[X.r]||(f[X.r]=[]),f[X.r][X.c]=R}else f[D.r]=R}}}}ue.length>0&&(f["!rows"]=ue)}})();function $J(e,t,r,n){var a=[],i=[],s=Zr(e["!ref"]),o="",u,f="",h=[],p=0,g=0,x=e["!rows"],b=Array.isArray(e),y={r:f},w,_=-1;for(g=s.s.c;g<=s.e.c;++g)h[g]=wa(g);for(p=s.s.r;p<=s.e.r;++p){for(i=[],f=Ga(p),g=s.s.c;g<=s.e.c;++g){u=h[g]+f;var E=b?(e[p]||[])[g]:e[u];E!==void 0&&(o=zJ(E,u,e,t))!=null&&i.push(o)}(i.length>0||x&&x[p])&&(y={r:f},x&&x[p]&&(w=x[p],w.hidden&&(y.hidden=1),_=-1,w.hpx?_=$x(w.hpx):w.hpt&&(_=w.hpt),_>-1&&(y.ht=_,y.customHeight=1),w.level&&(y.outlineLevel=w.level)),a[a.length]=gt("row",i.join(""),y))}if(x)for(;p<x.length;++p)x&&x[p]&&(y={r:p+1},w=x[p],w.hidden&&(y.hidden=1),_=-1,w.hpx?_=$x(w.hpx):w.hpt&&(_=w.hpt),_>-1&&(y.ht=_,y.customHeight=1),w.level&&(y.outlineLevel=w.level),a[a.length]=gt("row","",y));return a.join("")}function PF(e,t,r,n){var a=[Ka,gt("worksheet",null,{xmlns:ih[0],"xmlns:r":yi.r})],i=r.SheetNames[e],s=0,o="",u=r.Sheets[i];u==null&&(u={});var f=u["!ref"]||"A1",h=Zr(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=_r(h)}n||(n={}),u["!comments"]=[];var p=[];EJ(u,r,e,t,a),a[a.length]=gt("dimension",null,{ref:f}),a[a.length]=UJ(u,t,e,r),t.sheetFormat&&(a[a.length]=gt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(a[a.length]=LJ(u,u["!cols"])),a[s=a.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=$J(u,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),u["!protect"]&&(a[a.length]=TJ(u["!protect"])),u["!autofilter"]!=null&&(a[a.length]=RJ(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(a[a.length]=jJ(u["!merges"]));var g=-1,x,b=-1;return u["!links"].length>0&&(a[a.length]="<hyperlinks>",u["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=bn(n,-1,Nn(y[1].Target).replace(/#.*$/,""),Or.HLINK),x["r:id"]="rId"+b),(g=y[1].Target.indexOf("#"))>-1&&(x.location=Nn(y[1].Target.slice(g+1))),y[1].Tooltip&&(x.tooltip=Nn(y[1].Tooltip)),a[a.length]=gt("hyperlink",null,x))}),a[a.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(a[a.length]=PJ(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ns("ignoredErrors",gt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(b=bn(n,-1,"../drawings/drawing"+(e+1)+".xml",Or.DRAW),a[a.length]=gt("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=p),u["!comments"].length>0&&(b=bn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Or.VML),a[a.length]=gt("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function HJ(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function VJ(e,t,r){var n=Ze(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=$x(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,u=n.l;n.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,g=-1,x=h<<10;x<h+1<<10;++x){f.c=x;var b=Array.isArray(r)?(r[f.r]||[])[f.c]:r[ur(f)];b&&(p<0&&(p=x),g=x)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,g))}var y=n.l;return n.l=u,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function WJ(e,t,r,n){var a=VJ(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ct(e,0,a)}var GJ=ch,KJ=Zm;function YJ(){}function XJ(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=JW(e),r}function QJ(e,t,r){r==null&&(r=Ze(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Xv({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),CP(e,r),r.slice(0,r.l)}function ZJ(e){var t=Ho(e);return[t]}function JJ(e,t,r){return r==null&&(r=Ze(8)),sh(t,r)}function eee(e){var t=lh(e);return[t]}function tee(e,t,r){return r==null&&(r=Ze(4)),oh(t,r)}function ree(e){var t=Ho(e),r=e.read_shift(1);return[t,r,"b"]}function nee(e,t,r){return r==null&&(r=Ze(9)),sh(t,r),r.write_shift(1,e.v?1:0),r}function aee(e){var t=lh(e),r=e.read_shift(1);return[t,r,"b"]}function iee(e,t,r){return r==null&&(r=Ze(5)),oh(t,r),r.write_shift(1,e.v?1:0),r}function see(e){var t=Ho(e),r=e.read_shift(1);return[t,r,"e"]}function lee(e,t,r){return r==null&&(r=Ze(9)),sh(t,r),r.write_shift(1,e.v),r}function oee(e){var t=lh(e),r=e.read_shift(1);return[t,r,"e"]}function cee(e,t,r){return r==null&&(r=Ze(8)),oh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function uee(e){var t=Ho(e),r=e.read_shift(4);return[t,r,"s"]}function fee(e,t,r){return r==null&&(r=Ze(12)),sh(t,r),r.write_shift(4,t.v),r}function dee(e){var t=lh(e),r=e.read_shift(4);return[t,r,"s"]}function hee(e,t,r){return r==null&&(r=Ze(8)),oh(t,r),r.write_shift(4,t.v),r}function mee(e){var t=Ho(e),r=Ns(e);return[t,r,"n"]}function pee(e,t,r){return r==null&&(r=Ze(16)),sh(t,r),H0(e.v,r),r}function FF(e){var t=lh(e),r=Ns(e);return[t,r,"n"]}function xee(e,t,r){return r==null&&(r=Ze(12)),oh(t,r),H0(e.v,r),r}function gee(e){var t=Ho(e),r=e3(e);return[t,r,"n"]}function vee(e,t,r){return r==null&&(r=Ze(12)),sh(t,r),TP(e.v,r),r}function yee(e){var t=lh(e),r=e3(e);return[t,r,"n"]}function bee(e,t,r){return r==null&&(r=Ze(8)),oh(t,r),TP(e.v,r),r}function wee(e){var t=Ho(e),r=QN(e);return[t,r,"is"]}function _ee(e){var t=Ho(e),r=Ss(e);return[t,r,"str"]}function Nee(e,t,r){return r==null&&(r=Ze(12+4*e.v.length)),sh(t,r),Ii(e.v,r),r.length>r.l?r.slice(0,r.l):r}function See(e){var t=lh(e),r=Ss(e);return[t,r,"str"]}function jee(e,t,r){return r==null&&(r=Ze(8+4*e.v.length)),oh(t,r),Ii(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Aee(e,t,r){var n=e.l+t,a=Ho(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=l2(e,n-e.l,r);s[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return s}function Eee(e,t,r){var n=e.l+t,a=Ho(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=l2(e,n-e.l,r);s[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return s}function kee(e,t,r){var n=e.l+t,a=Ho(e);a.r=r["!row"];var i=Ns(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=l2(e,n-e.l,r);s[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return s}function Cee(e,t,r){var n=e.l+t,a=Ho(e);a.r=r["!row"];var i=Ss(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=l2(e,n-e.l,r);s[3]=bs(o,null,a,r.supbooks,r)}else e.l=n;return s}var Tee=ch,Oee=Zm;function Dee(e,t){return t==null&&(t=Ze(4)),t.write_shift(4,e),t}function Pee(e,t){var r=e.l+t,n=ch(e),a=ZN(e),i=Ss(e),s=Ss(e),o=Ss(e);e.l=r;var u={rfx:n,relId:a,loc:i,display:o};return s&&(u.Tooltip=s),u}function Fee(e,t){var r=Ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Zm({s:_a(e[0]),e:_a(e[0])},r),JN("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ii(a||"",r),Ii(e[1].Tooltip||"",r),Ii("",r),r.slice(0,r.l)}function Lee(){}function Mee(e,t,r){var n=e.l+t,a=OP(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=sJ(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Ree(e,t,r){var n=e.l+t,a=ch(e),i=[a];if(r.cellFormula){var s=oJ(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function Iee(e,t,r){r==null&&(r=Ze(18));var n=o2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var LF=["left","right","top","bottom","header","footer"];function Bee(e){var t={};return LF.forEach(function(r){t[r]=Ns(e)}),t}function Uee(e,t){return t==null&&(t=Ze(48)),D0(e),LF.forEach(function(r){H0(e[r],t)}),t}function zee(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function qee(e,t,r){r==null&&(r=Ze(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function $ee(e){var t=Ze(24);return t.write_shift(4,4),t.write_shift(4,1),Zm(e,t),t}function Hee(e,t){return t==null&&(t=Ze(66)),t.write_shift(2,e.password?s3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Vee(){}function Wee(){}function Gee(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var u=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,x,b,y,w,_,E,A,T,O,R=[];o.biff=12,o["!row"]=0;var D=0,M=!1,B=[],G={},I=o.supbooks||a.supbooks||[[]];if(I.sharedf=G,I.arrayf=B,I.SheetNames=a.SheetNames||a.Sheets.map(function(ve){return ve.name}),!o.supbooks&&(o.supbooks=I,a.Names))for(var z=0;z<a.Names.length;++z)I[0][z+1]=a.Names[z];var K=[],J=[],pe=!1;Hx[16]={n:"BrtShortReal",f:FF};var ne;if(bf(e,function(ue,je,te){if(!g)switch(te){case 148:f=ue;break;case 0:x=ue,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),T=Ga(w=x.r),o["!row"]=x.r,(ue.hidden||ue.hpt||ue.level!=null)&&(ue.hpt&&(ue.hpx=Lm(ue.hpt)),J[ue.r]=ue);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:ue[2]},ue[2]){case"n":b.v=ue[1];break;case"s":A=yx[ue[1]],b.v=A.t,b.r=A.r;break;case"b":b.v=!!ue[1];break;case"e":b.v=ue[1],o.cellText!==!1&&(b.w=wf[b.v]);break;case"str":b.t="s",b.v=ue[1];break;case"is":b.t="s",b.v=ue[1].t;break}if((y=s.CellXf[ue[0].iStyleRef])&&OF(b,y.numFmtId,null,o,i,s),_=ue[0].c==-1?_+1:ue[0].c,o.dense?(u[w]||(u[w]=[]),u[w][_]=b):u[wa(_)+T]=b,o.cellFormula){for(M=!1,D=0;D<B.length;++D){var P=B[D];x.r>=P[0].s.r&&x.r<=P[0].e.r&&_>=P[0].s.c&&_<=P[0].e.c&&(b.F=_r(P[0]),M=!0)}!M&&ue.length>3&&(b.f=ue[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>_&&(h.s.c=_),h.e.r<x.r&&(h.e.r=x.r),h.e.c<_&&(h.e.c=_),o.cellDates&&y&&b.t=="n"&&Ym(cr[y.numFmtId])){var L=j0(b.v);L&&(b.t="d",b.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;b={t:"z",v:void 0},_=ue[0].c==-1?_+1:ue[0].c,o.dense?(u[w]||(u[w]=[]),u[w][_]=b):u[wa(_)+T]=b,h.s.r>x.r&&(h.s.r=x.r),h.s.c>_&&(h.s.c=_),h.e.r<x.r&&(h.e.r=x.r),h.e.c<_&&(h.e.c=_),ne&&(ne.type=="XLDAPR"&&(b.D=!0),ne=void 0);break;case 176:R.push(ue);break;case 49:ne=((o.xlmeta||{}).Cell||[])[ue-1];break;case 494:var q=n["!id"][ue.relId];for(q?(ue.Target=q.Target,ue.loc&&(ue.Target+="#"+ue.loc),ue.Rel=q):ue.relId==""&&(ue.Target="#"+ue.loc),w=ue.rfx.s.r;w<=ue.rfx.e.r;++w)for(_=ue.rfx.s.c;_<=ue.rfx.e.c;++_)o.dense?(u[w]||(u[w]=[]),u[w][_]||(u[w][_]={t:"z",v:void 0}),u[w][_].l=ue):(E=ur({c:_,r:w}),u[E]||(u[E]={t:"z",v:void 0}),u[E].l=ue);break;case 426:if(!o.cellFormula)break;B.push(ue),O=o.dense?u[w][_]:u[wa(_)+T],O.f=bs(ue[1],h,{r:x.r,c:_},I,o),O.F=_r(ue[0]);break;case 427:if(!o.cellFormula)break;G[ur(ue[0].s)]=ue[1],O=o.dense?u[w][_]:u[wa(_)+T],O.f=bs(ue[1],h,{r:x.r,c:_},I,o);break;case 60:if(!o.cellStyles)break;for(;ue.e>=ue.s;)K[ue.e--]={width:ue.w/256,hidden:!!(ue.flags&1),level:ue.level},pe||(pe=!0,l3(ue.w/256)),Sd(K[ue.e+1]);break;case 161:u["!autofilter"]={ref:_r(ue)};break;case 476:u["!margins"]=ue;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),ue.name&&(a.Sheets[r].CodeName=ue.name),(ue.above||ue.left)&&(u["!outline"]={above:ue.above,left:ue.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ue.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!je.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+te.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(u["!ref"]=_r(f||h)),o.sheetRows&&u["!ref"]){var le=Zr(u["!ref"]);o.sheetRows<=+le.e.r&&(le.e.r=o.sheetRows-1,le.e.r>h.e.r&&(le.e.r=h.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>h.e.c&&(le.e.c=h.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),u["!fullref"]=u["!ref"],u["!ref"]=_r(le))}return R.length>0&&(u["!merges"]=R),K.length>0&&(u["!cols"]=K),J.length>0&&(u["!rows"]=J),u}function Kee(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Jn(t),t.z=t.z||cr[14],t.v=wi(Zn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var u={r,c:n};switch(u.s=Md(a.cellXfs,t,a),t.l&&i["!links"].push([ur(u),t.l]),t.c&&i["!comments"].push([ur(u),t.c]),t.t){case"s":case"str":return a.bookSST?(o=d3(a.Strings,t.v,a.revStrings),u.t="s",u.v=o,s?ct(e,18,hee(t,u)):ct(e,7,fee(t,u))):(u.t="str",s?ct(e,17,jee(t,u)):ct(e,6,Nee(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?ct(e,13,bee(t,u)):ct(e,2,vee(t,u)):s?ct(e,16,xee(t,u)):ct(e,5,pee(t,u)),!0;case"b":return u.t="b",s?ct(e,15,iee(t,u)):ct(e,4,nee(t,u)),!0;case"e":return u.t="e",s?ct(e,14,cee(t,u)):ct(e,3,lee(t,u)),!0}return s?ct(e,12,tee(t,u)):ct(e,1,JJ(t,u)),!0}function Yee(e,t,r,n){var a=Zr(t["!ref"]||"A1"),i,s="",o=[];ct(e,145);var u=Array.isArray(t),f=a.e.r;t["!rows"]&&(f=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=f;++h){s=Ga(h),WJ(e,t,a,h);var p=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(o[g]=wa(g)),i=o[g]+s;var x=u?(t[h]||[])[g]:t[i];if(!x){p=!1;continue}p=Kee(e,x,h,g,n,t,p)}}ct(e,146)}function Xee(e,t){!t||!t["!merges"]||(ct(e,177,Dee(t["!merges"].length)),t["!merges"].forEach(function(r){ct(e,176,Oee(r))}),ct(e,178))}function Qee(e,t){!t||!t["!cols"]||(ct(e,390),t["!cols"].forEach(function(r,n){r&&ct(e,60,Iee(n,r))}),ct(e,391))}function Zee(e,t){!t||!t["!ref"]||(ct(e,648),ct(e,649,$ee(Zr(t["!ref"]))),ct(e,650))}function Jee(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=bn(r,-1,n[1].Target.replace(/#.*$/,""),Or.HLINK);ct(e,494,Fee(n,a))}}),delete t["!links"]}function ete(e,t,r,n){if(t["!comments"].length>0){var a=bn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Or.VML);ct(e,551,JN("rId"+a)),t["!legacy"]=a}}function tte(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:_r(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=El(i);o.s.r==o.e.r&&(o.e.r=El(t["!ref"]).e.r,i=_r(o));for(var u=0;u<s.length;++u){var f=s[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ct(e,161,Zm(Zr(i))),ct(e,162)}}function rte(e,t,r){ct(e,133),ct(e,137,qee(t,r)),ct(e,138),ct(e,134)}function nte(e,t){t["!protect"]&&ct(e,535,Hee(t["!protect"]))}function ate(e,t,r,n){var a=jl(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var u=Zr(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ct(a,129),(r.vbaraw||s["!outline"])&&ct(a,147,QJ(o,s["!outline"])),ct(a,148,KJ(u)),rte(a,s,r.Workbook),Qee(a,s),Yee(a,s,e,t),nte(a,s),tte(a,s,r,e),Xee(a,s),Jee(a,s,n),s["!margins"]&&ct(a,476,Uee(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Zee(a,s),ete(a,s,e,n),ct(a,130),a.end()}function ite(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Xr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function ste(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,u=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=ite(p);h.s.r=h.s.c=0,h.e.c=o,f=wa(o),g[0].forEach(function(x,b){s[f+Ga(b)]={t:"n",v:x,z:g[1]},u=b}),h.e.r<u&&(h.e.r=u),++o}),o>0&&(s["!ref"]=_r(h)),s}function lte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(DF);return o&&h3(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function ote(e,t){e.l+=10;var r=Ss(e);return{name:r}}function cte(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return bf(e,function(u,f,h){switch(h){case 550:i["!rel"]=u;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),u.name&&(a.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var m3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ute=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],fte=[],dte=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function bk(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Xn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function wk(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Xn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function MF(e){wk(e.WBProps,m3),wk(e.CalcPr,dte),bk(e.WBView,ute),bk(e.Sheets,fte),jm.date1904=Xn(e.WBProps.date1904)}function hte(e){return!e.Workbook||!e.Workbook.WBProps?"false":Xn(e.Workbook.WBProps.date1904)?"true":"false"}var mte="][*?/\\".split("");function RF(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return mte.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function pte(e,t,r){e.forEach(function(n,a){RF(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function xte(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];pte(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)hJ(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var gte=/<\w+:workbook/;function vte(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Cs,function(u,f){var h=dr(u);switch(du(h[0])){case"<?xml":break;case"<workbook":u.match(gte)&&(a="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=h[a];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":m3.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=Xn(h[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:r.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(r.WBProps.CodeName=Dn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Xr(Dn(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Dn(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),Xn(h.hidden||"0")&&(i.Hidden=!0),s=f+u.length;break;case"</definedName>":i.Ref=Xr(Dn(e.slice(s,f))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),ih.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return MF(r),r}function IF(e){var t=[Ka];t[t.length]=gt("workbook",null,{xmlns:ih[0],"xmlns:r":yi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(m3.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=gt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:Nn(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=gt("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=gt("definedName",Nn(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function yte(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Y4(e),r.name=Ss(e),r}function bte(e,t){return t||(t=Ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),JN(e.strRelID,t),Ii(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function wte(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ss(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function _te(e,t){t||(t=Ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),CP(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Nte(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Ste(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=eG(e),s=lJ(e,0,r),o=ZN(e);e.l=n;var u={Name:i,Ptg:s};return a<268435455&&(u.Sheet=a),o&&(u.Comment=o),u}function jte(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Hx[16]={n:"BrtFRTArchID$",f:Nte},bf(e,function(u,f,h){switch(h){case 156:s.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=bs(u.Ptg,null,null,s,t),delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,u]):s[0]=[h,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(h),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!f.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),MF(r),r.Names=i,r.supbooks=s,r}function Ate(e,t){ct(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ct(e,156,bte(a))}ct(e,144)}function Ete(e,t){t||(t=Ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ii("SheetJS",t),Ii($v.version,t),Ii($v.version,t),Ii("7262",t),t.length>t.l?t.slice(0,t.l):t}function kte(e,t){t||(t=Ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Cte(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ct(e,135),ct(e,158,kte(a)),ct(e,136))}}function Tte(e,t){var r=jl();return ct(r,131),ct(r,128,Ete()),ct(r,153,_te(e.Workbook&&e.Workbook.WBProps||null)),Cte(r,e),Ate(r,e),ct(r,132),r.end()}function Ote(e,t,r){return t.slice(-4)===".bin"?jte(e,r):vte(e,r)}function Dte(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Gee(e,n,r,a,i,s,o):SJ(e,n,r,a,i,s,o)}function Pte(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?cte(e,n,r,a,i):lte(e,n,r,a,i)}function Fte(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?MQ():RQ()}function Lte(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?FQ():LQ()}function Mte(e,t,r,n){return t.slice(-4)===".bin"?OX(e,r,n):yX(e,r,n)}function Rte(e,t,r){return vF(e,r)}function Ite(e,t,r){return t.slice(-4)===".bin"?IY(e,r):LY(e,r)}function Bte(e,t,r){return t.slice(-4)===".bin"?CQ(e,r):bQ(e,r)}function Ute(e,t,r){return t.slice(-4)===".bin"?gQ(e):pQ(e)}function zte(e,t,r,n){return r.slice(-4)===".bin"?vQ(e,t,r,n):void 0}function qte(e,t,r){return t.slice(-4)===".bin"?dQ(e,t,r):mQ(e,t,r)}function $te(e,t,r){return(t.slice(-4)===".bin"?Tte:IF)(e)}function Hte(e,t,r,n,a){return(t.slice(-4)===".bin"?ate:PF)(e,r,n,a)}function Vte(e,t,r){return(t.slice(-4)===".bin"?zX:xF)(e,r)}function Wte(e,t,r){return(t.slice(-4)===".bin"?zY:oF)(e,r)}function Gte(e,t,r){return(t.slice(-4)===".bin"?TQ:wF)(e)}function Kte(e){return(e.slice(-4)===".bin"?hQ:yF)()}var BF=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,UF=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function pc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(BF),i,s,o,u;if(a)for(u=0;u!=a.length;++u)i=a[u].match(UF),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Yte(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(BF),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(UF),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var wx;function Xte(e,t){var r=wx[e]||Xr(e);return r==="General"?q0(t):Bo(r,t)}function Qte(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Xn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Zn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Xr(t)]=a}function Zte(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||wf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lx(e.v):e.w=q0(e.v):e.w=Xte(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=wx[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Ym(n)){var a=j0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Jte(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=fX[n.Pattern]||n.Pattern)}e[t.ID]=t}function ere(e,t,r,n,a,i,s,o,u,f){var h="General",p=n.StyleID,g={};f=f||{};var x=[],b=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&s&&(p=s.StyleID);i[p]!==void 0&&(i[p].nf&&(h=i[p].nf),i[p].Interior&&x.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Xn(e);break;case"String":n.t="s",n.r=IE(Xr(e)),n.v=e.indexOf("<")>-1?Xr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Zn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Xr(e):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=FP[e],f.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=IE(t||e));break}if(Zte(n,h,f),f.cellFormula!==!1)if(n.Formula){var y=Xr(n.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),n.f=Sm(y,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Sm("RC:RC",a):n.ArrayRange&&(n.F=Sm(n.ArrayRange,a),u.push([Zr(n.F),n.F]))}else for(b=0;b<u.length;++b)a.r>=u[b][0].s.r&&a.r<=u[b][0].e.r&&a.c>=u[b][0].s.c&&a.c<=u[b][0].e.c&&(n.F=u[b][1]);f.cellStyles&&(x.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function tre(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Aw(e,t){var r=t||{};Xm();var n=ox(WN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Dn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Jn(r);return s.type="string",Fm.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(wt){a.indexOf("<"+wt)>=0&&(i=!0)}),i)return Ure(n,r);wx={"General Number":"General","General Date":cr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":cr[15],"Short Date":cr[14],"Long Time":cr[19],"Medium Time":cr[18],"Short Time":cr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:cr[2],Standard:cr[4],Percent:cr[10],Scientific:cr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],f,h={},p=[],g=r.dense?[]:{},x="",b={},y={},w=pc('<Data ss:Type="String">'),_=0,E=0,A=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},O={},R={},D="",M=0,B=[],G={},I={},z=0,K=[],J=[],pe={},ne=[],le,ve=!1,ue=[],je=[],te={},P=0,L=0,q={Sheets:[],WBProps:{date1904:!1}},W={};Ix.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=Ix.exec(n);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?ere(n.slice(_,o.index),D,w,u[u.length-1][0]=="comment"?pe:b,{c:E,r:A},O,ne[E],y,ue,r):(D="",w=pc(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(J.length>0&&(b.c=J),(!r.sheetRows||r.sheetRows>A)&&b.v!==void 0&&(r.dense?(g[A]||(g[A]=[]),g[A][E]=b):g[wa(E)+Ga(A)]=b),b.HRef&&(b.l={Target:Xr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(P=E+(parseInt(b.MergeAcross,10)|0),L=A+(parseInt(b.MergeDown,10)|0),B.push({s:{c:E,r:A},e:{c:P,r:L}})),!r.sheetStubs)b.MergeAcross?E=P+1:++E;else if(b.MergeAcross||b.MergeDown){for(var oe=E;oe<=P;++oe)for(var ce=A;ce<=L;++ce)(oe>E||ce>A)&&(r.dense?(g[ce]||(g[ce]=[]),g[ce][oe]={t:"z"}):g[wa(oe)+Ga(ce)]={t:"z"});E=P+1}else++E;else b=Yte(o[0]),b.Index&&(E=+b.Index-1),E<T.s.c&&(T.s.c=E),E>T.e.c&&(T.e.c=E),o[0].slice(-2)==="/>"&&++E,J=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(A<T.s.r&&(T.s.r=A),A>T.e.r&&(T.e.r=A),o[0].slice(-2)==="/>"&&(y=pc(o[0]),y.Index&&(A=+y.Index-1)),E=0,++A):(y=pc(o[0]),y.Index&&(A=+y.Index-1),te={},(y.AutoFitHeight=="0"||y.Height)&&(te.hpx=parseInt(y.Height,10),te.hpt=$x(te.hpx),je[A]=te),y.Hidden=="1"&&(te.hidden=!0,je[A]=te));break;case"worksheet":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));p.push(x),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(g["!ref"]=_r(T),r.sheetRows&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=_r(T))),B.length&&(g["!merges"]=B),ne.length>0&&(g["!cols"]=ne),je.length>0&&(g["!rows"]=je),h[x]=g}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=E=0,u.push([o[3],!1]),f=pc(o[0]),x=Xr(f.Name),g=r.dense?[]:{},B=[],ue=[],je=[],W={name:x,Hidden:0},q.Sheets.push(W);break;case"table":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),ne=[],ve=!1}break;case"style":o[1]==="/"?Jte(O,R,r):R=pc(o[0]);break;case"numberformat":R.nf=Xr(pc(o[0]).Format||"General"),wx[R.nf]&&(R.nf=wx[R.nf]);for(var ae=0;ae!=392&&cr[ae]!=R.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(cr[ae]==null){nf(R.nf,ae);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(le=pc(o[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!ve&&le.wpx>10){ve=!0,ws=mF;for(var Se=0;Se<ne.length;++Se)ne[Se]&&Sd(ne[Se])}ve&&Sd(le),ne[le.Index-1||ne.length]=le;for(var De=0;De<+le.Span;++De)ne[ne.length]=Jn(le);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var X=dr(o[0]),Ke={Name:X.Name,Ref:Sm(X.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Ke.Sheet=q.Sheets.length-1),q.Names.push(Ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=n.slice(M,o.index):M=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;R.Interior=pc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?jG(G,Z,n.slice(z,o.index)):z=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));tre(pe),J.push(pe)}else u.push([o[3],!1]),f=pc(o[0]),pe={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=pc(o[0]);g["!autofilter"]={ref:Sm(Ce.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=u.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return Ak(n,r);var xe=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(z,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else z=o.index+o[0].length;break;case"header":g["!margins"]||D0(g["!margins"]={},"xlml"),isNaN(+dr(o[0]).Margin)||(g["!margins"].header=+dr(o[0]).Margin);break;case"footer":g["!margins"]||D0(g["!margins"]={},"xlml"),isNaN(+dr(o[0]).Margin)||(g["!margins"].footer=+dr(o[0]).Margin);break;case"pagemargins":var dt=dr(o[0]);g["!margins"]||D0(g["!margins"]={},"xlml"),isNaN(+dt.Top)||(g["!margins"].top=+dt.Top),isNaN(+dt.Left)||(g["!margins"].left=+dt.Left),isNaN(+dt.Right)||(g["!margins"].right=+dt.Right),isNaN(+dt.Bottom)||(g["!margins"].bottom=+dt.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Qte(I,Z,K,n.slice(z,o.index)):(K=o,z=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var Xe={};return!r.bookSheets&&!r.bookProps&&(Xe.Sheets=h),Xe.SheetNames=p,Xe.Workbook=q,Xe.SSF=Jn(cr),Xe.Props=G,Xe.Custprops=I,Xe}function r_(e,t){switch(x3(t=t||{}),t.type||"base64"){case"base64":return Aw(to(e),t);case"binary":case"buffer":case"file":return Aw(e,t);case"array":return Aw(Fd(e),t)}}function rre(e,t){var r=[];return e.Props&&r.push(AG(e.Props,t)),e.Custprops&&r.push(EG(e.Props,e.Custprops)),r.join("")}function nre(){return""}function are(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(gt("NumberFormat",null,{"ss:Format":Nn(cr[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(gt("Style",i.join(""),s))}),gt("Styles",r.join(""))}function zF(e){return gt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+u3(e.Ref,{r:0,c:0})})}function ire(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(zF(a)))}return gt("Names",r.join(""))}function sre(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(zF(o)))}return i.join("")}function lre(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(gt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(gt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(gt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(gt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ns("ProtectContents","True")),e["!protect"].objects&&a.push(ns("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ns("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ns("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ns("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":gt("WorksheetOptions",a.join(""),{xmlns:Gl.x})}function ore(e){return e.map(function(t){var r=CW(t.t||""),n=gt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return gt("Comment",n,{"ss:Author":t.a})}).join("")}function cre(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Nn(u3(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var u=_a(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==s.r?"":"["+(u.r-s.r)+"]")+"C"+(u.c==s.c?"":"["+(u.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Nn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Nn(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=s.c||f[h].s.r!=s.r||(f[h].e.c>f[h].s.c&&(o["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(o["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=wf[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||cr[14]);break;case"s":p="String",g=kW(e.v||"");break}var x=Md(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=s.c+1;var b=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+p+'">'+b+"</Data>";return(e.c||[]).length>0&&(y+=ore(e.c)),gt("Cell",y,o)}function ure(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Lm(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function fre(e,t,r,n){if(!e["!ref"])return"";var a=Zr(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(w,_){Sd(w);var E=!!w.width,A=o2(_,w),T={"ss:Index":_+1};E&&(T["ss:Width"]=zx(A.width)),w.hidden&&(T["ss:Hidden"]="1"),o.push(gt("Column",null,T))});for(var u=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var h=[ure(f,(e["!rows"]||[])[f])],p=a.s.c;p<=a.e.c;++p){var g=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>p)&&!(i[s].s.r>f)&&!(i[s].e.c<p)&&!(i[s].e.r<f)){(i[s].s.c!=p||i[s].s.r!=f)&&(g=!0);break}if(!g){var x={r:f,c:p},b=ur(x),y=u?(e[f]||[])[p]:e[b];h.push(cre(y,b,e,t,r,n,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function dre(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?sre(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?fre(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(lre(i,t,e,r)),n.join("")}function hre(e,t){t||(t={}),e.SSF||(e.SSF=Jn(cr)),e.SSF&&(Xm(),t2(e.SSF),t.revssf=n2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Md(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(rre(e,t)),r.push(nre()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(gt("Worksheet",dre(n,t,e),{"ss:Name":Nn(e.SheetNames[n])}));return r[2]=are(e,t),r[3]=ire(e),Ka+gt("Workbook",r.join(""),{xmlns:Gl.ss,"xmlns:o":Gl.o,"xmlns:x":Gl.x,"xmlns:ss":Gl.ss,"xmlns:dt":Gl.dt,"xmlns:html":Gl.html})}function mre(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=iG(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=sG(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var pre=[60,1084,2066,2165,2175];function xre(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var u=Xu(r,r.l),f=n_[u],h=0;f!=null&&pre.indexOf(u)>-1;)i=Xu(r,r.l+2),h=r.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),o=r.slice(h,r.l+4+i),s.push(o),r.l+=4+i,f=n_[u=Xu(r,r.l)];var p=Ri(s);ts(p,0);var g=0;p.lens=[];for(var x=0;x<s.length;++x)p.lens.push(g),g+=s[x].length;if(p.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,a)}function eu(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=cr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||wf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lx(e.v):e.w=q0(e.v):e.w=Bo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Ym(cr[n]||String(n))){var a=j0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function X1(e,t,r){return{v:e,ixfe:t,t:r}}function gre(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,u=[],f="",h={},p,g="",x,b,y,w,_={},E=[],A,T,O=[],R=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},B=function(xt){return xt<8?C0[xt]:xt<64&&R[xt-8]||C0[xt]},G=function(xt,St,Nr){var Yt=St.XF.data;if(!(!Yt||!Yt.patternType||!Nr||!Nr.cellStyles)){St.s={},St.s.patternType=Yt.patternType;var Nt;(Nt=Ux(B(Yt.icvFore)))&&(St.s.fgColor={rgb:Nt}),(Nt=Ux(B(Yt.icvBack)))&&(St.s.bgColor={rgb:Nt})}},I=function(xt,St,Nr){if(!(te>1)&&!(Nr.sheetRows&&xt.r>=Nr.sheetRows)){if(Nr.cellStyles&&St.XF&&St.XF.data&&G(xt,St,Nr),delete St.ixfe,delete St.XF,p=xt,g=ur(xt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),xt.r<s.s.r&&(s.s.r=xt.r),xt.c<s.s.c&&(s.s.c=xt.c),xt.r+1>s.e.r&&(s.e.r=xt.r+1),xt.c+1>s.e.c&&(s.e.c=xt.c+1),Nr.cellFormula&&St.f){for(var Yt=0;Yt<E.length;++Yt)if(!(E[Yt][0].s.c>xt.c||E[Yt][0].s.r>xt.r)&&!(E[Yt][0].e.c<xt.c||E[Yt][0].e.r<xt.r)){St.F=_r(E[Yt][0]),(E[Yt][0].s.c!=xt.c||E[Yt][0].s.r!=xt.r)&&delete St.f,St.f&&(St.f=""+bs(E[Yt][1],s,xt,ue,z));break}}Nr.dense?(a[xt.r]||(a[xt.r]=[]),a[xt.r][xt.c]=St):a[g]=St}},z={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(z.password=t.password);var K,J=[],pe=[],ne=[],le=[],ve=!1,ue=[];ue.SheetNames=z.snames,ue.sharedf=z.sharedf,ue.arrayf=z.arrayf,ue.names=[],ue.XTI=[];var je=0,te=0,P=0,L=[],q=[],W;z.codepage=1200,yc(1200);for(var Z=!1;e.l<e.length-1;){var oe=e.l,ce=e.read_shift(2);if(ce===0&&je===10)break;var ae=e.l===e.length?0:e.read_shift(2),Se=n_[ce];if(Se&&Se.f){if(t.bookSheets&&je===133&&ce!==133)break;if(je=ce,Se.r===2||Se.r==12){var De=e.read_shift(2);if(ae-=2,!z.enc&&De!==ce&&((De&255)<<8|De>>8)!==ce)throw new Error("rt mismatch: "+De+"!="+ce);Se.r==12&&(e.l+=10,ae-=10)}var X={};if(ce===10?X=Se.f(e,ae,z):X=xre(ce,Se,e,ae,z),te==0&&[9,521,1033,2057].indexOf(je)===-1)continue;switch(ce){case 34:r.opts.Date1904=D.WBProps.date1904=X;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(z.enc||(e.l=0),z.enc=X,!t.password)throw new Error("File is password-protected");if(X.valid==null)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:z.lastuser=X;break;case 66:var Ke=Number(X);switch(Ke){case 21010:Ke=1200;break;case 32768:Ke=1e4;break;case 32769:Ke=1252;break}yc(z.codepage=Ke),Z=!0;break;case 317:z.rrtabid=X;break;case 25:z.winlocked=X;break;case 439:r.opts.RefreshAll=X;break;case 12:r.opts.CalcCount=X;break;case 16:r.opts.CalcDelta=X;break;case 17:r.opts.CalcIter=X;break;case 13:r.opts.CalcMode=X;break;case 14:r.opts.CalcPrecision=X;break;case 95:r.opts.CalcSaveRecalc=X;break;case 15:z.CalcRefMode=X;break;case 2211:r.opts.FullCalc=X;break;case 129:X.fDialog&&(a["!type"]="dialog"),X.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),X.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:O.push(X);break;case 430:ue.push([X]),ue[ue.length-1].XTI=[];break;case 35:case 547:ue[ue.length-1].push(X);break;case 24:case 536:W={Name:X.Name,Ref:bs(X.rgce,s,null,ue,z)},X.itab>0&&(W.Sheet=X.itab-1),ue.names.push(W),ue[0]||(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].push(X),X.Name=="_xlnm._FilterDatabase"&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&X.rgce[0][0][0]=="PtgArea3d"&&(q[X.itab-1]={ref:_r(X.rgce[0][0][1][2])});break;case 22:z.ExternCount=X;break;case 23:ue.length==0&&(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].XTI=ue[ue.length-1].XTI.concat(X),ue.XTI=ue.XTI.concat(X);break;case 2196:if(z.biff<8)break;W!=null&&(W.Comment=X[1]);break;case 18:a["!protect"]=X;break;case 19:X!==0&&z.WTF&&console.error("Password verifier: "+X);break;case 133:i[X.pos]=X,z.snames.push(X.name);break;case 10:{if(--te)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=_r(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=_r(s),s.e.r=Ce}s.e.r++,s.e.c++}J.length>0&&(a["!merges"]=J),pe.length>0&&(a["!objects"]=pe),ne.length>0&&(a["!cols"]=ne),le.length>0&&(a["!rows"]=le),D.Sheets.push(M)}f===""?h=a:n[f]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(z.biff===8&&(z.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),z.biffguess=X.BIFFVer==0,X.BIFFVer==0&&X.dt==4096&&(z.biff=5,Z=!0,yc(z.codepage=28591)),z.biff==8&&X.BIFFVer==0&&X.dt==16&&(z.biff=2),te++)break;if(a=t.dense?[]:{},z.biff<8&&!Z&&(Z=!0,yc(z.codepage=t.codepage||1252)),z.biff<5||X.BIFFVer==0&&X.dt==4096){f===""&&(f="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-ae,name:f};i[xe.pos]=xe,z.snames.push(f)}else f=(i[oe]||{name:""}).name;X.dt==32&&(a["!type"]="chart"),X.dt==64&&(a["!type"]="macro"),J=[],pe=[],z.arrayf=E=[],ne=[],le=[],ve=!1,M={Hidden:(i[oe]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[X.r]||[])[X.c]:a[ur({c:X.c,r:X.r})])&&++X.c,A={ixfe:X.ixfe,XF:O[X.ixfe]||{},v:X.val,t:"n"},P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 5:case 517:A={ixfe:X.ixfe,XF:O[X.ixfe],v:X.val,t:X.t},P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 638:A={ixfe:X.ixfe,XF:O[X.ixfe],v:X.rknum,t:"n"},P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 189:for(var dt=X.c;dt<=X.C;++dt){var Xe=X.rkrec[dt-X.c][0];A={ixfe:Xe,XF:O[Xe],v:X.rkrec[dt-X.c][1],t:"n"},P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:dt,r:X.r},A,t)}break;case 6:case 518:case 1030:{if(X.val=="String"){o=X;break}if(A=X1(X.val,X.cell.ixfe,X.tt),A.XF=O[A.ixfe],t.cellFormula){var wt=X.formula;if(wt&&wt[0]&&wt[0][0]&&wt[0][0][0]=="PtgExp"){var st=wt[0][0][1][0],At=wt[0][0][1][1],pt=ur({r:st,c:At});_[pt]?A.f=""+bs(X.formula,s,X.cell,ue,z):A.F=((t.dense?(a[st]||[])[At]:a[pt])||{}).F}else A.f=""+bs(X.formula,s,X.cell,ue,z)}P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I(X.cell,A,t),o=X}break;case 7:case 519:if(o)o.val=X,A=X1(X,o.cell.ixfe,"s"),A.XF=O[A.ixfe],t.cellFormula&&(A.f=""+bs(o.formula,s,o.cell,ue,z)),P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I(o.cell,A,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(X);var Qt=ur(X[0].s);if(x=t.dense?(a[X[0].s.r]||[])[X[0].s.c]:a[Qt],t.cellFormula&&x){if(!o||!Qt||!x)break;x.f=""+bs(X[1],s,X[0],ue,z),x.F=_r(X[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;_[ur(o.cell)]=X[0],x=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[ur(o.cell)],(x||{}).f=""+bs(X[0],s,p,ue,z)}}break;case 253:A=X1(u[X.isst].t,X.ixfe,"s"),u[X.isst].h&&(A.h=u[X.isst].h),A.XF=O[A.ixfe],P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 513:t.sheetStubs&&(A={ixfe:X.ixfe,XF:O[X.ixfe],t:"z"},P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t));break;case 190:if(t.sheetStubs)for(var Pt=X.c;Pt<=X.C;++Pt){var $t=X.ixfe[Pt-X.c];A={ixfe:$t,XF:O[$t],t:"z"},P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:Pt,r:X.r},A,t)}break;case 214:case 516:case 4:A=X1(X.val,X.ixfe,"s"),A.XF=O[A.ixfe],P>0&&(A.z=L[A.ixfe>>8&63]),eu(A,t,r.opts.Date1904),I({c:X.c,r:X.r},A,t);break;case 0:case 512:te===1&&(s=X);break;case 252:u=X;break;case 1054:if(z.biff==4){L[P++]=X[1];for(var Zt=0;Zt<P+163&&cr[Zt]!=X[1];++Zt);Zt>=163&&nf(X[1],P+163)}else nf(X[1],X[0]);break;case 30:{L[P++]=X;for(var Jt=0;Jt<P+163&&cr[Jt]!=X;++Jt);Jt>=163&&nf(X,P+163)}break;case 229:J=J.concat(X);break;case 93:pe[X.cmo[0]]=z.lastobj=X;break;case 438:z.lastobj.TxO=X;break;case 127:z.lastobj.ImData=X;break;case 440:for(w=X[0].s.r;w<=X[0].e.r;++w)for(y=X[0].s.c;y<=X[0].e.c;++y)x=t.dense?(a[w]||[])[y]:a[ur({c:y,r:w})],x&&(x.l=X[1]);break;case 2048:for(w=X[0].s.r;w<=X[0].e.r;++w)for(y=X[0].s.c;y<=X[0].e.c;++y)x=t.dense?(a[w]||[])[y]:a[ur({c:y,r:w})],x&&x.l&&(x.l.Tooltip=X[1]);break;case 28:{if(z.biff<=5&&z.biff>=2)break;x=t.dense?(a[X[0].r]||[])[X[0].c]:a[ur(X[0])];var Dr=pe[X[2]];x||(t.dense?(a[X[0].r]||(a[X[0].r]=[]),x=a[X[0].r][X[0].c]={t:"z"}):x=a[ur(X[0])]={t:"z"},s.e.r=Math.max(s.e.r,X[0].r),s.s.r=Math.min(s.s.r,X[0].r),s.e.c=Math.max(s.e.c,X[0].c),s.s.c=Math.min(s.s.c,X[0].c)),x.c||(x.c=[]),b={a:X[1],t:Dr.TxO.t},x.c.push(b)}break;case 2173:aQ(O[X.ixfe],X.ext);break;case 125:{if(!z.cellStyles)break;for(;X.e>=X.s;)ne[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(X.flags&1)},ve||(ve=!0,l3(X.w/256)),Sd(ne[X.e+1])}break;case 520:{var It={};X.level!=null&&(le[X.r]=It,It.level=X.level),X.hidden&&(le[X.r]=It,It.hidden=!0),X.hpt&&(le[X.r]=It,It.hpt=X.hpt,It.hpx=Lm(X.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||D0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=X;break;case 161:a["!margins"]||D0(a["!margins"]={}),a["!margins"].header=X.header,a["!margins"].footer=X.footer;break;case 574:X.RTL&&(D.Views[0].RTL=!0);break;case 146:R=X;break;case 2198:K=X;break;case 140:T=X;break;case 442:f?M.CodeName=X||M.name:D.WBProps.CodeName=X||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=ae}return r.SheetNames=Ra(i).sort(function(Ct,xt){return Number(Ct)-Number(xt)}).map(function(Ct){return i[Ct].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&q.forEach(function(Ct,xt){r.Sheets[r.SheetNames[xt]]["!autofilter"]=Ct}),r.Strings=u,r.SSF=Jn(cr),z.enc&&(r.Encryption=z.enc),K&&(r.Themes=K),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),ue.names.length>0&&(D.Names=ue.names),r.Workbook=D,r}var _x={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function vre(e,t,r){var n=nr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=rk(n,X4,_x.DSI);for(var i in a)t[i]=a[i]}catch(f){if(r.WTF)throw f}var s=nr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=rk(s,Q4,_x.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(f){if(r.WTF)throw f}t.HeadingPairs&&t.TitlesOfParts&&(UP(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function yre(e,t){var r=[],n=[],a=[],i=0,s,o=DE(X4,"n"),u=DE(Q4,"n");if(e.Props)for(s=Ra(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(u,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Ra(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(u,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var f=[];for(i=0;i<a.length;++i)GP.indexOf(a[i][0])>-1||BP.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);n.length&&nr.utils.cfb_add(t,"/SummaryInformation",nk(n,_x.SI,u,Q4)),(r.length||f.length)&&nr.utils.cfb_add(t,"/DocumentSummaryInformation",nk(r,_x.DSI,o,X4,f.length?f:null,_x.UDI))}function qF(e,t){t||(t={}),x3(t),RN(),t.codepage&&MN(t.codepage);var r,n;if(e.FullPaths){if(nr.find(e,"/encryption"))throw new Error("File is password-protected");r=nr.find(e,"!CompObj"),n=nr.find(e,"/Workbook")||nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Xl(to(e));break;case"binary":e=Xl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ts(e,0),n={content:e}}var a,i;if(r&&mre(r),t.bookProps&&!t.bookSheets)a={};else{var s=Cr?"buffer":"array";if(n&&n.content)a=gre(n.content,t);else if((i=nr.find(e,"PerfectOffice_MAIN"))&&i.content)a=O0.to_workbook(i.content,(t.type=s,t));else if((i=nr.find(e,"NativeContent_MAIN"))&&i.content)a=O0.to_workbook(i.content,(t.type=s,t));else throw(i=nr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=DQ(e))}var o={};return e.FullPaths&&vre(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function bre(e,t){var r=t||{},n=nr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nr.utils.cfb_add(n,a,$F(e,r)),r.biff==8&&(e.Props||e.Custprops)&&yre(e,n),r.biff==8&&e.vbaraw&&PQ(n,nr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Hx={0:{f:HJ},1:{f:ZJ},2:{f:gee},3:{f:see},4:{f:ree},5:{f:mee},6:{f:_ee},7:{f:uee},8:{f:Cee},9:{f:kee},10:{f:Aee},11:{f:Eee},12:{f:eee},13:{f:yee},14:{f:oee},15:{f:aee},16:{f:FF},17:{f:See},18:{f:dee},19:{f:QN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ste},40:{},42:{},43:{f:_X},44:{f:bX},45:{f:jX},46:{f:EX},47:{f:AX},48:{},49:{f:GW},50:{},51:{f:lQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:aF},62:{f:wee},63:{f:xQ},64:{f:Vee},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Es,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zee},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:XJ},148:{f:GJ,p:16},151:{f:Lee},152:{},153:{f:wte},154:{},155:{},156:{f:yte},157:{},158:{},159:{T:1,f:RY},160:{T:-1},161:{T:1,f:ch},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Tee},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:iQ},336:{T:-1},337:{f:uQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Y4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:nF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Mee},427:{f:Ree},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Bee},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:YJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Pee},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Y4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EQ},633:{T:1},634:{T:-1},635:{T:1,f:jQ},636:{T:-1},637:{f:QW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ote},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Wee},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},n_={6:{f:Sw},10:{f:cd},12:{f:ri},13:{f:ri},14:{f:qa},15:{f:qa},16:{f:Ns},17:{f:qa},18:{f:qa},19:{f:ri},20:{f:ck},21:{f:ck},23:{f:nF},24:{f:fk},25:{f:qa},26:{},27:{},28:{f:WK},29:{},34:{f:qa},35:{f:uk},38:{f:Ns},39:{f:Ns},40:{f:Ns},41:{f:Ns},42:{f:qa},43:{f:qa},47:{f:aX},49:{f:yK},51:{f:ri},60:{},61:{f:mK},64:{f:qa},65:{f:vK},66:{f:ri},77:{},80:{},81:{},82:{},85:{f:ri},89:{},90:{},91:{},92:{f:nK},93:{f:YK},94:{},95:{f:qa},96:{},97:{},99:{f:qa},125:{f:aF},128:{f:FK},129:{f:iK},130:{f:ri},131:{f:qa},132:{f:qa},133:{f:sK},134:{},140:{f:nY},141:{f:ri},144:{},146:{f:sY},151:{},152:{},153:{},154:{},155:{},156:{f:ri},157:{},158:{},160:{f:hY},161:{f:cY},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:TK},190:{f:OK},193:{f:cd},197:{},198:{},199:{},200:{},201:{},202:{f:qa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ri},220:{},221:{f:qa},222:{},224:{f:PK},225:{f:rK},226:{f:cd},227:{},229:{f:GK},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:oK},253:{f:wK},255:{f:uK},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:KP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:qa},353:{f:cd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:BK},431:{f:qa},432:{},433:{},434:{},437:{},438:{f:ZK},439:{f:qa},440:{f:JK},441:{},442:{f:gg},443:{},444:{f:ri},445:{},446:{},448:{f:cd},449:{f:hK,r:2},450:{f:cd},512:{f:sk},513:{f:dY},515:{f:RK},516:{f:NK},517:{f:ok},519:{f:mY},520:{f:fK},523:{},545:{f:dk},549:{f:ik},566:{},574:{f:xK},638:{f:CK},659:{},1048:{},1054:{f:jK},1084:{},1212:{f:$K},2048:{f:tY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:G1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:cd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:lY,r:12},2173:{f:nQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:qa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:qK,r:12},2197:{},2198:{f:QX,r:12},2199:{},2200:{},2201:{},2202:{f:HK,r:12},2203:{f:cd},2204:{},2205:{},2206:{},2207:{},2211:{f:dK},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ri},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:uY},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:iY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:sk},1:{},2:{f:yY},3:{f:gY},4:{f:xY},5:{f:ok},7:{f:wY},8:{},9:{f:G1},11:{},22:{f:ri},30:{f:EK},31:{},32:{},33:{f:dk},36:{},37:{f:ik},50:{f:_Y},62:{},52:{},67:{},68:{f:ri},69:{},86:{},126:{},127:{f:pY},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:NY},223:{},234:{},354:{},421:{},518:{f:Sw},521:{f:G1},536:{f:fk},547:{f:uk},561:{},579:{},1030:{f:Sw},1033:{f:G1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function yt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&KN(r)&&e.push(r)}}function wre(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return yt(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,u=0,f=0;f+(s[o]||8224)<=8224;)f+=s[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f;u<a;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(s[o]||8224)<=8224;)f+=s[o]||8224,o++;h.write_shift(2,f),e.push(r.slice(u,u+f)),u+=f}}}function wg(e,t,r){return e||(e=Ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function _re(e,t,r,n){var a=Ze(9);return wg(a,e,t),YP(r,n||"b",a),a}function Nre(e,t,r){var n=Ze(8+2*r.length);return wg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Sre(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?wi(Zn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?yt(e,2,bY(r,n,a)):yt(e,3,vY(r,n,a));return;case"b":case"e":yt(e,5,_re(r,n,t.v,t.t));return;case"s":case"str":yt(e,4,Nre(r,n,(t.v||"").slice(0,255)));return}yt(e,1,wg(null,r,n))}function jre(e,t,r,n){var a=Array.isArray(t),i=Zr(t["!ref"]||"A1"),s,o="",u=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=_r(i)}for(var f=i.s.r;f<=i.e.r;++f){o=Ga(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(u[h]=wa(h)),s=u[h]+o;var p=a?(t[f]||[])[h]:t[s];p&&Sre(e,p,f,h)}}}function Are(e,t){for(var r=t||{},n=jl(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return yt(n,r.biff==4?1033:r.biff==3?521:9,a3(e,16,r)),jre(n,e.Sheets[e.SheetNames[a]],a,r),yt(n,10),n.end()}function Ere(e,t,r){yt(e,49,bK({sz:12,name:"Arial"},r))}function kre(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&yt(e,1054,AK(a,t[a],r))})}function Cre(e,t){var r=Ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),yt(e,2151,r),r=Ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),eF(Zr(t["!ref"]||"A1"),r),r.write_shift(4,4),yt(e,2152,r)}function Tre(e,t){for(var r=0;r<16;++r)yt(e,224,lk({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){yt(e,224,lk(n,0,t))})}function Ore(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];yt(e,440,eY(n)),n[1].Tooltip&&yt(e,2048,rY(n))}delete t["!links"]}function Dre(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&yt(e,125,oY(o2(a,n),a))})}}function Pre(e,t,r,n,a){var i=16+Md(a.cellXfs,t,a);if(t.v==null&&!t.bf){yt(e,513,W0(r,n,i));return}if(t.bf)yt(e,6,iJ(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?wi(Zn(t.v)):t.v;yt(e,515,IK(r,n,s,i));break;case"b":case"e":yt(e,517,MK(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=d3(a.Strings,t.v,a.revStrings);yt(e,253,_K(r,n,o,i))}else yt(e,516,SK(r,n,(t.v||"").slice(0,255),i,a));break;default:yt(e,513,W0(r,n,i))}}function Fre(e,t,r){var n=jl(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},u=Array.isArray(i),f=t.biff==8,h,p="",g=[],x=Zr(i["!ref"]||"A1"),b=f?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}yt(n,2057,a3(r,16,t)),yt(n,13,Po(1)),yt(n,12,Po(100)),yt(n,15,$s(!0)),yt(n,17,$s(!1)),yt(n,16,H0(.001)),yt(n,95,$s(!0)),yt(n,42,$s(!1)),yt(n,43,$s(!1)),yt(n,130,Po(1)),yt(n,128,LK()),yt(n,131,$s(!1)),yt(n,132,$s(!1)),f&&Dre(n,i["!cols"]),yt(n,512,kK(x,t)),f&&(i["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){p=Ga(y);for(var w=x.s.c;w<=x.e.c;++w){y===x.s.r&&(g[w]=wa(w)),h=g[w]+p;var _=u?(i[y]||[])[w]:i[h];_&&(Pre(n,_,y,w,t),f&&_.l&&i["!links"].push([h,_.l]))}}var E=o.CodeName||o.name||a;return f&&yt(n,574,gK((s.Views||[])[0])),f&&(i["!merges"]||[]).length&&yt(n,229,KK(i["!merges"])),f&&Ore(n,i),yt(n,442,XP(E)),f&&Cre(n,i),yt(n,10),n.end()}function Lre(e,t,r){var n=jl(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,u=r.biff==5;if(yt(n,2057,a3(e,5,r)),r.bookType=="xla"&&yt(n,135),yt(n,225,o?Po(1200):null),yt(n,193,MG(2)),u&&yt(n,191),u&&yt(n,192),yt(n,226),yt(n,92,aK("SheetJS",r)),yt(n,66,Po(o?1200:1252)),o&&yt(n,353,Po(0)),o&&yt(n,448),yt(n,317,fY(e.SheetNames.length)),o&&e.vbaraw&&yt(n,211),o&&e.vbaraw){var f=s.CodeName||"ThisWorkbook";yt(n,442,XP(f))}yt(n,156,Po(17)),yt(n,25,$s(!1)),yt(n,18,$s(!1)),yt(n,19,Po(0)),o&&yt(n,431,$s(!1)),o&&yt(n,444,Po(0)),yt(n,61,pK()),yt(n,64,$s(!1)),yt(n,141,Po(0)),yt(n,34,$s(hte(e)=="true")),yt(n,14,$s(!0)),o&&yt(n,439,$s(!1)),yt(n,218,Po(0)),Ere(n,e,r),kre(n,e.SSF,r),Tre(n,r),o&&yt(n,352,$s(!1));var h=n.end(),p=jl();o&&yt(p,140,aY()),o&&r.Strings&&wre(p,252,cK(r.Strings)),yt(p,10);var g=p.end(),x=jl(),b=0,y=0;for(y=0;y<e.SheetNames.length;++y)b+=(o?12:11)+(o?2:1)*e.SheetNames[y].length;var w=h.length+b+g.length;for(y=0;y<e.SheetNames.length;++y){var _=i[y]||{};yt(x,133,lK({pos:w,hs:_.Hidden||0,dt:0,name:e.SheetNames[y]},r)),w+=t[y].length}var E=x.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var A=[];return h.length&&A.push(h),E.length&&A.push(E),g.length&&A.push(g),Ri(A)}function Mre(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Jn(cr)),e&&e.SSF&&(Xm(),t2(e.SSF),r.revssf=n2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,g3(r),r.cellXfs=[],Md(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Fre(a,r,e);return n.unshift(Lre(e,n,r)),Ri(n)}function $F(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=El(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Mre(e,t);case 4:case 3:case 2:return Are(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function _k(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,u=bW(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,p=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(s=0;s<u.length;++s){var y=u[s].trim(),w=y.slice(0,3).toLowerCase();if(w=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}h=0;continue}if(!(w!="<td"&&w!="<th")){var _=y.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var E=_[o].trim();if(E.match(/<t[dh]/i)){for(var A=E,T=0;A.charAt(0)=="<"&&(T=A.indexOf(">"))>-1;)A=A.slice(T+1);for(var O=0;O<b.length;++O){var R=b[O];R.s.c==h&&R.s.r<f&&f<=R.e.r&&(h=R.e.c+1,O=-1)}var D=dr(E.slice(0,E.indexOf(">")));g=D.colspan?+D.colspan:1,((p=+D.rowspan)>1||g>1)&&b.push({s:{r:f,c:h},e:{r:f+(p||1)-1,c:h+g-1}});var M=D.t||D["data-t"]||"";if(!A.length){h+=g;continue}if(A=hP(A),x.s.r>f&&(x.s.r=f),x.e.r<f&&(x.e.r=f),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!A.length){h+=g;continue}var B={t:"s",v:A};r.raw||!A.trim().length||M=="s"||(A==="TRUE"?B={t:"b",v:!0}:A==="FALSE"?B={t:"b",v:!1}:isNaN(_c(A))?isNaN(Pm(A).getDate())||(B={t:"d",v:Zn(A)},r.cellDates||(B={t:"n",v:wi(B.v)}),B.z=r.dateNF||cr[14]):B={t:"n",v:_c(A)}),r.dense?(n[f]||(n[f]=[]),n[f][h]=B):n[ur({r:f,c:h})]=B,h+=g}}}}return n["!ref"]=_r(x),b.length&&(n["!merges"]=b),n}function Rre(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,u=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>s)&&!(a[f].e.r<r||a[f].e.c<s)){if(a[f].s.r<r||a[f].s.c<s){o=-1;break}o=a[f].e.r-a[f].s.r+1,u=a[f].e.c-a[f].s.c+1;break}if(!(o<0)){var h=ur({r,c:s}),p=n.dense?(e[r]||[])[s]:e[h],g=p&&p.v!=null&&(p.h||VN(p.w||(ff(p),p.w)||""))||"",x={};o>1&&(x.rowspan=o),u>1&&(x.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+h,i.push(gt("td",g,x))}}var b="<tr>";return b+i.join("")+"</tr>"}var Ire='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Bre="</body></html>";function Ure(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ld(_k(r[0],t),t);var n=b3();return r.forEach(function(a,i){w3(n,_k(a,t),"Sheet"+(i+1))}),n}function zre(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function HF(e,t){var r=t||{},n=r.header!=null?r.header:Ire,a=r.footer!=null?r.footer:Bre,i=[n],s=El(e["!ref"]);r.dense=Array.isArray(e),i.push(zre(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(Rre(e,s,o,r));return i.push("</table>"+a),i.join("")}function VF(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?_a(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),u=Math.min(n.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=El(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),a==-1&&(f.e.r=a=h.e.r+1)}var p=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,y=0,w=0,_=0,E=0,A=0;for(e["!cols"]||(e["!cols"]=[]);b<o.length&&y<u;++b){var T=o[b];if(Nk(T)){if(n.display)continue;x[y]={hidden:!0}}var O=T.children;for(w=_=0;w<O.length;++w){var R=O[w];if(!(n.display&&Nk(R))){var D=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):hP(R.innerHTML),M=R.getAttribute("data-z")||R.getAttribute("z");for(g=0;g<p.length;++g){var B=p[g];B.s.c==_+i&&B.s.r<y+a&&y+a<=B.e.r&&(_=B.e.c+1-i,g=-1)}A=+R.getAttribute("colspan")||1,((E=+R.getAttribute("rowspan")||1)>1||A>1)&&p.push({s:{r:y+a,c:_+i},e:{r:y+a+(E||1)-1,c:_+i+(A||1)-1}});var G={t:"s",v:D},I=R.getAttribute("data-t")||R.getAttribute("t")||"";D!=null&&(D.length==0?G.t=I||"z":n.raw||D.trim().length==0||I=="s"||(D==="TRUE"?G={t:"b",v:!0}:D==="FALSE"?G={t:"b",v:!1}:isNaN(_c(D))?isNaN(Pm(D).getDate())||(G={t:"d",v:Zn(D)},n.cellDates||(G={t:"n",v:wi(G.v)}),G.z=n.dateNF||cr[14]):G={t:"n",v:_c(D)})),G.z===void 0&&M!=null&&(G.z=M);var z="",K=R.getElementsByTagName("A");if(K&&K.length)for(var J=0;J<K.length&&!(K[J].hasAttribute("href")&&(z=K[J].getAttribute("href"),z.charAt(0)!="#"));++J);z&&z.charAt(0)!="#"&&(G.l={Target:z}),n.dense?(e[y+a]||(e[y+a]=[]),e[y+a][_+i]=G):e[ur({c:_+i,r:y+a})]=G,f.e.c<_+i&&(f.e.c=_+i),_+=A}}++y}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,y-1+a),e["!ref"]=_r(f),y>=u&&(e["!fullref"]=_r((f.e.r=o.length-b+y-1+a,f))),e}function WF(e,t){var r=t||{},n=r.dense?[]:{};return VF(n,e,t)}function qre(e,t){return Ld(WF(e,t),t)}function Nk(e){var t="",r=$re(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function $re(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Hre(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Xr(t.replace(/<[^>]*>/g,""));return[r]}var Sk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function GF(e,t){var r=t||{},n=WN(e),a=[],i,s,o={name:""},u="",f=0,h,p,g={},x=[],b=r.dense?[]:{},y,w,_={value:""},E="",A=0,T=[],O=-1,R=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,B={},G=[],I={},z=0,K=0,J=[],pe=1,ne=1,le=[],ve={Names:[]},ue={},je=["",""],te=[],P={},L="",q=0,W=!1,Z=!1,oe=0;for(Ix.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=Ix.exec(n);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?b["!ref"]=_r(D):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=D.e.r&&(b["!fullref"]=b["!ref"],D.e.r=r.sheetRows-1,b["!ref"]=_r(D)),G.length&&(b["!merges"]=G),J.length&&(b["!rows"]=J),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=b,Z=!1):y[0].charAt(y[0].length-2)!=="/"&&(h=dr(y[0],!1),O=R=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,b=r.dense?[]:{},G=[],J=[],Z=!0);break;case"table-row-group":y[1]==="/"?--M:++M;break;case"table-row":case"":if(y[1]==="/"){O+=pe,pe=1;break}if(p=dr(y[0],!1),p.?O=p.-1:O==-1&&(O=0),pe=+p["number-rows-repeated"]||1,pe<10)for(oe=0;oe<pe;++oe)M>0&&(J[O+oe]={level:M});R=-1;break;case"covered-table-cell":y[1]!=="/"&&++R,r.sheetStubs&&(r.dense?(b[O]||(b[O]=[]),b[O][R]={t:"z"}):b[ur({r:O,c:R})]={t:"z"}),E="",T=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++R,_=dr(y[0],!1),ne=parseInt(_["number-columns-repeated"]||"1",10),w={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(w.f=yk(Xr(_.formula))),(_.||_["value-type"])=="string"&&(w.t="s",w.v=Xr(_["string-value"]||""),r.dense?(b[O]||(b[O]=[]),b[O][R]=w):b[ur({r:O,c:R})]=w),R+=ne-1;else if(y[1]!=="/"){++R,E="",A=0,T=[],ne=1;var ce=pe?O+pe-1:O;if(R>D.e.c&&(D.e.c=R),R<D.s.c&&(D.s.c=R),O<D.s.r&&(D.s.r=O),ce>D.e.r&&(D.e.r=ce),_=dr(y[0],!1),te=[],P={},w={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=Xr(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(z=parseInt(_["number-matrix-rows-spanned"],10)||0,K=parseInt(_["number-matrix-columns-spanned"],10)||0,I={s:{r:O,c:R},e:{r:O+z-1,c:R+K-1}},w.F=_r(I),le.push([I,w.F])),_.formula)w.f=yk(_.formula);else for(oe=0;oe<le.length;++oe)O>=le[oe][0].s.r&&O<=le[oe][0].e.r&&R>=le[oe][0].s.c&&R<=le[oe][0].e.c&&(w.F=le[oe][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(z=parseInt(_["number-rows-spanned"],10)||0,K=parseInt(_["number-columns-spanned"],10)||0,I={s:{r:O,c:R},e:{r:O+z-1,c:R+K-1}},G.push(I)),_["number-columns-repeated"]&&(ne=parseInt(_["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Xn(_["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(_.value);break;case"percentage":w.t="n",w.v=parseFloat(_.value);break;case"currency":w.t="n",w.v=parseFloat(_.value);break;case"date":w.t="d",w.v=Zn(_["date-value"]),r.cellDates||(w.t="n",w.v=wi(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=gW(_["time-value"])/86400,r.cellDates&&(w.t="d",w.v=a2(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(_.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",_["string-value"]!=null&&(E=Xr(_["string-value"]),T=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(W=!1,w.t==="s"&&(w.v=E||"",T.length&&(w.R=T),W=A==0),ue.Target&&(w.l=ue),te.length>0&&(w.c=te,te=[]),E&&r.cellText!==!1&&(w.w=E),W&&(w.t="z",delete w.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=O))for(var ae=0;ae<pe;++ae){if(ne=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(b[O+ae]||(b[O+ae]=[]),b[O+ae][R]=ae==0?w:Jn(w);--ne>0;)b[O+ae][R+ne]=Jn(w);else for(b[ur({r:O+ae,c:R})]=w;--ne>0;)b[ur({r:O+ae,c:R+ne})]=Jn(w);D.e.c<=R&&(D.e.c=R)}ne=parseInt(_["number-columns-repeated"]||"1",10),R+=ne-1,ne=0,w={},E="",T=[]}ue={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i;P.t=E,T.length&&(P.R=T),P.a=L,te.push(P)}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);L="",q=0,E="",A=0,T=[];break;case"creator":y[1]==="/"?L=n.slice(q,y.index):q=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);E="",A=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(B[o.name]=u,(i=a.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&(u="",o=dr(y[0],!1),a.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=dr(y[0],!1),u+=Sk[y[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=dr(y[0],!1),u+=Sk[y[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":u+=n.slice(f,y.index);break}else f=y.index+y[0].length;break;case"named-range":s=dr(y[0],!1),je=jw(s["cell-range-address"]);var Se={Name:s.name,Ref:je[0]+"!"+je[1]};Z&&(Se.Sheet=x.length),ve.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(y[1]==="/"&&(!_||!_["string-value"])){var De=Hre(n.slice(A,y.index));E=(E.length>0?E+`
`:"")+De[0]}else dr(y[0],!1),A=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{je=jw(dr(y[0])["target-range-address"]),g[je[0]]["!autofilter"]={ref:je[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(ue=dr(y[0],!1),!ue.href)break;ue.Target=Xr(ue.href),delete ue.href,ue.Target.charAt(0)=="#"&&ue.Target.indexOf(".")>-1?(je=jw(ue.Target.slice(1)),ue.Target="#"+je[0]+"!"+je[1]):ue.Target.match(/^\.\.[\\\/]/)&&(ue.Target=ue.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(y)}}var X={Sheets:g,SheetNames:x,Workbook:ve};return r.bookSheets&&delete X.Sheets,X}function jk(e,t){t=t||{},Do(e,"META-INF/manifest.xml")&&gG(ti(e,"META-INF/manifest.xml"),t);var r=Ql(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=GF(Dn(r),t);return Do(e,"meta.xml")&&(n.Props=RP(ti(e,"meta.xml"))),n}function Ak(e,t){return GF(e,t)}var Vre=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Rx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ka+t}})(),Ek=(function(){var e=function(i){return Nn(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var u=[];u.push('      <table:table table:name="'+Nn(s.SheetNames[o])+`" table:style-name="ta1">
`);var f=0,h=0,p=El(i["!ref"]||"A1"),g=i["!merges"]||[],x=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=p.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",w=i["!rows"]||[];for(f=0;f<p.s.r;++f)y=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+y+`></table:table-row>
`);for(;f<=p.e.r;++f){for(y=w[f]?' table:style-name="ro'+w[f].ods+'"':"",u.push("        <table:table-row"+y+`>
`),h=0;h<p.s.c;++h)u.push(t);for(;h<=p.e.c;++h){var _=!1,E={},A="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>h)&&!(g[x].s.r>f)&&!(g[x].e.c<h)&&!(g[x].e.r<f)){(g[x].s.c!=h||g[x].s.r!=f)&&(_=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(_){u.push(r);continue}var T=ur({r:f,c:h}),O=b?(i[f]||[])[h]:i[T];if(O&&O.f&&(E["table:formula"]=Nn(fJ(O.f)),O.F&&O.F.slice(0,T.length)==T)){var R=El(O.F);E["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,E["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!O){u.push(t);continue}switch(O.t){case"b":A=O.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=O.v?"true":"false";break;case"n":A=O.w||String(O.v||0),E["office:value-type"]="float",E["office:value"]=O.v||0;break;case"s":case"str":A=O.v==null?"":O.v,E["office:value-type"]="string";break;case"d":A=O.w||Zn(O.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Zn(O.v).toISOString(),E["table:style-name"]="ce1";break;default:u.push(t);continue}var D=e(A);if(O.l&&O.l.Target){var M=O.l.Target;M=M.charAt(0)=="#"?"#"+dJ(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),D=gt("text:a",D,{"xlink:href":M.replace(/&/g,"&amp;")})}u.push("          "+gt("table:table-cell",gt("text:p",D,{}),E)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Sd(p),p.ods=o;var g=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var u=0;s.SheetNames.map(function(f){return s.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=u;var p=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var u=[Ka],f=Rx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Rx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(u.push("<office:document"+f+h+`>
`),u.push(MP().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),a(u,s),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var p=0;p!=s.SheetNames.length;++p)u.push(n(s.Sheets[s.SheetNames[p]],s,p));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),o.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function KF(e,t){if(t.bookType=="fods")return Ek(e,t);var r=qN(),n="",a=[],i=[];return n="mimetype",jr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",jr(r,n,Ek(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",jr(r,n,Vre(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",jr(r,n,Ka+MP()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",jr(r,n,bG(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",jr(r,n,vG(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function G0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function a_(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Dn(Fd(e))}function Wre(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Xl(iu(e))}function Gre(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ad(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function kk(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Kre(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Yre(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Vx(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function yn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ma(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function tn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Vx(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);o=e.slice(u,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Vx(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:o,type:i};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function Zi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(yn(n*8+a.type)),a.type==2&&t.push(yn(a.data.length)),t.push(a.data))})}),Ad(t)}function p3(e,t){return e?.map(function(r){return t(r.data)})||[]}function Co(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Vx(e,n),i=tn(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ma(i[1][0].data),messages:[]};i[2].forEach(function(o){var u=tn(o.data),f=Ma(u[3][0].data);s.messages.push({meta:u,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=i[3])!=null&&t[0]&&(s.merge=Ma(i[3][0].data)>>>0>0),r.push(s)}return r}function lm(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:yn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:yn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:yn(s.data.length)}],n[2].push({data:Zi(s.meta),type:2})});var i=Zi(n);t.push(yn(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Ad(t)}function Xre(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Vx(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var u=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Ad(a)],u==0)throw new Error("Invalid offset 0");if(u>a[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(a.push(a[0].slice(-u)),f-=u;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-u,-u+f))}}var h=Ad(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function To(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Xre(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ad(t)}function om(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=yn(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Ad(t)}function Qre(e,t,r,n){var a=G0(e),i=a.getUint32(4,!0),s=(n>1?12:8)+kk(i&(n>1?3470:398))*4,o=-1,u=-1,f=NaN,h=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=kk(i&(n>1?12288:4096))*4,i&16&&(u=a.getUint32(s,!0),s+=4),i&32&&(f=a.getFloat64(s,!0),s+=8),i&64&&(h.setTime(h.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var p;switch(e[2]){case 0:break;case 2:p={t:"n",v:f};break;case 3:p={t:"s",v:t[u]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else if(u>-1)p={t:"s",v:t[u]};else if(!isNaN(f))p={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return p}function Zre(e,t,r){var n=G0(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,u=NaN,f=NaN,h=new Date(2001,0,1);a&1&&(u=Kre(e,i),i+=16),a&2&&(f=n.getFloat64(i,!0),i+=8),a&4&&(h.setTime(h.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var p;switch(e[1]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:t[o]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(s>-1)p={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:p={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return p}function Ew(e,t){var r=new Uint8Array(32),n=G0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Yre(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function kw(e,t){var r=new Uint8Array(32),n=G0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Jre(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Qre(e,t,r,e[0]);case 5:return Zre(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ys(e){var t=tn(e);return Vx(t[1][0].data)}function Ck(e,t){var r=tn(t.data),n=Ma(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=tn(s.data),u=Ma(o[1][0].data)>>>0;switch(n){case 1:i[u]=a_(o[3][0].data);break;case 8:{var f=e[ys(o[9][0].data)][0],h=tn(f.data),p=e[ys(h[1][0].data)][0],g=Ma(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=tn(p.data);i[u]=x[3].map(function(b){return a_(b.data)}).join("")}break}}),i}function ene(e,t){var r,n,a,i,s,o,u,f,h,p,g,x,b,y,w=tn(e),_=Ma(w[1][0].data)>>>0,E=Ma(w[2][0].data)>>>0,A=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&Ma(w[8][0].data)>0||!1,T,O;if((i=(a=w[7])==null?void 0:a[0])!=null&&i.data&&t!=0)T=(o=(s=w[7])==null?void 0:s[0])==null?void 0:o.data,O=(f=(u=w[6])==null?void 0:u[0])==null?void 0:f.data;else if((p=(h=w[4])==null?void 0:h[0])!=null&&p.data&&t!=1)T=(x=(g=w[4])==null?void 0:g[0])==null?void 0:x.data,O=(y=(b=w[3])==null?void 0:b[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var R=A?4:1,D=G0(T),M=[],B=0;B<T.length/2;++B){var G=D.getUint16(B*2,!0);G<65535&&M.push([B,G])}if(M.length!=E)throw"Expected ".concat(E," cells, found ").concat(M.length);var I=[];for(B=0;B<M.length-1;++B)I[M[B][0]]=O.subarray(M[B][1]*R,M[B+1][1]*R);return M.length>=1&&(I[M[M.length-1][0]]=O.subarray(M[M.length-1][1]*R)),{R:_,cells:I}}function tne(e,t){var r,n=tn(t.data),a=(r=n?.[7])!=null&&r[0]?Ma(n[7][0].data)>>>0>0?1:0:-1,i=p3(n[5],function(s){return ene(s,a)});return{nrows:Ma(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(u,f){if(s[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));s[o.R][f]=u}),s},[])}}function rne(e,t,r){var n,a=tn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ma(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ma(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=_r(i);var s=tn(a[4][0].data),o=Ck(e,e[ys(s[4][0].data)][0]),u=(n=s[17])!=null&&n[0]?Ck(e,e[ys(s[17][0].data)][0]):[],f=tn(s[3][0].data),h=0;f[1].forEach(function(p){var g=tn(p.data),x=e[ys(g[2][0].data)][0],b=Ma(x.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var y=tne(e,x);y.data.forEach(function(w,_){w.forEach(function(E,A){var T=ur({r:h+_,c:A}),O=Jre(E,o,u);O&&(r[T]=O)})}),h+=y.nrows})}function nne(e,t){var r=tn(t.data),n={"!ref":"A1"},a=e[ys(r[2][0].data)],i=Ma(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return rne(e,a[0],n),n}function ane(e,t){var r,n=tn(t.data),a={name:(r=n[1])!=null&&r[0]?a_(n[1][0].data):"",sheets:[]},i=p3(n[2],ys);return i.forEach(function(s){e[s].forEach(function(o){var u=Ma(o.meta[1][0].data);u==6e3&&a.sheets.push(nne(e,o))})}),a}function ine(e,t){var r=b3(),n=tn(t.data),a=p3(n[1],ys);if(a.forEach(function(i){e[i].forEach(function(s){var o=Ma(s.meta[1][0].data);if(o==2){var u=ane(e,s);u.sheets.forEach(function(f,h){w3(r,f,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Cw(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var f;try{f=To(u.content)}catch(p){return console.log("?? "+u.content.length+" "+(p.message||p))}var h;try{h=Co(f)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){i[p.id]=p.messages,s.push(p.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ma(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(u){i[u].forEach(function(f){var h=Ma(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return ine(i,o)}function sne(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&Ma(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var u=0,f=G0(e[7][0].data),h=0,p=[],g=G0(e[4][0].data),x=0,b=[],y=0;y<t.length;++y){if(t[y]==null){f.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}f.setUint16(y*2,h,!0),g.setUint16(y*2,x,!0);var w,_;switch(typeof t[y]){case"string":w=Ew({t:"s",v:t[y]},r),_=kw({t:"s",v:t[y]},r);break;case"number":w=Ew({t:"n",v:t[y]},r),_=kw({t:"n",v:t[y]},r);break;case"boolean":w=Ew({t:"b",v:t[y]},r),_=kw({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}p.push(w),h+=w.length,b.push(_),x+=_.length,++u}for(e[2][0].data=yn(u);y<e[7][0].data.length/2;++y)f.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=Ad(p),e[3][0].data=Ad(b),u}function lne(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=El(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(_r(n)));var i=ty(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(L){return L.forEach(function(q){typeof q=="string"&&s.push(q)})});var o={},u=[],f=nr.read(t.numbers,{type:"base64"});f.FileIndex.map(function(L,q){return[L,f.FullPaths[q]]}).forEach(function(L){var q=L[0],W=L[1];if(q.type==2&&q.name.match(/\.iwa/)){var Z=q.content,oe=To(Z),ce=Co(oe);ce.forEach(function(ae){u.push(ae.id),o[ae.id]={deps:[],location:W,type:Ma(ae.messages[0].meta[1][0].data)}})}}),u.sort(function(L,q){return L-q});var h=u.filter(function(L){return L>1}).map(function(L){return[L,yn(L)]});f.FileIndex.map(function(L,q){return[L,f.FullPaths[q]]}).forEach(function(L){var q=L[0];if(L[1],!!q.name.match(/\.iwa/)){var W=Co(To(q.content));W.forEach(function(Z){Z.messages.forEach(function(oe){h.forEach(function(ce){Z.messages.some(function(ae){return Ma(ae.meta[1][0].data)!=11006&&Gre(ae.data,ce[1])})&&o[ce[0]].deps.push(Z.id)})})})}});for(var p=nr.find(f,o[1].location),g=Co(To(p.content)),x,b=0;b<g.length;++b){var y=g[b];y.id==1&&(x=y)}var w=ys(tn(x.messages[0].data)[1][0].data);for(p=nr.find(f,o[w].location),g=Co(To(p.content)),b=0;b<g.length;++b)y=g[b],y.id==w&&(x=y);for(w=ys(tn(x.messages[0].data)[2][0].data),p=nr.find(f,o[w].location),g=Co(To(p.content)),b=0;b<g.length;++b)y=g[b],y.id==w&&(x=y);for(w=ys(tn(x.messages[0].data)[2][0].data),p=nr.find(f,o[w].location),g=Co(To(p.content)),b=0;b<g.length;++b)y=g[b],y.id==w&&(x=y);var _=tn(x.messages[0].data);{_[6][0].data=yn(n.e.r+1),_[7][0].data=yn(n.e.c+1);var E=ys(_[46][0].data),A=nr.find(f,o[E].location),T=Co(To(A.content));{for(var O=0;O<T.length&&T[O].id!=E;++O);if(T[O].id!=E)throw"Bad ColumnRowUIDMapArchive";var R=tn(T[O].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var D=0;D<=n.e.c;++D){var M=[];M[1]=M[2]=[{type:0,data:yn(D+420690)}],R[1].push({type:2,data:Zi(M)}),R[2].push({type:0,data:yn(D)}),R[3].push({type:0,data:yn(D)})}R[4]=[],R[5]=[],R[6]=[];for(var B=0;B<=n.e.r;++B)M=[],M[1]=M[2]=[{type:0,data:yn(B+726270)}],R[4].push({type:2,data:Zi(M)}),R[5].push({type:0,data:yn(B)}),R[6].push({type:0,data:yn(B)});T[O].messages[0].data=Zi(R)}A.content=om(lm(T)),A.size=A.content.length,delete _[46];var G=tn(_[4][0].data);{G[7][0].data=yn(n.e.r+1);var I=tn(G[1][0].data),z=ys(I[2][0].data);A=nr.find(f,o[z].location),T=Co(To(A.content));{if(T[0].id!=z)throw"Bad HeaderStorageBucket";var K=tn(T[0].messages[0].data);for(B=0;B<i.length;++B){var J=tn(K[2][0].data);J[1][0].data=yn(B),J[4][0].data=yn(i[B].length),K[2][B]={type:K[2][0].type,data:Zi(J)}}T[0].messages[0].data=Zi(K)}A.content=om(lm(T)),A.size=A.content.length;var pe=ys(G[2][0].data);A=nr.find(f,o[pe].location),T=Co(To(A.content));{if(T[0].id!=pe)throw"Bad HeaderStorageBucket";for(K=tn(T[0].messages[0].data),D=0;D<=n.e.c;++D)J=tn(K[2][0].data),J[1][0].data=yn(D),J[4][0].data=yn(n.e.r+1),K[2][D]={type:K[2][0].type,data:Zi(J)};T[0].messages[0].data=Zi(K)}A.content=om(lm(T)),A.size=A.content.length;var ne=ys(G[4][0].data);(function(){for(var L=nr.find(f,o[ne].location),q=Co(To(L.content)),W,Z=0;Z<q.length;++Z){var oe=q[Z];oe.id==ne&&(W=oe)}var ce=tn(W.messages[0].data);{ce[3]=[];var ae=[];s.forEach(function(X,Ke){ae[1]=[{type:0,data:yn(Ke)}],ae[2]=[{type:0,data:yn(1)}],ae[3]=[{type:2,data:Wre(X)}],ce[3].push({type:2,data:Zi(ae)})})}W.messages[0].data=Zi(ce);var Se=lm(q),De=om(Se);L.content=De,L.size=L.content.length})();var le=tn(G[3][0].data);{var ve=le[1][0];delete le[2];var ue=tn(ve.data);{var je=ys(ue[2][0].data);(function(){for(var L=nr.find(f,o[je].location),q=Co(To(L.content)),W,Z=0;Z<q.length;++Z){var oe=q[Z];oe.id==je&&(W=oe)}var ce=tn(W.messages[0].data);{delete ce[6],delete le[7];var ae=new Uint8Array(ce[5][0].data);ce[5]=[];for(var Se=0,De=0;De<=n.e.r;++De){var X=tn(ae);Se+=sne(X,i[De],s),X[1][0].data=yn(De),ce[5].push({data:Zi(X),type:2})}ce[1]=[{type:0,data:yn(n.e.c+1)}],ce[2]=[{type:0,data:yn(n.e.r+1)}],ce[3]=[{type:0,data:yn(Se)}],ce[4]=[{type:0,data:yn(n.e.r+1)}]}W.messages[0].data=Zi(ce);var Ke=lm(q),Ce=om(Ke);L.content=Ce,L.size=L.content.length})()}ve.data=Zi(ue)}G[3][0].data=Zi(le)}_[4][0].data=Zi(G)}x.messages[0].data=Zi(_);var te=lm(g),P=om(te);return p.content=P,p.size=p.content.length,f}function YF(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function x3(e){YF([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function g3(e){YF([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function one(e){return Or.WS.indexOf(e)>-1?"sheet":e==Or.CS?"chart":e==Or.DS?"dialog":e==Or.MS?"macro":e&&e.length?e:"sheet"}function cne(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,one(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function une(e,t,r,n,a,i,s,o,u,f,h,p){try{i[n]=vx(Ql(e,r,!0),t);var g=ti(e,t),x;switch(o){case"sheet":x=Dte(g,t,a,u,i[n],f,h,p);break;case"chart":if(x=Pte(g,t,a,u,i[n],f,h,p),!x||!x["!drawel"])break;var b=ux(x["!drawel"].Target,t),y=Bx(b),w=yQ(Ql(e,b,!0),vx(Ql(e,y,!0),b)),_=ux(w,b),E=Bx(_);x=ste(Ql(e,_,!0),_,u,vx(Ql(e,E,!0),_),f,x);break;case"macro":x=Fte(g,t,a,u,i[n],f,h,p);break;case"dialog":x=Lte(g,t,a,u,i[n],f,h,p);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=x;var A=[];i&&i[n]&&Ra(i[n]).forEach(function(T){var O="";if(i[n][T].Type==Or.CMNT){O=ux(i[n][T].Target,t);var R=Bte(ti(e,O,!0),O,u);if(!R||!R.length)return;mk(x,R,!1)}i[n][T].Type==Or.TCMNT&&(O=ux(i[n][T].Target,t),A=A.concat(wQ(ti(e,O,!0),u)))}),A&&A.length&&mk(x,A,!0,u.people||[])}catch(T){if(u.WTF)throw T}}function So(e){return e.charAt(0)=="/"?e.slice(1):e}function fne(e,t){if(Xm(),t=t||{},x3(t),Do(e,"META-INF/manifest.xml")||Do(e,"objectdata.xml"))return jk(e,t);if(Do(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Cw<"u"){if(e.FileIndex)return Cw(e);var r=nr.utils.cfb_new();return LE(e).forEach(function(J){jr(r,J,_W(e,J))}),Cw(r)}throw new Error("Unsupported NUMBERS file")}if(!Do(e,"[Content_Types].xml"))throw Do(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Do(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=LE(e),a=pG(Ql(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ti(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ti(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},f={};if(!t.bookSheets&&!t.bookProps){if(yx=[],a.sst)try{yx=Ite(ti(e,So(a.sst)),a.sst,t)}catch(J){if(t.WTF)throw J}t.cellStyles&&a.themes.length&&(u=Rte(Ql(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(f=Mte(ti(e,So(a.style)),a.style,u,t))}a.links.map(function(J){try{var pe=vx(Ql(e,Bx(So(J))),J);return zte(ti(e,So(J)),pe,J,t)}catch{}});var h=Ote(ti(e,So(a.workbooks[0])),a.workbooks[0],t),p={},g="";a.coreprops.length&&(g=ti(e,So(a.coreprops[0]),!0),g&&(p=RP(g)),a.extprops.length!==0&&(g=ti(e,So(a.extprops[0]),!0),g&&_G(g,p,t)));var x={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(g=Ql(e,So(a.custprops[0]),!0),g&&(x=SG(g,t)));var b={};if((t.bookSheets||t.bookProps)&&(h.Sheets?s=h.Sheets.map(function(pe){return pe.name}):p.Worksheets&&p.SheetNames.length>0&&(s=p.SheetNames),t.bookProps&&(b.Props=p,b.Custprops=x),t.bookSheets&&typeof s<"u"&&(b.SheetNames=s),t.bookSheets?b.SheetNames:t.bookProps))return b;s={};var y={};t.bookDeps&&a.calcchain&&(y=Ute(ti(e,So(a.calcchain)),a.calcchain));var w=0,_={},E,A;{var T=h.Sheets;p.Worksheets=T.length,p.SheetNames=[];for(var O=0;O!=T.length;++O)p.SheetNames[O]=T[O].name}var R=i?"bin":"xml",D=a.workbooks[0].lastIndexOf("/"),M=(a.workbooks[0].slice(0,D+1)+"_rels/"+a.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");Do(e,M)||(M="xl/_rels/workbook."+R+".rels");var B=vx(Ql(e,M,!0),M.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=qte(ti(e,So(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=NQ(ti(e,So(a.people[0])),t)),B&&(B=cne(B,h.Sheets));var G=ti(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=p.Worksheets;++w){var I="sheet";if(B&&B[w]?(E="xl/"+B[w][1].replace(/[\/]?xl\//,""),Do(e,E)||(E=B[w][1]),Do(e,E)||(E=M.replace(/_rels\/.*$/,"")+B[w][1]),I=B[w][2]):(E="xl/worksheets/sheet"+(w+1-G)+"."+R,E=E.replace(/sheet0\./,"sheet.")),A=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(p.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var z=!1,K=0;K!=t.sheets.length;++K)typeof t.sheets[K]=="number"&&t.sheets[K]==w&&(z=1),typeof t.sheets[K]=="string"&&t.sheets[K].toLowerCase()==p.SheetNames[w].toLowerCase()&&(z=1);if(!z)continue e}}une(e,E,A,p.SheetNames[w],w,_,s,I,t,h,u,f)}return b={Directory:a,Workbook:h,Props:p,Custprops:x,Deps:y,Sheets:s,SheetNames:p.SheetNames,Strings:yx,Styles:f,Themes:u,SSF:Jn(cr)},t&&t.bookFiles&&(e.files?(b.keys=n,b.files=e.files):(b.keys=[],b.files={},e.FullPaths.forEach(function(J,pe){J=J.replace(/^Root Entry[\/]/,""),b.keys.push(J),b.files[J]=e.FileIndex[pe]}))),t&&t.bookVBA&&(a.vba.length>0?b.vbaraw=ti(e,So(a.vba[0]),!0):a.defaults&&a.defaults.bin===OQ&&(b.vbaraw=ti(e,"xl/vbaProject.bin",!0))),b}function dne(e,t){var r=t||{},n="Workbook",a=nr.find(e,n);try{if(n="/!DataSpaces/Version",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(qY(a.content),n="/!DataSpaces/DataSpaceMap",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=HY(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=VY(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);GY(a.content)}catch{}if(n="/EncryptionInfo",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=KY(a.content);if(n="/EncryptedPackage",a=nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function hne(e,t){return t.bookType=="ods"?KF(e,t):t.bookType=="numbers"?lne(e,t):t.bookType=="xlsb"?mne(e,t):pne(e,t)}function mne(e,t){gm=1024,e&&!e.SSF&&(e.SSF=Jn(cr)),e&&e.SSF&&(Xm(),t2(e.SSF),t.revssf=n2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=_F.indexOf(t.bookType)>-1,a=r3();g3(t=t||{});var i=qN(),s="",o=0;if(t.cellXfs=[],Md(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",jr(i,s,IP(e.Props,t)),a.coreprops.push(s),bn(t.rels,2,s,Or.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,jr(i,s,zP(e.Props)),a.extprops.push(s),bn(t.rels,3,s,Or.EXT_PROPS),e.Custprops!==e.Props&&Ra(e.Custprops||{}).length>0&&(s="docProps/custom.xml",jr(i,s,qP(e.Custprops)),a.custprops.push(s),bn(t.rels,4,s,Or.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,jr(i,s,Hte(o-1,s,t,e,h)),a.sheets.push(s),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(p){var x=p["!comments"],b=!1,y="";x&&x.length>0&&(y="xl/comments"+o+"."+r,jr(i,y,Gte(x,y)),a.comments.push(y),bn(h,-1,"../comments"+o+"."+r,Or.CMNT),b=!0),p["!legacy"]&&b&&jr(i,"xl/drawings/vmlDrawing"+o+".vml",bF(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&jr(i,Bx(s),Nm(h))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,jr(i,s,Wte(t.Strings,s,t)),a.strs.push(s),bn(t.wbrels,-1,"sharedStrings."+r,Or.SST)),s="xl/workbook."+r,jr(i,s,$te(e,s)),a.workbooks.push(s),bn(t.rels,1,s,Or.WB),s="xl/theme/theme1.xml",jr(i,s,o3(e.Themes,t)),a.themes.push(s),bn(t.wbrels,-1,"theme/theme1.xml",Or.THEME),s="xl/styles."+r,jr(i,s,Vte(e,s,t)),a.styles.push(s),bn(t.wbrels,-1,"styles."+r,Or.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",jr(i,s,e.vbaraw),a.vba.push(s),bn(t.wbrels,-1,"vbaProject.bin",Or.VBA)),s="xl/metadata."+r,jr(i,s,Kte(s)),a.metadata.push(s),bn(t.wbrels,-1,"metadata."+r,Or.XLMETA),jr(i,"[Content_Types].xml",LP(a,t)),jr(i,"_rels/.rels",Nm(t.rels)),jr(i,"xl/_rels/workbook."+r+".rels",Nm(t.wbrels)),delete t.revssf,delete t.ssf,i}function pne(e,t){gm=1024,e&&!e.SSF&&(e.SSF=Jn(cr)),e&&e.SSF&&(Xm(),t2(e.SSF),t.revssf=n2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=_F.indexOf(t.bookType)>-1,a=r3();g3(t=t||{});var i=qN(),s="",o=0;if(t.cellXfs=[],Md(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",jr(i,s,IP(e.Props,t)),a.coreprops.push(s),bn(t.rels,2,s,Or.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(e.SheetNames[f]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,jr(i,s,zP(e.Props)),a.extprops.push(s),bn(t.rels,3,s,Or.EXT_PROPS),e.Custprops!==e.Props&&Ra(e.Custprops||{}).length>0&&(s="docProps/custom.xml",jr(i,s,qP(e.Custprops)),a.custprops.push(s),bn(t.rels,4,s,Or.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var p={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,jr(i,s,PF(o-1,t,e,p)),a.sheets.push(s),bn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Or.WS[0])}if(g){var b=g["!comments"],y=!1,w="";if(b&&b.length>0){var _=!1;b.forEach(function(E){E[1].forEach(function(A){A.T==!0&&(_=!0)})}),_&&(w="xl/threadedComments/threadedComment"+o+"."+r,jr(i,w,_Q(b,h,t)),a.threadedcomments.push(w),bn(p,-1,"../threadedComments/threadedComment"+o+"."+r,Or.TCMNT)),w="xl/comments"+o+"."+r,jr(i,w,wF(b)),a.comments.push(w),bn(p,-1,"../comments"+o+"."+r,Or.CMNT),y=!0}g["!legacy"]&&y&&jr(i,"xl/drawings/vmlDrawing"+o+".vml",bF(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&jr(i,Bx(s),Nm(p))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,jr(i,s,oF(t.Strings,t)),a.strs.push(s),bn(t.wbrels,-1,"sharedStrings."+r,Or.SST)),s="xl/workbook."+r,jr(i,s,IF(e)),a.workbooks.push(s),bn(t.rels,1,s,Or.WB),s="xl/theme/theme1.xml",jr(i,s,o3(e.Themes,t)),a.themes.push(s),bn(t.wbrels,-1,"theme/theme1.xml",Or.THEME),s="xl/styles."+r,jr(i,s,xF(e,t)),a.styles.push(s),bn(t.wbrels,-1,"styles."+r,Or.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",jr(i,s,e.vbaraw),a.vba.push(s),bn(t.wbrels,-1,"vbaProject.bin",Or.VBA)),s="xl/metadata."+r,jr(i,s,yF()),a.metadata.push(s),bn(t.wbrels,-1,"metadata."+r,Or.XLMETA),h.length>1&&(s="xl/persons/person.xml",jr(i,s,SQ(h)),a.people.push(s),bn(t.wbrels,-1,"persons/person.xml",Or.PEOPLE)),jr(i,"[Content_Types].xml",LP(a,t)),jr(i,"_rels/.rels",Nm(t.rels)),jr(i,"xl/_rels/workbook."+r+".rels",Nm(t.wbrels)),delete t.revssf,delete t.ssf,i}function v3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=to(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function xne(e,t){return nr.find(e,"EncryptedPackage")?dne(e,t):qF(e,t)}function gne(e,t){var r,n=e,a=t||{};return a.type||(a.type=Cr&&Buffer.isBuffer(e)?"buffer":"base64"),r=uP(n,a),fne(r,a)}function XF(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return r_(e.slice(r),t);default:break e}return Fm.to_workbook(e,t)}function vne(e,t){var r="",n=v3(e,t);switch(t.type){case"base64":r=to(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=$0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Dn(r)),t.type="binary",XF(r,t)}function yne(e,t){var r=e;return t.type=="base64"&&(r=to(r)),r=Px.utils.decode(1200,r.slice(2),"str"),t.type="binary",XF(r,t)}function bne(e){return e.match(/[^\x00-\x7F]/)?iu(e):e}function Tw(e,t,r,n){return n?(r.type="string",Fm.to_workbook(e,r)):Fm.to_workbook(t,r)}function i_(e,t){RN();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return i_(new Uint8Array(e),(r=Jn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),jm={},r.dateNF&&(jm.dateNF=r.dateNF),r.type||(r.type=Cr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Cr?"buffer":"binary",n=mW(e),typeof Uint8Array<"u"&&!Cr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=bne(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Jn(r),r.type="array",i_(IN(n),r)}switch((a=v3(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return xne(nr.read(n,r),r);break;case 9:if(a[1]<=8)return qF(n,r);break;case 60:return r_(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return jY(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return sF.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?gne(n,r):Tw(e,n,r,i);case 239:return a[3]===60?r_(n,r):Tw(e,n,r,i);case 255:if(a[1]===254)return yne(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return O0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return O0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return t_.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return hF.to_workbook(n,r);break;case 10:case 13:case 32:return vne(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return SY.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?t_.to_workbook(n,r):Tw(e,n,r,i)}function QF(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mg(t.file,nr.write(e,{type:Cr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nr.write(e,t)}function wne(e,t){var r=Jn(t||{}),n=hne(e,r);return _ne(n,r)}function _ne(e,t){var r={},n=Cr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?nr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(e2(a))}return t.password&&typeof encrypt_agile<"u"?QF(encrypt_agile(a,t.password),t):t.type==="file"?mg(t.file,a):t.type=="string"?Dn(a):a}function Nne(e,t){var r=t||{},n=bre(e,r);return QF(n,r)}function nu(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Fx(iu(n));case"binary":return iu(n);case"string":return e;case"file":return mg(t.file,n,"utf8");case"buffer":return Cr?yf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):nu(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Sne(e,t){switch(t.type){case"base64":return Fx(e);case"binary":return e;case"string":return e;case"file":return mg(t.file,e,"binary");case"buffer":return Cr?yf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Q1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Fx(r):t.type=="string"?Dn(r):r;case"file":return mg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function ZF(e,t){RN(),xte(e);var r=Jn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=ZF(e,r);return r.type="array",e2(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return nu(hre(e,r),r);case"slk":case"sylk":return nu(iF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return nu(HF(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Sne(JF(e.Sheets[e.SheetNames[a]],r),r);case"csv":return nu(y3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return nu(sF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Q1(t_.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return nu(Fm.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return nu(hF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return nu(lF.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return nu(KF(e,r),r);case"wk1":return Q1(O0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Q1(O0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Q1($F(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Nne(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return wne(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function jne(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Ane(e,t,r){var n={};return n.type="file",n.file=t,jne(n),ZF(e,n)}function Ene(e,t,r,n,a,i,s,o){var u=Ga(r),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!s||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=s?e[r][x]:e[n[x]+u];if(b===void 0||b.t===void 0){if(f===void 0)continue;i[x]!=null&&(g[i[x]]=f);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[x]!=null){if(y==null)if(b.t=="e"&&y===null)g[i[x]]=null;else if(f!==void 0)g[i[x]]=f;else if(h&&y===null)g[i[x]]=null;else continue;else g[i[x]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?y:ff(b,y,o);y!=null&&(p=!1)}}return{row:g,isempty:p}}function ty(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":u=Zr(h);break;case"number":u=Zr(e["!ref"]),u.s.r=h;break;default:u=h}n>0&&(a=0);var p=Ga(u.s.r),g=[],x=[],b=0,y=0,w=Array.isArray(e),_=u.s.r,E=0,A={};w&&!e[_]&&(e[_]=[]);var T=f.skipHidden&&e["!cols"]||[],O=f.skipHidden&&e["!rows"]||[];for(E=u.s.c;E<=u.e.c;++E)if(!(T[E]||{}).hidden)switch(g[E]=wa(E),r=w?e[_][E]:e[g[E]+p],n){case 1:i[E]=E-u.s.c;break;case 2:i[E]=g[E];break;case 3:i[E]=f.header[E-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=ff(r,null,f),y=A[s]||0,!y)A[s]=1;else{do o=s+"_"+y++;while(A[o]);A[s]=y,A[o]=1}i[E]=o}for(_=u.s.r+a;_<=u.e.r;++_)if(!(O[_]||{}).hidden){var R=Ene(e,u,_,g,n,i,w,f);(R.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(x[b++]=R.row)}return x.length=b,x}var Tk=/"/g;function kne(e,t,r,n,a,i,s,o){for(var u=!0,f=[],h="",p=Ga(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+p];if(x==null)h="";else if(x.v!=null){u=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:ff(x,null,o));for(var b=0,y=0;b!==h.length;++b)if((y=h.charCodeAt(b))===a||y===i||y===34||o.forceQuotes){h='"'+h.replace(Tk,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(u=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(Tk,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&u?null:f.join(s)}function y3(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Zr(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,u=o.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(p[b]=wa(b));for(var y=0,w=a.s.r;w<=a.e.r;++w)(x[w]||{}).hidden||(h=kne(e,a,w,p,s,u,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((y++?o:"")+h)));return delete n.dense,r.join("")}function JF(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=y3(e,t);return r}function Cne(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Zr(e["!ref"]),i="",s=[],o,u=[],f=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=wa(o);for(var h=a.s.r;h<=a.e.r;++h)for(i=Ga(h),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=f?(e[h]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}u[u.length]=t+"="+n}return u}function eL(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var u=typeof n.origin=="string"?_a(n.origin):n.origin;s=u.r,o=u.c}var f,h={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var p=Zr(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),s==-1&&(s=p.e.r+1,h.e.r=s+t.length-1+a)}else s==-1&&(s=0,h.e.r=t.length-1+a);var g=n.header||[],x=0;t.forEach(function(y,w){Ra(y).forEach(function(_){(x=g.indexOf(_))==-1&&(g[x=g.length]=_);var E=y[_],A="z",T="",O=ur({c:o+x,r:s+w+a});f=Wx(i,O),E&&typeof E=="object"&&!(E instanceof Date)?i[O]=E:(typeof E=="number"?A="n":typeof E=="boolean"?A="b":typeof E=="string"?A="s":E instanceof Date?(A="d",n.cellDates||(A="n",E=wi(E)),T=n.dateNF||cr[14]):E===null&&n.nullError&&(A="e",E=0),f?(f.t=A,f.v=E,delete f.w,delete f.R,T&&(f.z=T)):i[O]=f={t:A,v:E},T&&(f.z=T))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var b=Ga(s);if(a)for(x=0;x<g.length;++x)i[wa(x+o)+b]={t:"s",v:g[x]};return i["!ref"]=_r(h),i}function Tne(e,t){return eL(null,e,t)}function Wx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=_a(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Wx(e,ur(t)):Wx(e,ur({r:t,c:r||0}))}function One(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function b3(){return{SheetNames:[],Sheets:{}}}function w3(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(RF(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Dne(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=One(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Pne(e,t){return e.z=t,e}function tL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Fne(e,t,r){return tL(e,"#"+t,r)}function Lne(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Mne(e,t,r,n){for(var a=typeof t!="string"?t:Zr(t),i=typeof t=="string"?t:_r(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var u=Wx(e,s,o);u.t="n",u.F=i,delete u.v,s==a.s.r&&o==a.s.c&&(u.f=r,n&&(u.D=!0))}return e}var Z1={encode_col:wa,encode_row:Ga,encode_cell:ur,encode_range:_r,decode_col:XN,decode_row:YN,split_cell:WW,decode_cell:_a,decode_range:El,format_cell:ff,sheet_add_aoa:kP,sheet_add_json:eL,sheet_add_dom:VF,aoa_to_sheet:Qm,json_to_sheet:Tne,table_to_sheet:WF,table_to_book:qre,sheet_to_csv:y3,sheet_to_txt:JF,sheet_to_json:ty,sheet_to_html:HF,sheet_to_formulae:Cne,sheet_to_row_object_array:ty,sheet_get_cell:Wx,book_new:b3,book_append_sheet:w3,book_set_sheet_visibility:Dne,cell_set_number_format:Pne,cell_set_hyperlink:tL,cell_set_internal_link:Fne,cell_add_comment:Lne,sheet_set_array_formula:Mne,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Sc={async getAll(){return lt.get("/cities")},async getById(e){try{return await lt.get(`/cities/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async getBySegment(e){return lt.get(`/cities/by-segment/${e}`)},async create(e,t){return lt.post("/cities",{id:e,...t})},async update(e){const{id:t,...r}=e;return lt.put(`/cities/${t}`,r)},async delete(e){return lt.delete(`/cities/${e}`)}},Qi=[];for(let e=0;e<256;++e)Qi.push((e+256).toString(16).slice(1));function Rne(e,t=0){return(Qi[e[t+0]]+Qi[e[t+1]]+Qi[e[t+2]]+Qi[e[t+3]]+"-"+Qi[e[t+4]]+Qi[e[t+5]]+"-"+Qi[e[t+6]]+Qi[e[t+7]]+"-"+Qi[e[t+8]]+Qi[e[t+9]]+"-"+Qi[e[t+10]]+Qi[e[t+11]]+Qi[e[t+12]]+Qi[e[t+13]]+Qi[e[t+14]]+Qi[e[t+15]]).toLowerCase()}let Ow;const Ine=new Uint8Array(16);function Bne(){if(!Ow){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ow=crypto.getRandomValues.bind(crypto)}return Ow(Ine)}const Une=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ok={randomUUID:Une};function zne(e,t,r){e=e||{};const n=e.random??e.rng?.()??Bne();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Rne(n)}function Rd(e,t,r){return Ok.randomUUID&&!e?Ok.randomUUID():zne(e)}const Jm=()=>pr({queryKey:["cities"],queryFn:()=>Sc.getAll()}),qne=e=>pr({queryKey:["cities",e],queryFn:()=>Sc.getById(e),enabled:!!e}),$ne=()=>{const e=qt();return Kt({mutationFn:async t=>{const r=Rd();return Sc.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Hne=()=>{const e=qt();return Kt({mutationFn:t=>Sc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Vne=()=>{const e=qt();return Kt({mutationFn:t=>Sc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})},Wne=()=>{const e=qt();return Kt({mutationFn:async t=>{const r={success:0,errors:[]},n=await Sc.getAll();for(let a=0;a<t.length;a++){const i=t[a];try{if(!i.name||!i.code||!i.segment_id){r.errors.push({row:a+2,error:"Donnes manquantes (nom, code ou segment)",data:i});continue}if(n.find(u=>u.name.trim()===i.name.trim()&&u.segment_id===i.segment_id)){r.errors.push({row:a+2,error:`Une ville avec le nom "${i.name}" existe dj dans ce segment`,data:i});continue}const o=Rd();await Sc.create(o,{name:i.name.trim(),code:i.code.trim(),segment_id:i.segment_id}),r.success++}catch(s){r.errors.push({row:a+2,error:s instanceof Error?s.message:"Erreur inconnue",data:i})}}return r},onSuccess:()=>{e.invalidateQueries({queryKey:["cities"]})}})};function Gne({segmentId:e,segmentName:t,onClose:r}){const[n,a]=C.useState(null),[i,s]=C.useState(!1),[o,u]=C.useState(null),f=C.useRef(null),h=Wne(),p=b=>{b.target.files&&b.target.files[0]&&(a(b.target.files[0]),u(null))},g=async()=>{if(n){s(!0),u(null);try{const b=await n.arrayBuffer(),y=i_(b),w=y.Sheets[y.SheetNames[0]],E=Z1.sheet_to_json(w).map(T=>({name:T.Ville?.toString().trim()||"",code:T.code?.toString().trim().toUpperCase()||"",segment_id:e})),A=await h.mutateAsync(E);u(A)}catch(b){console.error("Erreur lors de l'import:",b),alert("Erreur lors de la lecture du fichier Excel")}finally{s(!1)}}},x=()=>{const b=[{Ville:"Casablanca",code:"A1P07"},{Ville:"Rabat",code:"A1P01"},{Ville:"Tanger",code:"A1P05"}],y=Z1.json_to_sheet(b),w=Z1.book_new();Z1.book_append_sheet(w,y,"Villes"),y["!cols"]=[{wch:25},{wch:15}],Ane(w,"template_import_villes.xlsx")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(U0,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import en masse"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Importer des villes pour : ",l.jsx("strong",{children:t})]})]})]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(kl,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Format du fichier Excel"}),l.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Le fichier doit contenir seulement 2 colonnes :"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Ville"})," : Nom de la ville (Ex: Casablanca)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"code"})," : Code de la ville (Ex: A1P07)"]})]}),l.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[" Toutes les villes seront automatiquement associes au segment : ",l.jsx("strong",{children:t})]})]}),l.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[l.jsx(Qs,{className:"w-5 h-5 text-blue-600"}),l.jsx("span",{className:"text-blue-600 font-medium",children:"Tlcharger le fichier template"})]}),l.jsxs("div",{children:[l.jsx("input",{ref:f,type:"file",accept:".xlsx,.xls",onChange:p,className:"hidden"}),l.jsxs("button",{onClick:()=>f.current?.click(),className:"w-full flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[l.jsx(hg,{className:"w-8 h-8 text-green-600"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-green-600 font-medium",children:n?n.name:"Cliquez pour slectionner un fichier Excel"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts : .xlsx, .xls"})]})]})]}),o&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx(ai,{className:"w-5 h-5 text-green-600"}),l.jsxs("span",{className:"text-green-800 font-medium",children:[o.success," ville(s) importe(s) avec succs"]})]}),o.errors.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[l.jsx(mn,{className:"w-5 h-5 text-red-600"}),l.jsxs("span",{className:"text-red-800 font-medium",children:[o.errors.length," erreur(s) dtecte(s)"]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:o.errors.map((b,y)=>l.jsxs("div",{className:"p-3 bg-white border border-red-200 rounded-lg text-sm",children:[l.jsxs("p",{className:"font-medium text-red-800",children:["Ligne ",b.row]}),l.jsx("p",{className:"text-red-600",children:b.error}),l.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Ville: ",b.data.name||"N/A"," | Code: ",b.data.code||"N/A"]})]},y))})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:o?"Fermer":"Annuler"}),!o&&l.jsx("button",{onClick:g,disabled:!n||i,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Import en cours...":"Importer"})]})]})]})})}const Id={async getAll(){return lt.get("/segments")},async getById(e){try{return await lt.get(`/segments/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e,t){return lt.post("/segments",{id:e,...t})},async update(e){const{id:t,...r}=e;return lt.put(`/segments/${t}`,r)},async delete(e){return lt.delete(`/segments/${e}`)}},Bd=()=>pr({queryKey:["segments"],queryFn:()=>Id.getAll()}),Kne=()=>{const e=qt();return Kt({mutationFn:async t=>{const r=Rd();return Id.create(r,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Yne=()=>{const e=qt();return Kt({mutationFn:t=>Id.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})},Xne=()=>{const e=qt();return Kt({mutationFn:t=>Id.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["segments"]})}})};function Qne(){const{data:e=[],isLoading:t,error:r}=Bd(),n=Kne(),a=Yne(),i=Xne(),[s,o]=C.useState(!1),[u,f]=C.useState(null),[h,p]=C.useState(!1),[g,x]=C.useState(null),[b,y]=C.useState({name:"",color:"#3b82f6"}),w=async O=>{O.preventDefault();try{u?await a.mutateAsync({id:u,name:b.name,color:b.color}):await n.mutateAsync({name:b.name,color:b.color}),A()}catch(R){console.error("Erreur lors de la sauvegarde:",R),alert("Erreur lors de la sauvegarde du segment")}},_=O=>{y({name:O.name,color:O.color}),f(O.id),o(!0)},E=async O=>{if(confirm("tes-vous sr de vouloir supprimer ce segment ?"))try{await i.mutateAsync(O)}catch(R){console.error("Erreur lors de la suppression:",R),alert("Erreur lors de la suppression du segment")}},A=()=>{y({name:"",color:"#3b82f6"}),f(null),o(!1)},T=O=>{x({id:O.id,name:O.name}),p(!0)};return r?l.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-800",children:["Erreur lors du chargement des segments: ",r.message]})})})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6 lg:p-8",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsx(La,{to:"/dashboard",children:l.jsx(rt,{variant:"outline",size:"icon",children:l.jsx(da,{className:"h-4 w-4"})})}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Gestion des Segments"})]}),l.jsxs(rt,{onClick:()=>o(!s),className:"w-full sm:w-auto",children:[l.jsx(bi,{className:"mr-2 h-4 w-4"}),"Nouveau Segment"]})]}),s&&l.jsxs(dn,{className:"mb-6",children:[l.jsx(cf,{children:l.jsxs(uf,{children:[u?"Modifier":"Nouveau"," Segment"]})}),l.jsx(hn,{children:l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nom du segment"}),l.jsx(Gs,{value:b.name,onChange:O=>y({...b,name:O.target.value}),placeholder:"Ex: Formation Informatique",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Couleur"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Gs,{type:"color",value:b.color,onChange:O=>y({...b,color:O.target.value}),className:"w-20"}),l.jsx(Gs,{value:b.color,onChange:O=>y({...b,color:O.target.value}),placeholder:"#3b82f6"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx(rt,{type:"submit",disabled:n.isPending||a.isPending,className:"w-full sm:w-auto",children:n.isPending||a.isPending?"Enregistrement...":u?"Modifier":"Crer"}),l.jsx(rt,{type:"button",variant:"outline",onClick:A,className:"w-full sm:w-auto",children:"Annuler"})]})]})})]}),t&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"Chargement des segments..."})}),!t&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(O=>l.jsxs(dn,{style:{borderLeft:`4px solid ${O.color}`},children:[l.jsx(cf,{children:l.jsxs(uf,{className:"flex items-center justify-between",children:[l.jsx("span",{children:O.name}),l.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:O.color}})]})}),l.jsx(hn,{children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs(rt,{size:"sm",className:"w-full",onClick:()=>T(O),children:[l.jsx(hg,{className:"h-4 w-4 mr-2"}),"Importer des villes"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(rt,{size:"sm",variant:"outline",onClick:()=>_(O),children:l.jsx(WD,{className:"h-4 w-4"})}),l.jsx(rt,{size:"sm",variant:"destructive",onClick:()=>E(O.id),disabled:i.isPending,children:l.jsx(Na,{className:"h-4 w-4"})})]})]})})]},O.id))}),!t&&e.length===0&&!s&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"Aucun segment cr pour le moment"})})]}),h&&g&&l.jsx(Gne,{segmentId:g.id,segmentName:g.name,onClose:()=>{p(!1),x(null)}})]})}function Zne({cityId:e,onClose:t}){const[r,n]=C.useState({name:"",code:"",segment_id:""}),{data:a}=qne(e||""),{data:i=[]}=Bd(),s=$ne(),o=Hne(),u=!!e;C.useEffect(()=>{a&&n({name:a.name,code:a.code,segment_id:a.segment_id})},[a]);const f=async h=>{if(h.preventDefault(),!r.name.trim()||!r.code.trim()||!r.segment_id){alert("Veuillez remplir tous les champs obligatoires");return}try{u&&e?await o.mutateAsync({id:e,...r}):await s.mutateAsync(r),t()}catch(p){console.error("Erreur lors de la sauvegarde:",p),alert("Erreur lors de la sauvegarde de la ville")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(Js,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:u?"Modifier la ville":"Nouvelle ville"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:u?"Modifiez les informations":"Ajoutez une nouvelle ville"})]})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:l.jsx(kl,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),l.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de la ville *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",required:!0,value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Ex: Casablanca",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de la ville *"}),l.jsxs("div",{className:"relative",children:[l.jsx(qD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",required:!0,value:r.code,onChange:h=>n({...r,code:h.target.value.toUpperCase()}),placeholder:"Ex: CASA",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent uppercase",maxLength:10})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Code court pour identifier la ville (max 10 caractres)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),l.jsxs("div",{className:"relative",children:[l.jsx(PN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsxs("select",{required:!0,value:r.segment_id,onChange:h=>n({...r,segment_id:h.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent appearance-none",children:[l.jsx("option",{value:"",children:"Slectionnez un segment"}),i.map(h=>l.jsx("option",{value:h.id,children:h.name},h.id))]})]}),i.length===0&&l.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucun segment disponible. Veuillez crer un segment d'abord."})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),l.jsx("button",{type:"submit",disabled:s.isPending||o.isPending,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.isPending||o.isPending?"Enregistrement...":u?"Mettre  jour":"Crer"})]})]})]})})}function Jne(){const e=$n(),[t,r]=C.useState(""),[n,a]=C.useState(!1),[i,s]=C.useState(null),[o,u]=C.useState("all"),[f,h]=C.useState([]),{data:p=[],isLoading:g}=Jm(),{data:x=[]}=Bd(),b=Vne(),y=p.filter(R=>{const D=R.name.toLowerCase().includes(t.toLowerCase())||R.code.toLowerCase().includes(t.toLowerCase()),M=o==="all"||R.segment_id===o;return D&&M}),w=R=>{s(R),a(!0)},_=R=>{h(D=>D.includes(R)?D.filter(M=>M!==R):[...D,R])},E=()=>{f.length===y.length&&y.length>0?h([]):h(y.map(R=>R.id))},A=async(R,D)=>{if(window.confirm(`tes-vous sr de vouloir supprimer la ville "${D}" ?`))try{await b.mutateAsync(R)}catch(M){console.error("Erreur lors de la suppression:",M),alert("Erreur lors de la suppression de la ville")}},T=async()=>{if(f.length===0){alert("Veuillez slectionner au moins une ville  supprimer");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${f.length} ville(s) slectionne(s) ?

Cette action est irrversible.`))try{for(const R of f)await b.mutateAsync(R);h([])}catch(R){console.error("Erreur lors de la suppression en masse:",R),alert("Erreur lors de la suppression des villes")}},O=()=>{a(!1),s(null)};return l.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[l.jsxs("div",{className:"mb-4 sm:mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour au tableau de bord",children:l.jsx(da,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),l.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Js,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-green-600"}),l.jsx("span",{className:"truncate",children:"Gestion des Villes"})]})]}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2 ml-10 sm:ml-12 md:ml-14",children:"Grer les villes et leur affectation"})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[l.jsxs("div",{className:"relative flex-1 md:w-80",children:[l.jsx(Km,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Rechercher une ville...",value:t,onChange:R=>r(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),l.jsxs("select",{value:o,onChange:R=>u(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"Tous les segments"}),x.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[f.length>0&&l.jsxs("button",{onClick:T,className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Na,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsxs("span",{className:"text-sm sm:text-base",children:["Supprimer (",f.length,")"]})]}),l.jsxs("button",{onClick:()=>a(!0),className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(bi,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{className:"text-sm sm:text-base",children:"Nouvelle Ville"})]})]})]})}),g?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]}):y.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[l.jsx(Js,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg",children:t||o!=="all"?"Aucune ville trouve":"Aucune ville enregistre"}),l.jsx("p",{className:"text-gray-400 mt-2",children:t||o!=="all"?"Essayez de modifier vos critres de recherche":"Commencez par crer une nouvelle ville"})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:f.length===y.length&&y.length>0,onChange:E,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom de la ville"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(R=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:f.includes(R.id),onChange:()=>_(R.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.code})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Js,{className:"w-4 h-4 text-green-600 mr-2"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.name})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:R.segment_name||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString("fr-FR")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>w(R.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:l.jsx(Jy,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>A(R.id,R.name),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:l.jsx(Na,{className:"w-4 h-4"})})]})})]},R.id))})]})}),l.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",y.length," ville(s)",o!=="all"&&" filtre(s)"]})})]}),n&&l.jsx(Zne,{cityId:i,onClose:O})]})}const ao={async getAll(){return lt.get("/profiles")},async getById(e){try{return await lt.get(`/profiles/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return lt.post("/profiles",e)},async update(e){const{id:t,...r}=e;return lt.put(`/profiles/${t}`,r)},async delete(e){return lt.delete(`/profiles/${e}`)}};function eae(e){return pr({queryKey:["users",e],queryFn:async()=>{const t=await ao.getAll();return!e||e==="all"?t:t.filter(r=>r.role===e)}})}function tae(){const e=qt();return Kt({mutationFn:async t=>{const r=Rd();return ao.create({id:r,...t})},onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function rae(){const e=qt();return Kt({mutationFn:t=>ao.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["user"]})}})}function nae(){const e=qt();return Kt({mutationFn:t=>ao.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})}})}function aae(){const e=qt();return Kt({mutationFn:async t=>ao.update({id:t.user_id,segment_ids:t.segment_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function iae(){const e=qt();return Kt({mutationFn:async t=>ao.update({id:t.user_id,city_ids:t.city_ids}),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["user",r.user_id]}),e.invalidateQueries({queryKey:["users"]})}})}function rL(){return pr({queryKey:["segments"],queryFn:()=>Id.getAll()})}function sae(){return pr({queryKey:["cities"],queryFn:()=>Sc.getAll()})}function lae(e){return pr({queryKey:["user",e,"segments"],queryFn:async()=>{const t=await ao.getById(e);return!t||!t.segment_ids?[]:(await Id.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e})}function oae(e){return pr({queryKey:["user",e,"cities"],queryFn:async()=>{const t=await ao.getById(e);return!t||!t.city_ids?[]:(await Sc.getAll()).filter(n=>t.city_ids?.includes(n.id))},enabled:!!e})}const cae=()=>{const[e,t]=C.useState("all"),[r,n]=C.useState(!1),[a,i]=C.useState(!1),[s,o]=C.useState(!1),[u,f]=C.useState(!1),[h,p]=C.useState(null),{data:g,isLoading:x}=eae(e),b=tae(),y=rae(),w=nae(),_=async T=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{await w.mutateAsync(T)}catch(O){console.error("Error deleting user:",O),alert("Erreur lors de la suppression")}},E=T=>{const R={admin:{label:"Administrateur",color:"bg-red-100 text-red-800",icon:V4},professor:{label:"Professeur",color:"bg-blue-100 text-blue-800",icon:Ox},gerant:{label:"Grant",color:"bg-green-100 text-green-800",icon:is}}[T];if(!R)return null;const D=R.icon;return l.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${R.color}`,children:[l.jsx(D,{className:"w-3.5 h-3.5"}),R.label]})},A={total:g?.length||0,admin:g?.filter(T=>T.role==="admin").length||0,professor:g?.filter(T=>T.role==="professor").length||0,gerant:g?.filter(T=>T.role==="gerant").length||0};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 flex-col sm:flex-row w-full sm:w-auto",children:[l.jsx(La,{to:"/dashboard",children:l.jsxs(rt,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Retour"]})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Crer et grer les comptes utilisateurs (admin, professeur, grant)"})]})]}),l.jsxs(rt,{onClick:()=>n(!0),className:"w-full sm:w-auto",children:[l.jsx(bi,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]})})}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.total}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-red-600",children:A.admin}),l.jsx("p",{className:"text-sm text-gray-600",children:"Administrateurs"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A.professor}),l.jsx("p",{className:"text-sm text-gray-600",children:"Professeurs"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.gerant}),l.jsx("p",{className:"text-sm text-gray-600",children:"Grants"})]})})})]}),l.jsxs(dn,{className:"mb-6",children:[l.jsx(cf,{children:l.jsx(uf,{children:"Filtrer par rle"})}),l.jsx(hn,{children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(rt,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),children:["Tous (",A.total,")"]}),l.jsxs(rt,{variant:e==="admin"?"default":"outline",size:"sm",onClick:()=>t("admin"),children:["Administrateurs (",A.admin,")"]}),l.jsxs(rt,{variant:e==="professor"?"default":"outline",size:"sm",onClick:()=>t("professor"),children:["Professeurs (",A.professor,")"]}),l.jsxs(rt,{variant:e==="gerant"?"default":"outline",size:"sm",onClick:()=>t("gerant"),children:["Grants (",A.gerant,")"]})]})})]}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:x?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):!g||g.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(is,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Aucun utilisateur trouv"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom complet"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom d'utilisateur"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.full_name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.username}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(T.role)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleDateString("fr-FR")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(T.role==="professor"||T.role==="gerant")&&l.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{p(T),o(!0)},title:"Assigner segments",children:l.jsx(cu,{className:"w-4 h-4"})}),(T.role==="professor"||T.role==="gerant")&&l.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{p(T),f(!0)},title:"Assigner villes",children:l.jsx(Js,{className:"w-4 h-4"})}),l.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{p(T),i(!0)},children:l.jsx(WD,{className:"w-4 h-4"})}),l.jsx(rt,{variant:"outline",size:"sm",onClick:()=>_(T.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Na,{className:"w-4 h-4"})})]})})]},T.id))})]})})})})]}),r&&l.jsx(uae,{onClose:()=>n(!1),createUser:b}),a&&h&&l.jsx(fae,{user:h,onClose:()=>{i(!1),p(null)},updateUser:y}),s&&h&&l.jsx(dae,{user:h,onClose:()=>{o(!1),p(null)}}),u&&h&&l.jsx(hae,{user:h,onClose:()=>{f(!1),p(null)}})]})},uae=({onClose:e,createUser:t})=>{const[r,n]=C.useState({username:"",password:"",full_name:"",role:"professor"}),[a,i]=C.useState(!1),s=async o=>{if(o.preventDefault(),!r.username||!r.password||!r.full_name){alert("Veuillez remplir tous les champs");return}try{await t.mutateAsync(r),e()}catch(u){console.error("Error creating user:",u),alert("Erreur lors de la cration de l'utilisateur")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nouvel utilisateur"}),l.jsxs("form",{onSubmit:s,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:r.full_name,onChange:o=>n({...r,full_name:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jean Dupont",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:r.username,onChange:o=>n({...r,username:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jeandupont",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mot de passe ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a?"text":"password",value:r.password,onChange:o=>n({...r,password:o.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:a?l.jsx(Hs,{className:"w-5 h-5"}):l.jsx(As,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rle ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:r.role,onChange:o=>n({...r,role:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[l.jsx("option",{value:"professor",children:"Professeur"}),l.jsx("option",{value:"gerant",children:"Grant"}),l.jsx("option",{value:"admin",children:"Administrateur"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:e,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:t.isPending,children:t.isPending?"Cration...":"Crer"})]})]})]})})},fae=({user:e,onClose:t,updateUser:r})=>{const[n,a]=C.useState({username:e.username,password:"",full_name:e.full_name,role:e.role}),[i,s]=C.useState(!1),o=async u=>{u.preventDefault();try{const f={id:e.id,username:n.username,full_name:n.full_name,role:n.role};n.password&&(f.password=n.password),await r.mutateAsync(f),t()}catch(f){console.error("Error updating user:",f),alert("Erreur lors de la mise  jour")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Modifier l'utilisateur"}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),l.jsx("input",{type:"text",value:n.full_name,onChange:u=>a({...n,full_name:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),l.jsx("input",{type:"text",value:n.username,onChange:u=>a({...n,username:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe (laisser vide pour ne pas modifier)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:i?"text":"password",value:n.password,onChange:u=>a({...n,password:u.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),l.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:i?l.jsx(Hs,{className:"w-5 h-5"}):l.jsx(As,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),l.jsxs("select",{value:n.role,onChange:u=>a({...n,role:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"professor",children:"Professeur"}),l.jsx("option",{value:"gerant",children:"Grant"}),l.jsx("option",{value:"admin",children:"Administrateur"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:r.isPending,children:r.isPending?"Mise  jour...":"Mettre  jour"})]})]})]})})},dae=({user:e,onClose:t})=>{const{data:r}=rL(),{data:n}=lae(e.id),a=aae(),[i,s]=C.useState([]);xd.useEffect(()=>{n&&s(n.map(f=>f.id))},[n]);const o=async f=>{f.preventDefault();try{await a.mutateAsync({user_id:e.id,segment_ids:i,role:e.role}),t()}catch(h){console.error("Error assigning segments:",h),alert("Erreur lors de l'assignation")}},u=f=>{s(h=>h.includes(f)?h.filter(p=>p!==f):[...h,f])};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des segments  ",e.full_name]}),l.jsxs("form",{onSubmit:o,children:[l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(f=>l.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.includes(f.id),onChange:()=>u(f.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("div",{className:"flex-1",children:l.jsx("span",{className:"font-medium text-gray-900",children:f.name})}),l.jsx("div",{className:"w-4 h-4 rounded-full ml-2",style:{backgroundColor:f.color}})]},f.id))}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:a.isPending,children:a.isPending?"Assignation...":"Assigner"})]})]})]})})},hae=({user:e,onClose:t})=>{const{data:r}=sae(),{data:n}=rL(),{data:a}=oae(e.id),i=iae(),[s,o]=C.useState([]);xd.useEffect(()=>{a&&o(a.map(p=>p.id))},[a]);const u=async p=>{p.preventDefault();try{await i.mutateAsync({user_id:e.id,city_ids:s,role:e.role}),t()}catch(g){console.error("Error assigning cities:",g),alert("Erreur lors de l'assignation")}},f=p=>{o(g=>g.includes(p)?g.filter(x=>x!==p):[...g,p])},h=p=>n?.find(g=>g.id===p)?.name||"";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Assigner des villes  ",e.full_name]}),l.jsxs("form",{onSubmit:u,children:[l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:r?.map(p=>l.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.includes(p.id),onChange:()=>f(p.id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-medium text-gray-900",children:p.name}),l.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",h(p.segment_id),")"]})]})]},p.id))}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:i.isPending,children:i.isPending?"Assignation...":"Assigner"})]})]})]})})};class mae{input="";pos=0;currentChar=null;parse(t){try{if(this.input=t.trim(),this.pos=0,this.currentChar=this.input.length>0?this.input[0]:null,!this.currentChar)return{success:!1,error:"Expression vide"};const r=this.parseExpression();return this.skipWhitespace(),this.currentChar!==null?{success:!1,error:`Caractre inattendu: ${this.currentChar}`}:{success:!0,ast:r}}catch(r){return{success:!1,error:r.message||"Erreur de parsing"}}}advance(){this.pos++,this.currentChar=this.pos<this.input.length?this.input[this.pos]:null}peek(t=1){const r=this.pos+t;return r<this.input.length?this.input[r]:null}skipWhitespace(){for(;this.currentChar&&/\s/.test(this.currentChar);)this.advance()}parseExpression(){let t=this.parseTerm();for(this.skipWhitespace();this.currentChar==="+"||this.currentChar==="-";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseTerm();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parseTerm(){let t=this.parseFactor();for(this.skipWhitespace();this.currentChar==="*"||this.currentChar==="/";){const r=this.currentChar;this.advance(),this.skipWhitespace();const n=this.parseFactor();this.skipWhitespace(),t={type:"binary",operator:r,left:t,right:n}}return t}parsePostfix(){let t=this.parsePrimary();return this.skipWhitespace(),this.currentChar==="%"&&(this.advance(),t={type:"postfix",operator:"%",operand:t}),t}parseFactor(){let t=this.parseUnary();for(this.skipWhitespace();this.currentChar==="^";){this.advance(),this.skipWhitespace();const r=this.parseUnary();this.skipWhitespace(),t={type:"binary",operator:"^",left:t,right:r}}return t}parseUnary(){if(this.currentChar==="-"||this.currentChar==="+"){const t=this.currentChar;this.advance();const r=this.parseUnary();return{type:"unary",operator:t,operand:r}}return this.parsePostfix()}parsePrimary(){if(this.skipWhitespace(),this.currentChar&&/[0-9.]/.test(this.currentChar))return this.parseNumber();if(this.currentChar==='"')return this.parseString();if(this.currentChar&&/[A-Za-z_]/.test(this.currentChar))return this.parseIdentifier();if(this.currentChar==="("){this.advance();const t=this.parseExpression();if(this.skipWhitespace(),this.currentChar!==")")throw new Error("Parenthse fermante manquante");return this.advance(),t}if(this.currentChar===">"||this.currentChar==="<"||this.currentChar==="=")return this.parseComparison();throw new Error(`Caractre inattendu: ${this.currentChar}`)}parseNumber(){let t="",r=!1;for(;this.currentChar&&(/[0-9]/.test(this.currentChar)||this.currentChar===".");){if(this.currentChar==="."){if(r)throw new Error("Nombre invalide: deux points dcimaux");r=!0}t+=this.currentChar,this.advance()}const n=parseFloat(t);if(isNaN(n))throw new Error(`Nombre invalide: ${t}`);return{type:"number",value:n}}parseString(){this.advance();let t="";for(;this.currentChar&&this.currentChar!=='"';)this.currentChar==="\\"&&this.peek()==='"'?(this.advance(),t+='"',this.advance()):(t+=this.currentChar,this.advance());if(this.currentChar!=='"')throw new Error("Guillemet fermant manquant");return this.advance(),{type:"string",value:t}}parseIdentifier(){let t="";for(;this.currentChar&&/[A-Za-z0-9_]/.test(this.currentChar);)t+=this.currentChar,this.advance();return this.skipWhitespace(),t.toUpperCase()==="TRUE"?{type:"boolean",value:!0}:t.toUpperCase()==="FALSE"?{type:"boolean",value:!1}:this.currentChar==="("?this.parseFunction(t):{type:"reference",name:t}}parseFunction(t){this.advance();const r=[];if(this.skipWhitespace(),this.currentChar===")")return this.advance(),{type:"function",name:t.toUpperCase(),args:r};for(;;){if(r.push(this.parseExpression()),this.skipWhitespace(),this.currentChar===")"){this.advance();break}if(this.currentChar===","){this.advance(),this.skipWhitespace();continue}throw new Error("Virgule ou parenthse fermante attendue dans la fonction")}return{type:"function",name:t.toUpperCase(),args:r}}parseComparison(){throw new Error("Comparaisons not yet implemented")}}function nL(e){return new mae().parse(e)}const s_={SUM:e=>{let t=0;for(const r of e)if(typeof r=="number")t+=r;else if(typeof r=="string"){const n=parseFloat(r);isNaN(n)||(t+=n)}return t},AVG:e=>{if(e.length===0)return"#ERR";const t=s_.SUM(e);return typeof t=="number"?t/e.length:"#ERR"},MIN:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.min(...t):"#ERR"},MAX:e=>{const t=e.filter(r=>typeof r=="number");return t.length>0?Math.max(...t):"#ERR"},COUNT:e=>e.filter(t=>t!=null).length,IF:e=>{if(e.length<2)return"#ERR";const t=e[0],r=e[1],n=e.length>2?e[2]:null;return t?r:n},ROUND:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0])),r=e.length>1&&typeof e[1]=="number"?e[1]:0;if(isNaN(t))return"#TYPE!";const n=Math.pow(10,r);return Math.round(t*n)/n},FLOOR:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.floor(t)},CEIL:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.ceil(t)},ABS:e=>{if(e.length===0)return"#ERR";const t=typeof e[0]=="number"?e[0]:parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":Math.abs(t)},LEN:e=>e.length===0?"#ERR":String(e[0]||"").length,CONCAT:e=>e.map(t=>String(t||"")).join(""),COALESCE:e=>{for(const t of e)if(t!=null&&t!=="")return t;return null},TODAY:()=>new Date().toISOString().split("T")[0],DATE:e=>{if(e.length<3)return"#ERR";const t=Number(e[0]),r=Number(e[1]),n=Number(e[2]);return isNaN(t)||isNaN(r)||isNaN(n)?"#TYPE!":new Date(t,r-1,n).toISOString().split("T")[0]},YEAR:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getFullYear()},MONTH:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getMonth()+1},DAY:e=>{if(e.length===0)return"#ERR";const t=String(e[0]),r=new Date(t);return isNaN(r.getTime())?"#TYPE!":r.getDate()},NUMBER:e=>{if(e.length===0)return"#ERR";const t=parseFloat(String(e[0]));return isNaN(t)?"#TYPE!":t}};class pae{context;constructor(t={}){this.context=t}setContext(t){this.context=t}evaluate(t){try{const r=this.evaluateNode(t),n=typeof r=="string"&&r.startsWith("#");return{value:r,isError:n}}catch{return{value:"#ERR",isError:!0}}}evaluateNode(t){switch(t.type){case"number":return t.value;case"string":return t.value;case"boolean":return t.value;case"reference":return this.evaluateReference(t.name);case"binary":return this.evaluateBinary(t.operator,t.left,t.right);case"unary":return this.evaluateUnary(t.operator,t.operand);case"postfix":return this.evaluatePostfix(t.operator,t.operand);case"function":return this.evaluateFunction(t.name,t.args);case"error":return t.error;default:return"#ERR"}}evaluateReference(t){return t in this.context?this.context[t]:"#REF!"}evaluateBinary(t,r,n){const a=this.evaluateNode(r),i=this.evaluateNode(n);if(typeof a=="string"&&a.startsWith("#"))return a;if(typeof i=="string"&&i.startsWith("#"))return i;const s=typeof a=="number"?a:parseFloat(String(a)),o=typeof i=="number"?i:parseFloat(String(i));if(isNaN(s)||isNaN(o))return"#TYPE!";switch(t){case"+":return s+o;case"-":return s-o;case"*":return s*o;case"/":return o===0?"#DIV/0!":s/o;case"^":return Math.pow(s,o);case">":return s>o;case"<":return s<o;case">=":return s>=o;case"<=":return s<=o;case"=":case"==":return s===o;case"!=":case"<>":return s!==o;default:return"#ERR"}}evaluateUnary(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"-":return-a;case"+":return a;default:return"#ERR"}}evaluatePostfix(t,r){const n=this.evaluateNode(r);if(typeof n=="string"&&n.startsWith("#"))return n;const a=typeof n=="number"?n:parseFloat(String(n));if(isNaN(a))return"#TYPE!";switch(t){case"%":return a/100;default:return"#ERR"}}evaluateFunction(t,r){const n=t.toUpperCase();if(!(n in s_))return"#ERR";const a=[];for(const i of r){const s=this.evaluateNode(i);if(typeof s=="string"&&s.startsWith("#")&&!["SUM","COUNT","COALESCE"].includes(n))return s;a.push(s)}return s_[n](a)}}function xae(e,t={}){return new pae(t).evaluate(e)}class gae{graph={nodes:new Set,edges:new Map,reversEdges:new Map};buildGraph(t){this.graph={nodes:new Set,edges:new Map,reversEdges:new Map};for(const r of t)r.ref&&(this.graph.nodes.add(r.ref),this.graph.edges.set(r.ref,new Set),this.graph.reversEdges.set(r.ref,new Set));for(const r of t)if(r.type==="formula"&&r.ref&&r.props.expression){const n=this.extractDependencies(r.props.expression);this.graph.edges.set(r.ref,new Set(n));for(const a of n)this.graph.reversEdges.has(a)||this.graph.reversEdges.set(a,new Set),this.graph.reversEdges.get(a).add(r.ref)}}extractDependencies(t){const r=[],n=nL(t);return n.success&&n.ast&&this.extractReferencesFromAST(n.ast,r),[...new Set(r)]}extractReferencesFromAST(t,r){if(t){if(t.type==="reference")r.push(t.name);else if(t.type==="binary")this.extractReferencesFromAST(t.left,r),this.extractReferencesFromAST(t.right,r);else if(t.type==="unary")this.extractReferencesFromAST(t.operand,r);else if(t.type==="postfix")this.extractReferencesFromAST(t.operand,r);else if(t.type==="function")for(const n of t.args)this.extractReferencesFromAST(n,r)}}detectCycle(){const t=new Set,r=new Set,n=[];for(const a of this.graph.nodes)if(!t.has(a)&&this.detectCycleDFS(a,t,r,n))return n;return null}detectCycleDFS(t,r,n,a){r.add(t),n.add(t),a.push(t);const i=this.graph.edges.get(t)||new Set;for(const s of i)if(r.has(s)){if(n.has(s))return a.push(s),!0}else if(this.detectCycleDFS(s,r,n,a))return!0;return n.delete(t),a.pop(),!1}getEvaluationOrder(){if(this.detectCycle())return null;const r=new Set,n=[];for(const a of this.graph.nodes)r.has(a)||this.topologicalSortDFS(a,r,n);return n.reverse()}topologicalSortDFS(t,r,n){r.add(t);const a=this.graph.reversEdges.get(t)||new Set;for(const i of a)r.has(i)||this.topologicalSortDFS(i,r,n);n.push(t)}getDependents(t){const r=new Set,n=[t];for(;n.length>0;){const a=n.shift(),i=this.graph.reversEdges.get(a)||new Set;for(const s of i)r.has(s)||(r.add(s),n.push(s))}return r}}function _3(e,t={}){const r=new gae;r.buildGraph(e);const n=r.detectCycle();if(n){const s={...t};for(const o of n)s[o]="#CYCLE!";return s}const a=r.getEvaluationOrder();if(!a)return t;const i={...t};for(const s of a){const o=e.find(u=>u.ref===s);if(o)if(o.type==="formula"&&o.props.expression){const u=nL(o.props.expression);if(!u.success||!u.ast){i[s]="#ERR";continue}const f=xae(u.ast,i);i[s]=f.value}else o.type==="number"&&i[s]===void 0?i[s]=o.props.default!==void 0?o.props.default:0:o.type==="text"&&i[s]===void 0&&(i[s]=o.props.default!==void 0?o.props.default:"")}return i}const jc={async getAll(){return lt.get("/calculation-sheets")},async getById(e){try{return await lt.get(`/calculation-sheets/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return lt.post("/calculation-sheets",e)},async update(e){const{id:t,...r}=e;return lt.put(`/calculation-sheets/${t}`,r)},async delete(e){return lt.delete(`/calculation-sheets/${e}`)}},vae=()=>pr({queryKey:["calculation-sheets"],queryFn:()=>jc.getAll()}),aL=e=>pr({queryKey:["calculation-sheet",e],queryFn:()=>jc.getById(e),enabled:!!e}),yae=()=>{const e=qt();return Kt({mutationFn:async t=>{const r=Rd(),n=new Date().toISOString();return jc.create({id:r,title:t.title,template_data:t.template_data||"{}",status:t.status||"draft",sheet_date:t.sheet_date||n,segment_ids:t.segment_ids,city_ids:t.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},iL=()=>{const e=qt();return Kt({mutationFn:t=>jc.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},bae=()=>{const e=qt();return Kt({mutationFn:t=>jc.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})},wae=()=>{const e=qt();return Kt({mutationFn:async t=>{const r=await jc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=r.status==="published"?"draft":"published";return jc.update({id:t,title:r.title,template_data:r.template_data,status:n,sheet_date:r.sheet_date,segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]}),e.invalidateQueries({queryKey:["calculation-sheet"]})}})},_ae=wae,Nae=()=>{const e=qt();return Kt({mutationFn:async t=>{const r=await jc.getById(t);if(!r)throw new Error("Fiche non trouve");const n=Rd();return jc.create({id:n,title:`${r.title} (copie)`,template_data:r.template_data,status:"draft",sheet_date:new Date().toISOString(),segment_ids:r.segment_ids,city_ids:r.city_ids})},onSuccess:()=>{e.invalidateQueries({queryKey:["calculation-sheets"]})}})};function Sae(){const{id:e}=Tc(),[t,r]=k$(),n=t.get("mode")||"user",{data:a,isLoading:i}=aL(e||""),[s,o]=C.useState([]),[u,f]=C.useState("Fiche de Calcul"),[h,p]=C.useState({}),[g,x]=C.useState({}),[b,y]=C.useState(null),[w,_]=C.useState({}),[E]=C.useState({width:1200,height:800});C.useEffect(()=>{if(a&&(f(a.title),a.template_data))try{const D=JSON.parse(a.template_data);D.fields&&D.fields.length>0&&o(D.fields)}catch(D){console.error("Erreur lors du chargement du template:",D)}},[a]),C.useEffect(()=>{const D=_3(s,h);x(D)},[h,s]);const A=(D,M)=>{const B=s.find(I=>I.ref===D);if(!B)return;let G=M;B.type==="number"&&(G=M===""?0:parseFloat(M)||0),p(I=>({...I,[D]:G}))},T=(D,M)=>{_(B=>({...B,[D]:M}))},O=()=>{const D={values:h,calculatedValues:g,timestamp:new Date().toISOString()};localStorage.setItem("calculation_sheet_data",JSON.stringify(D)),y("Donnes sauvegardes avec succs!"),setTimeout(()=>y(null),3e3)};C.useEffect(()=>{const D=localStorage.getItem("calculation_sheet_data");if(D)try{const M=JSON.parse(D);p(M.values||{})}catch(M){console.error("Erreur lors du chargement des donnes:",M)}},[]);const R=D=>{const M=D.layout||{x:0,y:0,w:200,h:40};if(n==="user"&&D.visibility?.hidden)return null;const B=D.visibility?.hidden;if(D.type==="label")return l.jsxs("div",{className:`absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700 ${B?"opacity-60 ring-2 ring-red-400":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:[B&&n==="admin"&&l.jsx(Hs,{className:"w-4 h-4 mr-2 text-red-500"}),D.props.label]},D.id);if(D.type==="text"){const G=h[D.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return l.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:l.jsx("input",{type:"text",value:I,onChange:z=>A(D.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})},D.id)}if(D.type==="textarea"){const G=h[D.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return l.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:l.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx(Hs,{className:"w-4 h-4 text-red-500"})}),l.jsx("textarea",{value:I,onChange:z=>A(D.ref,z.target.value),placeholder:D.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]})},D.id)}if(D.type==="number"){const G=h[D.ref]!==void 0?h[D.ref]:D.props.default||0,I=typeof G=="number"||typeof G=="string"?G:"";return l.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:l.jsxs("div",{className:"relative w-full h-full",children:[B&&n==="admin"&&l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-10",children:l.jsx(Hs,{className:"w-4 h-4 text-red-500"})}),l.jsx("input",{type:"number",step:"0.01",value:I,onChange:z=>A(D.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})},D.id)}if(D.type==="formula"){const G=g[D.ref],I=typeof G=="string"&&G.startsWith("#");return l.jsx("div",{className:`absolute flex items-center ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:l.jsxs("div",{className:`relative w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${I?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:[B&&n==="admin"&&l.jsx(Hs,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),typeof G=="number"?G.toFixed(D.props.decimals||2):String(G||"0")]})},D.id)}if(D.type==="frame")return l.jsx("div",{className:`absolute border-2 border-orange-400 rounded-lg bg-orange-50/30 ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:l.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm flex items-center",children:[B&&n==="admin"&&l.jsx(Hs,{className:"w-3 h-3 mr-2"}),D.props.label||"Cadre"]})},D.id);if(D.type==="file"){const G=w[D.ref];return l.jsx("div",{className:`absolute ${B?"ring-2 ring-red-400 opacity-60":""}`,style:{left:`${M.x}px`,top:`${M.y}px`,width:`${M.w}px`,height:`${M.h}px`},children:G?l.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex items-center justify-between gap-2",children:[B&&n==="admin"&&l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Hs,{className:"w-4 h-4 text-red-500"})}),l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx(Zs,{className:"w-5 h-5 text-teal-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-teal-900 truncate",children:G.name}),l.jsxs("div",{className:"text-xs text-teal-600",children:[(G.size/1024/1024).toFixed(2)," MB"]})]})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx("button",{onClick:()=>{const I=URL.createObjectURL(G);window.open(I,"_blank")},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Prvisualiser",children:l.jsx(As,{className:"w-4 h-4 text-teal-700"})}),l.jsx("button",{onClick:()=>{const I=URL.createObjectURL(G),z=document.createElement("a");z.href=I,z.download=G.name,z.click(),URL.revokeObjectURL(I)},className:"p-1.5 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:l.jsx(Qs,{className:"w-4 h-4 text-teal-700"})}),l.jsx("button",{onClick:()=>T(D.ref,null),className:"p-1.5 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:l.jsx(kl,{className:"w-4 h-4 text-red-600"})})]})]}):l.jsxs("label",{className:"w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 flex flex-col items-center justify-center cursor-pointer hover:bg-teal-100/50 transition-colors relative",children:[B&&n==="admin"&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(Hs,{className:"w-4 h-4 text-red-500"})}),l.jsx(hg,{className:"w-6 h-6 text-teal-600 mb-1"}),l.jsx("span",{className:"text-sm font-medium text-teal-700",children:D.props.label||"Tlcharger un fichier"}),l.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[D.props.accept||"Tous les fichiers"," (max ",D.props.maxSize||5," MB)"]}),l.jsx("input",{type:"file",accept:D.props.accept,onChange:I=>{const z=I.target.files?.[0];if(z){const K=(D.props.maxSize||5)*1024*1024;if(z.size>K){alert(`Le fichier est trop volumineux. Taille maximum: ${D.props.maxSize||5} MB`);return}T(D.ref,z)}},className:"hidden"})]})},D.id)}return null};return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Chargement de la fiche..."})]})}):!a||s.length===0?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(cu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucune fiche trouve"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Cette fiche n'existe pas ou n'a pas encore de champs."}),l.jsxs(La,{to:"/admin/calculation-sheets",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(da,{className:"w-4 h-4"}),"Retour  la liste"]})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-3 sm:py-4",children:l.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 w-full lg:w-auto",children:[l.jsx(La,{to:"/admin/calculation-sheets",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Retour  la liste",children:l.jsx(da,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[l.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 truncate",children:u}),l.jsx("span",{className:`px-2.5 sm:px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 w-fit ${n==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:n==="admin"?l.jsxs(l.Fragment,{children:[l.jsx(V4,{className:"w-3 h-3"}),"Mode Admin"]}):l.jsxs(l.Fragment,{children:[l.jsx(Ox,{className:"w-3 h-3"}),"Mode Utilisateur"]})})]}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:n==="admin"?"Tous les champs visibles - Simulation complte":"Mode Test - Vrifiez vos calculs"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 w-full lg:w-auto",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r({mode:"admin"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="admin"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(V4,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),l.jsxs("button",{onClick:()=>r({mode:"user"}),className:`flex-1 sm:flex-none px-3 py-2 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${n==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(Ox,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Utilisateur"})]})]}),b&&l.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 sm:px-4 py-2 rounded-lg",children:[l.jsx(UD,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),l.jsx("span",{className:"text-xs sm:text-sm font-medium",children:b})]}),l.jsxs("button",{onClick:O,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[l.jsx(dg,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{children:"Sauvegarder Test"})]}),l.jsxs(La,{to:`/admin/calculation-sheets/${e}/editor`,className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm sm:text-base",children:[l.jsx(fg,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{children:"Modifier"})]})]})]})}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:l.jsx("div",{className:"relative bg-white",style:{width:`${E.width}px`,minHeight:`${E.height}px`},children:s.map(D=>R(D))})}),l.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[l.jsx(cu,{className:"w-5 h-5"}),"Mode Test - Comment utiliser"]}),l.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[l.jsxs("p",{children:[" Saisissez des valeurs dans les champs ",l.jsx("strong",{children:"Nombre"})," et ",l.jsx("strong",{children:"Texte"})]}),l.jsx("p",{children:" Les formules se calculent automatiquement en temps rel"}),l.jsx("p",{children:" Vrifiez que les calculs sont corrects avant d'utiliser en production"}),l.jsx("p",{children:` Cliquez sur "Modifier" pour retourner  l'diteur et ajuster les champs`}),l.jsx("p",{children:" Les donnes de test sont sauvegardes temporairement"})]})]})]})]})}function jae(){const e=$n(),[t,r]=C.useState(!1),[n,a]=C.useState(null),{data:i=[],isLoading:s}=vae(),{data:o=[]}=Bd(),{data:u=[]}=Jm(),f=bae(),h=_ae(),p=Nae(),g=i.map(_=>({..._,segments:o.filter(E=>_.segment_ids?.includes(E.id)),cities:u.filter(E=>_.city_ids?.includes(E.id))})),x=async(_,E)=>{if(window.confirm(`tes-vous sr de vouloir supprimer "${E}" ?`))try{await f.mutateAsync(_)}catch(A){console.error("Erreur lors de la suppression:",A),alert("Erreur lors de la suppression de la fiche")}},b=async(_,E,A)=>{const T=E==="published"?"dpublier":"publier",O=E==="published"?`tes-vous sr de vouloir dpublier "${A}" ?

Les professeurs ne pourront plus l'utiliser.`:`tes-vous sr de vouloir publier "${A}" ?

Les professeurs pourront utiliser cette fiche.`;if(window.confirm(O))try{await h.mutateAsync(_)}catch(R){console.error(`Erreur lors de la ${T}ication:`,R),alert(`Erreur lors de la ${T}ication de la fiche`)}},y=async(_,E)=>{if(window.confirm(`Voulez-vous dupliquer "${E}" ?

Une copie en brouillon sera cre.`))try{await p.mutateAsync(_)}catch(A){console.error("Erreur lors de la duplication:",A),alert("Erreur lors de la duplication de la fiche")}},w=_=>{try{const E=JSON.parse(_.template_data),A={name:_.title,fields:E.fields||[],version:E.version||"1.0.0"},T=JSON.stringify(A,null,2),O=new Blob([T],{type:"application/json"}),R=URL.createObjectURL(O),D=document.createElement("a");D.href=R,D.download=`${_.title.replace(/\s+/g,"-").toLowerCase()}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(R)}catch(E){console.error("Erreur lors de l'export:",E),alert("Erreur lors de l'export de la fiche")}};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:l.jsx(da,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(U0,{className:"w-8 h-8 text-blue-600"}),"Gestion des Fiches de Calcul"]})]}),l.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[l.jsx(bi,{className:"w-5 h-5"}),"Nouvelle Fiche"]})]}),l.jsx("p",{className:"text-gray-600 ml-14",children:"Crer et grer les templates de fiches de calcul pour les sessions"})]}),s?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Chargement des fiches..."})]}):g.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[l.jsx(U0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune fiche cre"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire fiche de calcul"}),l.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[l.jsx(bi,{className:"w-5 h-5"}),"Crer ma premire fiche"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(_=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:_.title}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:_.status==="published"?"Publie":"Brouillon"})]}),l.jsx(cu,{className:"w-8 h-8 text-blue-500"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[l.jsx(PN,{className:"w-4 h-4"}),l.jsxs("span",{className:"font-medium",children:["Segments (",_.segments.length,")"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:_.segments.map(E=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),E.name]},E.id))})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-2",children:[l.jsx(Js,{className:"w-4 h-4"}),l.jsxs("span",{className:"font-medium",children:["Villes (",_.cities.length,")"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.cities.slice(0,3).map(E=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:E.name},E.id)),_.cities.length>3&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",_.cities.length-3," autres"]})]})]}),l.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Modifi le ",new Date(_.updated_at).toLocaleDateString("fr-FR")]}),l.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>b(_.id,_.status,_.title),disabled:h.isPending,className:`w-full px-3 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors ${_.status==="published"?"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200":"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200"}`,children:_.status==="published"?l.jsxs(l.Fragment,{children:[l.jsx(_d,{className:"w-4 h-4"}),"Dpublier"]}):l.jsxs(l.Fragment,{children:[l.jsx(hg,{className:"w-4 h-4"}),"Publier"]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(La,{to:`/admin/calculation-sheets/${_.id}`,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[l.jsx(As,{className:"w-4 h-4"}),"Voir"]}),l.jsx("button",{onClick:()=>a(_),className:"px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg text-sm transition-colors",title:"Modifier les informations",children:l.jsx(VD,{className:"w-4 h-4"})}),l.jsxs(La,{to:`/admin/calculation-sheets/${_.id}/editor`,className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",children:[l.jsx(fg,{className:"w-4 h-4"}),"Modifier"]})]}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsxs("button",{onClick:()=>w(_),className:"flex-1 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1 transition-colors",title:"Exporter en JSON",children:[l.jsx(Qs,{className:"w-4 h-4"}),"Exporter"]}),l.jsx("button",{onClick:()=>y(_.id,_.title),className:"px-3 py-2 bg-cyan-50 hover:bg-cyan-100 text-cyan-700 rounded-lg text-sm transition-colors",title:"Dupliquer",children:l.jsx(hx,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>x(_.id,_.title),className:"px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm transition-colors",title:"Supprimer",children:l.jsx(Na,{className:"w-4 h-4"})})]})]})]})},_.id))}),t&&l.jsx(Aae,{onClose:()=>r(!1)}),n&&l.jsx(Eae,{sheet:n,onClose:()=>a(null)})]})}function Aae({onClose:e}){const[t,r]=C.useState(1),[n,a]=C.useState(""),[i,s]=C.useState([]),[o,u]=C.useState([]),f=$n(),h=yae(),{data:p=[]}=Bd(),{data:g=[]}=Jm(),x=g.filter(y=>i.includes(y.segment_id)),b=async()=>{try{const y=await h.mutateAsync({title:n,segment_ids:i,city_ids:o});e(),f(`/admin/calculation-sheets/${y.id}/editor`)}catch(y){console.error("Erreur lors de la cration:",y),alert("Erreur lors de la cration de la fiche")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Crer une Fiche de Calcul"}),l.jsxs("p",{className:"text-green-100 text-sm",children:["tape ",t," sur 3"]})]}),l.jsx("button",{onClick:e,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[t===1&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),l.jsx("input",{type:"text",value:n,onChange:y=>a(y.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",autoFocus:!0})]})]}),t===2&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",i.length," slectionn",i.length>1?"s":"",")"]}),l.jsx("div",{className:"space-y-2",children:p.map(y=>l.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.includes(y.id),onChange:w=>{if(w.target.checked)s([...i,y.id]);else{s(i.filter(E=>E!==y.id));const _=g.filter(E=>E.segment_id===y.id).map(E=>E.id);u(o.filter(E=>!_.includes(E)))}},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:y.color}}),l.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name})]},y.id))})]}),t===3&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",o.length," slectionne",o.length>1?"s":"",")"]}),i.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):l.jsx("div",{className:"space-y-2",children:x.map(y=>l.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.includes(y.id),onChange:w=>{w.target.checked?u([...o,y.id]):u(o.filter(_=>_!==y.id))},className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),l.jsx(Js,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name}),l.jsx("span",{className:"text-sm text-gray-500",children:p.find(w=>w.id===y.segment_id)?.name})]},y.id))})]})]}),l.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[l.jsx("button",{onClick:()=>t>1?r(t-1):e(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:t===1?"Annuler":"Prcdent"}),l.jsx("button",{onClick:()=>{t<3?r(t+1):b()},disabled:t===1&&!n,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t===3?"Crer la fiche":"Suivant"})]})]})})}function Eae({sheet:e,onClose:t}){const[r,n]=C.useState(1),[a,i]=C.useState(e.title),[s,o]=C.useState(e.segment_ids||[]),[u,f]=C.useState(e.city_ids||[]),h=iL(),{data:p=[]}=Bd(),{data:g=[]}=Jm(),x=g.filter(y=>s.includes(y.segment_id)),b=async()=>{try{await h.mutateAsync({id:e.id,title:a,template_data:e.template_data,status:e.status,sheet_date:e.sheet_date,segment_ids:s,city_ids:u}),t()}catch(y){console.error("Erreur lors de la modification:",y),alert("Erreur lors de la modification de la fiche")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier la Fiche de Calcul"}),l.jsxs("p",{className:"text-purple-100 text-sm",children:["tape ",r," sur 3"]})]}),l.jsx("button",{onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-lg",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[r===1&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Informations gnrales"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la fiche"}),l.jsx("input",{type:"text",value:a,onChange:y=>i(y.target.value),placeholder:"Ex: Fiche Formation Professionnelle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]})]}),r===2&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les segments (",s.length," slectionn",s.length>1?"s":"",")"]}),l.jsx("div",{className:"space-y-2",children:p.map(y=>l.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.includes(y.id),onChange:w=>{if(w.target.checked)o([...s,y.id]);else{o(s.filter(E=>E!==y.id));const _=g.filter(E=>E.segment_id===y.id).map(E=>E.id);f(u.filter(E=>!_.includes(E)))}},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:y.color}}),l.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name})]},y.id))})]}),r===3&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-4",children:["Slectionner les villes (",u.length," slectionne",u.length>1?"s":"",")"]}),s.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Vous devez d'abord slectionner au moins un segment"}):x.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune ville disponible pour les segments slectionns"}):l.jsx("div",{className:"space-y-2",children:x.map(y=>l.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.includes(y.id),onChange:w=>{w.target.checked?f([...u,y.id]):f(u.filter(_=>_!==y.id))},className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),l.jsx(Js,{className:"w-4 h-4 text-purple-600"}),l.jsx("span",{className:"flex-1 font-medium text-gray-900",children:y.name}),l.jsx("span",{className:"text-sm text-gray-500",children:p.find(w=>w.id===y.segment_id)?.name})]},y.id))})]})]}),l.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between",children:[l.jsx("button",{onClick:()=>r>1?n(r-1):t(),className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",children:r===1?"Annuler":"Prcdent"}),l.jsx("button",{onClick:()=>{r<3?n(r+1):b()},disabled:r===1&&!a||h.isPending,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Sauvegarde...":r===3?"Enregistrer":"Suivant"})]})]})})}function kae(){const{id:e}=Tc(),t=$n(),[r,n]=C.useState([]),[a,i]=C.useState(null),[s,o]=C.useState(null),[u,f]=C.useState(null),[h,p]=C.useState(1),[g,x]=C.useState("Nouvelle Fiche"),[b,y]=C.useState(!0),[w,_]=C.useState(null),[E,A]=C.useState({width:1200,height:800}),T=C.useRef(null),O=iL(),{data:R}=aL(e||"");C.useEffect(()=>{if(R&&(R.title&&x(R.title),R.template_data))try{const L=JSON.parse(R.template_data);if(L.fields&&L.fields.length>0){n(L.fields);const q=Math.max(...L.fields.map(W=>{const Z=W.id.match(/field_(\d+)/);return Z?parseInt(Z[1]):0}));p(q+1)}}catch(L){console.error("Erreur lors du chargement des donnes:",L)}},[R]);const D=[{type:"label",icon:wV,label:"Label",color:"bg-gray-500"},{type:"text",icon:dV,label:"Texte",color:"bg-blue-500"},{type:"number",icon:qD,label:"Nombre",color:"bg-green-500"},{type:"formula",icon:cu,label:"Formule",color:"bg-purple-500"},{type:"textarea",icon:Ys,label:"Texte libre",color:"bg-indigo-500"},{type:"frame",icon:J$,label:"Cadre",color:"bg-orange-500"},{type:"file",icon:QH,label:"Pice jointe",color:"bg-teal-500"},{type:"link",icon:qv,label:"Lien",color:"bg-cyan-500"}],M=r.find(L=>L.id===a),B=(L,q,W)=>{const Z=`field_${h}`;p(h+1);const oe={id:Z,type:L,layout:{x:q,y:W,w:200,h:40}};switch(L){case"label":return{...oe,props:{label:"Nouveau label"}};case"text":return{...oe,ref:`TEXT_${h}`,props:{label:"Texte"}};case"number":return{...oe,ref:`NUM_${h}`,props:{label:"Nombre",decimals:2,default:0}};case"formula":return{...oe,ref:`FORMULA_${h}`,props:{label:"Formule",expression:"",decimals:2}};case"frame":return{...oe,props:{label:"Cadre"},children:[]};case"file":return{...oe,ref:`FILE_${h}`,props:{label:"Pice jointe",accept:".pdf,.jpg,.jpeg,.png",maxSize:5}};case"textarea":return{...oe,layout:{x:q,y:W,w:400,h:120},ref:`TEXTAREA_${h}`,props:{label:"Commentaires"}};case"link":return{...oe,props:{label:"Lien",url:"https://example.com"}};default:return oe}},G=L=>{o({type:L,isNew:!0})},I=(L,q)=>{const W=r.find(ae=>ae.id===q);if(!W)return;const Z=L.currentTarget.getBoundingClientRect(),oe=L.clientX-Z.left,ce=L.clientY-Z.top;o({type:W.type,isNew:!1,fieldId:q,offsetX:oe,offsetY:ce}),i(q)},z=L=>{L.preventDefault()},K=L=>{if(L.preventDefault(),!s||!T.current)return;const q=T.current.getBoundingClientRect(),W=Math.round((L.clientX-q.left-(s.offsetX||0))/10)*10,Z=Math.round((L.clientY-q.top-(s.offsetY||0))/10)*10;if(s.isNew){const oe=B(s.type,Math.max(0,W),Math.max(0,Z));n([...r,oe]),i(oe.id)}else s.fieldId&&n(r.map(oe=>oe.id===s.fieldId?{...oe,layout:{...oe.layout,x:Math.max(0,W),y:Math.max(0,Z)}}:oe));o(null)},J=L=>{if(s&&!s.isNew&&s.fieldId&&T.current){const q=T.current.getBoundingClientRect(),W=Math.round((L.clientX-q.left-(s.offsetX||0))/10)*10,Z=Math.round((L.clientY-q.top-(s.offsetY||0))/10)*10;n(r.map(oe=>oe.id===s.fieldId?{...oe,layout:{...oe.layout,x:Math.max(0,W),y:Math.max(0,Z)}}:oe))}if(u&&T.current){const q=T.current.getBoundingClientRect(),W=L.clientX-q.left,Z=L.clientY-q.top,oe=W-u.startX,ce=Z-u.startY;n(r.map(ae=>{if(ae.id!==u.fieldId)return ae;let Se=u.startW,De=u.startH;return u.direction==="se"?(Se=Math.max(100,u.startW+oe),De=Math.max(50,u.startH+ce)):u.direction==="s"?De=Math.max(50,u.startH+ce):u.direction==="e"&&(Se=Math.max(100,u.startW+oe)),{...ae,layout:{...ae.layout,w:Math.round(Se/10)*10,h:Math.round(De/10)*10}}}))}},pe=()=>{o(null),f(null)},ne=(L,q,W)=>{if(L.stopPropagation(),!T.current)return;const Z=r.find(ce=>ce.id===q);if(!Z)return;const oe=T.current.getBoundingClientRect();f({fieldId:q,direction:W,startX:L.clientX-oe.left,startY:L.clientY-oe.top,startW:Z.layout.w,startH:Z.layout.h})},le=(L,q,W)=>{n(r.map(Z=>{if(Z.id!==L)return Z;const oe=q.split(".");return oe.length===1?{...Z,[q]:W}:oe[0]==="props"?{...Z,props:{...Z.props,[oe[1]]:W}}:oe[0]==="layout"?{...Z,layout:{...Z.layout,[oe[1]]:W}}:Z}))},ve=L=>{n(r.filter(q=>q.id!==L)),a===L&&i(null)},ue=L=>{const q=r.find(Z=>Z.id===L);if(!q)return;const W={...q,id:`field_${h}`,ref:q.ref?`${q.ref}_COPY`:void 0,layout:{...q.layout,x:q.layout.x+20,y:q.layout.y+20}};p(h+1),n([...r,W]),i(W.id)},je=(L,q)=>{const W=r.findIndex(oe=>oe.id===L);if(W===-1)return;const Z=[...r];q==="up"&&W<r.length-1?[Z[W],Z[W+1]]=[Z[W+1],Z[W]]:q==="down"&&W>0&&([Z[W],Z[W-1]]=[Z[W-1],Z[W]]),n(Z)},te=async()=>{if(!e){alert("Aucun ID de fiche trouv");return}try{const L={name:g,fields:r,version:"1.0.0"};await O.mutateAsync({id:e,title:g,template_data:JSON.stringify(L),status:R?.status||"draft",sheet_date:R?.sheet_date||new Date().toISOString()}),_("Fiche sauvegarde avec succs!"),setTimeout(()=>_(null),3e3)}catch(L){console.error("Erreur lors de la sauvegarde:",L),alert("Erreur lors de la sauvegarde de la fiche")}},P=()=>{const q=JSON.stringify({name:g,fields:r,version:"1.0.0"},null,2),W=new Blob([q],{type:"application/json"}),Z=URL.createObjectURL(W),oe=document.createElement("a");oe.href=Z,oe.download=`${g.toLowerCase().replace(/\s+/g,"-")}.json`,oe.click(),URL.revokeObjectURL(Z)};return l.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[l.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:g,onChange:L=>x(L.target.value),className:"text-xl font-bold border-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1"}),l.jsxs("span",{className:"text-sm text-gray-500",children:[r.length," champ(s)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[w&&l.jsxs("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[l.jsx(ID,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:w})]}),l.jsx("button",{onClick:()=>y(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,title:"Grille",children:l.jsx(TH,{className:"w-5 h-5"})}),l.jsxs("button",{onClick:te,disabled:O.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(dg,{className:"w-5 h-5"}),O.isPending?"Sauvegarde...":"Sauvegarder"]}),l.jsxs("button",{onClick:P,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[l.jsx(Qs,{className:"w-5 h-5"}),"Exporter JSON"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=admin`),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[l.jsx(As,{className:"w-5 h-5"}),"Voir (Admin)"]}),l.jsxs("button",{onClick:()=>t(`/admin/calculation-sheets/${e}?mode=user`),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[l.jsx(As,{className:"w-5 h-5"}),"Voir (Utilisateur)"]})]}),l.jsx("button",{onClick:()=>t("/admin/calculation-sheets"),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",children:"Retour  la liste"})]})]}),l.jsxs("div",{className:"flex-1 flex min-h-0",children:[l.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Composants"}),l.jsx("div",{className:"space-y-2",children:D.map(L=>{const q=L.icon;return l.jsxs("div",{draggable:!0,onDragStart:()=>G(L.type),className:`${L.color} text-white rounded-lg p-3 cursor-move hover:opacity-90 transition-opacity flex items-center gap-2`,children:[l.jsx(q,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:L.label})]},L.type)})}),l.jsxs("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium mb-1",children:" Glisser-dposer"}),l.jsx("p",{className:"text-xs",children:"Faites glisser un composant sur le canvas pour l'ajouter"})]})]}),l.jsx("div",{className:"flex-1 bg-gray-100 overflow-auto p-4 min-w-0",children:l.jsxs("div",{ref:T,onDragOver:z,onDrop:K,onMouseMove:J,onMouseUp:pe,className:"relative bg-white rounded-lg shadow-sm",style:{width:`${E.width}px`,height:`${E.height}px`,backgroundImage:b?"linear-gradient(#e5e7eb 1px, transparent 1px), linear-gradient(90deg, #e5e7eb 1px, transparent 1px)":"none",backgroundSize:b?"20px 20px":"auto"},children:[r.map(L=>{const q=L.id===a,W=D.find(ce=>ce.type===L.type),Z=L.type==="frame",oe=L.visibility?.hidden;return Z?l.jsxs("div",{onMouseDown:ce=>{ce.target.classList.contains("resize-handle")||I(ce,L.id)},onClick:ce=>{ce.stopPropagation(),i(L.id)},className:`absolute border-2 rounded-lg ${oe?"opacity-50":""} ${q?"border-orange-500 bg-orange-50/30":"border-orange-300 bg-orange-50/10 hover:border-orange-400"}`,style:{left:L.layout.x,top:L.layout.y,width:L.layout.w,height:L.layout.h},children:[l.jsxs("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm cursor-move flex items-center justify-between",children:[l.jsx("span",{children:L.props.label||"Cadre"}),oe&&l.jsx(Hs,{className:"w-4 h-4"})]}),q&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[l.jsx("button",{onClick:ce=>{ce.stopPropagation(),ue(L.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:l.jsx(hx,{className:"w-3 h-3"})}),l.jsx("button",{onClick:ce=>{ce.stopPropagation(),ve(L.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:l.jsx(Na,{className:"w-3 h-3"})})]}),l.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"se")},title:"Redimensionner"}),l.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-orange-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"s")},title:"Redimensionner"}),l.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-orange-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"e")},title:"Redimensionner"})]})]},L.id):L.type==="link"?l.jsxs("div",{onMouseDown:ce=>{ce.target.classList.contains("resize-handle")||I(ce,L.id)},onClick:ce=>{ce.stopPropagation(),i(L.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${oe?"opacity-50":""} ${q?"border-cyan-500 bg-cyan-50":"border-cyan-300 bg-white hover:border-cyan-400"}`,style:{left:L.layout.x,top:L.layout.y,width:L.layout.w,height:L.layout.h},children:[l.jsxs("div",{className:"flex items-center gap-2 h-full",children:[l.jsx(qv,{className:"w-4 h-4 text-cyan-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-cyan-900 truncate",children:L.props.label||"Lien"}),L.props.url&&l.jsx("div",{className:"text-xs text-cyan-600 truncate",children:L.props.url})]}),oe&&l.jsx(Hs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[l.jsx("button",{onClick:ce=>{ce.stopPropagation(),ue(L.id)},className:"w-6 h-6 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:l.jsx(hx,{className:"w-3 h-3"})}),l.jsx("button",{onClick:ce=>{ce.stopPropagation(),ve(L.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:l.jsx(Na,{className:"w-3 h-3"})})]}),l.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"se")},title:"Redimensionner"}),l.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-cyan-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"s")},title:"Redimensionner"}),l.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-cyan-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"e")},title:"Redimensionner"})]})]},L.id):l.jsxs("div",{onMouseDown:ce=>{ce.target.classList.contains("resize-handle")||I(ce,L.id)},onClick:ce=>{ce.stopPropagation(),i(L.id)},className:`absolute cursor-move border-2 rounded-lg px-3 py-2 ${oe?"opacity-50":""} ${q?"border-blue-500 bg-blue-50":"border-gray-300 bg-white hover:border-gray-400"}`,style:{left:L.layout.x,top:L.layout.y,width:L.layout.w,height:L.layout.h},children:[l.jsxs("div",{className:"flex items-center gap-2 h-full",children:[W&&l.jsx(W.icon,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:L.props.label||L.type}),L.ref&&l.jsx("div",{className:"text-xs text-gray-500 truncate",children:L.ref})]}),oe&&l.jsx(Hs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),q&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[l.jsx("button",{onClick:ce=>{ce.stopPropagation(),ue(L.id)},className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center",title:"Dupliquer",children:l.jsx(hx,{className:"w-3 h-3"})}),l.jsx("button",{onClick:ce=>{ce.stopPropagation(),ve(L.id)},className:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center",title:"Supprimer",children:l.jsx(Na,{className:"w-3 h-3"})})]}),l.jsx("div",{className:"resize-handle absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-se-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"se")},title:"Redimensionner"}),l.jsx("div",{className:"resize-handle absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 rounded-full cursor-s-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"s")},title:"Redimensionner"}),l.jsx("div",{className:"resize-handle absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-4 bg-blue-500 rounded-full cursor-e-resize border-2 border-white",onMouseDown:ce=>{ce.stopPropagation(),ne(ce,L.id,"e")},title:"Redimensionner"})]})]},L.id)}),r.length===0&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(bi,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),l.jsx("p",{className:"text-lg font-medium",children:"Glissez des composants ici"}),l.jsx("p",{className:"text-sm mt-1",children:"Commencez par ajouter des champs depuis la barre d'outils"})]})})]})}),l.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Proprits"}),l.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Taille du Canvas"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur (px)"}),l.jsx("input",{type:"number",value:E.width,onChange:L=>A({...E,width:Math.max(800,parseInt(L.target.value)||1200)}),min:"800",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur (px)"}),l.jsx("input",{type:"number",value:E.height,onChange:L=>A({...E,height:Math.max(600,parseInt(L.target.value)||800)}),min:"600",step:"100",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),l.jsxs("div",{className:"mt-2 flex gap-2",children:[l.jsx("button",{onClick:()=>A({width:1200,height:800}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Standard"}),l.jsx("button",{onClick:()=>A({width:1600,height:1200}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"Large"}),l.jsx("button",{onClick:()=>A({width:2e3,height:1600}),className:"flex-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs",children:"XL"})]})]}),M?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),l.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded text-sm font-medium text-gray-900",children:D.find(L=>L.type===M.type)?.label})]}),M.type!=="label"&&M.type!=="frame"&&M.type!=="link"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rfrence"}),l.jsx("input",{type:"text",value:M.ref||"",onChange:L=>le(M.id,"ref",L.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"EX: MONTANT_TOTAL"})]}),M.type==="file"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Types de fichiers accepts"}),l.jsx("input",{type:"text",value:M.props.accept||"",onChange:L=>le(M.id,"props.accept",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:".pdf,.jpg,.png"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sparez par des virgules (ex: .pdf,.jpg,.png)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille maximum (MB)"}),l.jsx("input",{type:"number",min:"1",max:"50",value:M.props.maxSize||5,onChange:L=>le(M.id,"props.maxSize",parseInt(L.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),M.type==="link"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL du lien"}),l.jsx("input",{type:"url",value:M.props.url||"",onChange:L=>le(M.id,"props.url",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le lien s'ouvrira dans un nouvel onglet"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),l.jsx("input",{type:"text",value:M.props.label||"",onChange:L=>le(M.id,"props.label",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),M.type==="formula"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expression"}),l.jsx("textarea",{value:M.props.expression||"",onChange:L=>le(M.id,"props.expression",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:3,placeholder:"EX: HEURES_REAL*TARIF_H"})]}),(M.type==="number"||M.type==="formula")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dcimales"}),l.jsx("input",{type:"number",min:"0",max:"10",value:M.props.decimals||0,onChange:L=>le(M.id,"props.decimals",parseInt(L.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),M.type==="number"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur par dfaut"}),l.jsx("input",{type:"number",step:"0.01",value:typeof M.props.default=="number"||typeof M.props.default=="string"?M.props.default:0,onChange:L=>le(M.id,"props.default",parseFloat(L.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Position & Taille"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"X"}),l.jsx("input",{type:"number",value:M.layout.x,onChange:L=>le(M.id,"layout.x",parseInt(L.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Y"}),l.jsx("input",{type:"number",value:M.layout.y,onChange:L=>le(M.id,"layout.y",parseInt(L.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Largeur"}),l.jsx("input",{type:"number",value:M.layout.w,onChange:L=>le(M.id,"layout.w",parseInt(L.target.value)||50),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hauteur"}),l.jsx("input",{type:"number",value:M.layout.h,onChange:L=>le(M.id,"layout.h",parseInt(L.target.value)||30),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Visibilit"}),l.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[l.jsx("input",{type:"checkbox",checked:M.visibility?.hidden||!1,onChange:L=>{const q={...M.visibility,hidden:L.target.checked};le(M.id,"visibility",q)},className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hs,{className:"w-4 h-4 text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-900",children:"Masquer pour les professeurs"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce champ sera invisible dans le mode test et pour les professeurs"})]})]})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Actions"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>je(M.id,"up"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[l.jsx(Y$,{className:"w-4 h-4"}),"Avant"]}),l.jsxs("button",{onClick:()=>je(M.id,"down"),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm flex items-center justify-center gap-1",children:[l.jsx(W$,{className:"w-4 h-4"}),"Arrire"]})]})]})]}):l.jsx("div",{className:"text-center py-12 text-gray-400",children:l.jsx("p",{children:"Slectionnez un champ pour voir ses proprits"})})]})})]})]})}const Ui={async getAll(e){const t=e?{professor_id:e}:void 0;return lt.get("/declarations",t)},async getById(e){try{return await lt.get(`/declarations/${e}`)}catch(t){if(t instanceof Error&&"status"in t&&t.status===404)return null;throw t}},async create(e){return lt.post("/declarations",e)},async update(e){const{id:t,...r}=e;return lt.put(`/declarations/${t}`,r)},async delete(e){return lt.delete(`/declarations/${e}`)}};function Cae(e){return pr({queryKey:["admin-declarations",e],queryFn:async()=>{const t=await Ui.getAll();return e&&e!=="all"?t.filter(r=>r.status===e):t}})}function Tae(){const e=qt();return Kt({mutationFn:async t=>Ui.update({id:t,status:"approuvee"}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function sL(){const e=qt();return Kt({mutationFn:async({id:t,reason:r})=>Ui.update({id:t,status:"refusee",rejection_reason:r}),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function Oae(){const e=qt();return Kt({mutationFn:async({id:t,reason:r})=>{const n=await Ui.getById(t);if(!n)throw new Error("Dclaration non trouve");return Ui.update({id:t,form_data:n.form_data,status:"en_cours",rejection_reason:r})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]})}})}function Dae(e){return pr({queryKey:["admin-declaration",e],queryFn:()=>Ui.getById(e),enabled:!!e})}const lL=Oae;function oL(){const e=qt();return Kt({mutationFn:t=>Ui.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]})}})}function Pae(){return pr({queryKey:["declaration-stats"],queryFn:async()=>{const e=await Ui.getAll();return{total:e.length,soumises:e.filter(t=>t.status==="soumise").length,en_cours:e.filter(t=>t.status==="en_cours").length,approuvees:e.filter(t=>t.status==="approuvee").length,refusees:e.filter(t=>t.status==="refusee").length,brouillon:e.filter(t=>t.status==="brouillon").length,a_declarer:e.filter(t=>t.status==="a_declarer").length}}})}function Fae(){const e=qt();return Kt({mutationFn:async t=>Ui.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-declarations"]}),e.invalidateQueries({queryKey:["admin-declaration"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}function Lae({declaration:e,onClose:t}){const[r,n]=C.useState({segment_id:e.segment_id,city_id:e.city_id,start_date:e.start_date.split("T")[0],end_date:e.end_date.split("T")[0],status:e.status}),{data:a=[]}=Bd(),{data:i=[]}=Jm(),s=Fae(),o=i.filter(f=>f.segment_id===r.segment_id);C.useEffect(()=>{r.segment_id&&r.city_id&&(i.find(h=>h.id===r.city_id&&h.segment_id===r.segment_id)||n(h=>({...h,city_id:""})))},[r.segment_id,r.city_id,i]);const u=async f=>{if(f.preventDefault(),!r.segment_id||!r.city_id||!r.start_date||!r.end_date){alert("Veuillez remplir tous les champs obligatoires");return}if(new Date(r.end_date)<new Date(r.start_date)){alert("La date de fin doit tre postrieure  la date de dbut");return}try{await s.mutateAsync({id:e.id,...r}),t()}catch(h){console.error("Erreur lors de la modification:",h),alert("Erreur lors de la modification de la dclaration")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:l.jsx(fg,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Modifier la dclaration"}),l.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["Professeur: ",e.professor_name]})]})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 ml-2",children:l.jsx(kl,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),l.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment de formation *"}),l.jsxs("div",{className:"relative",children:[l.jsx(PN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsxs("select",{required:!0,value:r.segment_id,onChange:f=>n({...r,segment_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[l.jsx("option",{value:"",children:"Slectionnez un segment"}),a.map(f=>l.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsxs("select",{required:!0,value:r.city_id,onChange:f=>n({...r,city_id:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",disabled:!r.segment_id,children:[l.jsx("option",{value:"",children:"Slectionnez une ville"}),o.map(f=>l.jsx("option",{value:f.id,children:f.name},f.id))]})]}),!r.segment_id&&l.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Veuillez d'abord slectionner un segment"}),r.segment_id&&o.length===0&&l.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"Aucune ville disponible pour ce segment"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),l.jsxs("div",{className:"relative",children:[l.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"date",required:!0,value:r.start_date,onChange:f=>n({...r,start_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),l.jsxs("div",{className:"relative",children:[l.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"date",required:!0,value:r.end_date,onChange:f=>n({...r,end_date:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut *"}),l.jsxs("div",{className:"relative",children:[l.jsx(uV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsxs("select",{required:!0,value:r.status,onChange:f=>n({...r,status:f.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[l.jsx("option",{value:"brouillon",children:"Brouillon"}),l.jsx("option",{value:"a_declarer",children:" dclarer"}),l.jsx("option",{value:"en_cours",children:"En cours"}),l.jsx("option",{value:"soumise",children:"Soumise"}),l.jsx("option",{value:"approuvee",children:"Approuve"}),l.jsx("option",{value:"refusee",children:"Refuse"})]})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Vous pouvez changer le statut (ex: de brouillon   dclarer)"})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),l.jsx("button",{type:"submit",disabled:s.isPending,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.isPending?"Modification...":"Modifier"})]})]})]})})}const Mae=()=>{const e=$n(),[t,r]=C.useState("all"),[n,a]=C.useState("all"),[i,s]=C.useState("all"),[o,u]=C.useState("all"),[f,h]=C.useState(null),[p,g]=C.useState(""),[x,b]=C.useState(!1),[y,w]=C.useState(!1),[_,E]=C.useState(!1),[A,T]=C.useState(null),{data:O=[],isLoading:R}=Cae(t),{data:D}=Pae(),M=sL(),B=lL(),G=oL(),I=xd.useMemo(()=>Array.from(new Set(O.map(te=>te.professor_name))).sort(),[O]),z=xd.useMemo(()=>Array.from(new Set(O.map(te=>te.city_name))).sort(),[O]),K=xd.useMemo(()=>Array.from(new Set(O.map(te=>te.segment_name))).sort(),[O]),J=xd.useMemo(()=>O.filter(je=>!(n!=="all"&&je.professor_name!==n||i!=="all"&&je.city_name!==i||o!=="all"&&je.segment_name!==o)),[O,n,i,o]),pe={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800",bgColor:"bg-gray-50 border-gray-200",hoverColor:"hover:bg-gray-100",icon:Zs},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800",bgColor:"bg-orange-50 border-orange-200",hoverColor:"hover:bg-orange-100",icon:mn},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800",bgColor:"bg-blue-50 border-blue-200",hoverColor:"hover:bg-blue-100",icon:Ks},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800",bgColor:"bg-yellow-50 border-yellow-200",hoverColor:"hover:bg-yellow-100",icon:mn},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800",bgColor:"bg-green-50 border-green-200",hoverColor:"hover:bg-green-100",icon:ai},refusee:{label:"Refuse",color:"bg-red-100 text-red-800",bgColor:"bg-red-50 border-red-200",hoverColor:"hover:bg-red-100",icon:_d}},ne=async()=>{if(!f||!p.trim()){alert("Veuillez fournir un motif de refus");return}try{await M.mutateAsync({id:f.id,reason:p}),b(!1),g(""),h(null)}catch(je){console.error("Error rejecting declaration:",je),alert("Erreur lors du refus")}},le=async()=>{if(!f||!p.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await B.mutateAsync({id:f.id,reason:p}),w(!1),g(""),h(null)}catch(je){console.error("Error requesting modification:",je),alert("Erreur lors de la demande de modification")}},ve=async je=>{const te=`tes-vous sr de vouloir supprimer cette dclaration de ${je.professor_name} ?

Cette action est irrversible.`;if(confirm(te))try{await G.mutateAsync(je.id)}catch(P){console.error("Error deleting declaration:",P),alert("Erreur lors de la suppression de la dclaration")}},ue=je=>new Date(je).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[l.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>e("/dashboard"),className:"w-full sm:w-auto",children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Retour"]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion des Dclarations"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-600 hidden sm:block",children:"Valider, refuser ou demander des modifications"})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[D&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:[l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.total}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:D.a_declarer||0}),l.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D.soumises}),l.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D.en_cours}),l.jsx("p",{className:"text-sm text-gray-600",children:"En cours"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:D.approuvees}),l.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-red-600",children:D.refusees}),l.jsx("p",{className:"text-sm text-gray-600",children:"Refuses"})]})})})]}),l.jsxs(dn,{className:"mb-6",children:[l.jsx(cf,{children:l.jsx(uf,{children:"Filtres"})}),l.jsxs(hn,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par statut"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(rt,{variant:t==="all"?"default":"outline",onClick:()=>r("all"),children:"Toutes"}),l.jsx(rt,{variant:t==="a_declarer"?"default":"outline",onClick:()=>r("a_declarer"),children:" dclarer"}),l.jsx(rt,{variant:t==="soumise"?"default":"outline",onClick:()=>r("soumise"),children:"Soumises"}),l.jsx(rt,{variant:t==="en_cours"?"default":"outline",onClick:()=>r("en_cours"),children:"En cours"}),l.jsx(rt,{variant:t==="approuvee"?"default":"outline",onClick:()=>r("approuvee"),children:"Approuves"}),l.jsx(rt,{variant:t==="refusee"?"default":"outline",onClick:()=>r("refusee"),children:"Refuses"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par professeur"}),l.jsxs("select",{value:n,onChange:je=>a(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[l.jsx("option",{value:"all",children:"Tous les professeurs"}),I.filter(je=>je!==void 0).map(je=>l.jsx("option",{value:je,children:je},je))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par ville"}),l.jsxs("select",{value:i,onChange:je=>s(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[l.jsx("option",{value:"all",children:"Toutes les villes"}),z.filter(je=>je!==void 0).map(je=>l.jsx("option",{value:je,children:je},je))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Par segment"}),l.jsxs("select",{value:o,onChange:je=>u(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[l.jsx("option",{value:"all",children:"Tous les segments"}),K.filter(je=>je!==void 0).map(je=>l.jsx("option",{value:je,children:je},je))]})]})]})]})]}),l.jsxs(dn,{children:[l.jsx(cf,{children:l.jsxs(uf,{children:["Dclarations (",J.length,")"]})}),l.jsx(hn,{children:R?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement..."})]}):J.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600",children:"Aucune dclaration trouve"})]}):l.jsx("div",{className:"space-y-4",children:J.map(je=>{const te=pe[je.status].icon,P=pe[je.status];return l.jsx("div",{className:`border rounded-lg p-4 transition-all ${P.bgColor} ${P.hoverColor}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:je.professor_name}),l.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${P.color}`,children:[l.jsx(te,{className:"w-3 h-3"}),P.label]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Segment:"})," ",je.segment_name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Ville:"})," ",je.city_name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Priode:"})," ",ue(je.start_date)," - ",ue(je.end_date)]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Soumise le:"})," ",je.submitted_at?ue(je.submitted_at):"N/A"]})]}),je.rejection_reason&&l.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[l.jsx("span",{className:"font-medium",children:"Motif:"})," ",je.rejection_reason]})]}),l.jsxs("div",{className:"flex gap-2 ml-4 flex-shrink-0",children:[l.jsx(rt,{variant:"outline",size:"sm",onClick:()=>{T(je),E(!0)},className:"bg-white hover:bg-purple-50 border-purple-300",title:"Modifier les mtadonnes",children:l.jsx(fg,{className:"w-4 h-4"})}),l.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>e(`/admin/declarations/${je.id}`),className:"bg-white hover:bg-blue-50 border-blue-300",children:[l.jsx(Zy,{className:"w-4 h-4 mr-1"}),"Ouvrir"]}),l.jsx(rt,{variant:"outline",size:"sm",className:"bg-white text-red-600 hover:bg-red-50 border-red-300",onClick:()=>ve(je),children:l.jsx(Na,{className:"w-4 h-4"})})]})]})},je.id)})})})]})]}),f&&!x&&!y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dtails de la dclaration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Professeur:"})," ",f.professor_name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Segment:"})," ",f.segment_name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Ville:"})," ",f.city_name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Fiche de calcul:"})," ",f.sheet_title]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Priode:"})," ",ue(f.start_date)," - ",ue(f.end_date)]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Statut:"})," ",l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${pe[f.status].color}`,children:pe[f.status].label})]}),f.form_data&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Donnes du formulaire:"}),l.jsx("pre",{className:"mt-2 p-4 bg-gray-100 rounded text-sm overflow-x-auto",children:JSON.stringify(JSON.parse(f.form_data),null,2)})]})]}),l.jsx("div",{className:"flex justify-end gap-2 mt-6",children:l.jsx(rt,{variant:"outline",onClick:()=>h(null),children:"Fermer"})})]})})}),x&&f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",l.jsx("strong",{children:f.professor_name})]}),l.jsx("textarea",{value:p,onChange:je=>g(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx(rt,{variant:"outline",onClick:()=>{b(!1),g(""),h(null)},children:"Annuler"}),l.jsx(rt,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ne,disabled:!p.trim(),children:"Refuser"})]})]})})}),y&&f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",l.jsx("strong",{children:f.professor_name})]}),l.jsx("textarea",{value:p,onChange:je=>g(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx(rt,{variant:"outline",onClick:()=>{w(!1),g(""),h(null)},children:"Annuler"}),l.jsx(rt,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:le,disabled:!p.trim(),children:"Demander"})]})]})})}),_&&A&&l.jsx(Lae,{declaration:A,onClose:()=>{E(!1),T(null)}})]})};function Rae(){const{user:e}=_i();return pr({queryKey:["professor-declarations",e?.id],queryFn:()=>Ui.getAll(e?.id),enabled:!!e?.id})}function Iae(e){return pr({queryKey:["professor-declaration",e],queryFn:()=>Ui.getById(e),enabled:!!e})}function Bae(){const e=qt(),{user:t}=_i();return Kt({mutationFn:async r=>{if(!t?.id)throw new Error("Utilisateur non connect");const n=Rd();return Ui.create({id:n,professor_id:t.id,...r,form_data:JSON.stringify(r.form_data||{})})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function cL(){const e=qt();return Kt({mutationFn:async t=>Ui.update({id:t.id,form_data:JSON.stringify(t.form_data)}),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function uL(){const e=qt();return Kt({mutationFn:async t=>{const r=await Ui.getById(t);if(!r)throw new Error("Dclaration non trouve");return Ui.update({id:t,form_data:r.form_data,status:"soumise"})},onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]}),e.invalidateQueries({queryKey:["professor-declaration"]})}})}function Uae(){const e=qt();return Kt({mutationFn:t=>Ui.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["professor-declarations"]})}})}function zae(){return pr({queryKey:["available-calculation-sheets"],queryFn:async()=>(await jc.getAll()).filter(t=>t.status==="published")})}function qae(){const{user:e}=_i();return pr({queryKey:["professor-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const t=await ao.getById(e.id);return!t||!t.segment_ids?[]:(await Id.getAll()).filter(n=>t.segment_ids?.includes(n.id))},enabled:!!e?.id})}function $ae(){const{user:e}=_i(),t=pr({queryKey:["professor-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await ao.getById(e.id);return!r||!r.city_ids?[]:(await Sc.getAll()).filter(a=>r.city_ids?.includes(a.id)).map(a=>({id:a.id,name:a.name,segment_id:a.segment_id,segment_name:a.segment_name}))},enabled:!!e?.id});return{data:t.data,isLoading:t.isLoading}}const Hae=({files:e,currentIndex:t,onClose:r,onNavigate:n})=>{const a=e[t];C.useEffect(()=>{const f=h=>{h.key==="Escape"&&r()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r]),C.useEffect(()=>{const f=h=>{h.key==="ArrowLeft"&&t>0?n(t-1):h.key==="ArrowRight"&&t<e.length-1&&n(t+1)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,e.length,n]);const i=()=>{try{const f=a.data.split(",")[1],h=a.data.split(",")[0].split(":")[1].split(";")[0],p=atob(f),g=new ArrayBuffer(p.length),x=new Uint8Array(g);for(let _=0;_<p.length;_++)x[_]=p.charCodeAt(_);const b=new Blob([g],{type:h}),y=URL.createObjectURL(b),w=document.createElement("a");w.href=y,w.download=a.name,w.click(),URL.revokeObjectURL(y)}catch(f){console.error("Erreur lors du tlchargement:",f),alert("Erreur lors du tlchargement du fichier")}},s=f=>f<1024?`${f} B`:f<1024*1024?`${(f/1024).toFixed(2)} KB`:`${(f/(1024*1024)).toFixed(2)} MB`,o=a.type.startsWith("image/"),u=a.type==="application/pdf";return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:r,children:l.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",onClick:f=>f.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:a.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[s(a.size),"  ",a.type]})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Tlcharger",children:[l.jsx(Qs,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]}),l.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",title:"Fermer (chap)",children:l.jsx(kl,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-100",children:o?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("img",{src:a.data,alt:a.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"})}):u?l.jsx("iframe",{src:a.data,className:"w-full h-full min-h-[600px] rounded-lg shadow-lg",title:a.name}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[l.jsx(Zs,{className:"w-24 h-24 text-gray-400 mb-4"}),l.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Prvisualisation non disponible"}),l.jsxs("p",{className:"text-gray-500 mb-6",children:["Ce type de fichier ne peut pas tre prvisualis.",l.jsx("br",{}),`Cliquez sur "Tlcharger" pour l'ouvrir sur votre ordinateur.`]}),l.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Qs,{className:"w-4 h-4"}),"Tlcharger le fichier"]})]})}),e.length>1&&l.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[l.jsxs("button",{onClick:()=>n(t-1),disabled:t===0,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(ON,{className:"w-4 h-4"}),"Prcdent"]}),l.jsxs("span",{className:"text-sm text-gray-600",children:[t+1," / ",e.length]}),l.jsxs("button",{onClick:()=>n(t+1),disabled:t===e.length-1,className:"flex items-center gap-2 px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Suivant",l.jsx(Gu,{className:"w-4 h-4"})]})]})]})})},Vae=()=>{const{id:e}=Tc(),t=$n(),{data:r,isLoading:n}=Dae(e),a=Tae(),i=sL(),s=lL(),o=cL(),u=oL(),[f,h]=C.useState([]),[p,g]=C.useState({}),[x,b]=C.useState({}),[y,w]=C.useState({width:1200,height:800}),[_,E]=C.useState(!1),[A,T]=C.useState(!1),[O,R]=C.useState(""),[D,M]=C.useState(null),[B,G]=C.useState(!1),[I,z]=C.useState([]),[K,J]=C.useState(0);C.useEffect(()=>{if(r?.template_data)try{const L=JSON.parse(r.template_data);L.fields&&L.fields.length>0&&h(L.fields),L.canvasSize&&w(L.canvasSize)}catch(L){console.error("Error parsing template:",L)}if(r?.form_data)try{const L=JSON.parse(r.form_data);g(L)}catch(L){console.error("Error parsing form data:",L)}},[r]),C.useEffect(()=>{const L=_3(f,p);b(L)},[p,f]);const pe=(L,q)=>{const W=f.find(oe=>oe.ref===L);if(!W)return;let Z=q;W.type==="number"&&(Z=q===""?0:parseFloat(q)||0),g(oe=>({...oe,[L]:Z}))},ne=async()=>{if(e)try{await o.mutateAsync({id:e,form_data:p}),M("Modifications sauvegardes avec succs!"),setTimeout(()=>M(null),3e3)}catch(L){console.error("Error saving declaration:",L),alert("Erreur lors de la sauvegarde")}},le=async()=>{if(confirm("Voulez-vous vraiment approuver cette dclaration ?"))try{await a.mutateAsync(e),t("/admin/declarations")}catch(L){console.error("Error approving declaration:",L),alert("Erreur lors de l'approbation")}},ve=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de refus");return}try{await i.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(L){console.error("Error rejecting declaration:",L),alert("Erreur lors du refus")}},ue=async()=>{if(!O.trim()){alert("Veuillez fournir un motif de demande de modification");return}try{await s.mutateAsync({id:e,reason:O}),t("/admin/declarations")}catch(L){console.error("Error requesting modification:",L),alert("Erreur lors de la demande de modification")}},je=async()=>{const L=`tes-vous sr de vouloir supprimer cette dclaration de ${r?.professor_name} ?

Cette action est irrversible.`;if(confirm(L))try{await u.mutateAsync(e),t("/admin/declarations")}catch(q){console.error("Error deleting declaration:",q),alert("Erreur lors de la suppression de la dclaration")}},te=L=>{const q=L.layout||{x:0,y:0,w:200,h:40},W=L.visibility?.hidden===!0,Z=ce=>W?`${ce} ring-2 ring-red-400 ring-offset-2`:ce,oe=()=>W?l.jsx("div",{className:"absolute -top-2 -right-2 z-10 px-2 py-0.5 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:"ADMIN"}):null;if(L.type==="label")return l.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsx("div",{className:Z("w-full h-full bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700"),children:L.props.label}),l.jsx(oe,{})]},L.id);if(L.type==="text"){const ce=p[L.ref],ae=typeof ce=="string"||typeof ce=="number"?String(ce):"";return l.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsx("input",{type:"text",value:ae,onChange:Se=>pe(L.ref,Se.target.value),className:Z("w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent")}),l.jsx(oe,{})]},L.id)}if(L.type==="textarea"){const ce=p[L.ref],ae=typeof ce=="string"||typeof ce=="number"?String(ce):"";return l.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsx("textarea",{value:ae,onChange:Se=>pe(L.ref,Se.target.value),placeholder:L.props.label||"crivez vos commentaires ici...",className:Z("w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none")}),l.jsx(oe,{})]},L.id)}if(L.type==="number"){const ce=p[L.ref]!==void 0?p[L.ref]:L.props.default||0,ae=typeof ce=="number"||typeof ce=="string"?ce:"";return l.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsx("input",{type:"number",step:"0.01",value:ae,onChange:Se=>pe(L.ref,Se.target.value),className:Z("w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent")}),l.jsx(oe,{})]},L.id)}if(L.type==="formula"){const ce=x[L.ref],ae=typeof ce=="string"&&ce.startsWith("#");return l.jsxs("div",{className:"absolute flex items-center",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsx("div",{className:Z(`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${ae?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`),children:typeof ce=="number"?ce.toFixed(L.props.decimals||2):String(ce||"0")}),l.jsx(oe,{})]},L.id)}if(L.type==="frame")return l.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsx("div",{className:Z("w-full h-full border-2 border-orange-400 rounded-lg bg-orange-50/30"),children:l.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:L.props.label||"Cadre"})}),l.jsx(oe,{})]},L.id);if(L.type==="file"){const ce=p[L.ref],ae=ce&&Array.isArray(ce)&&ce.length>0,Se=Ke=>Ke<1024?`${Ke} B`:Ke<1024*1024?`${(Ke/1024).toFixed(2)} KB`:`${(Ke/(1024*1024)).toFixed(2)} MB`,De=Ke=>{try{const Ce=Ke.data.split(",")[1],xe=Ke.data.split(",")[0].split(":")[1].split(";")[0],dt=atob(Ce),Xe=new ArrayBuffer(dt.length),wt=new Uint8Array(Xe);for(let Qt=0;Qt<dt.length;Qt++)wt[Qt]=dt.charCodeAt(Qt);const st=new Blob([Xe],{type:xe}),At=URL.createObjectURL(st),pt=document.createElement("a");pt.href=At,pt.download=Ke.name,pt.click(),URL.revokeObjectURL(At)}catch(Ce){console.error("Erreur lors du tlchargement:",Ce),alert("Erreur lors du tlchargement du fichier")}},X=Ke=>{z(ce),J(Ke),G(!0)};return l.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsxs("div",{className:Z("w-full h-full border-2 border-dashed border-teal-300 bg-teal-50/50 rounded px-3 py-2 overflow-y-auto"),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Zs,{className:"w-5 h-5 text-teal-600"}),l.jsxs("span",{className:"text-sm font-medium text-teal-700",children:[L.props.label||"Pices jointes"," (",ae?ce.length:0,")"]})]}),ae?l.jsx("div",{className:"space-y-2",children:ce.map((Ke,Ce)=>{const dt=Ke.type.startsWith("image/")?LH:Zs;return l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-teal-200 hover:border-teal-400 transition-colors",children:[l.jsx(dt,{className:"w-4 h-4 text-teal-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:Ke.name}),l.jsx("div",{className:"text-xs text-teal-600",children:Se(Ke.size)})]}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx("button",{onClick:()=>X(Ce),className:"p-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",title:"Voir",children:l.jsx(As,{className:"w-3.5 h-3.5"})}),l.jsx("button",{onClick:()=>De(Ke),className:"p-1.5 bg-teal-100 hover:bg-teal-200 text-teal-700 rounded transition-colors",title:"Tlcharger",children:l.jsx(Qs,{className:"w-3.5 h-3.5"})})]})]},Ce)})}):l.jsxs("div",{className:"text-center py-4",children:[l.jsx(Zs,{className:"w-8 h-8 text-teal-300 mx-auto mb-2"}),l.jsx("span",{className:"text-xs text-teal-500 italic",children:"Aucune pice jointe"})]})]}),l.jsx(oe,{})]},L.id)}if(L.type==="link"){const ce=p[L.ref]||"",ae=ce&&ce.trim()!==""&&(ce.startsWith("http://")||ce.startsWith("https://"));return l.jsxs("div",{className:"absolute",style:{left:`${q.x}px`,top:`${q.y}px`,width:`${q.w}px`,height:`${q.h}px`},children:[l.jsxs("div",{className:Z("w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2"),children:[l.jsx(qv,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-xs font-medium text-cyan-700 mb-1",children:L.props.label||"Lien"}),ae?l.jsx("a",{href:ce,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-900 hover:text-cyan-700 underline truncate block",children:ce}):l.jsx("span",{className:"text-sm text-gray-400 italic",children:"Aucun lien fourni"})]}),ae&&l.jsx("a",{href:ce,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:l.jsx(Zy,{className:"w-4 h-4"})})]}),l.jsx(oe,{})]},L.id)}return null},P={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800"},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800"},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800"},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800"},refusee:{label:"Refuse",color:"bg-red-100 text-red-800"}};return n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):r?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("/admin/declarations"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:l.jsx(da,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P[r.status].color}`,children:P[r.status].label}),l.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[l.jsx(As,{className:"w-3 h-3"}),"Mode Admin"]})]}),l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.professor_name,"  ",r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[D&&l.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:l.jsx("span",{className:"text-sm font-medium",children:D})}),l.jsxs(rt,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:je,children:[l.jsx(Na,{className:"w-4 h-4 mr-2"}),"Supprimer"]}),l.jsxs(rt,{variant:"outline",onClick:ne,disabled:o.isPending,children:[l.jsx(dg,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),r.status==="soumise"&&l.jsxs(l.Fragment,{children:[l.jsxs(rt,{variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:le,children:[l.jsx(ai,{className:"w-4 h-4 mr-2"}),"Approuver"]}),l.jsxs(rt,{variant:"outline",className:"text-yellow-600 hover:bg-yellow-50",onClick:()=>T(!0),children:[l.jsx(mn,{className:"w-4 h-4 mr-2"}),"Demander modification"]}),l.jsxs(rt,{variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>E(!0),children:[l.jsx(_d,{className:"w-4 h-4 mr-2"}),"Refuser"]})]})]})]})}),r.rejection_reason&&l.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(mn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-red-800",children:r.status==="refusee"?"Dclaration refuse":"Modifications demandes"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:l.jsx("div",{className:"relative bg-white",style:{width:`${y.width}px`,minHeight:`${y.height}px`},children:f.map(L=>te(L))})})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Refuser la dclaration"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez fournir un motif de refus pour la dclaration de"," ",l.jsx("strong",{children:r.professor_name})]}),l.jsx("textarea",{value:O,onChange:L=>R(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Motif du refus..."}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx(rt,{variant:"outline",onClick:()=>{E(!1),R("")},children:"Annuler"}),l.jsx(rt,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:ve,disabled:!O.trim(),children:"Refuser"})]})]})})}),A&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Demander une modification"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez prciser les modifications  apporter pour la dclaration de"," ",l.jsx("strong",{children:r.professor_name})]}),l.jsx("textarea",{value:O,onChange:L=>R(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4,placeholder:"Modifications demandes..."}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx(rt,{variant:"outline",onClick:()=>{T(!1),R("")},children:"Annuler"}),l.jsx(rt,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",onClick:ue,disabled:!O.trim(),children:"Demander"})]})]})})}),B&&I.length>0&&l.jsx(Hae,{files:I,currentIndex:K,onClose:()=>G(!1),onNavigate:L=>J(L)})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-600",children:"Dclaration introuvable"}),l.jsx(rt,{onClick:()=>t("/admin/declarations"),className:"mt-4",children:"Retour"})]})})},Wae={brouillon:{label:"Brouillon",color:"bg-gray-100 text-gray-800 border-gray-300",icon:Zs},a_declarer:{label:" dclarer",color:"bg-orange-100 text-orange-800 border-orange-300",icon:mn},soumise:{label:"Soumise",color:"bg-blue-100 text-blue-800 border-blue-300",icon:Ks},en_cours:{label:"En cours",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:mn},approuvee:{label:"Approuve",color:"bg-green-100 text-green-800 border-green-300",icon:UD},refusee:{label:"Refuse",color:"bg-red-100 text-red-800 border-red-300",icon:_d}},N3=({status:e,className:t=""})=>{const r=Wae[e],n=r.icon;return l.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${r.color} ${t}`,children:[l.jsx(n,{className:"w-3.5 h-3.5"}),r.label]})},Gae=({onClose:e})=>{const t=$n(),r=Bae(),{data:n}=zae(),{data:a=[],isLoading:i}=qae(),{data:s=[],isLoading:o}=$ae(),[u,f]=C.useState([]),[h,p]=C.useState(""),[g,x]=C.useState(""),[b,y]=C.useState(""),[w,_]=C.useState(""),[E,A]=C.useState("");C.useEffect(()=>{if(h){const O=s.filter(R=>R.segment_id===h);f(O),g&&!O.find(R=>R.id===g)&&x("")}else f([]),x("")},[h,s,g]);const T=async O=>{if(O.preventDefault(),A(""),!h||!g||!b||!w){A("Veuillez remplir tous les champs");return}if(new Date(w)<=new Date(b)){A("La date de fin doit tre postrieure  la date de dbut");return}const R=n?.find(D=>D.segment_ids?.includes(h)&&D.city_ids?.includes(g));if(!R){A("Aucune fiche de calcul publie n'existe pour ce segment et cette ville");return}try{const D=await r.mutateAsync({calculation_sheet_id:R.id,segment_id:h,city_id:g,start_date:b,end_date:w,form_data:{}});t(`/professor/declarations/${D.id}/fill`)}catch(D){console.error("Error creating declaration:",D),A("Erreur lors de la cration de la dclaration")}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nouvelle Dclaration"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(kl,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[(i||o)&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-gray-600",children:"Chargement..."})}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:h,onChange:O=>p(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:i,children:[l.jsx("option",{value:"",children:"Slectionner un segment"}),a.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]}),!i&&a.length===0&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucun segment affect  votre compte"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:g,onChange:O=>x(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,disabled:!h||o,children:[l.jsx("option",{value:"",children:"Slectionner une ville"}),u.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]}),!o&&s.length===0&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Aucune ville affecte  votre compte"}),h&&u.length===0&&s.length>0&&l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aucune ville disponible pour ce segment"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:b,onChange:O=>y(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:w,onChange:O=>_(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:b})]}),E&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[l.jsx(mn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-700",children:E})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),l.jsx("button",{type:"submit",disabled:r.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed",children:r.isPending?"Cration...":"Crer"})]})]})]})})},Kae=()=>{const{data:e,isLoading:t}=Rae(),r=Uae(),n=uL(),[a,i]=C.useState(!1),s=async f=>{if(window.confirm("tes-vous sr de vouloir supprimer cette dclaration ?"))try{await r.mutateAsync(f)}catch(h){console.error("Error deleting declaration:",h),alert("Erreur lors de la suppression de la dclaration")}},o=async f=>{if(window.confirm("Voulez-vous soumettre cette dclaration pour validation ?"))try{await n.mutateAsync(f)}catch(h){console.error("Error submitting declaration:",h),alert("Erreur lors de la soumission de la dclaration")}},u=f=>new Date(f).toLocaleDateString("fr-FR");return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Chargement des dclarations..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(La,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour au tableau de bord",children:l.jsx(da,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Dclarations"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez vos dclarations de sessions"})]})]}),l.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l.jsx(bi,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e?.length||0})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:" modifier"}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e?.filter(f=>f.status==="en_cours").length||0})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:" dclarer"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e?.filter(f=>f.status==="a_declarer").length||0})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Brouillons"}),l.jsx("p",{className:"text-2xl font-bold text-gray-500",children:e?.filter(f=>f.status==="brouillon").length||0})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Soumises"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e?.filter(f=>f.status==="soumise").length||0})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Approuves"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:e?.filter(f=>f.status==="approuvee").length||0})]})]}),!e||e.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[l.jsx(Zs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune dclaration"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par crer votre premire dclaration"}),l.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[l.jsx(bi,{className:"w-5 h-5"}),"Nouvelle Dclaration"]})]}):l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Dbut"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Fin"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(f=>l.jsxs(xd.Fragment,{children:[l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.segment_name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900",children:f.city_name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900",children:u(f.start_date)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900",children:u(f.end_date)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx(N3,{status:f.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(La,{to:`/professor/declarations/${f.id}/fill`,className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?"Remplir":"Voir",children:f.status==="brouillon"||f.status==="refusee"||f.status==="a_declarer"||f.status==="en_cours"?l.jsx(fg,{className:"w-4 h-4"}):l.jsx(As,{className:"w-4 h-4"})}),(f.status==="brouillon"||f.status==="a_declarer"||f.status==="en_cours")&&l.jsx("button",{onClick:()=>o(f.id),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded transition-colors",title:"Soumettre",children:l.jsx(wm,{className:"w-4 h-4"})}),f.status==="brouillon"&&l.jsx("button",{onClick:()=>s(f.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Supprimer",disabled:r.isPending,children:l.jsx(Na,{className:"w-4 h-4"})})]})})]}),f.status==="en_cours"&&f.rejection_reason&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-3 bg-yellow-50 border-l-4 border-yellow-400",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(mn,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Modifications demandes par l'administrateur"}),l.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:f.rejection_reason})]})]})})})]},f.id))})]})})})]}),a&&l.jsx(Gae,{onClose:()=>i(!1)})]})},Yae=()=>{const{id:e}=Tc(),t=$n(),{data:r,isLoading:n}=Iae(e||""),a=cL(),i=uL(),[s,o]=C.useState([]),[u,f]=C.useState({}),[h,p]=C.useState({}),[g,x]=C.useState(null),[b,y]=C.useState({width:1200,height:800}),w=r?.status!=="brouillon"&&r?.status!=="refusee"&&r?.status!=="en_cours"&&r?.status!=="a_declarer";C.useEffect(()=>{if(r?.template_data)try{const M=JSON.parse(r.template_data);M.fields&&M.fields.length>0&&o(M.fields),M.canvasSize&&y(M.canvasSize)}catch(M){console.error("Error parsing template:",M)}if(r?.form_data)try{const M=JSON.parse(r.form_data);f(M)}catch(M){console.error("Error parsing form data:",M)}},[r]),C.useEffect(()=>{const M=_3(s,u);p(M)},[u,s]);const _=(M,B)=>{const G=s.find(z=>z.ref===M);if(!G)return;let I=B;G.type==="number"&&(I=B===""?0:parseFloat(B)||0),f(z=>({...z,[M]:I}))},E=M=>new Promise((B,G)=>{const I=new FileReader;I.readAsDataURL(M),I.onload=()=>B(I.result),I.onerror=z=>G(z)}),A=async(M,B)=>{if(!B){f(G=>({...G,[M]:[]}));return}try{const G=await E(B),I={name:B.name,size:B.size,type:B.type,data:G,uploadedAt:new Date().toISOString()};f(z=>{const K=Array.isArray(z[M])?z[M]:[];return{...z,[M]:[...K,I]}})}catch(G){console.error("Error converting file to base64:",G),alert("Erreur lors du traitement du fichier")}},T=(M,B)=>{f(G=>{const z=(Array.isArray(G[M])?G[M]:[]).filter((K,J)=>J!==B);return{...G,[M]:z}})},O=async()=>{if(e)try{await a.mutateAsync({id:e,form_data:u}),x("Brouillon sauvegard avec succs!"),setTimeout(()=>x(null),3e3)}catch(M){console.error("Error saving declaration:",M),alert("Erreur lors de la sauvegarde")}},R=async()=>{if(e&&window.confirm("Voulez-vous soumettre cette dclaration pour validation ? Vous ne pourrez plus la modifier aprs soumission."))try{await a.mutateAsync({id:e,form_data:u}),await i.mutateAsync(e),t("/professor/declarations")}catch(M){console.error("Error submitting declaration:",M),alert("Erreur lors de la soumission")}},D=M=>{const B=M.layout||{x:0,y:0,w:200,h:40};if(M.visibility?.hidden)return null;if(M.type==="label")return l.jsx("div",{className:"absolute bg-gray-100 border-2 border-gray-300 rounded px-3 py-2 flex items-center font-semibold text-gray-700",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:M.props.label},M.id);if(M.type==="text"){const G=u[M.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return l.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:l.jsx("input",{type:"text",value:I,onChange:z=>_(M.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="textarea"){const G=u[M.ref],I=typeof G=="string"||typeof G=="number"?String(G):"";return l.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:l.jsx("textarea",{value:I,onChange:z=>_(M.ref,z.target.value),placeholder:M.props.label||"crivez vos commentaires ici...",className:"w-full h-full px-3 py-2 border-2 border-indigo-300 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="number"){const G=u[M.ref]!==void 0?u[M.ref]:M.props.default||0,I=typeof G=="number"||typeof G=="string"?G:"";return l.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:l.jsx("input",{type:"number",step:"0.01",value:I,onChange:z=>_(M.ref,z.target.value),className:"w-full h-full px-3 py-2 border border-green-300 rounded focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:w})},M.id)}if(M.type==="formula"){const G=h[M.ref],I=typeof G=="string"&&G.startsWith("#");return l.jsx("div",{className:"absolute flex items-center",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:l.jsx("div",{className:`w-full h-full px-3 py-2 border-2 rounded font-semibold flex items-center ${I?"bg-red-50 border-red-400 text-red-700":"bg-purple-50 border-purple-400 text-purple-900"}`,children:typeof G=="number"?G.toFixed(M.props.decimals||2):String(G||"0")})},M.id)}if(M.type==="frame")return l.jsx("div",{className:"absolute border-2 border-orange-400 rounded-lg bg-orange-50/30",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:l.jsx("div",{className:"bg-orange-500 text-white px-3 py-1 rounded-t font-semibold text-sm",children:M.props.label||"Cadre"})},M.id);if(M.type==="file"){const G=Array.isArray(u[M.ref])?u[M.ref]:[],I=G&&G.length>0;return l.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:l.jsxs("div",{className:"w-full h-full border-2 border-teal-400 bg-teal-50 rounded px-3 py-2 flex flex-col gap-2 overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zs,{className:"w-5 h-5 text-teal-600"}),l.jsxs("span",{className:"text-sm font-medium text-teal-900",children:[M.props.label||"Pices jointes"," (",G.length,")"]})]}),!w&&l.jsxs("label",{className:"cursor-pointer px-2 py-1 bg-teal-600 hover:bg-teal-700 text-white rounded text-xs font-medium transition-colors",children:["+ Ajouter",l.jsx("input",{type:"file",accept:M.props.accept,onChange:z=>{const K=z.target.files?.[0];if(K){const J=(M.props.maxSize||5)*1024*1024;if(K.size>J){alert(`Le fichier est trop volumineux. Taille maximum: ${M.props.maxSize||5} MB`);return}A(M.ref,K)}z.target.value=""},className:"hidden"})]})]}),I?l.jsx("div",{className:"space-y-1 flex-1 overflow-y-auto",children:G.map((z,K)=>l.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white rounded border border-teal-200",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-xs font-medium text-teal-900 truncate",children:z.name}),l.jsxs("div",{className:"text-xs text-teal-600",children:[(z.size/1024/1024).toFixed(2)," MB"]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>{const J=atob(z.data.split(",")[1]),pe=z.data.split(",")[0].split(":")[1].split(";")[0],ne=new ArrayBuffer(J.length),le=new Uint8Array(ne);for(let te=0;te<J.length;te++)le[te]=J.charCodeAt(te);const ve=new Blob([ne],{type:pe}),ue=URL.createObjectURL(ve),je=document.createElement("a");je.href=ue,je.download=z.name,je.click(),URL.revokeObjectURL(ue)},className:"p-1 hover:bg-teal-200 rounded transition-colors",title:"Tlcharger",children:l.jsx(Qs,{className:"w-3 h-3 text-teal-700"})}),!w&&l.jsx("button",{onClick:()=>T(M.ref,K),className:"p-1 hover:bg-red-200 rounded transition-colors",title:"Supprimer",children:l.jsx(kl,{className:"w-3 h-3 text-red-600"})})]})]},K))}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-60",children:[l.jsx(hg,{className:"w-8 h-8 text-teal-600 mb-2"}),l.jsx("span",{className:"text-xs text-teal-700",children:"Aucune pice jointe"}),l.jsxs("span",{className:"text-xs text-teal-600 mt-1",children:[M.props.accept||"Tous fichiers"," (max ",M.props.maxSize||5," MB)"]})]})]})},M.id)}if(M.type==="link"){const G=u[M.ref]||"",I=G&&G.trim()!==""&&(G.startsWith("http://")||G.startsWith("https://"));return l.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.w}px`,height:`${B.h}px`},children:l.jsxs("div",{className:"w-full h-full border-2 border-cyan-400 bg-cyan-50 rounded px-3 py-2 flex items-center gap-2",children:[l.jsx(qv,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("label",{className:"block text-xs font-medium text-cyan-700 mb-1",children:M.props.label||"Lien"}),l.jsx("input",{type:"url",value:G,onChange:z=>_(M.ref,z.target.value),disabled:w,placeholder:"https://exemple.com",className:`w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 ${w?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":"bg-white border-cyan-300 text-cyan-900"}`})]}),I&&l.jsx("button",{onClick:()=>window.open(G,"_blank","noopener,noreferrer"),className:"p-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded transition-colors flex-shrink-0",title:"Ouvrir le lien",children:l.jsx(Zy,{className:"w-4 h-4"})})]})},M.id)}return null};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Chargement de la dclaration..."})]})}):r?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(La,{to:"/professor/declarations",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Retour  la liste",children:l.jsx(da,{className:"w-6 h-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.sheet_title}),l.jsx(N3,{status:r.status}),w&&l.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium flex items-center gap-1",children:[l.jsx(Hs,{className:"w-3 h-3"}),"Lecture seule"]})]}),l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[r.segment_name,"  ",r.city_name,"  Du"," ",new Date(r.start_date).toLocaleDateString("fr-FR")," au"," ",new Date(r.end_date).toLocaleDateString("fr-FR")]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[g&&l.jsx("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:l.jsx("span",{className:"text-sm font-medium",children:g})}),!w&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:O,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:a.isPending,children:[l.jsx(dg,{className:"w-5 h-5"}),"Sauvegarder"]}),l.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:i.isPending,children:[l.jsx(wm,{className:"w-5 h-5"}),"Soumettre"]})]})]})]})}),r.status==="a_declarer"&&l.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(mn,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-orange-800",children:"Fiche assigne par un grant"}),l.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Cette fiche de session vous a t assigne. Veuillez la remplir et la soumettre."})]})]})}),r.rejection_reason&&l.jsx("div",{className:"bg-red-50 border-b border-red-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(mn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Dclaration refuse"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.rejection_reason})]})]})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-auto",children:l.jsx("div",{className:"relative bg-white",style:{width:`${b.width}px`,minHeight:`${b.height}px`},children:s.map(M=>D(M))})})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(mn,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Dclaration introuvable"}),l.jsxs(La,{to:"/professor/declarations",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[l.jsx(da,{className:"w-4 h-4"}),"Retour  la liste"]})]})})};function Xae(){const{user:e,isAdmin:t}=_i();return pr({queryKey:["gerant-segments",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Id.getAll();if(t)return r;const n=await ao.getById(e.id);return!n||!n.segment_ids?[]:r.filter(a=>n.segment_ids?.includes(a.id))},enabled:!!e?.id})}function Qae(){const{user:e,isAdmin:t}=_i();return pr({queryKey:["gerant-cities",e?.id],queryFn:async()=>{if(!e?.id)return[];const r=await Sc.getAll();if(t)return r;const n=await ao.getById(e.id);return!n||!n.city_ids?[]:r.filter(a=>n.city_ids?.includes(a.id))},enabled:!!e?.id})}function Zae(){return pr({queryKey:["gerant-declarations"],queryFn:async()=>(await Ui.getAll()).filter(t=>t.status==="a_declarer")})}function Jae(e,t){return pr({queryKey:["professors-by-segment-city",e,t],queryFn:async()=>(await ao.getAll()).filter(a=>a.role==="professor").filter(a=>!(e&&!a.segment_ids?.includes(e)||t&&!a.city_ids?.includes(t))).map(a=>({id:a.id,full_name:a.full_name,username:a.username})),enabled:!!e||!!t})}function eie(e){return pr({queryKey:["published-sheets-segment",e],queryFn:async()=>(await jc.getAll()).filter(r=>!(r.status!=="published"||e&&r.segment_ids&&!r.segment_ids.includes(e))).map(r=>({id:r.id,title:r.title,template_data:r.template_data,sheet_date:r.sheet_date})),enabled:!!e})}function tie(){const e=qt();return Kt({mutationFn:async t=>{const r=Rd();return Ui.create({id:r,...t,form_data:"{}",status:"a_declarer"})},onSuccess:()=>{e.invalidateQueries({queryKey:["gerant-declarations"]}),e.invalidateQueries({queryKey:["professor-declarations"]})}})}const rie=()=>{const{data:e,isLoading:t}=Zae(),[r,n]=C.useState("all"),a=e?.filter(o=>r==="all"?!0:o.status===r),i={total:e?.length||0,a_declarer:e?.filter(o=>o.status==="a_declarer").length||0,soumise:e?.filter(o=>o.status==="soumise").length||0,en_cours:e?.filter(o=>o.status==="en_cours").length||0,approuvee:e?.filter(o=>o.status==="approuvee").length||0,refusee:e?.filter(o=>o.status==="refusee").length||0},s=[{label:"Toutes",value:"all",count:i.total},{label:" dclarer",value:"a_declarer",count:i.a_declarer},{label:"Soumises",value:"soumise",count:i.soumise},{label:"En cours",value:"en_cours",count:i.en_cours},{label:"Approuves",value:"approuvee",count:i.approuvee},{label:"Refuses",value:"refusee",count:i.refusee}];return t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(La,{to:"/dashboard",children:l.jsxs(rt,{variant:"outline",size:"sm",children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Retour"]})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Dclarations Cres"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les dclarations que vous avez assignes aux professeurs"})]})]}),l.jsx(La,{to:"/gerant/create-declaration",children:l.jsxs(rt,{children:[l.jsx(DN,{className:"w-4 h-4 mr-2"}),"Crer une dclaration"]})})]})})}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.total}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i.a_declarer}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" dclarer"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.soumise}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Soumises"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.en_cours}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"En cours"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.approuvee}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Approuves"})]})})}),l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.refusee}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Refuses"})]})})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(o=>l.jsxs(rt,{variant:r===o.value?"default":"outline",size:"sm",onClick:()=>n(o.value),children:[o.label," (",o.count,")"]},o.value))})}),l.jsx("div",{className:"bg-white rounded-lg shadow",children:a&&a.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professeur"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiche de calcul"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date cration"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.professor_name||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.segment_name||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.city_name||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.sheet_title||"N/A"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(o.start_date).toLocaleDateString("fr-FR")," - ",new Date(o.end_date).toLocaleDateString("fr-FR")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx(N3,{status:o.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString("fr-FR")})]},o.id))})]})}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500",children:"Aucune dclaration trouve."})})})]})]})},Dk=()=>{const e=$n(),{isAdmin:t}=_i(),{data:r,isLoading:n}=Xae(),{data:a,isLoading:i}=Qae(),[s,o]=C.useState(""),[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),[b,y]=C.useState(""),[w,_]=C.useState(null),E=t?"/admin/declarations":"/gerant/declarations",A=a?.filter(I=>I.segment_id===s)||[],{data:T,isLoading:O}=Jae(s,u),{data:R,isLoading:D}=eie(s),M=R&&R.length>0?R[0]:null,B=tie();C.useEffect(()=>{f(""),p("")},[s]),C.useEffect(()=>{p("")},[u]);const G=async I=>{if(I.preventDefault(),_(null),!s){_("Veuillez slectionner un segment");return}if(!u){_("Veuillez slectionner une ville");return}if(!M){_("Aucune fiche de calcul publie pour ce segment");return}if(!h){_("Veuillez slectionner un professeur");return}if(!g||!b){_("Veuillez renseigner les dates de session");return}if(new Date(g)>new Date(b)){_("La date de dbut doit tre antrieure  la date de fin");return}try{await B.mutateAsync({professor_id:h,calculation_sheet_id:M.id,segment_id:s,city_id:u,start_date:g,end_date:b}),e(E)}catch(z){console.error("Error creating declaration:",z),_("Erreur lors de la cration de la dclaration")}};return n||i?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"text-lg text-gray-600",children:"Chargement..."})}):!r||r.length===0?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(La,{to:"/dashboard",children:l.jsxs(rt,{variant:"outline",size:"sm",children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Retour"]})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"})]})})}),l.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(dn,{children:l.jsx(hn,{className:"pt-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(mn,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),l.jsx("p",{className:"text-lg text-gray-700 font-medium mb-2",children:"Aucun segment assign"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Contactez un administrateur pour vous assigner des segments et villes."})]})})})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(La,{to:"/dashboard",children:l.jsxs(rt,{variant:"outline",size:"sm",children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Retour"]})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crer une Dclaration"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Assigner une fiche de session  un professeur"})]})]})})}),l.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("form",{onSubmit:G,children:[l.jsxs(dn,{children:[l.jsx(cf,{children:l.jsx(uf,{children:"Informations de la dclaration"})}),l.jsxs(hn,{className:"space-y-6",children:[w&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-800",children:w})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:s,onChange:I=>o(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Slectionnez un segment"}),r?.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]})]}),s&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ville ",l.jsx("span",{className:"text-red-500",children:"*"})]}),A.length>0?l.jsxs("select",{value:u,onChange:I=>f(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Slectionnez une ville"}),A.map(I=>l.jsx("option",{value:I.id,children:I.name},I.id))]}):l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsx("p",{className:"text-sm text-yellow-800",children:"Aucune ville assigne pour ce segment. Contactez un administrateur."})})]}),s&&u&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiche de calcul"}),D?l.jsx("div",{className:"text-sm text-gray-500",children:"Chargement..."}):M?l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium text-blue-900",children:M.title}),l.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Date: ",M.sheet_date]})]}):l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsx("p",{className:"text-sm text-red-800",children:" Aucune fiche de calcul publie pour ce segment"})})]}),s&&u&&M&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professeur ",l.jsx("span",{className:"text-red-500",children:"*"})]}),O?l.jsx("div",{className:"text-sm text-gray-500",children:"Chargement des professeurs..."}):T&&T.length>0?l.jsxs("select",{value:h,onChange:I=>p(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Slectionnez un professeur"}),T.map(I=>l.jsxs("option",{value:I.id,children:[I.full_name," (",I.username,")"]},I.id))]}):l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsx("p",{className:"text-sm text-yellow-800",children:"Aucun professeur n'a  la fois ce segment et cette ville assigns."})})]}),h&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:g,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:b,onChange:I=>y(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]})]}),l.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[l.jsx(La,{to:E,children:l.jsx(rt,{type:"button",variant:"outline",children:"Annuler"})}),l.jsxs(rt,{type:"submit",disabled:!s||!u||!h||!g||!b||!M||B.isPending,children:[l.jsx(dg,{className:"w-4 h-4 mr-2"}),B.isPending?"Cration...":"Crer la dclaration"]})]})]})})]})},_f={getSessions:()=>lt.get("/formations/sessions"),getSession:e=>lt.get(`/formations/sessions/${e}`),createSession:e=>lt.post("/formations/sessions",e),updateSession:(e,t)=>lt.put(`/formations/sessions/${e}`,t),deleteSession:e=>lt.delete(`/formations/sessions/${e}`),getSessionStudents:e=>lt.get(`/formations/sessions/${e}/students`),enrollStudents:(e,t)=>lt.post(`/formations/sessions/${e}/enroll`,t),unenrollStudent:(e,t)=>lt.delete(`/formations/sessions/${e}/enroll/${t}`),getAvailableStudents:e=>{const t=e?`?session_id=${e}`:"";return lt.get(`/formations/available-students${t}`)},getStats:()=>lt.get("/formations/stats")},Un={all:["formations"],sessions:()=>[...Un.all,"sessions"],session:e=>[...Un.all,"session",e],sessionStudents:e=>[...Un.all,"session",e,"students"],availableStudents:e=>[...Un.all,"available-students",e||"all"],stats:()=>[...Un.all,"stats"]};function fL(){return pr({queryKey:Un.sessions(),queryFn:_f.getSessions})}function nie(e){return pr({queryKey:Un.session(e),queryFn:()=>_f.getSession(e),enabled:!!e})}function aie(e){return pr({queryKey:Un.availableStudents(e),queryFn:()=>_f.getAvailableStudents(e)})}function iie(){return pr({queryKey:Un.stats(),queryFn:_f.getStats})}function sie(){const e=qt();return Kt({mutationFn:t=>_f.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Un.sessions()}),e.invalidateQueries({queryKey:Un.stats()})}})}function lie(){const e=qt();return Kt({mutationFn:({id:t,data:r})=>_f.updateSession(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Un.sessions()}),e.invalidateQueries({queryKey:Un.session(r.id)}),e.invalidateQueries({queryKey:Un.stats()})}})}function oie(){const e=qt();return Kt({mutationFn:t=>_f.deleteSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Un.sessions()}),e.invalidateQueries({queryKey:Un.stats()})}})}function cie(){const e=qt();return Kt({mutationFn:({sessionId:t,data:r})=>_f.enrollStudents(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Un.session(r.sessionId)}),e.invalidateQueries({queryKey:Un.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:Un.sessions()}),e.invalidateQueries({queryKey:Un.availableStudents()}),e.invalidateQueries({queryKey:Un.stats()})}})}function uie(){const e=qt();return Kt({mutationFn:({sessionId:t,studentId:r})=>_f.unenrollStudent(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Un.session(r.sessionId)}),e.invalidateQueries({queryKey:Un.sessionStudents(r.sessionId)}),e.invalidateQueries({queryKey:Un.sessions()}),e.invalidateQueries({queryKey:Un.availableStudents()}),e.invalidateQueries({queryKey:Un.stats()})}})}const Ts={getFormations:()=>lt.get("/cours/formations"),getFormation:e=>lt.get(`/cours/formations/${e}`),createFormation:e=>lt.post("/cours/formations",e),updateFormation:(e,t)=>lt.put(`/cours/formations/${e}`,t),deleteFormation:e=>lt.delete(`/cours/formations/${e}`),getModules:e=>lt.get(`/cours/formations/${e}/modules`),createModule:(e,t)=>lt.post(`/cours/formations/${e}/modules`,t),updateModule:(e,t)=>lt.put(`/cours/modules/${e}`,t),deleteModule:e=>lt.delete(`/cours/modules/${e}`),reorderModule:(e,t)=>lt.put(`/cours/modules/${e}/reorder`,{new_order_index:t}),createVideo:(e,t)=>lt.post(`/cours/modules/${e}/videos`,t),updateVideo:(e,t)=>lt.put(`/cours/videos/${e}`,t),deleteVideo:e=>lt.delete(`/cours/videos/${e}`),createTest:(e,t)=>lt.post(`/cours/modules/${e}/tests`,t),getTest:e=>lt.get(`/cours/tests/${e}`),updateTest:(e,t)=>lt.put(`/cours/tests/${e}`,t),deleteTest:e=>lt.delete(`/cours/tests/${e}`),createQuestion:(e,t)=>lt.post(`/cours/tests/${e}/questions`,t),updateQuestion:(e,t)=>lt.put(`/cours/questions/${e}`,t),deleteQuestion:e=>lt.delete(`/cours/questions/${e}`),createChoice:(e,t)=>lt.post(`/cours/questions/${e}/choices`,t),updateChoice:(e,t)=>lt.put(`/cours/choices/${e}`,t),deleteChoice:e=>lt.delete(`/cours/choices/${e}`),getStats:()=>lt.get("/cours/stats")},Qr={all:["cours"],formations:()=>[...Qr.all,"formations"],formation:e=>[...Qr.formations(),e],modules:e=>[...Qr.all,"modules",e],test:e=>[...Qr.all,"test",e],stats:()=>[...Qr.all,"stats"]};function _g(){return pr({queryKey:Qr.formations(),queryFn:()=>Ts.getFormations()})}function ep(e){return pr({queryKey:Qr.formation(e),queryFn:()=>Ts.getFormation(e),enabled:!!e})}function fie(){const e=qt();return Kt({mutationFn:t=>Ts.createFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.formations()}),e.invalidateQueries({queryKey:Qr.stats()})}})}function die(){const e=qt();return Kt({mutationFn:({id:t,data:r})=>Ts.updateFormation(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qr.formations()}),e.invalidateQueries({queryKey:Qr.formation(r)})}})}function hie(){const e=qt();return Kt({mutationFn:t=>Ts.deleteFormation(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.formations()}),e.invalidateQueries({queryKey:Qr.stats()})}})}function mie(){const e=qt();return Kt({mutationFn:({formationId:t,data:r})=>Ts.createModule(t,r),onSuccess:(t,{formationId:r})=>{e.invalidateQueries({queryKey:Qr.modules(r)}),e.invalidateQueries({queryKey:Qr.formation(r)}),e.invalidateQueries({queryKey:Qr.stats()})}})}function pie(){const e=qt();return Kt({mutationFn:({id:t,data:r})=>Ts.updateModule(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Qr.modules(t.formation_id)}),e.invalidateQueries({queryKey:Qr.formation(t.formation_id)})}})}function xie(){const e=qt();return Kt({mutationFn:t=>Ts.deleteModule(t),onSuccess:t=>{const r=t.module.formation_id;e.invalidateQueries({queryKey:Qr.modules(r)}),e.invalidateQueries({queryKey:Qr.formation(r)}),e.invalidateQueries({queryKey:Qr.stats()})}})}function gie(){const e=qt();return Kt({mutationFn:({moduleId:t,data:r})=>Ts.createVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all})}})}function vie(){const e=qt();return Kt({mutationFn:({id:t,data:r})=>Ts.updateVideo(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all})}})}function yie(){const e=qt();return Kt({mutationFn:t=>Ts.deleteVideo(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all}),e.invalidateQueries({queryKey:Qr.stats()})}})}function bie(){const e=qt();return Kt({mutationFn:({moduleId:t,data:r})=>Ts.createTest(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all}),e.invalidateQueries({queryKey:Qr.stats()})}})}function wie(){const e=qt();return Kt({mutationFn:t=>Ts.deleteTest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all}),e.invalidateQueries({queryKey:Qr.stats()})}})}function _ie(){const e=qt();return Kt({mutationFn:({testId:t,data:r})=>Ts.createQuestion(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Qr.test(t.test_id)}),e.invalidateQueries({queryKey:Qr.all})}})}function Nie(){const e=qt();return Kt({mutationFn:({questionId:t,data:r})=>Ts.createChoice(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Qr.all})}})}function Sie(){return pr({queryKey:Qr.stats(),queryFn:()=>Ts.getStats()})}const Pk=({session:e,onClose:t})=>{const r=!!e,n=sie(),a=lie(),{data:i=[]}=Bd(),{data:s=[]}=Jm(),{data:o=[]}=_g(),[u,f]=C.useState({name:e?.name||"",description:e?.description||"",formation_id:e?.formation_id||"",start_date:e?.start_date?e.start_date.split("T")[0]:"",end_date:e?.end_date?e.end_date.split("T")[0]:"",segment_id:e?.segment_id||"",city_id:e?.city_id||"",instructor_id:e?.instructor_id||"",max_capacity:e?.max_capacity?.toString()||"",status:e?.status||"planned"}),[h,p]=C.useState({}),[g,x]=C.useState(!1),b=C.useMemo(()=>u.segment_id?s.filter(_=>_.segment_id===u.segment_id):s,[s,u.segment_id]),y=()=>{const _={};return u.name.trim()||(_.name="Le nom est obligatoire"),u.start_date||(_.start_date="La date de dbut est obligatoire"),u.end_date||(_.end_date="La date de fin est obligatoire"),u.start_date&&u.end_date&&u.start_date>u.end_date&&(_.end_date="La date de fin doit tre aprs la date de dbut"),u.max_capacity&&parseInt(u.max_capacity)<1&&(_.max_capacity="La capacit doit tre suprieure  0"),p(_),Object.keys(_).length===0},w=async _=>{if(_.preventDefault(),!!y()){x(!0);try{const E={name:u.name.trim(),description:u.description.trim()||void 0,formation_id:u.formation_id||void 0,start_date:u.start_date,end_date:u.end_date,segment_id:u.segment_id||void 0,city_id:u.city_id||void 0,instructor_id:u.instructor_id||void 0,max_capacity:u.max_capacity?parseInt(u.max_capacity):void 0,status:u.status};r&&e?await a.mutateAsync({id:e.id,data:E}):await n.mutateAsync(E),t()}catch(E){console.error("Error saving session:",E),p({submit:E.message||"Erreur lors de l'enregistrement"})}finally{x(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(rs,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la session":"Nouvelle session"}),l.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la session":"Crez une nouvelle session de formation"})]})]}),l.jsx(rt,{variant:"ghost",size:"icon",onClick:t,children:l.jsx(kl,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[h.submit&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-700",children:h.submit})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom de la session ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Gs,{value:u.name,onChange:_=>f({...u,name:_.target.value}),placeholder:"Ex: Formation React Avanc",className:h.name?"border-red-300":""}),h.name&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:u.description,onChange:_=>f({...u,description:_.target.value}),placeholder:"Description de la session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formation"}),l.jsxs("select",{value:u.formation_id,onChange:_=>f({...u,formation_id:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[l.jsx("option",{value:"",children:"Slectionner une formation"}),o.map(_=>l.jsx("option",{value:_.id,children:_.title},_.id))]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optionnel - Liez cette session  une formation spcifique"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segment"}),l.jsxs("select",{value:u.segment_id,onChange:_=>{f({...u,segment_id:_.target.value,city_id:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[l.jsx("option",{value:"",children:"Slectionner un segment"}),i.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ville"}),l.jsxs("select",{value:u.city_id,onChange:_=>f({...u,city_id:_.target.value}),disabled:!u.segment_id,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:[l.jsx("option",{value:"",children:"Slectionner une ville"}),b.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]}),!u.segment_id&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Slectionnez d'abord un segment"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de dbut ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Gs,{type:"date",value:u.start_date,onChange:_=>f({...u,start_date:_.target.value}),className:h.start_date?"border-red-300":""}),h.start_date&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.start_date})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date de fin ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Gs,{type:"date",value:u.end_date,onChange:_=>f({...u,end_date:_.target.value}),className:h.end_date?"border-red-300":""}),h.end_date&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.end_date})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacit maximale"}),l.jsx(Gs,{type:"number",min:"1",value:u.max_capacity,onChange:_=>f({...u,max_capacity:_.target.value}),placeholder:"Laissez vide pour illimit",className:h.max_capacity?"border-red-300":""}),h.max_capacity&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.max_capacity})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),l.jsxs("select",{value:u.status,onChange:_=>f({...u,status:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[l.jsx("option",{value:"planned",children:"Planifie"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"completed",children:"Termine"}),l.jsx("option",{value:"cancelled",children:"Annule"})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:g,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:g,className:"min-w-[100px]",children:g?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})},jie=({session:e,onClose:t})=>{const{data:r,isLoading:n}=nie(e.id),{data:a=[]}=aie(e.id),i=cie(),s=uie(),[o,u]=C.useState([]),[f,h]=C.useState(""),[p,g]=C.useState(!1),[x,b]=C.useState(null),y=r?.students||[],w=a.filter(R=>R.full_name.toLowerCase().includes(f.toLowerCase())||R.username.toLowerCase().includes(f.toLowerCase())),_=async()=>{if(o.length===0){b("Veuillez slectionner au moins un tudiant");return}g(!0),b(null);try{await i.mutateAsync({sessionId:e.id,data:{student_ids:o}}),u([]),h("")}catch(R){console.error("Error enrolling students:",R),b(R.message||"Erreur lors de l'inscription des tudiants")}finally{g(!1)}},E=async(R,D)=>{if(window.confirm(`tes-vous sr de vouloir dsinscrire ${D} de cette session ?`))try{await s.mutateAsync({sessionId:e.id,studentId:R})}catch(M){console.error("Error unenrolling student:",M),b(M.message||"Erreur lors de la dsinscription")}},A=R=>{u(D=>D.includes(R)?D.filter(M=>M!==R):[...D,R])},T=R=>{const D={enrolled:{bg:"bg-blue-100",text:"text-blue-700",label:"Inscrit"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Termin"},dropped:{bg:"bg-gray-100",text:"text-gray-700",label:"Abandonn"}},M=D[R]||D.enrolled;return l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${M.bg} ${M.text}`,children:M.label})},O=e.max_capacity?y.length>=e.max_capacity:!1;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(is,{className:"h-6 w-6 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestion des inscriptions"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.name})]})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(kl,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"p-6 max-h-[calc(90vh-140px)] overflow-y-auto",children:[x&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-800",children:x})]}),n?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Inscrits"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[y.length,e.max_capacity&&` / ${e.max_capacity}`]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Formation"}),l.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.formation_title||"Aucune"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Segment"}),l.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.segment_name||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Ville"}),l.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.city_name||"-"})]})]}),O&&l.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded p-2",children:l.jsx("p",{className:"text-xs text-yellow-800",children:" Capacit maximale atteinte"})})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["tudiants inscrits (",y.length,")"]}),y.length===0?l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[l.jsx(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Aucun tudiant inscrit"})]}):l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"tudiant"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date d'inscription"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Statut"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(R=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.student_name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",R.student_username]})]})}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(R.enrollment_date).toLocaleDateString("fr-FR")}),l.jsx("td",{className:"px-4 py-3",children:T(R.enrollment_status)}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("button",{onClick:()=>E(R.student_id,R.student_name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded",title:"Dsinscrire",children:l.jsx(Na,{className:"h-4 w-4"})})})]},R.enrollment_id))})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ajouter des tudiants"}),l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Km,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",value:f,onChange:R=>h(R.target.value),placeholder:"Rechercher un tudiant...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),w.length===0?l.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:l.jsx("p",{className:"text-sm text-gray-500",children:f?"Aucun tudiant trouv":"Tous les tudiants sont dj inscrits"})}):l.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:l.jsx("div",{className:"divide-y divide-gray-200",children:w.map(R=>l.jsxs("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.includes(R.id),onChange:()=>A(R.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.full_name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["@",R.username]})]})]},R.id))})}),o.length>0&&l.jsxs("div",{className:"mt-4 flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[l.jsxs("p",{className:"text-sm text-blue-800",children:[o.length," tudiant(s) slectionn(s)"]}),l.jsx(rt,{onClick:_,disabled:p||O,className:"flex items-center gap-2",children:p?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Inscription..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(SV,{className:"h-4 w-4"}),l.jsx("span",{children:"Inscrire"})]})})]})]})]})]}),l.jsx("div",{className:"flex justify-end gap-3 p-6 border-t bg-gray-50",children:l.jsx(rt,{variant:"outline",onClick:t,children:"Fermer"})})]})})},Aie=()=>{const{data:e,isLoading:t,error:r}=fL(),{data:n}=iie(),a=oie(),[i,s]=C.useState(!1),[o,u]=C.useState(null),[f,h]=C.useState(null),p=async b=>{if(window.confirm(`tes-vous sr de vouloir supprimer la session "${b.name}" ?`))try{await a.mutateAsync(b.id)}catch(y){console.error("Error deleting session:",y),alert("Erreur lors de la suppression de la session")}},g=b=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[b]||"bg-gray-100 text-gray-700",x=b=>({planned:"Planifie",active:"Active",completed:"Termine",cancelled:"Annule"})[b]||b;return l.jsxs(ua,{title:"Sessions de Formation",subtitle:"Grer les sessions et les inscriptions",children:[l.jsxs("div",{className:"space-y-6",children:[n&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(rs,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.sessions.total})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(rs,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Planifies"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.sessions.planned})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:l.jsx(rs,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Actives"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.sessions.active})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:l.jsx(rs,{className:"h-5 w-5 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Termines"}),l.jsx("p",{className:"text-2xl font-bold text-gray-600",children:n.sessions.completed})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:l.jsx(is,{className:"h-5 w-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"tudiants Inscrits"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_students_enrolled})]})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des sessions"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les sessions de formation et les inscriptions"})]}),l.jsxs(rt,{onClick:()=>s(!0),className:"flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Nouvelle session"]})]}),t&&l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),r&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.message})]})]}),e&&e.length>0&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Segment"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscrits"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(b=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),b.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.description})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.formation_title?l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:b.formation_title})}):l.jsx("p",{className:"text-sm text-gray-400",children:"Aucune formation"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("p",{className:"text-sm text-gray-900",children:b.segment_name||"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("p",{className:"text-sm text-gray-900",children:b.city_name||"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"text-gray-900",children:new Date(b.start_date).toLocaleDateString("fr-FR")}),l.jsx("p",{className:"text-gray-500",children:new Date(b.end_date).toLocaleDateString("fr-FR")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(is,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{className:"text-sm text-gray-900",children:[b.enrolled_count||0,b.max_capacity&&` / ${b.max_capacity}`]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${g(b.status)}`,children:x(b.status)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>h(b),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:l.jsx(is,{className:"h-4 w-4"})}),l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>u(b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:l.jsx(Jy,{className:"h-4 w-4"})}),l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>p(b),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:l.jsx(Na,{className:"h-4 w-4"})})]})})]},b.id))})]})})}),e&&e.length===0&&!t&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(rs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire session de formation"}),l.jsxs(rt,{onClick:()=>s(!0),className:"flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Crer une session"]})]})]}),i&&l.jsx(Pk,{onClose:()=>s(!1)}),o&&l.jsx(Pk,{session:o,onClose:()=>u(null)}),f&&l.jsx(jie,{session:f,onClose:()=>h(null)})]})},Fk=({formation:e,onClose:t})=>{const r=!!e,n=fie(),a=die(),[i,s]=C.useState({title:e?.title||"",description:e?.description||"",price:e?.price?.toString()||"",duration_hours:e?.duration_hours?.toString()||"",level:e?.level||"debutant",thumbnail_url:e?.thumbnail_url||"",status:e?.status||"draft",passing_score_percentage:e?.passing_score_percentage?.toString()||"80"}),[o,u]=C.useState({}),[f,h]=C.useState(!1),p=()=>{const x={};i.title.trim()||(x.title="Le titre est obligatoire"),i.price&&parseFloat(i.price)<0&&(x.price="Le prix doit tre positif"),i.duration_hours&&parseInt(i.duration_hours)<1&&(x.duration_hours="La dure doit tre suprieure  0");const b=parseInt(i.passing_score_percentage);return(b<0||b>100)&&(x.passing_score_percentage="Le score doit tre entre 0 et 100"),u(x),Object.keys(x).length===0},g=async x=>{if(x.preventDefault(),!!p()){h(!0);try{const b={title:i.title.trim(),description:i.description.trim()||void 0,price:i.price?parseFloat(i.price):void 0,duration_hours:i.duration_hours?parseInt(i.duration_hours):void 0,level:i.level,thumbnail_url:i.thumbnail_url.trim()||void 0,status:i.status,passing_score_percentage:parseInt(i.passing_score_percentage)};r&&e?await a.mutateAsync({id:e.id,data:b}):await n.mutateAsync(b),t()}catch(b){console.error("Error saving formation:",b),u({submit:b.message||"Erreur lors de l'enregistrement"})}finally{h(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(zn,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Modifier la formation":"Nouvelle formation"}),l.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r?"Mettez  jour les informations de la formation":"Crez une nouvelle formation en ligne"})]})]}),l.jsx(rt,{variant:"ghost",size:"icon",onClick:t,children:l.jsx(kl,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[o.submit&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-700",children:o.submit})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la formation ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Gs,{value:i.title,onChange:x=>s({...i,title:x.target.value}),placeholder:"Ex: Matriser React et TypeScript",className:o.title?"border-red-300":""}),o.title&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.title})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:i.description,onChange:x=>s({...i,description:x.target.value}),placeholder:"Description complte de la formation...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),l.jsxs("select",{value:i.level,onChange:x=>s({...i,level:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[l.jsx("option",{value:"debutant",children:"Dbutant"}),l.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),l.jsx("option",{value:"avance",children:"Avanc"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),l.jsxs("select",{value:i.status,onChange:x=>s({...i,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[l.jsx("option",{value:"draft",children:"Brouillon"}),l.jsx("option",{value:"published",children:"Publie"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix (MAD)"}),l.jsx(Gs,{type:"number",min:"0",step:"0.01",value:i.price,onChange:x=>s({...i,price:x.target.value}),placeholder:"0.00",className:o.price?"border-red-300":""}),o.price&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.price}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour gratuit"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (heures)"}),l.jsx(Gs,{type:"number",min:"1",value:i.duration_hours,onChange:x=>s({...i,duration_hours:x.target.value}),placeholder:"10",className:o.duration_hours?"border-red-300":""}),o.duration_hours&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.duration_hours})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Gs,{type:"number",min:"0",max:"100",value:i.passing_score_percentage,onChange:x=>s({...i,passing_score_percentage:x.target.value}),className:o.passing_score_percentage?"border-red-300":""}),o.passing_score_percentage&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.passing_score_percentage}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Score minimum requis pour valider les tests (dfaut: 80%)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de l'image"}),l.jsx(Gs,{type:"url",value:i.thumbnail_url,onChange:x=>s({...i,thumbnail_url:x.target.value}),placeholder:"https://example.com/image.jpg"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Image de prsentation de la formation (optionnel)"})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:f,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:f,className:"min-w-[100px]",children:f?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"..."})]}):r?"Enregistrer":"Crer"})]})]})]})})};function S3(e,t="MAD"){if(e==null)return"Gratuit";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)||r<=0?"Gratuit":`${r.toFixed(2)} ${t}`}const Eie=()=>{const e=$n(),{data:t,isLoading:r,error:n}=_g(),{data:a}=Sie(),i=hie(),[s,o]=C.useState(!1),[u,f]=C.useState(null),h=async y=>{if(window.confirm(`tes-vous sr de vouloir supprimer la formation "${y.title}" ? Tous les modules, vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(y.id)}catch(w){console.error("Error deleting formation:",w),alert("Erreur lors de la suppression de la formation")}},p=y=>({draft:"bg-gray-100 text-gray-700",published:"bg-green-100 text-green-700"})[y]||"bg-gray-100 text-gray-700",g=y=>({draft:"Brouillon",published:"Publie"})[y]||y,x=y=>y?{debutant:"Dbutant",intermediaire:"Intermdiaire",avance:"Avanc"}[y]||y:"-",b=y=>y&&{debutant:"bg-blue-50 text-blue-700",intermediaire:"bg-yellow-50 text-yellow-700",avance:"bg-purple-50 text-purple-700"}[y]||"bg-gray-50 text-gray-700";return l.jsxs(ua,{title:"Formations en Ligne",subtitle:"Grer les formations, modules, vidos et tests",children:[l.jsxs("div",{className:"space-y-6",children:[a&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(zn,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Formations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.formations.total})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:l.jsx(zn,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Publies"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.formations.published})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:l.jsx(Dx,{className:"h-5 w-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Vidos"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.total_videos})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:l.jsx(tf,{className:"h-5 w-5 text-orange-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Tests"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.total_tests})]})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Liste des formations"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Crez et grez vos formations en ligne"})]}),l.jsxs(rt,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Nouvelle formation"]})]}),r&&l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),n&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de chargement"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:n.message})]})]}),t&&t.length>0&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Niveau"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modules"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dure"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(y=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.title}),y.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:y.description})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${b(y.level)}`,children:x(y.level)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zn,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-900",children:y.module_count||0})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:y.price&&Number(y.price)>0?l.jsxs(l.Fragment,{children:[l.jsx($4,{className:"h-4 w-4 text-gray-400"}),S3(y.price)]}):l.jsx("span",{className:"text-gray-400",children:"Gratuit"})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"text-sm text-gray-900",children:y.duration_hours?`${y.duration_hours}h`:"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${p(y.status)}`,children:g(y.status)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/formations/cours/${y.id}/editor`),className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Grer le contenu (modules, vidos, tests)",children:l.jsx(VD,{className:"h-4 w-4"})}),l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>f(y),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter les informations",children:l.jsx(Jy,{className:"h-4 w-4"})}),l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>h(y),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer la formation",children:l.jsx(Na,{className:"h-4 w-4"})})]})})]},y.id))})]})})}),t&&t.length===0&&!r&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer votre premire formation en ligne"}),l.jsxs(rt,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Crer une formation"]})]})]}),s&&l.jsx(Fk,{onClose:()=>o(!1)}),u&&l.jsx(Fk,{formation:u,onClose:()=>f(null)})]})},kie=({formationId:e,module:t,modules:r=[],onClose:n})=>{const a=!!t,i=mie(),s=pie(),[o,u]=C.useState({title:t?.title||"",description:t?.description||"",module_type:t?.module_type||"video",prerequisite_module_id:t?.prerequisite_module_id||""}),[f,h]=C.useState({}),p=()=>{const y={};return o.title.trim()||(y.title="Le titre est obligatoire"),h(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!p())try{const w={title:o.title.trim(),description:o.description.trim()||void 0,module_type:o.module_type,prerequisite_module_id:o.prerequisite_module_id||void 0};a&&t?await s.mutateAsync({id:t.id,data:w}):await i.mutateAsync({formationId:e,data:w}),n()}catch(w){console.error("Error saving module:",w),h({submit:"Une erreur est survenue lors de la sauvegarde du module"})}},x=r.filter(y=>!a||y.id!==t?.id),b=y=>({video:"Vido",test:"Test",document:"Document"})[y];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Modifier le module":"Ajouter un module"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(kl,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[f.submit&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"title",value:o.title,onChange:y=>u({...o,title:y.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction aux bases de donnes"}),f.title&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"description",value:o.description,onChange:y=>u({...o,description:y.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dcrivez le contenu de ce module..."})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"module_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de module ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{id:"module_type",value:o.module_type,onChange:y=>u({...o,module_type:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"video",children:"Vido"}),l.jsx("option",{value:"test",children:"Test"}),l.jsx("option",{value:"document",children:"Document"})]}),l.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[o.module_type==="video"&&"Module contenant des vidos de cours",o.module_type==="test"&&"Module contenant des tests et valuations",o.module_type==="document"&&"Module contenant des documents et ressources"]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"prerequisite_module_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Module prrequis"}),l.jsxs("select",{id:"prerequisite_module_id",value:o.prerequisite_module_id,onChange:y=>u({...o,prerequisite_module_id:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Aucun (accessible immdiatement)"}),x.map(y=>l.jsxs("option",{value:y.id,children:["#",y.order_index+1," - ",y.title," (",b(y.module_type),")"]},y.id))]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"L'tudiant devra complter ce module avant d'accder au module actuel"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:i.isPending||s.isPending,className:"min-w-[120px]",children:i.isPending||s.isPending?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Sauvegarde..."})]}):a?"Modifier":"Ajouter"})]})]})]})})},Cie=({moduleId:e,video:t,onClose:r})=>{const n=!!t,a=gie(),i=vie(),[s,o]=C.useState({title:t?.title||"",youtube_url:t?.youtube_url||"",duration_seconds:t?.duration_seconds?.toString()||"",description:t?.description||""}),[u,f]=C.useState({}),h=_=>_.trim()?[/^https?:\/\/(www\.)?youtube\.com\/watch\?v=[\w-]+/,/^https?:\/\/(www\.)?youtu\.be\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/embed\/[\w-]+/,/^https?:\/\/(www\.)?youtube\.com\/v\/[\w-]+/].some(A=>A.test(_)):!1,p=_=>{const E=[/youtube\.com\/watch\?v=([\w-]+)/,/youtu\.be\/([\w-]+)/,/youtube\.com\/embed\/([\w-]+)/,/youtube\.com\/v\/([\w-]+)/];for(const A of E){const T=_.match(A);if(T&&T[1])return T[1]}return null},g=()=>{const _={};return s.title.trim()||(_.title="Le titre est obligatoire"),s.youtube_url.trim()?h(s.youtube_url)||(_.youtube_url="L'URL YouTube n'est pas valide. Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."):_.youtube_url="L'URL YouTube est obligatoire",s.duration_seconds&&parseInt(s.duration_seconds)<0&&(_.duration_seconds="La dure doit tre positive"),f(_),Object.keys(_).length===0},x=async _=>{if(_.preventDefault(),!!g())try{const E={title:s.title.trim(),youtube_url:s.youtube_url.trim(),duration_seconds:s.duration_seconds?parseInt(s.duration_seconds):void 0,description:s.description.trim()||void 0};n&&t?await i.mutateAsync({id:t.id,data:E}):await a.mutateAsync({moduleId:e,data:E}),r()}catch(E){console.error("Error saving video:",E),f({submit:"Une erreur est survenue lors de la sauvegarde de la vido"})}},b=p(s.youtube_url),y=b?`https://img.youtube.com/vi/${b}/mqdefault.jpg`:null,w=_=>{const E=Math.floor(_/60),A=_%60;return`${E}min ${A}s`};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Modifier la vido":"Ajouter une vido"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(kl,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[u.submit&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-800",children:u.submit})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre de la vido ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"title",value:s.title,onChange:_=>o({...s,title:_.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Introduction  SQL"}),u.title&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"youtube_url",className:"block text-sm font-medium text-gray-700 mb-2",children:["URL YouTube ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"youtube_url",value:s.youtube_url,onChange:_=>o({...s,youtube_url:_.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.youtube_url?"border-red-300":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),u.youtube_url&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.youtube_url}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formats accepts: youtube.com/watch?v=..., youtu.be/..., youtube.com/embed/..."}),y&&!u.youtube_url&&l.jsxs("div",{className:"mt-3 border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("img",{src:y,alt:"Aperu YouTube",className:"w-full"}),l.jsxs("div",{className:"p-2 bg-gray-50 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-gray-600",children:"Aperu de la vido"}),l.jsxs("a",{href:s.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["Ouvrir sur YouTube",l.jsx(Zy,{className:"h-3 w-3"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"duration_seconds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Dure (en secondes)"}),l.jsx("input",{type:"number",id:"duration_seconds",value:s.duration_seconds,onChange:_=>o({...s,duration_seconds:_.target.value}),min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u.duration_seconds?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 300"}),u.duration_seconds&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.duration_seconds}),s.duration_seconds&&parseInt(s.duration_seconds)>0&&l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["quivalent: ",w(parseInt(s.duration_seconds))]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optionnel - Aide les tudiants  planifier leur temps d'apprentissage"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"description",value:s.description,onChange:_=>o({...s,description:_.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Dcrivez le contenu de cette vido..."}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Rsum du contenu abord dans la vido"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:a.isPending||i.isPending,className:"min-w-[120px] bg-purple-600 hover:bg-purple-700",children:a.isPending||i.isPending?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Sauvegarde..."})]}):n?"Modifier":"Ajouter"})]})]})]})})},Tie=({moduleId:e,onClose:t})=>{const r=bie(),n=_ie(),a=Nie(),[i,s]=C.useState({title:"",description:"",passing_score:60,time_limit_minutes:"",max_attempts:"",show_correct_answers:!0}),[o,u]=C.useState([{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}]),[f,h]=C.useState({}),[p,g]=C.useState(!1),x=()=>{u([...o,{tempId:`q-${Date.now()}`,question_text:"",points:1,choices:[{tempId:`c-${Date.now()}-1`,choice_text:"",is_correct:!1},{tempId:`c-${Date.now()}-2`,choice_text:"",is_correct:!1}]}])},b=O=>{if(o.length===1){h({questions:"Un test doit avoir au moins une question"});return}if(u(o.filter(R=>R.tempId!==O)),f.questions){const R={...f};delete R.questions,h(R)}},y=(O,R,D)=>{u(o.map(M=>M.tempId===O?{...M,[R]:D}:M))},w=O=>{u(o.map(R=>R.tempId===O?{...R,choices:[...R.choices,{tempId:`c-${Date.now()}`,choice_text:"",is_correct:!1}]}:R))},_=(O,R)=>{u(o.map(D=>D.tempId===O?D.choices.length<=2?(h({...f,[`choices-${O}`]:"Une question doit avoir au moins 2 choix de rponse"}),D):{...D,choices:D.choices.filter(M=>M.tempId!==R)}:D))},E=(O,R,D,M)=>{u(o.map(B=>B.tempId===O?{...B,choices:B.choices.map(G=>G.tempId===R?{...G,[D]:M}:G)}:B))},A=()=>{const O={};return i.title.trim()||(O.title="Le titre est obligatoire"),(i.passing_score<0||i.passing_score>100)&&(O.passing_score="Le score de russite doit tre entre 0 et 100"),i.time_limit_minutes&&parseInt(i.time_limit_minutes)<1&&(O.time_limit_minutes="La limite de temps doit tre d'au moins 1 minute"),i.max_attempts&&parseInt(i.max_attempts)<1&&(O.max_attempts="Le nombre de tentatives doit tre d'au moins 1"),o.length===0&&(O.questions="Le test doit avoir au moins une question"),o.forEach((R,D)=>{R.question_text.trim()||(O[`question-${R.tempId}`]=`Question ${D+1}: Le texte est obligatoire`),R.points<0&&(O[`points-${R.tempId}`]=`Question ${D+1}: Les points doivent tre positifs`),R.choices.length<2&&(O[`choices-${R.tempId}`]=`Question ${D+1}: Au moins 2 choix requis`),R.choices.some(B=>B.is_correct)||(O[`correct-${R.tempId}`]=`Question ${D+1}: Au moins un choix doit tre marqu comme correct`),R.choices.forEach((B,G)=>{B.choice_text.trim()||(O[`choice-${B.tempId}`]=`Question ${D+1}, Choix ${G+1}: Le texte est obligatoire`)})}),h(O),Object.keys(O).length===0},T=async O=>{if(O.preventDefault(),!!A()){g(!0);try{const R=await r.mutateAsync({moduleId:e,data:{title:i.title.trim(),description:i.description.trim()||void 0,passing_score:i.passing_score,time_limit_minutes:i.time_limit_minutes?parseInt(i.time_limit_minutes):void 0,max_attempts:i.max_attempts?parseInt(i.max_attempts):void 0,show_correct_answers:i.show_correct_answers}});for(let D=0;D<o.length;D++){const M=o[D],B=await n.mutateAsync({testId:R.id,data:{question_text:M.question_text.trim(),points:M.points,order_index:D}});for(let G=0;G<M.choices.length;G++){const I=M.choices[G];await a.mutateAsync({questionId:B.id,data:{choice_text:I.choice_text.trim(),is_correct:I.is_correct,order_index:G}})}}t()}catch(R){console.error("Error creating test:",R),h({submit:"Une erreur est survenue lors de la cration du test"}),g(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10 rounded-t-lg",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Crer un test"}),l.jsx("button",{onClick:t,disabled:p,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:l.jsx(kl,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:T,className:"p-6 space-y-8 max-h-[calc(90vh-140px)] overflow-y-auto",children:[f.submit&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-800",children:f.submit})]}),l.jsxs("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),"Informations du test"]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Titre du test ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"title",value:i.title,onChange:O=>s({...i,title:O.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.title?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Quiz sur les bases de donnes relationnelles"}),f.title&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.title})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"description",value:i.description,onChange:O=>s({...i,description:O.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Dcrivez les objectifs et le contenu de ce test..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"passing_score",className:"block text-sm font-medium text-gray-700 mb-2",children:["Score de russite (%) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",id:"passing_score",value:i.passing_score,onChange:O=>s({...i,passing_score:parseInt(O.target.value)||0}),min:"0",max:"100",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f.passing_score?"border-red-300":"border-gray-300"}`}),f.passing_score&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.passing_score})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"time_limit_minutes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de temps (minutes)"}),l.jsx("input",{type:"number",id:"time_limit_minutes",value:i.time_limit_minutes,onChange:O=>s({...i,time_limit_minutes:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Optionnel"}),f.time_limit_minutes&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.time_limit_minutes})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"max_attempts",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de tentatives max"}),l.jsx("input",{type:"number",id:"max_attempts",value:i.max_attempts,onChange:O=>s({...i,max_attempts:O.target.value}),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Illimit"}),f.max_attempts&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.max_attempts})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Afficher les bonnes rponses"}),l.jsx("div",{className:"flex items-center gap-4 h-[42px]",children:l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.show_correct_answers,onChange:O=>s({...i,show_correct_answers:O.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Montrer les rponses correctes aprs la soumission"})]})})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx("span",{className:"bg-orange-100 text-orange-700 w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),"Questions (",o.length,")"]}),l.jsxs(rt,{type:"button",onClick:x,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Ajouter une question"]})]}),f.questions&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-red-800",children:f.questions})}),l.jsx("div",{className:"space-y-6",children:o.map((O,R)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("h4",{className:"font-semibold text-gray-900",children:["Question ",R+1]}),o.length>1&&l.jsx("button",{type:"button",onClick:()=>b(O.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Supprimer cette question",children:l.jsx(Na,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Texte de la question ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{value:O.question_text,onChange:D=>y(O.tempId,"question_text",D.target.value),rows:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`question-${O.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:"Entrez la question..."}),f[`question-${O.tempId}`]&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`question-${O.tempId}`]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),l.jsx("input",{type:"number",value:O.points,onChange:D=>y(O.tempId,"points",parseInt(D.target.value)||1),min:"0",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),f[`points-${O.tempId}`]&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f[`points-${O.tempId}`]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Choix de rponse (cochez les bonnes rponses)"}),l.jsxs("button",{type:"button",onClick:()=>w(O.tempId),className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[l.jsx(bi,{className:"h-4 w-4"}),"Ajouter un choix"]})]}),f[`choices-${O.tempId}`]&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:l.jsx("p",{className:"text-sm text-red-800",children:f[`choices-${O.tempId}`]})}),f[`correct-${O.tempId}`]&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:l.jsx("p",{className:"text-sm text-red-800",children:f[`correct-${O.tempId}`]})}),l.jsx("div",{className:"space-y-2",children:O.choices.map((D,M)=>l.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${D.is_correct?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:D.is_correct,onChange:B=>E(O.tempId,D.tempId,"is_correct",B.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500",title:"Marquer comme bonne rponse"}),D.is_correct&&l.jsx(ID,{className:"h-4 w-4 text-green-600 ml-1"})]}),l.jsx("input",{type:"text",value:D.choice_text,onChange:B=>E(O.tempId,D.tempId,"choice_text",B.target.value),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent ${f[`choice-${D.tempId}`]?"border-red-300":"border-gray-300"}`,placeholder:`Choix ${M+1}`}),O.choices.length>2&&l.jsx("button",{type:"button",onClick:()=>_(O.tempId,D.tempId),className:"text-red-600 hover:text-red-700 hover:bg-red-100 p-1 rounded",title:"Supprimer ce choix",children:l.jsx(Na,{className:"h-4 w-4"})})]},D.tempId))})]})]},O.tempId))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t sticky bottom-0 bg-white",children:[l.jsx(rt,{type:"button",variant:"outline",onClick:t,disabled:p,children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:p,className:"min-w-[180px] bg-orange-600 hover:bg-orange-700",children:p?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Cration en cours..."})]}):"Crer le test"})]})]})]})})},Oie=()=>{const{id:e}=Tc(),t=$n(),{data:r,isLoading:n,error:a}=ep(e),i=xie(),s=yie(),o=wie(),[u,f]=C.useState(new Set),[h,p]=C.useState(!1),[g,x]=C.useState(!1),[b,y]=C.useState(!1),[w,_]=C.useState(null),[E,A]=C.useState(null),T=K=>{const J=new Set(u);J.has(K)?J.delete(K):J.add(K),f(J)},O=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le module "${K.title}" ? Toutes les vidos et tests associs seront galement supprims.`))try{await i.mutateAsync(K.id)}catch(J){console.error("Error deleting module:",J),alert("Erreur lors de la suppression du module")}},R=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer la vido "${K.title}" ?`))try{await s.mutateAsync(K.id)}catch(J){console.error("Error deleting video:",J),alert("Erreur lors de la suppression de la vido")}},D=async K=>{if(window.confirm(`tes-vous sr de vouloir supprimer le test "${K.title}" ? Toutes les questions et rponses associes seront galement supprimes.`))try{await o.mutateAsync(K.id)}catch(J){console.error("Error deleting test:",J),alert("Erreur lors de la suppression du test")}},M=K=>K==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",B=K=>K==="published"?"Publie":"Brouillon",G=K=>({video:"bg-purple-50 text-purple-700",test:"bg-orange-50 text-orange-700",document:"bg-blue-50 text-blue-700"})[K]||"bg-gray-50 text-gray-700",I=K=>({video:"Vido",test:"Test",document:"Document"})[K]||K;if(n)return l.jsx(ua,{title:"Chargement...",subtitle:"Chargement de la formation",children:l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(a||!r)return l.jsxs(ua,{title:"Erreur",subtitle:"Formation introuvable",children:[l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx(mn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-red-800",children:"Formation introuvable"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:a?.message||"Cette formation n'existe pas ou a t supprime."})]})]}),l.jsx("div",{className:"mt-6",children:l.jsxs(rt,{onClick:()=>t("/admin/formations/cours"),variant:"outline",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour aux formations"]})})]});const z=r.modules||[];return l.jsxs(ua,{title:r.title,subtitle:"Configuration de la formation",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>t("/admin/formations/cours"),className:"text-gray-600 hover:text-gray-900",children:[l.jsx(da,{className:"h-4 w-4 mr-1"}),"Retour"]}),l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${M(r.status)}`,children:B(r.status)})]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[r.duration_hours&&l.jsxs("span",{children:[r.duration_hours,"h de contenu"]}),r.price&&Number(r.price)>0&&l.jsx("span",{children:S3(r.price)}),l.jsxs("span",{children:[z.length," module(s)"]})]})]})})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:l.jsx("div",{className:"flex flex-wrap gap-3",children:l.jsxs(rt,{onClick:()=>{_(null),p(!0)},className:"flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Ajouter un module"]})})}),z.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun module"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Commencez par crer le premier module de votre formation"}),l.jsxs(rt,{onClick:()=>{_(null),p(!0)},className:"flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Crer un module"]})]}):l.jsx("div",{className:"space-y-3",children:z.map(K=>{const J=u.has(K.id),pe=K.videos||[],ne=K.tests||[],le=pe.length>0||ne.length>0;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-4 flex items-center gap-3",children:[l.jsx("button",{onClick:()=>T(K.id),className:"text-gray-400 hover:text-gray-600",disabled:!le,children:le?J?l.jsx(Qy,{className:"h-5 w-5"}):l.jsx(Gu,{className:"h-5 w-5"}):l.jsx("div",{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",K.order_index+1]}),l.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:K.title}),l.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${G(K.module_type)}`,children:I(K.module_type)})]}),K.description&&l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:K.description}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[l.jsxs("span",{children:[pe.length," vido(s)"]}),l.jsxs("span",{children:[ne.length," test(s)"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{A(K.id),x(!0)},className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Ajouter une vido",children:l.jsx(Dx,{className:"h-4 w-4"})}),l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{A(K.id),y(!0)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",title:"Ajouter un test",children:l.jsx(tf,{className:"h-4 w-4"})}),l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>{_(K),p(!0)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"diter le module",children:l.jsx(Jy,{className:"h-4 w-4"})}),l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>O(K),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer le module",children:l.jsx(Na,{className:"h-4 w-4"})})]})]}),J&&le&&l.jsxs("div",{className:"border-t bg-gray-50 px-4 py-3 space-y-2",children:[pe.map(ve=>l.jsxs("div",{className:"bg-white rounded border border-purple-100 p-3 flex items-center gap-3",children:[l.jsx(Dx,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ve.title}),ve.duration_seconds&&l.jsxs("p",{className:"text-xs text-gray-500",children:[Math.floor(ve.duration_seconds/60),"min"," ",ve.duration_seconds%60,"s"]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>R(ve),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:l.jsx(Na,{className:"h-3 w-3"})})})]},ve.id)),ne.map(ve=>l.jsxs("div",{className:"bg-white rounded border border-orange-100 p-3 flex items-center gap-3",children:[l.jsx(tf,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ve.title}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[l.jsxs("span",{children:[ve.questions?.length||0," question(s)"]}),ve.time_limit_minutes&&l.jsxs("span",{children:[ve.time_limit_minutes," min"]}),l.jsxs("span",{children:["Score min: ",ve.passing_score,"%"]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>D(ve),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:l.jsx(Na,{className:"h-3 w-3"})})})]},ve.id))]})]},K.id)})})]}),h&&e&&l.jsx(kie,{formationId:e,module:w||void 0,modules:z,onClose:()=>{p(!1),_(null)}}),g&&E&&l.jsx(Cie,{moduleId:E,onClose:()=>{x(!1),A(null)}}),b&&E&&l.jsx(Tie,{moduleId:E,onClose:()=>{y(!1),A(null)}})]})};function dL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=dL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=dL(e))&&(n&&(n+=" "),n+=t);return n}var Die=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function j3(e){if(typeof e!="string")return!1;var t=Die;return t.includes(e)}var Pie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function hL(e){if(typeof e!="string")return!1;var t=Pie;return t.includes(e)}function mL(e){return typeof e=="string"&&e.startsWith("data-")}function ro(e){var t=Object.entries(e).filter(r=>{var[n]=r;return hL(n)||mL(n)});return Object.fromEntries(t)}function K0(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ro(t)}return typeof e=="object"&&!Array.isArray(e)?ro(e):null}function tl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return hL(n)||mL(n)||j3(n)});return Object.fromEntries(t)}function Fie(e){return e==null?null:C.isValidElement(e)?tl(e.props):typeof e=="object"&&!Array.isArray(e)?tl(e):null}var Lie=["children","width","height","viewBox","className","style","title","desc"];function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l_.apply(null,arguments)}function Mie(e,t){if(e==null)return{};var r,n,a=Rie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A3=C.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:u,desc:f}=e,h=Mie(e,Lie),p=i||{width:n,height:a,x:0,y:0},g=rn("recharts-surface",s);return C.createElement("svg",l_({},tl(h),{className:g,width:n,height:a,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),C.createElement("title",null,u),C.createElement("desc",null,f),r)}),Iie=["children","className"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o_.apply(null,arguments)}function Bie(e,t){if(e==null)return{};var r,n,a=Uie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ss=C.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Bie(e,Iie),i=rn("recharts-layer",n);return C.createElement("g",o_({className:i},tl(a),{ref:t}),r)}),pL=C.createContext(null),zie=()=>C.useContext(pL);function Bn(e){return function(){return e}}const xL=Math.cos,ry=Math.sin,Oc=Math.sqrt,ny=Math.PI,c2=2*ny,c_=Math.PI,u_=2*c_,v0=1e-6,qie=u_-v0;function gL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $ie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Hie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gL:$ie(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,u=n-t,f=a-r,h=s-t,p=o-r,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>v0)if(!(Math.abs(p*u-f*h)>v0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-s,b=a-o,y=u*u+f*f,w=x*x+b*b,_=Math.sqrt(y),E=Math.sqrt(g),A=i*Math.tan((c_-Math.acos((y+g-w)/(2*_*E)))/2),T=A/E,O=A/_;Math.abs(T-1)>v0&&this._append`L${t+T*h},${r+T*p}`,this._append`A${i},${i},0,0,${+(p*x>h*b)},${this._x1=t+O*u},${this._y1=r+O*f}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),u=n*Math.sin(a),f=t+o,h=r+u,p=1^s,g=s?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>v0||Math.abs(this._y1-h)>v0)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%u_+u_),g>qie?this._append`A${n},${n},0,1,${p},${t-o},${r-u}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:g>v0&&this._append`A${n},${n},0,${+(g>=c_)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function E3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Hie(t)}function k3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vL(e){this._context=e}vL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function u2(e){return new vL(e)}function yL(e){return e[0]}function bL(e){return e[1]}function wL(e,t){var r=Bn(!0),n=null,a=u2,i=null,s=E3(o);e=typeof e=="function"?e:e===void 0?yL:Bn(e),t=typeof t=="function"?t:t===void 0?bL:Bn(t);function o(u){var f,h=(u=k3(u)).length,p,g=!1,x;for(n==null&&(i=a(x=s())),f=0;f<=h;++f)!(f<h&&r(p=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,f,u),+t(p,f,u));if(x)return i=null,x+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Bn(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Bn(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Bn(!!u),o):r},o.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),o):a},o.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),o):n},o}function J1(e,t,r){var n=null,a=Bn(!0),i=null,s=u2,o=null,u=E3(f);e=typeof e=="function"?e:e===void 0?yL:Bn(+e),t=typeof t=="function"?t:Bn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bL:Bn(+r);function f(p){var g,x,b,y=(p=k3(p)).length,w,_=!1,E,A=new Array(y),T=new Array(y);for(i==null&&(o=s(E=u())),g=0;g<=y;++g){if(!(g<y&&a(w=p[g],g,p))===_)if(_=!_)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=x;--b)o.point(A[b],T[b]);o.lineEnd(),o.areaEnd()}_&&(A[g]=+e(w,g,p),T[g]=+t(w,g,p),o.point(n?+n(w,g,p):A[g],r?+r(w,g,p):T[g]))}if(E)return o=null,E+""||null}function h(){return wL().defined(a).curve(s).context(i)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:Bn(+p),n=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Bn(+p),f):e},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Bn(+p),f):n},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:Bn(+p),r=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Bn(+p),f):t},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Bn(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Bn(!!p),f):a},f.curve=function(p){return arguments.length?(s=p,i!=null&&(o=s(i)),f):s},f.context=function(p){return arguments.length?(p==null?i=o=null:o=s(i=p),f):i},f}class _L{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Vie(e){return new _L(e,!0)}function Wie(e){return new _L(e,!1)}const C3={draw(e,t){const r=Oc(t/ny);e.moveTo(r,0),e.arc(0,0,r,0,c2)}},Gie={draw(e,t){const r=Oc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},NL=Oc(1/3),Kie=NL*2,Yie={draw(e,t){const r=Oc(t/Kie),n=r*NL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Xie={draw(e,t){const r=Oc(t),n=-r/2;e.rect(n,n,r,r)}},Qie=.8908130915292852,SL=ry(ny/10)/ry(7*ny/10),Zie=ry(c2/10)*SL,Jie=-xL(c2/10)*SL,ese={draw(e,t){const r=Oc(t*Qie),n=Zie*r,a=Jie*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=c2*i/5,o=xL(s),u=ry(s);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*a,u*n+o*a)}e.closePath()}},Dw=Oc(3),tse={draw(e,t){const r=-Oc(t/(Dw*3));e.moveTo(0,r*2),e.lineTo(-Dw*r,-r),e.lineTo(Dw*r,-r),e.closePath()}},jo=-.5,Ao=Oc(3)/2,f_=1/Oc(12),rse=(f_/2+1)*3,nse={draw(e,t){const r=Oc(t/rse),n=r/2,a=r*f_,i=n,s=r*f_+r,o=-i,u=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,u),e.lineTo(jo*n-Ao*a,Ao*n+jo*a),e.lineTo(jo*i-Ao*s,Ao*i+jo*s),e.lineTo(jo*o-Ao*u,Ao*o+jo*u),e.lineTo(jo*n+Ao*a,jo*a-Ao*n),e.lineTo(jo*i+Ao*s,jo*s-Ao*i),e.lineTo(jo*o+Ao*u,jo*u-Ao*o),e.closePath()}};function ase(e,t){let r=null,n=E3(a);e=typeof e=="function"?e:Bn(e||C3),t=typeof t=="function"?t:Bn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Bn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Bn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function ay(){}function iy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jL(e){this._context=e}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ise(e){return new jL(e)}function AL(e){this._context=e}AL.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sse(e){return new AL(e)}function EL(e){this._context=e}EL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lse(e){return new EL(e)}function kL(e){this._context=e}kL.prototype={areaStart:ay,areaEnd:ay,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ose(e){return new kL(e)}function Lk(e){return e<0?-1:1}function Mk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Lk(i)+Lk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Rk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Pw(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function sy(e){this._context=e}sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pw(this,this._t0,Rk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pw(this,Rk(this,r=Mk(this,e,t)),r);break;default:Pw(this,this._t0,r=Mk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function CL(e){this._context=new TL(e)}(CL.prototype=Object.create(sy.prototype)).point=function(e,t){sy.prototype.point.call(this,t,e)};function TL(e){this._context=e}TL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function cse(e){return new sy(e)}function use(e){return new CL(e)}function OL(e){this._context=e}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ik(e),a=Ik(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ik(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function fse(e){return new OL(e)}function f2(e,t){this._context=e,this._t=t}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dse(e){return new f2(e,.5)}function hse(e){return new f2(e,0)}function mse(e){return new f2(e,1)}function Mm(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function d_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pse(e,t){return e[t]}function xse(e){const t=[];return t.key=e,t}function gse(){var e=Bn([]),t=d_,r=Mm,n=pse;function a(i){var s=Array.from(e.apply(this,arguments),xse),o,u=s.length,f=-1,h;for(const p of i)for(o=0,++f;o<u;++o)(s[o][f]=[0,+n(p,s[o].key,f,i)]).data=p;for(o=0,h=k3(t(s));o<u;++o)s[h[o]].index=o;return r(s,h),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Bn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Bn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?d_:typeof i=="function"?i:Bn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Mm,a):r},a}function vse(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Mm(e,t)}}function yse(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Mm(e,t)}}function bse(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,u=0,f=0;o<s;++o){for(var h=e[t[o]],p=h[n][1]||0,g=h[n-1][1]||0,x=(p-g)/2,b=0;b<o;++b){var y=e[t[b]],w=y[n][1]||0,_=y[n-1][1]||0;x+=w-_}u+=p,f+=x*p}a[n-1][1]+=a[n-1][0]=r,u&&(r-=f/u)}a[n-1][1]+=a[n-1][0]=r,Mm(e,t)}}var Fw={},Lw={},Bk;function wse(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Lw)),Lw}var Mw={},Uk;function DL(){return Uk||(Uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Mw)),Mw}var Rw={},zk;function T3(){return zk||(zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Rw)),Rw}var Iw={},Bw={},qk;function _se(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Bw)),Bw}var $k;function O3(){return $k||($k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_se(),r=T3();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,u="",f="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const p=a[o];f?p==="\\"&&o+1<s?(o++,u+=a[o]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,i.push(u),u=""):u+=p:p==="["?(h=!0,u&&(i.push(u),u="")):p==="."?u&&(i.push(u),u=""):u+=p,o++}return u&&i.push(u),i}e.toPath=n})(Iw)),Iw}var Hk;function D3(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wse(),r=DL(),n=T3(),a=O3();function i(o,u,f){if(o==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?r.isDeepKey(u)?i(o,a.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=o[u];return h===void 0?f:h}default:{if(Array.isArray(u))return s(o,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?f:h}}}function s(o,u,f){if(u.length===0)return f;let h=o;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}e.get=i})(Fw)),Fw}var Uw,Vk;function Nse(){return Vk||(Vk=1,Uw=D3().get),Uw}var Sse=Nse();const Y0=vf(Sse);var Bi=e=>e===0?0:e>0?1:-1,Uo=e=>typeof e=="number"&&e!=+e,df=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Gt=e=>(typeof e=="number"||e instanceof Number)&&!Uo(e),uu=e=>Gt(e)||typeof e=="string",jse=0,Gx=e=>{var t=++jse;return"".concat(e||"").concat(t)},js=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Gt(t)&&typeof t!="string")return n;var i;if(df(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Uo(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},PL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Fa(e,t,r){return Gt(e)&&Gt(t)?e+r*(t-e):t}function FL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Y0(n,t))===r)}var fa=e=>e===null||typeof e>"u",Ng=e=>fa(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Ase=["type","size","sizeType"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){Ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ese(e,t,r){return(t=kse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kse(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tse(e,t){if(e==null)return{};var r,n,a=Ose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LL={symbolCircle:C3,symbolCross:Gie,symbolDiamond:Yie,symbolSquare:Xie,symbolStar:ese,symbolTriangle:tse,symbolWye:nse},Dse=Math.PI/180,Pse=e=>{var t="symbol".concat(Ng(e));return LL[t]||C3},Fse=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Dse;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Lse=(e,t)=>{LL["symbol".concat(Ng(e))]=t},P3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Tse(e,Ase),i=Gk(Gk({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var g=Pse(s),x=ase().type(g).size(Fse(r,n,s)),b=x();if(b!==null)return b},{className:u,cx:f,cy:h}=i,p=tl(i);return f===+f&&h===+h&&r===+r?C.createElement("path",h_({},p,{className:rn("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:o()})):null};P3.registerSymbol=Lse;var F3=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{j3(a)&&(n[a]=(i=>r[a](r,i)))}),n},Mse=(e,t,r)=>n=>(e(t,r,n),null),Sg=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];j3(a)&&typeof i=="function"&&(n||(n={}),n[a]=Mse(i,t,r))}),n};function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m_.apply(null,arguments)}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){L3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L3(e,t,r){return(t=Ise(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ise(e){var t=Bse(e,"string");return typeof t=="symbol"?t:t+""}function Bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eo=32;class M3 extends C.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Eo/2,i=Eo/6,s=Eo/3,o=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Eo,y2:a,className:"recharts-legend-icon"});if(u==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Eo,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return C.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Eo/8,"h").concat(Eo,"v").concat(Eo*3/4,"h").concat(-Eo,"z"),className:"recharts-legend-icon"});if(C.isValidElement(t.legendIcon)){var f=Rse({},t);return delete f.legendIcon,C.cloneElement(t.legendIcon,f)}return C.createElement(P3,{fill:o,cx:a,cy:a,size:Eo,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:Eo,height:Eo},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var g=h.formatter||a,x=rn({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,y=g?g(h.value,h,p):h.value;return C.createElement("li",m_({className:x,style:u,key:"legend-item-".concat(p)},Sg(this.props,h,p)),C.createElement(A3,{width:r,height:r,viewBox:o,style:f,"aria-label":"".concat(y," legend icon")},this.renderIcon(h,s)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}L3(M3,"displayName","Legend");L3(M3,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var zw={},qw={},Yk;function Use(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(qw)),qw}var $w={},Xk;function ML(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})($w)),$w}var Hw={},Vw={},Ww={},Qk;function zse(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Ww)),Ww}var Zk;function R3(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zse();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Vw)),Vw}var Gw={},Jk;function qse(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Gw)),Gw}var eC;function $se(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R3(),r=qse();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Hw)),Hw}var Kw={},Yw={},tC;function Hse(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D3();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Yw)),Yw}var Xw={},Qw={},Zw={},Jw={},rC;function RL(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Jw)),Jw}var e5={},nC;function IL(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(e5)),e5}var t5={},aC;function BL(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(t5)),t5}var iC;function Vse(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RL(),r=IL(),n=BL();function a(h,p,g){return typeof g!="function"?a(h,p,()=>{}):i(h,p,function x(b,y,w,_,E,A){const T=g(b,y,w,_,E,A);return T!==void 0?!!T:i(b,y,x,A)},new Map)}function i(h,p,g,x){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,g,x);case"function":return Object.keys(p).length>0?i(h,{...p},g,x):n.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:n.eq(h,p)}}function s(h,p,g,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,g,x);if(p instanceof Map)return o(h,p,g,x);if(p instanceof Set)return f(h,p,g,x);const b=Object.keys(p);if(h==null)return b.length===0;if(b.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let y=0;y<b.length;y++){const w=b[y];if(!r.isPrimitive(h)&&!(w in h)||p[w]===void 0&&h[w]!==void 0||p[w]===null&&h[w]!==null||!g(h[w],p[w],w,h,p,x))return!1}return!0}finally{x?.delete(p)}}function o(h,p,g,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,y]of p.entries()){const w=h.get(b);if(g(w,y,b,h,p,x)===!1)return!1}return!0}function u(h,p,g,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let y=0;y<p.length;y++){const w=p[y];let _=!1;for(let E=0;E<h.length;E++){if(b.has(E))continue;const A=h[E];let T=!1;if(g(A,w,y,h,p,x)&&(T=!0),T){b.add(E),_=!0;break}}if(!_)return!1}return!0}function f(h,p,g,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],g,x):!1}e.isMatchWith=a,e.isSetMatch=f})(Zw)),Zw}var sC;function UL(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vse();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Qw)),Qw}var r5={},n5={},a5={},lC;function Wse(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(a5)),a5}var i5={},oC;function zL(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(i5)),i5}var s5={},cC;function qL(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",x="[object Object]",b="[object Error]",y="[object DataView]",w="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",M="[object BigInt64Array]",B="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=T,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=G,e.functionTag=p,e.int16ArrayTag=R,e.int32ArrayTag=D,e.int8ArrayTag=O,e.mapTag=u,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=E,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=_})(s5)),s5}var l5={},uC;function Gse(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(l5)),l5}var fC;function $L(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wse(),r=zL(),n=qL(),a=IL(),i=Gse();function s(h,p){return o(h,void 0,h,new Map,p)}function o(h,p,g,x=new Map,b=void 0){const y=b?.(h,p,g,x);if(y!==void 0)return y;if(a.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let _=0;_<h.length;_++)w[_]=o(h[_],_,g,x,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[_,E]of h)w.set(_,o(E,_,g,x,b));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const _ of h)w.add(o(_,void 0,g,x,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let _=0;_<h.length;_++)w[_]=o(h[_],_,g,x,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),u(w,h,g,x,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,u(w,h,g,x,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(h instanceof String){const w=new String(h.valueOf());return x.set(h,w),u(w,h,g,x,b),w}if(typeof h=="object"&&f(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),u(w,h,g,x,b),w}return h}function u(h,p,g=h,x,b){const y=[...Object.keys(p),...t.getSymbols(p)];for(let w=0;w<y.length;w++){const _=y[w],E=Object.getOwnPropertyDescriptor(h,_);(E==null||E.writable)&&(h[_]=o(p[_],_,g,x,b))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=u})(n5)),n5}var dC;function Kse(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(r5)),r5}var hC;function Yse(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UL(),r=Kse();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Xw)),Xw}var o5={},c5={},u5={},mC;function Xse(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L(),r=qL();function n(a,i){return t.cloneDeepWith(a,(s,o,u,f)=>{const h=i?.(s,o,u,f);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a?.valueOf());return t.copyProperties(p,a),p}case r.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(u5)),u5}var pC;function Qse(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xse();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(c5)),c5}var f5={},d5={},xC;function HL(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(d5)),d5}var h5={},gC;function Zse(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zL();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(h5)),h5}var vC;function Jse(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DL(),r=HL(),n=Zse(),a=O3();function i(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?u=a.toPath(o):u=[o],u.length===0)return!1;let f=s;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=i})(f5)),f5}var yC;function ele(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UL(),r=T3(),n=Qse(),a=D3(),i=Jse();function s(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(f){const h=a.get(f,o);return h===void 0?i.has(f,o):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=s})(o5)),o5}var bC;function tle(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ML(),r=Hse(),n=Yse(),a=ele();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(Kw)),Kw}var wC;function rle(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Use(),r=ML(),n=$se(),a=tle();function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(zw)),zw}var m5,_C;function nle(){return _C||(_C=1,m5=rle().uniqBy),m5}var ale=nle();const NC=vf(ale);function VL(e,t,r){return t===!0?NC(e,r):typeof t=="function"?NC(e,t):e}var p5={exports:{}},x5={},g5={exports:{}},v5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function ile(){if(SC)return v5;SC=1;var e=$m();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(p,g){var x=g(),b=n({inst:{value:x,getSnapshot:g}}),y=b[0].inst,w=b[1];return i(function(){y.value=x,y.getSnapshot=g,u(y)&&w({inst:y})},[p,x,g]),a(function(){return u(y)&&w({inst:y}),p(function(){u(y)&&w({inst:y})})},[p]),s(x),x}function u(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!r(p,x)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return v5.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,v5}var jC;function sle(){return jC||(jC=1,g5.exports=ile()),g5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function lle(){if(AC)return x5;AC=1;var e=$m(),t=sle();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,u=e.useDebugValue;return x5.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var b=i(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function _(R){if(!E){if(E=!0,A=R,R=g(R),x!==void 0&&y.hasValue){var D=y.value;if(x(D,R))return T=D}return T=R}if(D=T,n(A,R))return D;var M=g(R);return x!==void 0&&x(D,M)?(A=R,D):(A=R,T=M)}var E=!1,A,T,O=p===void 0?null:p;return[function(){return _(h())},O===null?void 0:function(){return _(O())}]},[h,p,g,x]);var w=a(f,b[0],b[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),u(w),w},x5}var EC;function ole(){return EC||(EC=1,p5.exports=lle()),p5.exports}var cle=ole(),I3=C.createContext(null),ule=e=>e,ha=()=>{var e=C.useContext(I3);return e?e.store.dispatch:ule},kv=()=>{},fle=()=>kv,dle=(e,t)=>e===t;function Bt(e){var t=C.useContext(I3);return cle.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fle,t?t.store.getState:kv,t?t.store.getState:kv,t?e:kv,dle)}function hle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function mle(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ple(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var kC=e=>Array.isArray(e)?e:[e];function xle(e){const t=Array.isArray(e[0])?e[0]:e;return ple(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function gle(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var vle=class{constructor(e){this.value=e}deref(){return this.value}},yle=typeof WeakRef<"u"?WeakRef:vle,ble=0,CC=1;function ev(){return{s:ble,v:void 0,o:null,p:null}}function WL(e,t={}){let r=ev();const{resultEqualityCheck:n}=t;let a,i=0;function s(){let o=r;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const y=b.get(x);y===void 0?(o=ev(),b.set(x,o)):o=y}else{let b=o.p;b===null&&(o.p=b=new Map);const y=b.get(x);y===void 0?(o=ev(),b.set(x,o)):o=y}}const f=o;let h;if(o.s===CC)h=o.v;else if(h=e.apply(null,arguments),i++,n){const p=a?.deref?.()??a;p!=null&&n(p,h)&&(h=p,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new yle(h):h}return f.s=CC,f.v=h,h}return s.clearCache=()=>{r=ev(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function wle(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,u={},f=a.pop();typeof f=="object"&&(u=f,f=a.pop()),hle(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:x=WL,argsMemoizeOptions:b=[]}=h,y=kC(g),w=kC(b),_=xle(a),E=p(function(){return i++,f.apply(null,arguments)},...y),A=x(function(){s++;const O=gle(_,arguments);return o=E.apply(null,O),o},...w);return Object.assign(A,{resultFunc:f,memoizedResultFunc:E,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var He=wle(WL),_le=Object.assign((e,t=He)=>{mle(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,u)=>(s[r[u]]=o,s),{}))},{withTypes:()=>_le}),y5={},b5={},w5={},TC;function Nle(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(w5)),w5}var _5={},N5={},OC;function GL(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(N5)),N5}var DC;function Sle(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GL(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(_5)),_5}var PC;function jle(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nle(),r=Sle(),n=O3();function a(i,s,o,u){if(i==null)return[];o=u?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const f=(x,b)=>{let y=x;for(let w=0;w<b.length&&y!=null;++w)y=y[b[w]];return y},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:f(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?f(b,x):typeof b=="object"?b[x]:b,p=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return i.map(x=>({original:x,criteria:p.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let y=0;y<p.length;y++){const w=t.compareValues(x.criteria[y],b.criteria[y],o[y]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=a})(b5)),b5}var S5={},FC;function Ale(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,u)=>{for(let f=0;f<o.length;f++){const h=o[f];Array.isArray(h)&&u<i?s(h,u+1):a.push(h)}};return s(r,0),a}e.flatten=t})(S5)),S5}var j5={},LC;function KL(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HL(),r=R3(),n=RL(),a=BL();function i(s,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?a.eq(u[o],s):!1}e.isIterateeCall=i})(j5)),j5}var MC;function Ele(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jle(),r=Ale(),n=KL();function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(y5)),y5}var A5,RC;function kle(){return RC||(RC=1,A5=Ele().sortBy),A5}var Cle=kle();const d2=vf(Cle);var YL=e=>e.legend.settings,Tle=e=>e.legend.size,Ole=e=>e.legend.payload,Dle=He([Ole,YL],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?d2(n,r):n});function Ple(){return Bt(Dle)}var tv=1;function XL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>tv||Math.abs(s.left-t.left)>tv||Math.abs(s.top-t.top)>tv||Math.abs(s.width-t.width)>tv)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ji(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fle=typeof Symbol=="function"&&Symbol.observable||"@@observable",IC=Fle,E5=()=>Math.random().toString(36).substring(7).split("").join("."),Lle={INIT:`@@redux/INIT${E5()}`,REPLACE:`@@redux/REPLACE${E5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${E5()}`},ly=Lle;function B3(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QL(e,t,r){if(typeof e!="function")throw new Error(Ji(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ji(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ji(1));return r(QL)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,u=!1;function f(){s===i&&(s=new Map,i.forEach((w,_)=>{s.set(_,w)}))}function h(){if(u)throw new Error(Ji(3));return a}function p(w){if(typeof w!="function")throw new Error(Ji(4));if(u)throw new Error(Ji(5));let _=!0;f();const E=o++;return s.set(E,w),function(){if(_){if(u)throw new Error(Ji(6));_=!1,f(),s.delete(E),i=null}}}function g(w){if(!B3(w))throw new Error(Ji(7));if(typeof w.type>"u")throw new Error(Ji(8));if(typeof w.type!="string")throw new Error(Ji(17));if(u)throw new Error(Ji(9));try{u=!0,a=n(a,w)}finally{u=!1}return(i=s).forEach(E=>{E()}),w}function x(w){if(typeof w!="function")throw new Error(Ji(10));n=w,g({type:ly.REPLACE})}function b(){const w=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ji(11));function E(){const T=_;T.next&&T.next(h())}return E(),{unsubscribe:w(E)}},[IC](){return this}}}return g({type:ly.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:x,[IC]:b}}function Mle(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ly.INIT})>"u")throw new Error(Ji(12));if(typeof r(void 0,{type:ly.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ji(13))})}function ZL(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{Mle(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let u=!1;const f={};for(let h=0;h<n.length;h++){const p=n[h],g=r[p],x=s[p],b=g(x,o);if(typeof b>"u")throw o&&o.type,new Error(Ji(14));f[p]=b,u=u||b!==x}return u=u||n.length!==Object.keys(s).length,u?f:s}}function oy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Rle(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ji(15))};const s={getState:a.getState,dispatch:(u,...f)=>i(u,...f)},o=e.map(u=>u(s));return i=oy(...o)(a.dispatch),{...a,dispatch:i}}}function JL(e){return B3(e)&&"type"in e&&typeof e.type=="string"}var eM=Symbol.for("immer-nothing"),BC=Symbol.for("immer-draftable"),no=Symbol.for("immer-state");function gc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kx=Object.getPrototypeOf;function X0(e){return!!e&&!!e[no]}function hf(e){return e?tM(e)||Array.isArray(e)||!!e[BC]||!!e.constructor?.[BC]||jg(e)||m2(e):!1}var Ile=Object.prototype.constructor.toString(),UC=new WeakMap;function tM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=UC.get(r);return n===void 0&&(n=Function.toString.call(r),UC.set(r,n)),n===Ile}function cy(e,t,r=!0){h2(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function h2(e){const t=e[no];return t?t.type_:Array.isArray(e)?1:jg(e)?2:m2(e)?3:0}function p_(e,t){return h2(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rM(e,t,r){const n=h2(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Ble(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jg(e){return e instanceof Map}function m2(e){return e instanceof Set}function y0(e){return e.copy_||e.base_}function x_(e,t){if(jg(e))return new Map(e);if(m2(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=tM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[no];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Kx(e),n)}else{const n=Kx(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function U3(e,t=!1){return p2(e)||X0(e)||!hf(e)||(h2(e)>1&&Object.defineProperties(e,{set:rv,add:rv,clear:rv,delete:rv}),Object.freeze(e),t&&Object.values(e).forEach(r=>U3(r,!0))),e}function Ule(){gc(2)}var rv={value:Ule};function p2(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var zle={};function Q0(e){const t=zle[e];return t||gc(0,e),t}var Yx;function nM(){return Yx}function qle(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zC(e,t){t&&(Q0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function g_(e){v_(e),e.drafts_.forEach($le),e.drafts_=null}function v_(e){e===Yx&&(Yx=e.parent_)}function qC(e){return Yx=qle(Yx,e)}function $le(e){const t=e[no];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $C(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[no].modified_&&(g_(t),gc(4)),hf(e)&&(e=uy(t,e),t.parent_||fy(t,e)),t.patches_&&Q0("Patches").generateReplacementPatches_(r[no].base_,e,t.patches_,t.inversePatches_)):e=uy(t,r,[]),g_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eM?e:void 0}function uy(e,t,r){if(p2(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[no];if(!a)return cy(t,(i,s)=>HC(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return fy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),cy(s,(u,f)=>HC(e,a,i,u,f,r,o),n),fy(e,i,!1),r&&e.patches_&&Q0("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function HC(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=p2(a);if(!(o&&!s)){if(X0(a)){const u=i&&t&&t.type_!==3&&!p_(t.assigned_,n)?i.concat(n):void 0,f=uy(e,a,u);if(rM(r,n,f),X0(f))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(hf(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;uy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(jg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&fy(e,a)}}}function fy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&U3(t,r)}function Hle(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:nM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=z3;r&&(a=[n],i=Xx);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var z3={get(e,t){if(t===no)return e;const r=y0(e);if(!p_(r,t))return Vle(e,r,t);const n=r[t];return e.finalized_||!hf(n)?n:n===k5(e.base_,t)?(C5(e),e.copy_[t]=b_(n,e)):n},has(e,t){return t in y0(e)},ownKeys(e){return Reflect.ownKeys(y0(e))},set(e,t,r){const n=aM(y0(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=k5(y0(e),t),i=a?.[no];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Ble(r,a)&&(r!==void 0||p_(e.base_,t)))return!0;C5(e),y_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return k5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,C5(e),y_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=y0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){gc(11)},getPrototypeOf(e){return Kx(e.base_)},setPrototypeOf(){gc(12)}},Xx={};cy(z3,(e,t)=>{Xx[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xx.deleteProperty=function(e,t){return Xx.set.call(this,e,t,void 0)};Xx.set=function(e,t,r){return z3.set.call(this,e[0],t,r,e[0])};function k5(e,t){const r=e[no];return(r?y0(r):e)[t]}function Vle(e,t,r){const n=aM(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function aM(e,t){if(!(t in e))return;let r=Kx(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Kx(r)}}function y_(e){e.modified_||(e.modified_=!0,e.parent_&&y_(e.parent_))}function C5(e){e.copy_||(e.copy_=x_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Wle=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(u=i,...f){return s.produce(u,h=>r.call(this,h,...f))}}typeof r!="function"&&gc(6),n!==void 0&&typeof n!="function"&&gc(7);let a;if(hf(t)){const i=qC(this),s=b_(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?g_(i):v_(i)}return zC(i,n),$C(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===eM&&(a=void 0),this.autoFreeze_&&U3(a,!0),n){const i=[],s=[];Q0("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else gc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,u=>t(u,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){hf(e)||gc(8),X0(e)&&(e=sf(e));const t=qC(this),r=b_(e,void 0);return r[no].isManual_=!0,v_(t),r}finishDraft(e,t){const r=e&&e[no];(!r||!r.isManual_)&&gc(9);const{scope_:n}=r;return zC(n,t),$C(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Q0("Patches").applyPatches_;return X0(e)?n(e,t):this.produce(e,a=>n(a,t))}};function b_(e,t){const r=jg(e)?Q0("MapSet").proxyMap_(e,t):m2(e)?Q0("MapSet").proxySet_(e,t):Hle(e,t);return(t?t.scope_:nM()).drafts_.push(r),r}function sf(e){return X0(e)||gc(10,e),iM(e)}function iM(e){if(!hf(e)||p2(e))return e;const t=e[no];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=x_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=x_(e,!0);return cy(r,(a,i)=>{rM(r,a,iM(i))},n),t&&(t.finalized_=!1),r}var Gle=new Wle,sM=Gle.produce;function lM(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Kle=lM(),Yle=lM,Xle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oy:oy.apply(null,arguments)};function zo(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(eo(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>JL(n)&&n.type===e,r}var oM=class fx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fx.prototype)}static get[Symbol.species](){return fx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fx(...t[0].concat(this)):new fx(...t.concat(this))}};function VC(e){return hf(e)?sM(e,()=>{}):e}function nv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Qle(e){return typeof e=="boolean"}var Zle=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new oM;return r&&(Qle(r)?s.push(Kle):s.push(Yle(r.extraArgument))),s},cM="RTK_autoBatch",Vs=()=>e=>({payload:e,meta:{[cM]:!0}}),WC=e=>t=>{setTimeout(t,e)},uM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WC(10):e.type==="callback"?e.queueNotification:WC(e.timeout),f=()=>{s=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>a&&h(),g=n.subscribe(p);return o.add(h),()=>{g(),o.delete(h)}},dispatch(h){try{return a=!h?.meta?.[cM],i=!a,i&&(s||(s=!0,u(f))),n.dispatch(h)}finally{a=!0}}})},Jle=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new oM(e);return n&&a.push(uM(typeof n=="object"?n:void 0)),a};function eoe(e){const t=Zle(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(B3(r))o=ZL(r);else throw new Error(eo(1));let u;typeof n=="function"?u=n(t):u=t();let f=oy;a&&(f=Xle({trace:!1,...typeof a=="object"&&a}));const h=Rle(...u),p=Jle(h);let g=typeof s=="function"?s(p):p();const x=f(...g);return QL(o,i,x)}function fM(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(eo(28));if(o in t)throw new Error(eo(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function toe(e){return typeof e=="function"}function roe(e,t){let[r,n,a]=fM(t),i;if(toe(e))i=()=>VC(e());else{const o=VC(e);i=()=>o}function s(o=i(),u){let f=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[a]),f.reduce((h,p)=>{if(p)if(X0(h)){const x=p(h,u);return x===void 0?h:x}else{if(hf(h))return sM(h,g=>p(g,u));{const g=p(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},o)}return s.getInitialState=i,s}var noe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aoe=(e=21)=>{let t="",r=e;for(;r--;)t+=noe[Math.random()*64|0];return t},ioe=Symbol.for("rtk-slice-createasyncthunk");function soe(e,t){return`${e}/${t}`}function loe({creators:e}={}){const t=e?.asyncThunk?.[ioe];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(eo(11));const s=(typeof n.reducers=="function"?n.reducers(coe()):n.reducers)||{},o=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,T){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(eo(12));if(O in u.sliceCaseReducersByType)throw new Error(eo(13));return u.sliceCaseReducersByType[O]=T,f},addMatcher(A,T){return u.sliceMatchers.push({matcher:A,reducer:T}),f},exposeAction(A,T){return u.actionCreators[A]=T,f},exposeCaseReducer(A,T){return u.sliceCaseReducersByName[A]=T,f}};o.forEach(A=>{const T=s[A],O={reducerName:A,type:soe(a,A),createNotation:typeof n.reducers=="function"};foe(T)?hoe(O,T,f,t):uoe(O,T,f)});function h(){const[A={},T=[],O=void 0]=typeof n.extraReducers=="function"?fM(n.extraReducers):[n.extraReducers],R={...A,...u.sliceCaseReducersByType};return roe(n.initialState,D=>{for(let M in R)D.addCase(M,R[M]);for(let M of u.sliceMatchers)D.addMatcher(M.matcher,M.reducer);for(let M of T)D.addMatcher(M.matcher,M.reducer);O&&D.addDefaultCase(O)})}const p=A=>A,g=new Map,x=new WeakMap;let b;function y(A,T){return b||(b=h()),b(A,T)}function w(){return b||(b=h()),b.getInitialState()}function _(A,T=!1){function O(D){let M=D[A];return typeof M>"u"&&T&&(M=nv(x,O,w)),M}function R(D=p){const M=nv(g,T,()=>new WeakMap);return nv(M,D,()=>{const B={};for(const[G,I]of Object.entries(n.selectors??{}))B[G]=ooe(I,D,()=>nv(x,D,w),T);return B})}return{reducerPath:A,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const E={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,..._(i),injectInto(A,{reducerPath:T,...O}={}){const R=T??i;return A.inject({reducerPath:R,reducer:y},O),{...E,..._(R,!0)}}};return E}}function ooe(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var io=loe();function coe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function uoe({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!doe(n))throw new Error(eo(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?zo(e,s):zo(e))}function foe(e){return e._reducerDefinitionType==="asyncThunk"}function doe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hoe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(eo(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:u,settled:f,options:h}=r,p=a(e,i,h);n.exposeAction(t,p),s&&n.addCase(p.fulfilled,s),o&&n.addCase(p.pending,o),u&&n.addCase(p.rejected,u),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(t,{fulfilled:s||av,pending:o||av,rejected:u||av,settled:f||av})}function av(){}var moe="task",dM="listener",hM="completed",q3="cancelled",poe=`task-${q3}`,xoe=`task-${hM}`,w_=`${dM}-${q3}`,goe=`${dM}-${hM}`,x2=class{constructor(e){this.code=e,this.message=`${moe} ${q3} (reason: ${e})`}name="TaskAbortError";message},$3=(e,t)=>{if(typeof e!="function")throw new TypeError(eo(32))},dy=()=>{},mM=(e,t=dy)=>(e.catch(t),e),pM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),P0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},F0=e=>{if(e.aborted){const{reason:t}=e;throw new x2(t)}};function xM(e,t){let r=dy;return new Promise((n,a)=>{const i=()=>a(new x2(e.reason));if(e.aborted){i();return}r=pM(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=dy})}var voe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof x2?"cancelled":"rejected",error:r}}finally{t?.()}},hy=e=>t=>mM(xM(e,t).then(r=>(F0(e),r))),gM=e=>{const t=hy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Am}=Object,GC={},g2="listenerMiddleware",yoe=(e,t)=>{const r=n=>pM(e,()=>P0(n,e.reason));return(n,a)=>{$3(n);const i=new AbortController;r(i);const s=voe(async()=>{F0(e),F0(i.signal);const o=await n({pause:hy(i.signal),delay:gM(i.signal),signal:i.signal});return F0(i.signal),o},()=>P0(i,xoe));return a?.autoJoin&&t.push(s.catch(dy)),{result:hy(e)(s),cancel(){P0(i,poe)}}}},boe=(e,t)=>{const r=async(n,a)=>{F0(t);let i=()=>{};const o=[new Promise((u,f)=>{let h=e({predicate:n,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});i=()=>{h(),f()}})];a!=null&&o.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await xM(t,Promise.race(o));return F0(t),u}finally{i()}};return(n,a)=>mM(r(n,a))},vM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=zo(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(eo(21));return $3(i),{predicate:a,type:t,effect:i}},yM=Am(e=>{const{type:t,predicate:r,effect:n}=vM(e);return{id:aoe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(eo(22))}}},{withTypes:()=>yM}),KC=(e,t)=>{const{type:r,effect:n,predicate:a}=vM(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},__=e=>{e.pending.forEach(t=>{P0(t,w_)})},woe=(e,t)=>()=>{for(const r of t.keys())__(r);e.clear()},YC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},bM=Am(zo(`${g2}/add`),{withTypes:()=>bM}),_oe=zo(`${g2}/removeAll`),wM=Am(zo(`${g2}/remove`),{withTypes:()=>wM}),Noe=(...e)=>{console.error(`${g2}/error`,...e)},Ag=(e={})=>{const t=new Map,r=new Map,n=x=>{const b=r.get(x)??0;r.set(x,b+1)},a=x=>{const b=r.get(x)??1;b===1?r.delete(x):r.set(x,b-1)},{extra:i,onError:s=Noe}=e;$3(s);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&__(x)}),u=x=>{const b=KC(t,x)??yM(x);return o(b)};Am(u,{withTypes:()=>u});const f=x=>{const b=KC(t,x);return b&&(b.unsubscribe(),x.cancelActive&&__(b)),!!b};Am(f,{withTypes:()=>f});const h=async(x,b,y,w)=>{const _=new AbortController,E=boe(u,_.signal),A=[];try{x.pending.add(_),n(x),await Promise.resolve(x.effect(b,Am({},y,{getOriginalState:w,condition:(T,O)=>E(T,O).then(Boolean),take:E,delay:gM(_.signal),pause:hy(_.signal),extra:i,signal:_.signal,fork:yoe(_.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((T,O,R)=>{T!==_&&(P0(T,w_),R.delete(T))})},cancel:()=>{P0(_,w_),x.pending.delete(_)},throwIfCancelled:()=>{F0(_.signal)}})))}catch(T){T instanceof x2||YC(s,T,{raisedBy:"effect"})}finally{await Promise.all(A),P0(_,goe),a(x),x.pending.delete(_)}},p=woe(t,r);return{middleware:x=>b=>y=>{if(!JL(y))return b(y);if(bM.match(y))return u(y.payload);if(_oe.match(y)){p();return}if(wM.match(y))return f(y.payload);let w=x.getState();const _=()=>{if(w===GC)throw new Error(eo(23));return w};let E;try{if(E=b(y),t.size>0){const A=x.getState(),T=Array.from(t.values());for(const O of T){let R=!1;try{R=O.predicate(y,A,w)}catch(D){R=!1,YC(s,D,{raisedBy:"predicate"})}R&&h(O,y,x,_)}}}finally{w=GC}return E},startListening:u,stopListening:f,clearListeners:p}};function eo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Soe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_M=io({name:"chartLayout",initialState:Soe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:joe,setLayout:Aoe,setChartSize:Eoe,setScale:koe}=_M.actions,Coe=_M.reducer;function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){Toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Toe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=Doe(e,"string");return typeof t=="symbol"?t:t+""}function Doe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var my=Math.PI/180,Poe=e=>e*180/Math.PI,ni=(e,t,r,n)=>({x:e+Math.cos(-my*n)*r,y:t+Math.sin(-my*n)*r}),NM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Foe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},Loe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=Foe({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,u=Math.acos(o);return n>i&&(u=2*Math.PI-u),{radius:s,angle:Poe(u),angleInRadian:u}},Moe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Roe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},Ioe=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=Loe({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:u,endAngle:f}=Moe(t),h=i,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?QC(QC({},t),{},{radius:a,angle:Roe(h,t)}):null};function SM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){Boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Boe(e,t,r){return(t=Uoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uoe(e){var t=zoe(e,"string");return typeof t=="symbol"?t:t+""}function zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qn(e,t,r){return fa(e)||fa(t)?r:uu(t)?Y0(e,t,r):typeof t=="function"?t(e):r}var qoe=(e,t,r,n,a)=>{var i,s=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<o;u++){var f=u>0?r[u-1].coordinate:r[o-1].coordinate,h=r[u].coordinate,p=u>=o-1?r[0].coordinate:r[u+1].coordinate,g=void 0;if(Bi(h-f)!==Bi(p-h)){var x=[];if(Bi(p-h)===Bi(a[1]-a[0])){g=p;var b=h+a[1]-a[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{g=f;var y=p+a[1]-a[0];x[0]=Math.min(h,(y+h)/2),x[1]=Math.max(h,(y+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:s}=r[u]);break}}else{var _=Math.min(f,p),E=Math.max(f,p);if(e>(_+h)/2&&e<=(E+h)/2){({index:s}=r[u]);break}}}else if(t){for(var A=0;A<o;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===o-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:s}=t[A]);break}}return s},$oe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Gt(e[i]))return Lo(Lo({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Gt(e[s]))return Lo(Lo({},e),{},{[s]:e[s]+(a||0)})}return e},Ud=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",jM=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},AM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:x}=e;if(!s)return null;var b=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/b:0;if(y=x==="angleAxis"&&i&&i.length>=2?Bi(i[0]-i[1])*2*y:y,p||g){var w=(p||g||[]).map((_,E)=>{var A=n?n.indexOf(_):_;return{coordinate:s(A)+y,value:_,offset:y,index:E}});return w.filter(_=>!Uo(_.coordinate))}return u&&f?f.map((_,E)=>({coordinate:s(_)+y,value:_,index:E,offset:y})):s.ticks&&h!=null?s.ticks(h).map((_,E)=>({coordinate:s(_)+y,value:_,offset:y,index:E})):s.domain().map((_,E)=>({coordinate:s(_)+y,value:n?n[_]:_,index:E,offset:y}))},JC=1e-4,Hoe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-JC,i=Math.max(n[0],n[1])+JC,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},Voe=(e,t)=>{if(!t||t.length!==2||!Gt(t[0])||!Gt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Gt(e[0])||e[0]<r)&&(a[0]=r),(!Gt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Woe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Uo(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},Goe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Uo(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Koe={sign:Woe,expand:vse,none:Mm,silhouette:yse,wiggle:bse,positive:Goe},Yoe=(e,t,r)=>{var n=Koe[r],a=gse().keys(t).value((i,s)=>+qn(i,s,0)).order(d_).offset(n);return a(e)};function Xoe(e){return e==null?void 0:String(e)}function e8(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fa(a[t.dataKey])){var o=FL(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=qn(a,fa(s)?t.dataKey:s);return fa(u)?null:t.scale(u)}var t8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=qn(i,t.dataKey,t.scale.domain()[s]);return fa(o)?null:t.scale(o)-a/2+n},Qoe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Zoe=e=>{var t=e.flat(2).filter(Gt);return[Math.min(...t),Math.max(...t)]},Joe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ece=(e,t,r)=>{if(e!=null)return Joe(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((u,f)=>{var h=SM(f,t,r),p=Zoe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},r8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qx=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=d2(t,h=>h.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var u=a[s],f=a[s-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function a8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Lo(Lo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function tp(e,t){if(e)return String(e);if(typeof t=="string")return t}function tce(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?Ioe({x:e,y:t},n):null}var rce=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Lo(Lo(Lo({},n),ni(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:u}=n;return Lo(Lo(Lo({},n),ni(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{x:0,y:0}},nce=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Nf=e=>e.layout.width,Sf=e=>e.layout.height,ace=e=>e.layout.scale,EM=e=>e.layout.margin,v2=He(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),y2=He(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),kM="data-recharts-item-index",CM="data-recharts-item-data-key",Eg=60;function i8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return(t=sce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sce(e){var t=lce(e,"string");return typeof t=="symbol"?t:t+""}function lce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oce=e=>e.brush.height;function cce(e){var t=y2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Eg;return r+a}return r},0)}function uce(e){var t=y2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Eg;return r+a}return r},0)}function fce(e){var t=v2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function dce(e){var t=v2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ni=He([Nf,Sf,EM,oce,cce,uce,fce,dce,YL,Tle],(e,t,r,n,a,i,s,o,u,f)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},p={top:(r.top||0)+s,bottom:(r.bottom||0)+o},g=iv(iv({},p),h),x=g.bottom;g.bottom+=n,g=$oe(g,u,f);var b=e-g.left-g.right,y=t-g.top-g.bottom;return iv(iv({brushBottom:x},g),{},{width:Math.max(b,0),height:Math.max(y,0)})}),hce=He(Ni,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),H3=He(Nf,Sf,(e,t)=>({x:0,y:0,width:e,height:t})),mce=C.createContext(null),rl=()=>C.useContext(mce)!=null,b2=e=>e.brush,w2=He([b2,Ni,EM],(e,t,r)=>({height:e.height,x:Gt(e.x)?e.x:t.left,y:Gt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Gt(e.width)?e.width:t.width})),T5={},O5={},D5={},s8;function pce(){return s8||(s8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},p=()=>{f&&h(),y()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},n)},b=()=>{g!==null&&(clearTimeout(g),g=null)},y=()=>{b(),s=void 0,o=null},w=()=>{h()},_=function(...E){if(a?.aborted)return;s=this,o=E;const A=g==null;x(),u&&A&&h()};return _.schedule=x,_.cancel=y,_.flush=w,a?.addEventListener("abort",y,{once:!0}),_}e.debounce=t})(D5)),D5}var l8;function xce(){return l8||(l8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pce();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:u}=i,f=Array(2);s&&(f[0]="leading"),o&&(f[1]="trailing");let h,p=null;const g=t.debounce(function(...y){h=n.apply(this,y),p=null},a,{edges:f}),x=function(...y){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=n.apply(this,y),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,y),h)},b=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=b,x}e.debounce=r})(O5)),O5}var o8;function gce(){return o8||(o8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xce();function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(T5)),T5}var P5,c8;function vce(){return c8||(c8=1,P5=gce().throttle),P5}var yce=vce();const bce=vf(yce);var py=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},TM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=df(n)?e:Number(n),u=df(a)?t:Number(a);return i&&i>0&&(o?u=o/i:u&&(o=u*i),s&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},wce={width:0,height:0,overflow:"visible"},_ce={width:0,overflowX:"visible"},Nce={height:0,overflowY:"visible"},Sce={},jce=e=>{var{width:t,height:r}=e,n=df(t),a=df(r);return n&&a?wce:n?_ce:a?Nce:Sce};function Ace(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function ks(e){return Number.isFinite(e)}function Rm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(null,arguments)}function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(n){Ece(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ece(e,t,r){return(t=kce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kce(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OM=C.createContext({width:-1,height:-1});function DM(e){var{children:t,width:r,height:n}=e,a=C.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:C.createElement(OM.Provider,{value:a},t)}var V3=()=>C.useContext(OM),Tce=C.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:u,children:f,debounce:h=0,id:p,className:g,onResize:x,style:b={}}=e,y=C.useRef(null),w=C.useRef();w.current=x,C.useImperativeHandle(t,()=>y.current);var[_,E]=C.useState({containerWidth:n.width,containerHeight:n.height}),A=C.useCallback((M,B)=>{E(G=>{var I=Math.round(M),z=Math.round(B);return G.containerWidth===I&&G.containerHeight===z?G:{containerWidth:I,containerHeight:z}})},[]);C.useEffect(()=>{var M=z=>{var K,{width:J,height:pe}=z[0].contentRect;A(J,pe),(K=w.current)===null||K===void 0||K.call(w,J,pe)};h>0&&(M=bce(M,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(M),{width:G,height:I}=y.current.getBoundingClientRect();return A(G,I),B.observe(y.current),()=>{B.disconnect()}},[A,h]);var{containerWidth:T,containerHeight:O}=_;py(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:D}=TM(T,O,{width:a,height:i,aspect:r,maxHeight:u});return py(R>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,D,a,i,s,o,r),C.createElement("div",{id:p?"".concat(p):void 0,className:rn("recharts-responsive-container",g),style:f8(f8({},b),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:u}),ref:y},C.createElement("div",{style:jce({width:a,height:i})},C.createElement(DM,{width:R,height:D},f)))}),F5=C.forwardRef((e,t)=>{var r=V3();if(Rm(r.width)&&Rm(r.height))return e.children;var{width:n,height:a}=Ace({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=TM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Gt(i)&&Gt(s)?C.createElement(DM,{width:i,height:s},e.children):C.createElement(Tce,N_({},e,{width:n,height:a,ref:t}))}),_2=()=>{var e,t=rl(),r=Bt(hce),n=Bt(w2),a=(e=Bt(b2))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Oce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},PM=()=>{var e;return(e=Bt(Ni))!==null&&e!==void 0?e:Oce},W3=()=>Bt(Nf),G3=()=>Bt(Sf),Dce=()=>Bt(e=>e.layout.margin),Wr=e=>e.layout.layoutType,N2=()=>Bt(Wr),S2=e=>{var t=ha(),r=rl(),{width:n,height:a}=e,i=V3(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),C.useEffect(()=>{!r&&Rm(s)&&Rm(o)&&t(Eoe({width:s,height:o}))},[t,r,s,o]),null},Pce={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},FM=io({name:"legend",initialState:Pce,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Vs()},removeLegendPayload:{reducer(e,t){var r=sf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Vs()}}}),{setLegendSize:d8,setLegendSettings:Fce,addLegendPayload:LM,removeLegendPayload:MM}=FM.actions,Lce=FM.reducer,Mce=["contextPayload"];function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S_.apply(null,arguments)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){K3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3(e,t,r){return(t=Rce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rce(e){var t=Ice(e,"string");return typeof t=="symbol"?t:t+""}function Ice(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bce(e,t){if(e==null)return{};var r,n,a=Uce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zce(e){return e.value}function qce(e){var{contextPayload:t}=e,r=Bce(e,Mce),n=VL(t,e.payloadUniqBy,zce),a=Im(Im({},r),{},{payload:n});return C.isValidElement(e.content)?C.cloneElement(e.content,a):typeof e.content=="function"?C.createElement(e.content,a):C.createElement(M3,a)}function $ce(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:u}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?f={left:((n||0)-i.width)/2}:f=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((a||0)-i.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Im(Im({},f),h)}function Hce(e){var t=ha();return C.useEffect(()=>{t(Fce(e))},[t,e]),null}function Vce(e){var t=ha();return C.useEffect(()=>(t(d8(e)),()=>{t(d8({width:0,height:0}))}),[t,e]),null}function Wce(e){var t=Ple(),r=zie(),n=Dce(),{width:a,height:i,wrapperStyle:s,portal:o}=e,[u,f]=XL([t]),h=W3(),p=G3();if(h==null||p==null)return null;var g=h-(n.left||0)-(n.right||0),x=Zx.getWidthOrHeight(e.layout,i,a,g),b=o?s:Im(Im({position:"absolute",width:x?.width||a||"auto",height:x?.height||i||"auto"},$ce(s,e,n,h,p,u)),s),y=o??r;if(y==null)return null;var w=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},C.createElement(Hce,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),C.createElement(Vce,{width:u.width,height:u.height}),C.createElement(qce,S_({},e,x,{margin:n,chartWidth:h,chartHeight:p,contextPayload:t})));return DD.createPortal(w,y)}class Zx extends C.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Gt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return C.createElement(Wce,this.props)}}K3(Zx,"displayName","Legend");K3(Zx,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(null,arguments)}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){Gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gce(e,t,r){return(t=Kce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kce(e){var t=Yce(e,"string");return typeof t=="symbol"?t:t+""}function Yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xce(e){return Array.isArray(e)&&uu(e[0])&&uu(e[1])?e.join(" ~ "):e}var Qce=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var O={padding:0,margin:0},R=(o?d2(i,o):i).map((D,M)=>{if(D.type==="none")return null;var B=D.formatter||s||Xce,{value:G,name:I}=D,z=G,K=I;if(B){var J=B(G,I,D,M,i);if(Array.isArray(J))[z,K]=J;else if(J!=null)z=J;else return null}var pe=L5({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:pe},uu(K)?C.createElement("span",{className:"recharts-tooltip-item-name"},K):null,uu(K)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},z),C.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},b=L5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=L5({margin:0},a),w=!fa(h),_=w?h:"",E=rn("recharts-default-tooltip",u),A=rn("recharts-tooltip-label",f);w&&p&&i!==void 0&&i!==null&&(_=p(h,i));var T=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",j_({className:E,style:b},T),C.createElement("p",{className:A,style:y},C.isValidElement(_)?_:"".concat(_)),x())},Zp="recharts-tooltip-wrapper",Zce={visibility:"hidden"};function Jce(e){var{coordinate:t,translateX:r,translateY:n}=e;return rn(Zp,{["".concat(Zp,"-right")]:Gt(r)&&t&&Gt(t.x)&&r>=t.x,["".concat(Zp,"-left")]:Gt(r)&&t&&Gt(t.x)&&r<t.x,["".concat(Zp,"-bottom")]:Gt(n)&&t&&Gt(t.y)&&n>=t.y,["".concat(Zp,"-top")]:Gt(n)&&t&&Gt(t.y)&&n<t.y})}function p8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:f}=e;if(i&&Gt(i[n]))return i[n];var h=r[n]-o-(a>0?a:0),p=r[n]+a;if(t[n])return s[n]?h:p;var g=u[n];if(g==null)return 0;if(s[n]){var x=h,b=g;return x<b?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var y=p+o,w=g+f;return y>w?Math.max(h,g):Math.max(p,g)}function eue(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function tue(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:u}=e,f,h,p;return s.height>0&&s.width>0&&r?(h=p8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=p8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=eue({translateX:h,translateY:p,useTranslate3d:o})):f=Zce,{cssProperties:f,cssClasses:Jce({translateX:h,translateY:p,coordinate:r})}}function x8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(r),!0).forEach(function(n){A_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A_(e,t,r){return(t=rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aue extends C.PureComponent{constructor(){super(...arguments),A_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),A_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:x,wrapperStyle:b,lastBoundingBox:y,innerRef:w,hasPortalFromProps:_}=this.props,{cssClasses:E,cssProperties:A}=tue({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:y.height,width:y.width},useTranslate3d:g,viewBox:x}),T=_?{}:sv(sv({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),O=sv(sv({},T),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:w},i)}}var iue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zd={devToolsEnabled:!1,isSsr:iue()},RM=()=>Bt(e=>e.rootProps.accessibilityLayer);function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(null,arguments)}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){sue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sue(e,t,r){return(t=lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y8={curveBasisClosed:sse,curveBasisOpen:lse,curveBasis:ise,curveBumpX:Vie,curveBumpY:Wie,curveLinearClosed:ose,curveLinear:u2,curveMonotoneX:cse,curveMonotoneY:use,curveNatural:fse,curveStep:dse,curveStepAfter:mse,curveStepBefore:hse},lv=e=>ks(e.x)&&ks(e.y),Jp=e=>e.x,ex=e=>e.y,cue=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ng(e));return(r==="curveMonotone"||r==="curveBump")&&t?y8["".concat(r).concat(t==="vertical"?"Y":"X")]:y8[r]||u2},uue=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=cue(t,a),o=i?r.filter(lv):r,u;if(Array.isArray(n)){var f=i?n.filter(p=>lv(p)):n,h=o.map((p,g)=>v8(v8({},p),{},{base:f[g]}));return a==="vertical"?u=J1().y(ex).x1(Jp).x0(p=>p.base.x):u=J1().x(Jp).y1(ex).y0(p=>p.base.y),u.defined(lv).curve(s),u(h)}return a==="vertical"&&Gt(n)?u=J1().y(ex).x1(Jp).x0(n):Gt(n)?u=J1().x(Jp).y1(ex).y0(n):u=wL().x(Jp).y(ex),u.defined(lv).curve(s),u(o)},Y3=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?uue(e):n;return C.createElement("path",E_({},ro(e),F3(e),{className:rn("recharts-curve",t),d:i===null?void 0:i,ref:a}))},fue=["x","y","top","left","width","height","className"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(null,arguments)}function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function due(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return(t=mue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xue(e,t){if(e==null)return{};var r,n,a=gue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vue=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),yue=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,u=xue(e,fue),f=due({x:t,y:r,top:n,left:a,width:i,height:s},u);return!Gt(t)||!Gt(r)||!Gt(i)||!Gt(s)||!Gt(n)||!Gt(a)?null:C.createElement("path",k_({},tl(f),{className:rn("recharts-cross",o),d:vue(t,r,i,s,n,a)}))};function bue(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){_ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ue(e,t,r){return(t=Nue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(e,t){var r=wue({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function jue(){}function Aue(e){return e!=null}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){Eue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eue(e,t,r){return(t=kue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kue(e){var t=Cue(e,"string");return typeof t=="symbol"?t:t+""}function Cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),IM=(e,t,r)=>e.map(n=>"".concat(Tue(n)," ").concat(t,"ms ").concat(r)).join(","),Oue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Jx=(e,t)=>Object.keys(t).reduce((r,n)=>N8(N8({},r),{},{[n]:e(n,t[n])}),{});function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){Due(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Due(e,t,r){return(t=Pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xy=(e,t,r)=>e+(t-e)*r,C_=e=>{var{from:t,to:r}=e;return t!==r},BM=(e,t,r)=>{var n=Jx((a,i)=>{if(C_(i)){var[s,o]=e(i.from,i.to,i.velocity);return es(es({},i),{},{from:s,velocity:o})}return i},t);return r<1?Jx((a,i)=>C_(i)?es(es({},i),{},{velocity:xy(i.velocity,n[a].velocity,r),from:xy(i.from,n[a].from,r)}):i,t):BM(e,n,r-1)};function Lue(e,t,r,n,a,i){var s,o=n.reduce((g,x)=>es(es({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>Jx((g,x)=>x.from,o),f=()=>!Object.values(o).filter(C_).length,h=null,p=g=>{s||(s=g);var x=g-s,b=x/r.dt;o=BM(r,o,b),a(es(es(es({},e),t),u())),s=g,f()||(h=i.setTimeout(p))};return()=>(h=i.setTimeout(p),()=>{h()})}function Mue(e,t,r,n,a,i,s){var o=null,u=a.reduce((p,g)=>es(es({},p),{},{[g]:[e[g],t[g]]}),{}),f,h=p=>{f||(f=p);var g=(p-f)/n,x=Jx((y,w)=>xy(...w,r(g)),u);if(i(es(es(es({},e),t),x)),g<1)o=s.setTimeout(h);else{var b=Jx((y,w)=>xy(...w,r(1)),u);i(es(es(es({},e),t),b))}};return()=>(o=s.setTimeout(h),()=>{o()})}const Rue=(e,t,r,n,a,i)=>{var s=Oue(e,t);return r.isStepper===!0?Lue(e,t,r,s,a,i):Mue(e,t,r,n,s,a,i)};var gy=1e-4,UM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],zM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),j8=(e,t)=>r=>{var n=UM(e,t);return zM(n,r)},Iue=(e,t)=>r=>{var n=UM(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return zM(a,r)},A8=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var u=s[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,a]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else s.length===4&&([t,n,r,a]=s);var f=j8(t,r),h=j8(n,a),p=Iue(t,r),g=b=>b>1?1:b<0?0:b,x=b=>{for(var y=b>1?1:b,w=y,_=0;_<8;++_){var E=f(w)-y,A=p(w);if(Math.abs(E-y)<gy||A<gy)return h(w);w=g(w-E/A)}return h(w)};return x.isStepper=!1,x},Bue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,u)=>{var f=-(s-o)*r,h=u*n,p=u+(f-h)*a/1e3,g=u*a/1e3+s;return Math.abs(g-o)<gy&&Math.abs(p)<gy?[o,0]:[g,p]};return i.isStepper=!0,i.dt=a,i},Uue=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return A8(e);case"spring":return Bue();default:if(e.split("(")[0]==="cubic-bezier")return A8(e)}return typeof e=="function"?e:null};function zue(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...f]=o;if(typeof u=="number"){a=e.setTimeout(i.bind(null,f),u);return}i(u),a=e.setTimeout(i.bind(null,f));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class que{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function $ue(){return zue(new que)}var Hue=C.createContext($ue);function Vue(e,t){var r=C.useContext(Hue);return C.useMemo(()=>t??r(e),[e,t,r])}var Wue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},E8={t:0},M5={t:1};function kg(e){var t=ls(e,Wue),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:u,children:f}=t,h=Vue(t.animationId,t.animationManager),[p,g]=C.useState(r?E8:M5),x=C.useRef(null);return C.useEffect(()=>{r||g(M5)},[r]),C.useEffect(()=>{if(!r||!n)return jue;var b=Rue(E8,M5,Uue(i),a,g,h.getTimeoutController()),y=()=>{x.current=b()};return h.start([u,s,y,a,o]),()=>{h.stop(),x.current&&x.current(),o()}},[r,n,a,i,s,u,o,h]),f(p.t)}function Cg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(Gx(t)),n=C.useRef(e);return n.current!==e&&(r.current=Gx(t),n.current=e),r.current}var Gue=["radius"],Kue=["radius"];function k8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(r),!0).forEach(function(n){Yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yue(e,t,r){return(t=Xue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xue(e){var t=Que(e,"string");return typeof t=="symbol"?t:t+""}function Que(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function T8(e,t){if(e==null)return{};var r,n,a=Zue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O8=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=a[p]>i?i:a[p];f="M".concat(e,",").concat(t+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+o*h[0],",").concat(t)),f+="L ".concat(e+r-o*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+s*h[1])),f+="L ".concat(e+r,",").concat(t+n-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-o*h[2],",").concat(t+n)),f+="L ".concat(e+o*h[3],",").concat(t+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-s*h[3])),f+="Z"}else if(i>0&&a===+a&&a>0){var x=Math.min(i,a);f="M ".concat(e,",").concat(t+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+o*x,",").concat(t,`
            L `).concat(e+r-o*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(t+s*x,`
            L `).concat(e+r,",").concat(t+n-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-o*x,",").concat(t+n,`
            L `).concat(e+o*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+n-s*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},Jue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qM=e=>{var t=ls(e,Jue),r=C.useRef(null),[n,a]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var le=r.current.getTotalLength();le&&a(le)}catch{}},[]);var{x:i,y:s,width:o,height:u,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:y}=t,w=C.useRef(o),_=C.useRef(u),E=C.useRef(i),A=C.useRef(s),T=C.useMemo(()=>({x:i,y:s,width:o,height:u,radius:f}),[i,s,o,u,f]),O=Cg(T,"rectangle-");if(i!==+i||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var R=rn("recharts-rectangle",h);if(!y){var D=tl(t),{radius:M}=D,B=T8(D,Gue);return C.createElement("path",vy({},B,{radius:typeof f=="number"?f:void 0,className:R,d:O8(i,s,o,u,f)}))}var G=w.current,I=_.current,z=E.current,K=A.current,J="0px ".concat(n===-1?1:n,"px"),pe="".concat(n,"px 0px"),ne=IM(["strokeDasharray"],g,typeof p=="string"?p:void 0);return C.createElement(kg,{animationId:O,key:O,canBegin:n>0,duration:g,easing:p,isActive:y,begin:x},le=>{var ve=Fa(G,o,le),ue=Fa(I,u,le),je=Fa(z,i,le),te=Fa(K,s,le);r.current&&(w.current=ve,_.current=ue,E.current=je,A.current=te);var P;b?le>0?P={transition:ne,strokeDasharray:pe}:P={strokeDasharray:J}:P={strokeDasharray:pe};var L=tl(t),{radius:q}=L,W=T8(L,Kue);return C.createElement("path",vy({},W,{radius:typeof f=="number"?f:void 0,className:R,d:O8(je,te,ve,ue,f),ref:r,style:C8(C8({},P),t.style)}))})};function $M(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=ni(t,r,n,a),o=ni(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}var efe=(e,t)=>{var r=Bi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ov=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:u}=e,f=o*(s?1:-1)+n,h=Math.asin(o/f)/my,p=u?a:a+i*h,g=ni(t,r,f,p),x=ni(t,r,n,p),b=u?a-i*h:a,y=ni(t,r,f*Math.cos(h*my),b);return{center:g,circleTangency:x,lineTangency:y,theta:h}},HM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=efe(i,s),u=i+o,f=ni(t,r,a,i),h=ni(t,r,a,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=ni(t,r,n,i),x=ni(t,r,n,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},tfe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:f}=e,h=Bi(f-u),{circleTangency:p,lineTangency:g,theta:x}=ov({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:b,lineTangency:y,theta:w}=ov({cx:t,cy:r,radius:a,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:o}),_=o?Math.abs(u-f):Math.abs(u-f)-x-w;if(_<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):HM({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:f});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:T,theta:O}=ov({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:R,lineTangency:D,theta:M}=ov({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),B=o?Math.abs(u-f):Math.abs(u-f)-O-M;if(B<0&&i===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(t,",").concat(r,"Z");return E},rfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VM=e=>{var t=ls(e,rfe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=t;if(i<a||f===h)return null;var g=rn("recharts-sector",p),x=i-a,b=js(s,x,0,!0),y;return b>0&&Math.abs(f-h)<360?y=tfe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h}):y=HM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h}),C.createElement("path",T_({},tl(t),{className:g,d:y}))};function nfe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:u,innerRadius:f,outerRadius:h,angle:p}=t,g=ni(o,u,f,p),x=ni(o,u,h,p);n=g.x,a=g.y,i=x.x,s=x.y}else return $M(t);return[{x:n,y:a},{x:i,y:s}]}var R5={},I5={},B5={},D8;function afe(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GL();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(B5)),B5}var P8;function ife(){return P8||(P8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=afe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(I5)),I5}var F8;function sfe(){return F8||(F8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KL(),r=ife();function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),u=new Array(o);for(let f=0;f<o;f++)u[f]=a,a+=s;return u}e.range=n})(R5)),R5}var U5,L8;function lfe(){return L8||(L8=1,U5=sfe().range),U5}var ofe=lfe();const WM=vf(ofe);function wd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function X3(e){let t,r,n;e.length!==2?(t=wd,r=(o,u)=>wd(e(o),u),n=(o,u)=>e(o)-u):(t=e===wd||e===cfe?e:ufe,r=e,n=e);function a(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;r(o[p],u)<0?f=p+1:h=p}while(f<h)}return f}function i(o,u,f=0,h=o.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;r(o[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function s(o,u,f=0,h=o.length){const p=a(o,u,f,h-1);return p>f&&n(o[p-1],u)>-n(o[p],u)?p-1:p}return{left:a,center:s,right:i}}function ufe(){return 0}function GM(e){return e===null?NaN:+e}function*ffe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dfe=X3(wd),Tg=dfe.right;X3(GM).center;class M8 extends Map{constructor(t,r=pfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(R8(this,t))}has(t){return super.has(R8(this,t))}set(t,r){return super.set(hfe(this,t),r)}delete(t){return super.delete(mfe(this,t))}}function R8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xfe(e=wd){if(e===wd)return KM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function KM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gfe=Math.sqrt(50),vfe=Math.sqrt(10),yfe=Math.sqrt(2);function yy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=gfe?10:i>=vfe?5:i>=yfe?2:1;let o,u,f;return a<0?(f=Math.pow(10,-a)/s,o=Math.round(e*f),u=Math.round(t*f),o/f<e&&++o,u/f>t&&--u,f=-f):(f=Math.pow(10,a)*s,o=Math.round(e/f),u=Math.round(t/f),o*f<e&&++o,u*f>t&&--u),u<o&&.5<=r&&r<2?yy(e,t,r*2):[o,u,f]}function O_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?yy(t,e,r):yy(e,t,r);if(!(i>=a))return[];const o=i-a+1,u=new Array(o);if(n)if(s<0)for(let f=0;f<o;++f)u[f]=(i-f)/-s;else for(let f=0;f<o;++f)u[f]=(i-f)*s;else if(s<0)for(let f=0;f<o;++f)u[f]=(a+f)/-s;else for(let f=0;f<o;++f)u[f]=(a+f)*s;return u}function D_(e,t,r){return t=+t,e=+e,r=+r,yy(e,t,r)[2]}function P_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?D_(t,e,r):D_(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function I8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function B8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?KM:xfe(a);n>r;){if(n-r>600){const u=n-r+1,f=t-r+1,h=Math.log(u),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),x=Math.max(r,Math.floor(t-f*p/u+g)),b=Math.min(n,Math.floor(t+(u-f)*p/u+g));YM(e,t,x,b,a)}const i=e[t];let s=r,o=n;for(tx(e,r,t),a(e[n],i)>0&&tx(e,r,n);s<o;){for(tx(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?tx(e,r,o):(++o,tx(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function tx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bfe(e,t,r){if(e=Float64Array.from(ffe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return B8(e);if(t>=1)return I8(e);var n,a=(n-1)*t,i=Math.floor(a),s=I8(YM(e,i).subarray(0,i+1)),o=B8(e.subarray(i+1));return s+(o-s)*(a-i)}}function wfe(e,t,r=GM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function _fe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Vo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const F_=Symbol("implicit");function Q3(){var e=new M8,t=[],r=[],n=F_;function a(i){let s=e.get(i);if(s===void 0){if(n!==F_)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new M8;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Q3(t,r).unknown(n)},Vo.apply(a,arguments),a}function Z3(){var e=Q3().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,u=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,x=a<n,b=x?a:n,y=x?n:a;i=(y-b)/Math.max(1,g-u+f*2),o&&(i=Math.floor(i)),b+=(y-b-i*(g-u))*h,s=i*(1-u),o&&(b=Math.round(b),s=Math.round(s));var w=_fe(g).map(function(_){return b+i*_});return r(x?w.reverse():w)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,o=!0,p()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,p()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return Z3(t(),[n,a]).round(o).paddingInner(u).paddingOuter(f).align(h)},Vo.apply(p(),arguments)}function XM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XM(t())},e}function Nfe(){return XM(Z3.apply(null,arguments).paddingInner(1))}function J3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function QM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Og(){}var eg=.7,by=1/eg,Em="\\s*([+-]?\\d+)\\s*",tg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sfe=/^#([0-9a-f]{3,8})$/,jfe=new RegExp(`^rgb\\(${Em},${Em},${Em}\\)$`),Afe=new RegExp(`^rgb\\(${ou},${ou},${ou}\\)$`),Efe=new RegExp(`^rgba\\(${Em},${Em},${Em},${tg}\\)$`),kfe=new RegExp(`^rgba\\(${ou},${ou},${ou},${tg}\\)$`),Cfe=new RegExp(`^hsl\\(${tg},${ou},${ou}\\)$`),Tfe=new RegExp(`^hsla\\(${tg},${ou},${ou},${tg}\\)$`),U8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J3(Og,rg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:z8,formatHex:z8,formatHex8:Ofe,formatHsl:Dfe,formatRgb:q8,toString:q8});function z8(){return this.rgb().formatHex()}function Ofe(){return this.rgb().formatHex8()}function Dfe(){return ZM(this).formatHsl()}function q8(){return this.rgb().formatRgb()}function rg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Sfe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$8(t):r===3?new Sl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jfe.exec(e))?new Sl(t[1],t[2],t[3],1):(t=Afe.exec(e))?new Sl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Efe.exec(e))?cv(t[1],t[2],t[3],t[4]):(t=kfe.exec(e))?cv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cfe.exec(e))?W8(t[1],t[2]/100,t[3]/100,1):(t=Tfe.exec(e))?W8(t[1],t[2]/100,t[3]/100,t[4]):U8.hasOwnProperty(e)?$8(U8[e]):e==="transparent"?new Sl(NaN,NaN,NaN,0):null}function $8(e){return new Sl(e>>16&255,e>>8&255,e&255,1)}function cv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sl(e,t,r,n)}function Pfe(e){return e instanceof Og||(e=rg(e)),e?(e=e.rgb(),new Sl(e.r,e.g,e.b,e.opacity)):new Sl}function L_(e,t,r,n){return arguments.length===1?Pfe(e):new Sl(e,t,r,n??1)}function Sl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}J3(Sl,L_,QM(Og,{brighter(e){return e=e==null?by:Math.pow(by,e),new Sl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?eg:Math.pow(eg,e),new Sl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sl(L0(this.r),L0(this.g),L0(this.b),wy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H8,formatHex:H8,formatHex8:Ffe,formatRgb:V8,toString:V8}));function H8(){return`#${A0(this.r)}${A0(this.g)}${A0(this.b)}`}function Ffe(){return`#${A0(this.r)}${A0(this.g)}${A0(this.b)}${A0((isNaN(this.opacity)?1:this.opacity)*255)}`}function V8(){const e=wy(this.opacity);return`${e===1?"rgb(":"rgba("}${L0(this.r)}, ${L0(this.g)}, ${L0(this.b)}${e===1?")":`, ${e})`}`}function wy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function L0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function A0(e){return e=L0(e),(e<16?"0":"")+e.toString(16)}function W8(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vc(e,t,r,n)}function ZM(e){if(e instanceof vc)return new vc(e.h,e.s,e.l,e.opacity);if(e instanceof Og||(e=rg(e)),!e)return new vc;if(e instanceof vc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,u=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=u<.5?i+a:2-i-a,s*=60):o=u>0&&u<1?0:s,new vc(s,o,u,e.opacity)}function Lfe(e,t,r,n){return arguments.length===1?ZM(e):new vc(e,t,r,n??1)}function vc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}J3(vc,Lfe,QM(Og,{brighter(e){return e=e==null?by:Math.pow(by,e),new vc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?eg:Math.pow(eg,e),new vc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Sl(z5(e>=240?e-240:e+120,a,n),z5(e,a,n),z5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vc(G8(this.h),uv(this.s),uv(this.l),wy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wy(this.opacity);return`${e===1?"hsl(":"hsla("}${G8(this.h)}, ${uv(this.s)*100}%, ${uv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function G8(e){return e=(e||0)%360,e<0?e+360:e}function uv(e){return Math.max(0,Math.min(1,e||0))}function z5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const eS=e=>()=>e;function Mfe(e,t){return function(r){return e+r*t}}function Rfe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ife(e){return(e=+e)==1?JM:function(t,r){return r-t?Rfe(t,r,e):eS(isNaN(t)?r:t)}}function JM(e,t){var r=t-e;return r?Mfe(e,r):eS(isNaN(e)?t:e)}const K8=(function e(t){var r=Ife(t);function n(a,i){var s=r((a=L_(a)).r,(i=L_(i)).r),o=r(a.g,i.g),u=r(a.b,i.b),f=JM(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=o(h),a.b=u(h),a.opacity=f(h),a+""}}return n.gamma=e,n})(1);function Bfe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Ufe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zfe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=rp(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function qfe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _y(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $fe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=rp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var M_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q5=new RegExp(M_.source,"g");function Hfe(e){return function(){return e}}function Vfe(e){return function(t){return e(t)+""}}function Wfe(e,t){var r=M_.lastIndex=q5.lastIndex=0,n,a,i,s=-1,o=[],u=[];for(e=e+"",t=t+"";(n=M_.exec(e))&&(a=q5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,u.push({i:s,x:_y(n,a)})),r=q5.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?Vfe(u[0].x):Hfe(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)o[(p=u[h]).i]=p.x(f);return o.join("")})}function rp(e,t){var r=typeof t,n;return t==null||r==="boolean"?eS(t):(r==="number"?_y:r==="string"?(n=rg(t))?(t=n,K8):Wfe:t instanceof rg?K8:t instanceof Date?qfe:Ufe(t)?Bfe:Array.isArray(t)?zfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$fe:_y)(e,t)}function tS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Gfe(e,t){t===void 0&&(t=e,e=rp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Kfe(e){return function(){return e}}function Ny(e){return+e}var Y8=[0,1];function Xs(e){return e}function R_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Kfe(isNaN(t)?NaN:.5)}function Yfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Xfe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=R_(a,n),i=r(s,i)):(n=R_(n,a),i=r(i,s)),function(o){return i(n(o))}}function Qfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=R_(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var u=Tg(e,o,1,n)-1;return i[u](a[u](o))}}function Dg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function j2(){var e=Y8,t=Y8,r=rp,n,a,i,s=Xs,o,u,f;function h(){var g=Math.min(e.length,t.length);return s!==Xs&&(s=Yfe(e[0],e[g-1])),o=g>2?Qfe:Xfe,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?i:(u||(u=o(e.map(n),t,r)))(n(s(g)))}return p.invert=function(g){return s(a((f||(f=o(t,e.map(n),_y)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Ny),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=tS,h()},p.clamp=function(g){return arguments.length?(s=g?!0:Xs,h()):s!==Xs},p.interpolate=function(g){return arguments.length?(r=g,h()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,x){return n=g,a=x,h()}}function rS(){return j2()(Xs,Xs)}function Zfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bm(e){return e=Sy(Math.abs(e)),e?e[1]:NaN}function Jfe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],u=0;a>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),i.push(r.substring(a-=o,a+o)),!((u+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function ede(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ng(e){if(!(t=tde.exec(e)))throw new Error("invalid format: "+e);var t;return new nS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ng.prototype=nS.prototype;function nS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rde(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var eR;function nde(e,t){var r=Sy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(eR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Sy(e,Math.max(0,t+i-1))[0]}function X8(e,t){var r=Sy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Q8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>X8(e*100,t),r:X8,s:nde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Z8(e){return e}var J8=Array.prototype.map,eT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ade(e){var t=e.grouping===void 0||e.thousands===void 0?Z8:Jfe(J8.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Z8:ede(J8.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=ng(p);var g=p.fill,x=p.align,b=p.sign,y=p.symbol,w=p.zero,_=p.width,E=p.comma,A=p.precision,T=p.trim,O=p.type;O==="n"?(E=!0,O="g"):Q8[O]||(A===void 0&&(A=12),T=!0,O="g"),(w||g==="0"&&x==="=")&&(w=!0,g="0",x="=");var R=y==="$"?r:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",D=y==="$"?n:/[%p]/.test(O)?s:"",M=Q8[O],B=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function G(I){var z=R,K=D,J,pe,ne;if(O==="c")K=M(I)+K,I="";else{I=+I;var le=I<0||1/I<0;if(I=isNaN(I)?u:M(Math.abs(I),A),T&&(I=rde(I)),le&&+I==0&&b!=="+"&&(le=!1),z=(le?b==="("?b:o:b==="-"||b==="("?"":b)+z,K=(O==="s"?eT[8+eR/3]:"")+K+(le&&b==="("?")":""),B){for(J=-1,pe=I.length;++J<pe;)if(ne=I.charCodeAt(J),48>ne||ne>57){K=(ne===46?a+I.slice(J+1):I.slice(J))+K,I=I.slice(0,J);break}}}E&&!w&&(I=t(I,1/0));var ve=z.length+I.length+K.length,ue=ve<_?new Array(_-ve+1).join(g):"";switch(E&&w&&(I=t(ue+I,ue.length?_-K.length:1/0),ue=""),x){case"<":I=z+I+K+ue;break;case"=":I=z+ue+I+K;break;case"^":I=ue.slice(0,ve=ue.length>>1)+z+I+K+ue.slice(ve);break;default:I=ue+z+I+K;break}return i(I)}return G.toString=function(){return p+""},G}function h(p,g){var x=f((p=ng(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Bm(g)/3)))*3,y=Math.pow(10,-b),w=eT[8+b/3];return function(_){return x(y*_)+w}}return{format:f,formatPrefix:h}}var fv,aS,tR;ide({thousands:",",grouping:[3],currency:["$",""]});function ide(e){return fv=ade(e),aS=fv.format,tR=fv.formatPrefix,fv}function sde(e){return Math.max(0,-Bm(Math.abs(e)))}function lde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bm(t)/3)))*3-Bm(Math.abs(e)))}function ode(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bm(t)-Bm(e))+1}function rR(e,t,r,n){var a=P_(e,t,r),i;switch(n=ng(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=lde(a,s))&&(n.precision=i),tR(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ode(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=sde(a))&&(n.precision=i-(n.type==="%")*2);break}}return aS(n)}function qd(e){var t=e.domain;return e.ticks=function(r){var n=t();return O_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],u,f,h=10;for(o<s&&(f=s,s=o,o=f,f=a,a=i,i=f);h-- >0;){if(f=D_(s,o,r),f===u)return n[a]=s,n[i]=o,t(n);if(f>0)s=Math.floor(s/f)*f,o=Math.ceil(o/f)*f;else if(f<0)s=Math.ceil(s*f)/f,o=Math.floor(o*f)/f;else break;u=f}return e},e}function nR(){var e=rS();return e.copy=function(){return Dg(e,nR())},Vo.apply(e,arguments),qd(e)}function aR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ny),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return aR(e).unknown(t)},e=arguments.length?Array.from(e,Ny):[0,1],qd(r)}function iR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function tT(e){return Math.log(e)}function rT(e){return Math.exp(e)}function cde(e){return-Math.log(-e)}function ude(e){return-Math.exp(-e)}function fde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dde(e){return e===10?fde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nT(e){return(t,r)=>-e(-t,r)}function iS(e){const t=e(tT,rT),r=t.domain;let n=10,a,i;function s(){return a=hde(n),i=dde(n),r()[0]<0?(a=nT(a),i=nT(i),e(cde,ude)):e(tT,rT),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const u=r();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=a(f),x=a(h),b,y;const w=o==null?10:+o;let _=[];if(!(n%1)&&x-g<w){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(b=1;b<n;++b)if(y=g<0?b/i(-g):b*i(g),!(y<f)){if(y>h)break;_.push(y)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(y=g>0?b/i(-g):b*i(g),!(y<f)){if(y>h)break;_.push(y)}_.length*2<w&&(_=O_(f,h,w))}else _=O_(g,x,Math.min(x-g,w)).map(i);return p?_.reverse():_},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=ng(u)).precision==null&&(u.trim=!0),u=aS(u)),o===1/0)return u;const f=Math.max(1,n*o/t.ticks().length);return h=>{let p=h/i(Math.round(a(h)));return p*n<n-.5&&(p*=n),p<=f?u(h):""}},t.nice=()=>r(iR(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function sR(){const e=iS(j2()).domain([1,10]);return e.copy=()=>Dg(e,sR()).base(e.base()),Vo.apply(e,arguments),e}function aT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sS(e){var t=1,r=e(aT(t),iT(t));return r.constant=function(n){return arguments.length?e(aT(t=+n),iT(t)):t},qd(r)}function lR(){var e=sS(j2());return e.copy=function(){return Dg(e,lR()).constant(e.constant())},Vo.apply(e,arguments)}function sT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pde(e){return e<0?-e*e:e*e}function lS(e){var t=e(Xs,Xs),r=1;function n(){return r===1?e(Xs,Xs):r===.5?e(mde,pde):e(sT(r),sT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},qd(t)}function oS(){var e=lS(j2());return e.copy=function(){return Dg(e,oS()).exponent(e.exponent())},Vo.apply(e,arguments),e}function xde(){return oS.apply(null,arguments).exponent(.5)}function lT(e){return Math.sign(e)*e*e}function gde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oR(){var e=rS(),t=[0,1],r=!1,n;function a(i){var s=gde(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(lT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ny)).map(lT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return oR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vo.apply(a,arguments),qd(a)}function cR(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=wfe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Tg(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(wd),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return cR().domain(e).range(t).unknown(n)},Vo.apply(i,arguments)}function uR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(u){return u!=null&&u<=u?a[Tg(n,u,0,r)]:i}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},s.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,o()):a.slice()},s.invertExtent=function(u){var f=a.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},s.unknown=function(u){return arguments.length&&(i=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return uR().domain([e,t]).range(a).unknown(i)},Vo.apply(qd(s),arguments)}function fR(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Tg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fR().domain(e).range(t).unknown(r)},Vo.apply(a,arguments)}const $5=new Date,H5=new Date;function Si(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const u=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return u;let f;do u.push(f=new Date(+i)),t(i,o),e(i);while(f<i&&i<s);return u},a.filter=i=>Si(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>($5.setTime(+i),H5.setTime(+s),e($5),e(H5),Math.floor(r($5,H5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const jy=Si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Si(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):jy);jy.range;const Qu=1e3,Mo=Qu*60,Zu=Mo*60,mf=Zu*24,cS=mf*7,oT=mf*30,V5=mf*365,E0=Si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getUTCSeconds());E0.range;const uS=Si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qu)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getMinutes());uS.range;const fS=Si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCMinutes());fS.range;const dS=Si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qu-e.getMinutes()*Mo)},(e,t)=>{e.setTime(+e+t*Zu)},(e,t)=>(t-e)/Zu,e=>e.getHours());dS.range;const hS=Si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zu)},(e,t)=>(t-e)/Zu,e=>e.getUTCHours());hS.range;const Pg=Si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mo)/mf,e=>e.getDate()-1);Pg.range;const A2=Si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mf,e=>e.getUTCDate()-1);A2.range;const dR=Si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mf,e=>Math.floor(e/mf));dR.range;function fh(e){return Si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Mo)/cS)}const E2=fh(0),Ay=fh(1),vde=fh(2),yde=fh(3),Um=fh(4),bde=fh(5),wde=fh(6);E2.range;Ay.range;vde.range;yde.range;Um.range;bde.range;wde.range;function dh(e){return Si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cS)}const k2=dh(0),Ey=dh(1),_de=dh(2),Nde=dh(3),zm=dh(4),Sde=dh(5),jde=dh(6);k2.range;Ey.range;_de.range;Nde.range;zm.range;Sde.range;jde.range;const mS=Si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mS.range;const pS=Si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pS.range;const pf=Si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pf.range;const xf=Si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xf.range;function hR(e,t,r,n,a,i){const s=[[E0,1,Qu],[E0,5,5*Qu],[E0,15,15*Qu],[E0,30,30*Qu],[i,1,Mo],[i,5,5*Mo],[i,15,15*Mo],[i,30,30*Mo],[a,1,Zu],[a,3,3*Zu],[a,6,6*Zu],[a,12,12*Zu],[n,1,mf],[n,2,2*mf],[r,1,cS],[t,1,oT],[t,3,3*oT],[e,1,V5]];function o(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:u(f,h,p),b=x?x.range(f,+h+1):[];return g?b.reverse():b}function u(f,h,p){const g=Math.abs(h-f)/p,x=X3(([,,w])=>w).right(s,g);if(x===s.length)return e.every(P_(f/V5,h/V5,p));if(x===0)return jy.every(Math.max(P_(f,h,p),1));const[b,y]=s[g/s[x-1][2]<s[x][2]/g?x-1:x];return b.every(y)}return[o,u]}const[Ade,Ede]=hR(xf,pS,k2,dR,hS,fS),[kde,Cde]=hR(pf,mS,E2,Pg,dS,uS);function W5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function G5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Tde(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,u=e.shortMonths,f=nx(a),h=ax(a),p=nx(i),g=ax(i),x=nx(s),b=ax(s),y=nx(o),w=ax(o),_=nx(u),E=ax(u),A={a:le,A:ve,b:ue,B:je,c:null,d:mT,e:mT,f:Jde,g:c0e,G:f0e,H:Xde,I:Qde,j:Zde,L:mR,m:e0e,M:t0e,p:te,q:P,Q:gT,s:vT,S:r0e,u:n0e,U:a0e,V:i0e,w:s0e,W:l0e,x:null,X:null,y:o0e,Y:u0e,Z:d0e,"%":xT},T={a:L,A:q,b:W,B:Z,c:null,d:pT,e:pT,f:x0e,g:A0e,G:k0e,H:h0e,I:m0e,j:p0e,L:xR,m:g0e,M:v0e,p:oe,q:ce,Q:gT,s:vT,S:y0e,u:b0e,U:w0e,V:_0e,w:N0e,W:S0e,x:null,X:null,y:j0e,Y:E0e,Z:C0e,"%":xT},O={a:G,A:I,b:z,B:K,c:J,d:dT,e:dT,f:Wde,g:fT,G:uT,H:hT,I:hT,j:qde,L:Vde,m:zde,M:$de,p:B,q:Ude,Q:Kde,s:Yde,S:Hde,u:Lde,U:Mde,V:Rde,w:Fde,W:Ide,x:pe,X:ne,y:fT,Y:uT,Z:Bde,"%":Gde};A.x=R(r,A),A.X=R(n,A),A.c=R(t,A),T.x=R(r,T),T.X=R(n,T),T.c=R(t,T);function R(ae,Se){return function(De){var X=[],Ke=-1,Ce=0,xe=ae.length,dt,Xe,wt;for(De instanceof Date||(De=new Date(+De));++Ke<xe;)ae.charCodeAt(Ke)===37&&(X.push(ae.slice(Ce,Ke)),(Xe=cT[dt=ae.charAt(++Ke)])!=null?dt=ae.charAt(++Ke):Xe=dt==="e"?" ":"0",(wt=Se[dt])&&(dt=wt(De,Xe)),X.push(dt),Ce=Ke+1);return X.push(ae.slice(Ce,Ke)),X.join("")}}function D(ae,Se){return function(De){var X=rx(1900,void 0,1),Ke=M(X,ae,De+="",0),Ce,xe;if(Ke!=De.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Se&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ce=G5(rx(X.y,0,1)),xe=Ce.getUTCDay(),Ce=xe>4||xe===0?Ey.ceil(Ce):Ey(Ce),Ce=A2.offset(Ce,(X.V-1)*7),X.y=Ce.getUTCFullYear(),X.m=Ce.getUTCMonth(),X.d=Ce.getUTCDate()+(X.w+6)%7):(Ce=W5(rx(X.y,0,1)),xe=Ce.getDay(),Ce=xe>4||xe===0?Ay.ceil(Ce):Ay(Ce),Ce=Pg.offset(Ce,(X.V-1)*7),X.y=Ce.getFullYear(),X.m=Ce.getMonth(),X.d=Ce.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),xe="Z"in X?G5(rx(X.y,0,1)).getUTCDay():W5(rx(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(xe+5)%7:X.w+X.U*7-(xe+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,G5(X)):W5(X)}}function M(ae,Se,De,X){for(var Ke=0,Ce=Se.length,xe=De.length,dt,Xe;Ke<Ce;){if(X>=xe)return-1;if(dt=Se.charCodeAt(Ke++),dt===37){if(dt=Se.charAt(Ke++),Xe=O[dt in cT?Se.charAt(Ke++):dt],!Xe||(X=Xe(ae,De,X))<0)return-1}else if(dt!=De.charCodeAt(X++))return-1}return X}function B(ae,Se,De){var X=f.exec(Se.slice(De));return X?(ae.p=h.get(X[0].toLowerCase()),De+X[0].length):-1}function G(ae,Se,De){var X=x.exec(Se.slice(De));return X?(ae.w=b.get(X[0].toLowerCase()),De+X[0].length):-1}function I(ae,Se,De){var X=p.exec(Se.slice(De));return X?(ae.w=g.get(X[0].toLowerCase()),De+X[0].length):-1}function z(ae,Se,De){var X=_.exec(Se.slice(De));return X?(ae.m=E.get(X[0].toLowerCase()),De+X[0].length):-1}function K(ae,Se,De){var X=y.exec(Se.slice(De));return X?(ae.m=w.get(X[0].toLowerCase()),De+X[0].length):-1}function J(ae,Se,De){return M(ae,t,Se,De)}function pe(ae,Se,De){return M(ae,r,Se,De)}function ne(ae,Se,De){return M(ae,n,Se,De)}function le(ae){return s[ae.getDay()]}function ve(ae){return i[ae.getDay()]}function ue(ae){return u[ae.getMonth()]}function je(ae){return o[ae.getMonth()]}function te(ae){return a[+(ae.getHours()>=12)]}function P(ae){return 1+~~(ae.getMonth()/3)}function L(ae){return s[ae.getUTCDay()]}function q(ae){return i[ae.getUTCDay()]}function W(ae){return u[ae.getUTCMonth()]}function Z(ae){return o[ae.getUTCMonth()]}function oe(ae){return a[+(ae.getUTCHours()>=12)]}function ce(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Se=R(ae+="",A);return Se.toString=function(){return ae},Se},parse:function(ae){var Se=D(ae+="",!1);return Se.toString=function(){return ae},Se},utcFormat:function(ae){var Se=R(ae+="",T);return Se.toString=function(){return ae},Se},utcParse:function(ae){var Se=D(ae+="",!0);return Se.toString=function(){return ae},Se}}}var cT={"-":"",_:" ",0:"0"},zi=/^\s*\d+/,Ode=/^%/,Dde=/[\\^$*+?|[\]().{}]/g;function nn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Pde(e){return e.replace(Dde,"\\$&")}function nx(e){return new RegExp("^(?:"+e.map(Pde).join("|")+")","i")}function ax(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Fde(e,t,r){var n=zi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Lde(e,t,r){var n=zi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Mde(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Rde(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Ide(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uT(e,t,r){var n=zi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fT(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bde(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ude(e,t,r){var n=zi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zde(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dT(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qde(e,t,r){var n=zi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hT(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $de(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Hde(e,t,r){var n=zi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Vde(e,t,r){var n=zi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Wde(e,t,r){var n=zi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gde(e,t,r){var n=Ode.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kde(e,t,r){var n=zi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Yde(e,t,r){var n=zi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mT(e,t){return nn(e.getDate(),t,2)}function Xde(e,t){return nn(e.getHours(),t,2)}function Qde(e,t){return nn(e.getHours()%12||12,t,2)}function Zde(e,t){return nn(1+Pg.count(pf(e),e),t,3)}function mR(e,t){return nn(e.getMilliseconds(),t,3)}function Jde(e,t){return mR(e,t)+"000"}function e0e(e,t){return nn(e.getMonth()+1,t,2)}function t0e(e,t){return nn(e.getMinutes(),t,2)}function r0e(e,t){return nn(e.getSeconds(),t,2)}function n0e(e){var t=e.getDay();return t===0?7:t}function a0e(e,t){return nn(E2.count(pf(e)-1,e),t,2)}function pR(e){var t=e.getDay();return t>=4||t===0?Um(e):Um.ceil(e)}function i0e(e,t){return e=pR(e),nn(Um.count(pf(e),e)+(pf(e).getDay()===4),t,2)}function s0e(e){return e.getDay()}function l0e(e,t){return nn(Ay.count(pf(e)-1,e),t,2)}function o0e(e,t){return nn(e.getFullYear()%100,t,2)}function c0e(e,t){return e=pR(e),nn(e.getFullYear()%100,t,2)}function u0e(e,t){return nn(e.getFullYear()%1e4,t,4)}function f0e(e,t){var r=e.getDay();return e=r>=4||r===0?Um(e):Um.ceil(e),nn(e.getFullYear()%1e4,t,4)}function d0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nn(t/60|0,"0",2)+nn(t%60,"0",2)}function pT(e,t){return nn(e.getUTCDate(),t,2)}function h0e(e,t){return nn(e.getUTCHours(),t,2)}function m0e(e,t){return nn(e.getUTCHours()%12||12,t,2)}function p0e(e,t){return nn(1+A2.count(xf(e),e),t,3)}function xR(e,t){return nn(e.getUTCMilliseconds(),t,3)}function x0e(e,t){return xR(e,t)+"000"}function g0e(e,t){return nn(e.getUTCMonth()+1,t,2)}function v0e(e,t){return nn(e.getUTCMinutes(),t,2)}function y0e(e,t){return nn(e.getUTCSeconds(),t,2)}function b0e(e){var t=e.getUTCDay();return t===0?7:t}function w0e(e,t){return nn(k2.count(xf(e)-1,e),t,2)}function gR(e){var t=e.getUTCDay();return t>=4||t===0?zm(e):zm.ceil(e)}function _0e(e,t){return e=gR(e),nn(zm.count(xf(e),e)+(xf(e).getUTCDay()===4),t,2)}function N0e(e){return e.getUTCDay()}function S0e(e,t){return nn(Ey.count(xf(e)-1,e),t,2)}function j0e(e,t){return nn(e.getUTCFullYear()%100,t,2)}function A0e(e,t){return e=gR(e),nn(e.getUTCFullYear()%100,t,2)}function E0e(e,t){return nn(e.getUTCFullYear()%1e4,t,4)}function k0e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zm(e):zm.ceil(e),nn(e.getUTCFullYear()%1e4,t,4)}function C0e(){return"+0000"}function xT(){return"%"}function gT(e){return+e}function vT(e){return Math.floor(+e/1e3)}var cm,vR,yR;T0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T0e(e){return cm=Tde(e),vR=cm.format,cm.parse,yR=cm.utcFormat,cm.utcParse,cm}function O0e(e){return new Date(e)}function D0e(e){return e instanceof Date?+e:+new Date(+e)}function xS(e,t,r,n,a,i,s,o,u,f){var h=rS(),p=h.invert,g=h.domain,x=f(".%L"),b=f(":%S"),y=f("%I:%M"),w=f("%I %p"),_=f("%a %d"),E=f("%b %d"),A=f("%B"),T=f("%Y");function O(R){return(u(R)<R?x:o(R)<R?b:s(R)<R?y:i(R)<R?w:n(R)<R?a(R)<R?_:E:r(R)<R?A:T)(R)}return h.invert=function(R){return new Date(p(R))},h.domain=function(R){return arguments.length?g(Array.from(R,D0e)):g().map(O0e)},h.ticks=function(R){var D=g();return e(D[0],D[D.length-1],R??10)},h.tickFormat=function(R,D){return D==null?O:f(D)},h.nice=function(R){var D=g();return(!R||typeof R.range!="function")&&(R=t(D[0],D[D.length-1],R??10)),R?g(iR(D,R)):h},h.copy=function(){return Dg(h,xS(e,t,r,n,a,i,s,o,u,f))},h}function P0e(){return Vo.apply(xS(kde,Cde,pf,mS,E2,Pg,dS,uS,E0,vR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function F0e(){return Vo.apply(xS(Ade,Ede,xf,pS,k2,A2,hS,fS,E0,yR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C2(){var e=0,t=1,r,n,a,i,s=Xs,o=!1,u;function f(p){return p==null||isNaN(p=+p)?u:s(a===0?.5:(p=(i(p)-r)*a,o?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(p){return arguments.length?(o=!!p,f):o},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var x,b;return arguments.length?([x,b]=g,s=p(x,b),f):[s(0),s(1)]}}return f.range=h(rp),f.rangeRound=h(tS),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return i=p,r=p(e),n=p(t),a=r===n?0:1/(n-r),f}}function $d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bR(){var e=qd(C2()(Xs));return e.copy=function(){return $d(e,bR())},jf.apply(e,arguments)}function wR(){var e=iS(C2()).domain([1,10]);return e.copy=function(){return $d(e,wR()).base(e.base())},jf.apply(e,arguments)}function _R(){var e=sS(C2());return e.copy=function(){return $d(e,_R()).constant(e.constant())},jf.apply(e,arguments)}function gS(){var e=lS(C2());return e.copy=function(){return $d(e,gS()).exponent(e.exponent())},jf.apply(e,arguments)}function L0e(){return gS.apply(null,arguments).exponent(.5)}function NR(){var e=[],t=Xs;function r(n){if(n!=null&&!isNaN(n=+n))return t((Tg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(wd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>bfe(e,i/n))},r.copy=function(){return NR(t).domain(e)},jf.apply(r,arguments)}function T2(){var e=0,t=.5,r=1,n=1,a,i,s,o,u,f=Xs,h,p=!1,g;function x(y){return isNaN(y=+y)?g:(y=.5+((y=+h(y))-i)*(n*y<n*i?o:u),f(p?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,r]=y,a=h(e=+e),i=h(t=+t),s=h(r=+r),o=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x):[e,t,r]},x.clamp=function(y){return arguments.length?(p=!!y,x):p},x.interpolator=function(y){return arguments.length?(f=y,x):f};function b(y){return function(w){var _,E,A;return arguments.length?([_,E,A]=w,f=Gfe(y,[_,E,A]),x):[f(0),f(.5),f(1)]}}return x.range=b(rp),x.rangeRound=b(tS),x.unknown=function(y){return arguments.length?(g=y,x):g},function(y){return h=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),u=i===s?0:.5/(s-i),n=i<a?-1:1,x}}function SR(){var e=qd(T2()(Xs));return e.copy=function(){return $d(e,SR())},jf.apply(e,arguments)}function jR(){var e=iS(T2()).domain([.1,1,10]);return e.copy=function(){return $d(e,jR()).base(e.base())},jf.apply(e,arguments)}function AR(){var e=sS(T2());return e.copy=function(){return $d(e,AR()).constant(e.constant())},jf.apply(e,arguments)}function vS(){var e=lS(T2());return e.copy=function(){return $d(e,vS()).exponent(e.exponent())},jf.apply(e,arguments)}function M0e(){return vS.apply(null,arguments).exponent(.5)}const dx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Z3,scaleDiverging:SR,scaleDivergingLog:jR,scaleDivergingPow:vS,scaleDivergingSqrt:M0e,scaleDivergingSymlog:AR,scaleIdentity:aR,scaleImplicit:F_,scaleLinear:nR,scaleLog:sR,scaleOrdinal:Q3,scalePoint:Nfe,scalePow:oS,scaleQuantile:cR,scaleQuantize:uR,scaleRadial:oR,scaleSequential:bR,scaleSequentialLog:wR,scaleSequentialPow:gS,scaleSequentialQuantile:NR,scaleSequentialSqrt:L0e,scaleSequentialSymlog:_R,scaleSqrt:xde,scaleSymlog:lR,scaleThreshold:fR,scaleTime:P0e,scaleUtc:F0e,tickFormat:rR},Symbol.toStringTag,{value:"Module"}));var Hd=e=>e.chartData,yS=He([Hd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),O2=(e,t,r,n)=>n?yS(e):Hd(e);function Z0(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ks(t)&&ks(r))return!0}return!1}function yT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function ER(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ks(r))a=r;else if(typeof r=="function")return;if(ks(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(Z0(s))return s}}function R0e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Z0(n))return yT(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(Gt(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t?.[0]))}catch{}else if(typeof a=="string"&&r8.test(a)){var u=r8.exec(a);if(u==null||t==null)s=void 0;else{var f=+u[1];s=t[0]-f}}else s=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Gt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&n8.test(i)){var h=n8.exec(i);if(h==null||t==null)o=void 0;else{var p=+h[1];o=t[1]+p}}else o=t?.[1];var g=[s,o];if(Z0(g))return t==null?g:yT(g,t,r)}}}var np=1e9,I0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wS,oa=!0,qo="[DecimalError] ",M0=qo+"Invalid argument: ",bS=qo+"Exponent out of range: ",ap=Math.floor,b0=Math.pow,B0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zl,Li=1e7,Yn=7,kR=9007199254740991,ky=ap(kR/Yn),Dt={};Dt.absoluteValue=Dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Dt.comparedTo=Dt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Dt.dividedBy=Dt.div=function(e){return lf(this,new this.constructor(e))};Dt.dividedToIntegerBy=Dt.idiv=function(e){var t=this,r=t.constructor;return Rn(lf(t,new r(e),0,1),r.precision)};Dt.equals=Dt.eq=function(e){return!this.cmp(e)};Dt.exponent=function(){return ii(this)};Dt.greaterThan=Dt.gt=function(e){return this.cmp(e)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(e){return this.cmp(e)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(e){return this.cmp(e)<0};Dt.lessThanOrEqualTo=Dt.lte=function(e){return this.cmp(e)<1};Dt.logarithm=Dt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zl))throw Error(qo+"NaN");if(r.s<1)throw Error(qo+(r.s?"NaN":"-Infinity"));return r.eq(Zl)?new n(0):(oa=!1,t=lf(ag(r,i),ag(e,i),i),oa=!0,Rn(t,a))};Dt.minus=Dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OR(t,e):CR(t,(e.s=-e.s,e))};Dt.modulo=Dt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(qo+"NaN");return r.s?(oa=!1,t=lf(r,e,0,1).times(e),oa=!0,r.minus(t)):Rn(new n(r),a)};Dt.naturalExponential=Dt.exp=function(){return TR(this)};Dt.naturalLogarithm=Dt.ln=function(){return ag(this)};Dt.negated=Dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Dt.plus=Dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CR(t,e):OR(t,(e.s=-e.s,e))};Dt.precision=Dt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(M0+e);if(t=ii(a)+1,n=a.d.length-1,r=n*Yn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Dt.squareRoot=Dt.sqrt=function(){var e,t,r,n,a,i,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(qo+"NaN")}for(e=ii(o),oa=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=su(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ap((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=s=r+3;;)if(i=n,n=i.plus(lf(o,i,s+2)).times(.5),su(i.d).slice(0,s)===(t=su(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Rn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return oa=!0,Rn(n,r)};Dt.times=Dt.mul=function(e){var t,r,n,a,i,s,o,u,f,h=this,p=h.constructor,g=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,u=g.length,f=x.length,u<f&&(i=g,g=x,x=i,s=u,u=f,f=s),i=[],s=u+f,n=s;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=u+n;a>n;)o=i[a]+x[n]*g[a-n-1]+t,i[a--]=o%Li|0,t=o/Li|0;i[a]=(i[a]+t)%Li|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,oa?Rn(e,p.precision):e};Dt.toDecimalPlaces=Dt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fu(e,0,np),t===void 0?t=n.rounding:fu(t,0,8),Rn(r,e+ii(r)+1,t))};Dt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=J0(n,!0):(fu(e,0,np),t===void 0?t=a.rounding:fu(t,0,8),n=Rn(new a(n),e+1,t),r=J0(n,!0,e+1)),r};Dt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?J0(a):(fu(e,0,np),t===void 0?t=i.rounding:fu(t,0,8),n=Rn(new i(a),e+ii(a)+1,t),r=J0(n.abs(),!1,e+ii(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Dt.toInteger=Dt.toint=function(){var e=this,t=e.constructor;return Rn(new t(e),ii(e)+1,t.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(e){var t,r,n,a,i,s,o=this,u=o.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Zl);if(o=new u(o),!o.s){if(e.s<1)throw Error(qo+"Infinity");return o}if(o.eq(Zl))return o;if(n=u.precision,e.eq(Zl))return Rn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=h<0?-h:h)<=kR){for(a=new u(Zl),t=Math.ceil(n/Yn+4),oa=!1;r%2&&(a=a.times(o),wT(a.d,t)),r=ap(r/2),r!==0;)o=o.times(o),wT(o.d,t);return oa=!0,e.s<0?new u(Zl).div(a):Rn(a,n)}}else if(i<0)throw Error(qo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,oa=!1,a=e.times(ag(o,n+f)),oa=!0,a=TR(a),a.s=i,a};Dt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ii(a),n=J0(a,r<=i.toExpNeg||r>=i.toExpPos)):(fu(e,1,np),t===void 0?t=i.rounding:fu(t,0,8),a=Rn(new i(a),e,t),r=ii(a),n=J0(a,e<=r||r<=i.toExpNeg,e)),n};Dt.toSignificantDigits=Dt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fu(e,1,np),t===void 0?t=n.rounding:fu(t,0,8)),Rn(new n(r),e,t)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ii(e),r=e.constructor;return J0(e,t<=r.toExpNeg||t>=r.toExpPos)};function CR(e,t){var r,n,a,i,s,o,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),oa?Rn(t,p):t;if(u=e.d,f=t.d,s=e.e,a=t.e,u=u.slice(),i=s-a,i){for(i<0?(n=u,i=-i,o=f.length):(n=f,a=s,o=u.length),s=Math.ceil(p/Yn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=f.length,o-i<0&&(i=o,n=f,f=u,u=n),r=0;i;)r=(u[--i]=u[i]+f[i]+r)/Li|0,u[i]%=Li;for(r&&(u.unshift(r),++a),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=a,oa?Rn(t,p):t}function fu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(M0+e)}function su(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Yn-n.length,r&&(i+=hd(r)),i+=n;s=e[t],n=s+"",r=Yn-n.length,r&&(i+=hd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var lf=(function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Li|0,s=i/Li|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,u;if(i!=s)u=i>s?1:-1;else for(o=u=0;o<i;o++)if(n[o]!=a[o]){u=n[o]>a[o]?1:-1;break}return u}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Li+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,u,f,h,p,g,x,b,y,w,_,E,A,T,O,R,D,M,B=n.constructor,G=n.s==a.s?1:-1,I=n.d,z=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(qo+"Division by zero");for(u=n.e-a.e,D=z.length,O=I.length,x=new B(G),b=x.d=[],f=0;z[f]==(I[f]||0);)++f;if(z[f]>(I[f]||0)&&--u,i==null?E=i=B.precision:s?E=i+(ii(n)-ii(a))+1:E=i,E<0)return new B(0);if(E=E/Yn+2|0,f=0,D==1)for(h=0,z=z[0],E++;(f<O||h)&&E--;f++)A=h*Li+(I[f]||0),b[f]=A/z|0,h=A%z|0;else{for(h=Li/(z[0]+1)|0,h>1&&(z=e(z,h),I=e(I,h),D=z.length,O=I.length),T=D,y=I.slice(0,D),w=y.length;w<D;)y[w++]=0;M=z.slice(),M.unshift(0),R=z[0],z[1]>=Li/2&&++R;do h=0,o=t(z,y,D,w),o<0?(_=y[0],D!=w&&(_=_*Li+(y[1]||0)),h=_/R|0,h>1?(h>=Li&&(h=Li-1),p=e(z,h),g=p.length,w=y.length,o=t(p,y,g,w),o==1&&(h--,r(p,D<g?M:z,g))):(h==0&&(o=h=1),p=z.slice()),g=p.length,g<w&&p.unshift(0),r(y,p,w),o==-1&&(w=y.length,o=t(z,y,D,w),o<1&&(h++,r(y,D<w?M:z,w))),w=y.length):o===0&&(h++,y=[0]),b[f++]=h,o&&y[0]?y[w++]=I[T]||0:(y=[I[T]],w=1);while((T++<O||y[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=u,Rn(x,s?i+ii(x)+1:i)}})();function TR(e,t){var r,n,a,i,s,o,u=0,f=0,h=e.constructor,p=h.precision;if(ii(e)>16)throw Error(bS+ii(e));if(!e.s)return new h(Zl);for(oa=!1,o=p,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(b0(2,f))/Math.LN10*2+5|0,o+=n,r=a=i=new h(Zl),h.precision=o;;){if(a=Rn(a.times(e),o),r=r.times(++u),s=i.plus(lf(a,r,o)),su(s.d).slice(0,o)===su(i.d).slice(0,o)){for(;f--;)i=Rn(i.times(i),o);return h.precision=p,t==null?(oa=!0,Rn(i,p)):i}i=s}}function ii(e){for(var t=e.e*Yn,r=e.d[0];r>=10;r/=10)t++;return t}function K5(e,t,r){if(t>e.LN10.sd())throw oa=!0,r&&(e.precision=r),Error(qo+"LN10 precision limit exceeded");return Rn(new e(e.LN10),t)}function hd(e){for(var t="";e--;)t+="0";return t}function ag(e,t){var r,n,a,i,s,o,u,f,h,p=1,g=10,x=e,b=x.d,y=x.constructor,w=y.precision;if(x.s<1)throw Error(qo+(x.s?"NaN":"-Infinity"));if(x.eq(Zl))return new y(0);if(t==null?(oa=!1,f=w):f=t,x.eq(10))return t==null&&(oa=!0),K5(y,f);if(f+=g,y.precision=f,r=su(b),n=r.charAt(0),i=ii(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=su(x.d),n=r.charAt(0),p++;i=ii(x),n>1?(x=new y("0."+r),i++):x=new y(n+"."+r.slice(1))}else return u=K5(y,f+2,w).times(i+""),x=ag(new y(n+"."+r.slice(1)),f-g).plus(u),y.precision=w,t==null?(oa=!0,Rn(x,w)):x;for(o=s=x=lf(x.minus(Zl),x.plus(Zl),f),h=Rn(x.times(x),f),a=3;;){if(s=Rn(s.times(h),f),u=o.plus(lf(s,new y(a),f)),su(u.d).slice(0,f)===su(o.d).slice(0,f))return o=o.times(2),i!==0&&(o=o.plus(K5(y,f+2,w).times(i+""))),o=lf(o,new y(p),f),y.precision=w,t==null?(oa=!0,Rn(o,w)):o;o=u,a+=2}}function bT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ap(r/Yn),e.d=[],n=(r+1)%Yn,r<0&&(n+=Yn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yn;n<a;)e.d.push(+t.slice(n,n+=Yn));t=t.slice(n),n=Yn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),oa&&(e.e>ky||e.e<-ky))throw Error(bS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rn(e,t,r){var n,a,i,s,o,u,f,h,p=e.d;for(s=1,i=p[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Yn,a=t,f=p[h=0];else{if(h=Math.ceil((n+1)/Yn),i=p.length,h>=i)return e;for(f=i=p[h],s=1;i>=10;i/=10)s++;n%=Yn,a=n-Yn+s}if(r!==void 0&&(i=b0(10,s-a-1),o=f/i%10|0,u=t<0||p[h+1]!==void 0||f%i,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?a>0?f/b0(10,s-a):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return u?(i=ii(e),p.length=1,t=t-i-1,p[0]=b0(10,(Yn-t%Yn)%Yn),e.e=ap(-t/Yn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,i=1,h--):(p.length=h+1,i=b0(10,Yn-n),p[h]=a>0?(f/b0(10,s-a)%b0(10,a)|0)*i:0),u)for(;;)if(h==0){(p[0]+=i)==Li&&(p[0]=1,++e.e);break}else{if(p[h]+=i,p[h]!=Li)break;p[h--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(oa&&(e.e>ky||e.e<-ky))throw Error(bS+ii(e));return e}function OR(e,t){var r,n,a,i,s,o,u,f,h,p,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),oa?Rn(t,x):t;if(u=e.d,p=t.d,n=t.e,f=e.e,u=u.slice(),s=f-n,s){for(h=s<0,h?(r=u,s=-s,o=p.length):(r=p,n=f,o=u.length),a=Math.max(Math.ceil(x/Yn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=u.length,o=p.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(u[a]!=p[a]){h=u[a]<p[a];break}s=0}for(h&&(r=u,u=p,p=r,t.s=-t.s),o=u.length,a=p.length-o;a>0;--a)u[o++]=0;for(a=p.length;a>s;){if(u[--a]<p[a]){for(i=a;i&&u[--i]===0;)u[i]=Li-1;--u[i],u[a]+=Li}u[a]-=p[a]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,oa?Rn(t,x):t):new g(0)}function J0(e,t,r){var n,a=ii(e),i=su(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+hd(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+hd(-a-1)+i,r&&(n=r-s)>0&&(i+=hd(n))):a>=s?(i+=hd(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+hd(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=hd(n))),e.s<0?"-"+i:i}function wT(e,t){if(e.length>t)return e.length=t,!0}function DR(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(M0+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return bT(s,i.toString())}else if(typeof i!="string")throw Error(M0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,B0e.test(i))bT(s,i);else throw Error(M0+i)}if(a.prototype=Dt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=DR,a.config=a.set=U0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function U0e(e){if(!e||typeof e!="object")throw Error(qo+"Object expected");var t,r,n,a=["precision",1,np,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ap(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(M0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(M0+r+": "+n);return this}var wS=DR(I0e);Zl=new wS(1);const wn=wS;var z0e=e=>e,PR={},FR=e=>e===PR,_T=e=>function t(){return arguments.length===0||arguments.length===1&&FR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},LR=(e,t)=>e===1?t:_T(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==PR).length;return i>=e?t(...n):LR(e-i,_T(function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var f=n.map(h=>FR(h)?o.shift():h);return t(...f,...o)}))}),D2=e=>LR(e.length,e),I_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},q0e=D2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),$0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return z0e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,u)=>u(o),i(...arguments))}},B_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),MR=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var u;return s===((u=t)===null||u===void 0?void 0:u[o])})||(t=a,r=e(...a)),r}};function RR(e){var t;return e===0?t=1:t=Math.floor(new wn(e).abs().log(10).toNumber())+1,t}function IR(e,t,r){for(var n=new wn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}D2((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});D2((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});D2((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var BR=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},UR=(e,t,r)=>{if(e.lte(0))return new wn(0);var n=RR(e.toNumber()),a=new wn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new wn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),u=o.mul(a);return t?new wn(u.toNumber()):new wn(Math.ceil(u.toNumber()))},H0e=(e,t,r)=>{var n=new wn(1),a=new wn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new wn(10).pow(RR(e)-1),a=new wn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new wn(Math.floor(e)))}else e===0?a=new wn(Math.floor((t-1)/2)):r||(a=new wn(Math.floor(e)));var s=Math.floor((t-1)/2),o=$0e(q0e(u=>a.add(new wn(u-s).mul(n)).toNumber()),I_);return o(0,t)},zR=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new wn(0),tickMin:new wn(0),tickMax:new wn(0)};var s=UR(new wn(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new wn(0):(o=new wn(t).add(r).div(2),o=o.sub(new wn(o).mod(s)));var u=Math.ceil(o.sub(t).div(s).toNumber()),f=Math.ceil(new wn(r).sub(o).div(s).toNumber()),h=u+f+1;return h>n?zR(t,r,n,a,i+1):(h<n&&(f=r>0?f+(n-h):f,u=r>0?u:u+(n-h)),{step:s,tickMin:o.sub(new wn(u).mul(s)),tickMax:o.add(new wn(f).mul(s))})};function V0e(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=BR([t,r]);if(s===-1/0||o===1/0){var u=o===1/0?[s,...I_(0,n-1).map(()=>1/0)]:[...I_(0,n-1).map(()=>-1/0),o];return t>r?B_(u):u}if(s===o)return H0e(s,n,a);var{step:f,tickMin:h,tickMax:p}=zR(s,o,i,a,0),g=IR(h,p.add(new wn(.1).mul(f)),f);return t>r?B_(g):g}function W0e(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=BR([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),u=UR(new wn(s).sub(i).div(o-1),a,0),f=[...IR(new wn(i),new wn(s),u),s];return a===!1&&(f=f.map(h=>Math.round(h))),r>n?B_(f):f}var G0e=MR(V0e),K0e=MR(W0e),qR=e=>e.rootProps.maxBarSize,Y0e=e=>e.rootProps.barGap,$R=e=>e.rootProps.barCategoryGap,X0e=e=>e.rootProps.barSize,Fg=e=>e.rootProps.stackOffset,_S=e=>e.options.chartName,NS=e=>e.rootProps.syncId,HR=e=>e.rootProps.syncMethod,SS=e=>e.options.eventEmitter,Ku={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},P2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Q0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ku.angleAxisId,includeHidden:!1,name:void 0,reversed:Ku.reversed,scale:Ku.scale,tick:Ku.tick,tickCount:void 0,ticks:void 0,type:Ku.type,unit:void 0},Z0e={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wl.scale,tick:Wl.tick,tickCount:Wl.tickCount,ticks:void 0,type:Wl.type,unit:void 0},J0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ku.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ku.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ku.scale,tick:Ku.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ehe={allowDataOverflow:Wl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wl.scale,tick:Wl.tick,tickCount:Wl.tickCount,ticks:void 0,type:"category",unit:void 0},jS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?J0e:Q0e,AS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ehe:Z0e,F2=e=>e.polarOptions,ES=He([Nf,Sf,Ni],NM),VR=He([F2,ES],(e,t)=>{if(e!=null)return js(e.innerRadius,t,0)}),WR=He([F2,ES],(e,t)=>{if(e!=null)return js(e.outerRadius,t,t*.8)}),the=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},GR=He([F2],the);He([jS,GR],P2);var KR=He([ES,VR,WR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});He([AS,KR],P2);var YR=He([Wr,F2,VR,WR,Nf,Sf],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:u,endAngle:f}=t;return{cx:js(s,a,a/2),cy:js(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:f,clockWise:!1}}}),ma=(e,t)=>t,Lg=(e,t,r)=>r;function kS(e){return e?.id}var ji=e=>{var t=Wr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ip=e=>e.tooltip.settings.axisId,Ai=e=>{var t=ji(e),r=ip(e);return Mg(e,t,r)},XR=He([Ai],e=>e?.dataKey);function QR(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:n;if(!(f==null||f.length===0)){var h=kS(o);f.forEach((p,g)=>{var x=i==null||a?g:String(qn(p,i,null)),b=qn(p,o.dataKey,0),y;s.has(x)?y=s.get(x):y={},Object.assign(y,{[h]:b}),s.set(x,y)})}}),Array.from(s.values())}function L2(e){return e.stackId!=null&&e.dataKey!=null}var M2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function R2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rhe(e,t,r){return(t=nhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nhe(e){var t=ahe(e,"string");return typeof t=="symbol"?t:t+""}function ahe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U_=[0,"auto"],Hl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ZR=(e,t)=>e.cartesianAxis.xAxis[t],Af=(e,t)=>{var r=ZR(e,t);return r??Hl},Vl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:U_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eg},JR=(e,t)=>e.cartesianAxis.yAxis[t],Ef=(e,t)=>{var r=JR(e,t);return r??Vl},ihe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},CS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??ihe},Sa=(e,t,r)=>{switch(t){case"xAxis":return Af(e,r);case"yAxis":return Ef(e,r);case"zAxis":return CS(e,r);case"angleAxis":return jS(e,r);case"radiusAxis":return AS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},she=(e,t,r)=>{switch(t){case"xAxis":return Af(e,r);case"yAxis":return Ef(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mg=(e,t,r)=>{switch(t){case"xAxis":return Af(e,r);case"yAxis":return Ef(e,r);case"angleAxis":return jS(e,r);case"radiusAxis":return AS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},e9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function TS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var I2=e=>e.graphicalItems.cartesianItems,lhe=He([ma,Lg],TS),OS=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Rg=He([I2,Sa,lhe],OS,{memoizeOptions:{resultEqualityCheck:R2}}),t9=He([Rg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(L2)),r9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ohe=He([Rg],r9),DS=e=>e.map(t=>t.data).filter(Boolean).flat(1),che=He([Rg],DS,{memoizeOptions:{resultEqualityCheck:R2}}),PS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},FS=He([che,O2],PS),LS=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:qn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:qn(a,n)}))):e.map(n=>({value:n})),B2=He([FS,Sa,Rg],LS);function n9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cv(e){if(uu(e)||e instanceof Date){var t=Number(e);if(ks(t))return t}}function ST(e){if(Array.isArray(e)){var t=[Cv(e[0]),Cv(e[1])];return Z0(t)?t:void 0}var r=Cv(e);if(r!=null)return[r,r]}function sp(e){return e.map(Cv).filter(Aue)}function uhe(e,t,r){return!r||typeof t!="number"||Uo(t)?[]:r.length?sp(r.flatMap(n=>{var a=qn(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!ks(i)||!ks(s)))return[t-i,t+s]})):[]}var fhe=He([t9,O2,Ai],QR),a9=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,u=o.map(kS);return[s,{stackedData:Yoe(e,u,r),graphicalItems:o}]}))},z_=He([fhe,t9,Fg],a9),i9=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=ece(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},dhe=He([Sa],e=>e.allowDataOverflow),MS=e=>{var t;if(e==null||!("domain"in e))return U_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=sp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:U_},RS=He([Sa],MS),IS=He([RS,dhe],ER),hhe=He([z_,Hd,ma,IS],i9,{memoizeOptions:{resultEqualityCheck:M2}}),U2=e=>e.errorBars,mhe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>n9(r,n)),Ty=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},BS=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var f,h,p=(f=n[u.id])===null||f===void 0?void 0:f.filter(_=>n9(a,_)),g=qn(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=uhe(o,g,p);if(x.length>=2){var b=Math.min(...x),y=Math.max(...x);(i==null||b<i)&&(i=b),(s==null||y>s)&&(s=y)}var w=ST(g);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var u=ST(qn(o,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),ks(i)&&ks(s))return[i,s]},phe=He([FS,Sa,ohe,U2,ma],BS,{memoizeOptions:{resultEqualityCheck:M2}});function xhe(e){var{value:t}=e;if(uu(t)||t instanceof Date)return t}var ghe=(e,t,r)=>{var n=e.map(xhe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&PL(n))?WM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},s9=e=>e.referenceElements.dots,lp=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),vhe=He([s9,ma,Lg],lp),l9=e=>e.referenceElements.areas,yhe=He([l9,ma,Lg],lp),o9=e=>e.referenceElements.lines,bhe=He([o9,ma,Lg],lp),c9=(e,t)=>{var r=sp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},whe=He(vhe,ma,c9),u9=(e,t)=>{var r=sp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_he=He([yhe,ma],u9),f9=(e,t)=>{var r=sp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nhe=He(bhe,ma,f9),She=He(whe,Nhe,_he,(e,t,r)=>Ty(e,r,t)),US=(e,t,r,n,a,i,s,o)=>{if(r!=null)return r;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",f=u?Ty(n,i,a):Ty(i,a);return R0e(t,f,e.allowDataOverflow)},jhe=He([Sa,RS,IS,hhe,phe,She,Wr,ma],US,{memoizeOptions:{resultEqualityCheck:M2}}),Ahe=[0,1],zS=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:u}=e,f=Ud(t,i);return f&&o==null?WM(0,r.length):u==="category"?ghe(n,e,f):a==="expand"?Ahe:s}},qS=He([Sa,Wr,FS,B2,Fg,ma,jhe],zS),d9=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Ng(i));return o in dx?o:"point"}}},op=He([Sa,Wr,e9,_S,ma],d9);function Ehe(e){if(e!=null){if(e in dx)return dx[e]();var t="scale".concat(Ng(e));if(t in dx)return dx[t]()}}function $S(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Ehe(t);if(a!=null){var i=a.domain(r).range(n);return Hoe(i),i}}}var HS=(e,t,r)=>{var n=MS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Z0(e))return G0e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Z0(e))return K0e(e,t.tickCount,t.allowDecimals)}},VS=He([qS,Mg,op],HS),WS=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Z0(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},khe=He([Sa,qS,VS,ma],WS),Che=He(B2,Sa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(sp(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),h9=He(Che,Wr,$R,Ni,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ks(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=js(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),The=(e,t)=>{var r=Af(e,t);return r==null||typeof r.padding!="string"?0:h9(e,"xAxis",t,r.padding)},Ohe=(e,t)=>{var r=Ef(e,t);return r==null||typeof r.padding!="string"?0:h9(e,"yAxis",t,r.padding)},Dhe=He(Af,The,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Phe=He(Ef,Ohe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Fhe=He([Ni,Dhe,w2,b2,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Lhe=He([Ni,Wr,Phe,w2,b2,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ig=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Fhe(e,r,n);case"yAxis":return Lhe(e,r,n);case"zAxis":return(a=CS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return GR(e);case"radiusAxis":return KR(e,r);default:return}},m9=He([Sa,Ig],P2),cp=He([Sa,op,khe,m9],$S);He([Rg,U2,ma],mhe);function p9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var z2=(e,t)=>t,q2=(e,t,r)=>r,Mhe=He(v2,z2,q2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(p9)),Rhe=He(y2,z2,q2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(p9)),x9=(e,t)=>({width:e.width,height:t.height}),Ihe=(e,t)=>{var r=typeof t.width=="number"?t.width:Eg;return{width:r,height:e.height}},g9=He(Ni,Af,x9),Bhe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Uhe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zhe=He(Sf,Ni,Mhe,z2,q2,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var u=x9(t,o);s==null&&(s=Bhe(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),i}),qhe=He(Nf,Ni,Rhe,z2,q2,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var u=Ihe(t,o);s==null&&(s=Uhe(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),i}),$he=(e,t)=>{var r=Af(e,t);if(r!=null)return zhe(e,r.orientation,r.mirror)},Hhe=He([Ni,Af,$he,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Vhe=(e,t)=>{var r=Ef(e,t);if(r!=null)return qhe(e,r.orientation,r.mirror)},Whe=He([Ni,Ef,Vhe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),v9=He(Ni,Ef,(e,t)=>{var r=typeof t.width=="number"?t.width:Eg;return{width:r,height:e.height}}),jT=(e,t,r)=>{switch(t){case"xAxis":return g9(e,r).width;case"yAxis":return v9(e,r).height;default:return}},y9=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Ud(e,n),u=t.map(f=>f.value);if(s&&o&&i==="category"&&a&&PL(u))return u}},GS=He([Wr,B2,Sa,ma],y9),b9=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Ud(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},KS=He([Wr,B2,Mg,ma],b9),AT=He([Wr,she,op,cp,GS,KS,Ig,VS,ma],(e,t,r,n,a,i,s,o,u)=>{if(t==null)return null;var f=Ud(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:o,range:s,realScaleType:r,scale:n}}),Ghe=(e,t,r,n,a,i,s,o,u)=>{if(!(t==null||n==null)){var f=Ud(e,u),{type:h,ticks:p,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/x:0;b=u==="angleAxis"&&i!=null&&i.length>=2?Bi(i[0]-i[1])*2*b:b;var y=p||a;if(y){var w=y.map((_,E)=>{var A=s?s.indexOf(_):_;return{index:E,coordinate:n(A)+b,value:_,offset:b}});return w.filter(_=>!Uo(_.coordinate))}return f&&o?o.map((_,E)=>({coordinate:n(_)+b,value:_,index:E,offset:b})):n.ticks?n.ticks(g).map(_=>({coordinate:n(_)+b,value:_,offset:b})):n.domain().map((_,E)=>({coordinate:n(_)+b,value:s?s[_]:_,index:E,offset:b}))}},w9=He([Wr,Mg,op,cp,VS,Ig,GS,KS,ma],Ghe),Khe=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Ud(e,s),{tickCount:u}=t,f=0;return f=s==="angleAxis"&&n?.length>=2?Bi(n[0]-n[1])*2*f:f,o&&i?i.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:a?a[h]:h,index:p,offset:f}))}},Ed=He([Wr,Mg,cp,Ig,GS,KS,ma],Khe),kd=He(Sa,cp,(e,t)=>{if(!(e==null||t==null))return Cy(Cy({},e),{},{scale:t})}),Yhe=He([Sa,op,qS,m9],$S);He((e,t,r)=>CS(e,r),Yhe,(e,t)=>{if(!(e==null||t==null))return Cy(Cy({},e),{},{scale:t})});var Xhe=He([Wr,v2,y2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_9=e=>e.options.defaultTooltipEventType,N9=e=>e.options.validateTooltipEventTypes;function S9(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function YS(e,t){var r=_9(e),n=N9(e);return S9(t,r,n)}function Qhe(e){return Bt(t=>YS(t,e))}var j9=(e,t)=>{var r,n=Number(t);if(!(Uo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Zhe=e=>e.tooltip.settings,pd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Jhe={itemInteraction:{click:pd,hover:pd},axisInteraction:{click:pd,hover:pd},keyboardInteraction:pd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},A9=io({name:"tooltip",initialState:Jhe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Vs()},removeTooltipEntrySettings:{reducer(e,t){var r=sf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Vs()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:eme,removeTooltipEntrySettings:tme,setTooltipSettingsState:rme,setActiveMouseOverItemIndex:E9,mouseLeaveItem:nme,mouseLeaveChart:k9,setActiveClickItemIndex:ame,setMouseOverAxisIndex:C9,setMouseClickAxisIndex:ime,setSyncInteraction:q_,setKeyboardInteraction:$_}=A9.actions,sme=A9.reducer;function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t,r){return(t=ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ume(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function fme(e){return e.index!=null}var T9=(e,t,r,n)=>{if(t==null)return pd;var a=ume(e,t,r);if(a==null)return pd;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(fme(a)){if(i)return dv(dv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return dv(dv({},pd),{},{coordinate:a.coordinate})},XS=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!ks(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},O9=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var u=s[0],f=u==null?void 0:o(u.positions,i);if(f!=null)return f;var h=a?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},D9=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},Bg=e=>e.options.tooltipPayloadSearcher,up=e=>e.tooltip;function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){dme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dme(e,t,r){return(t=hme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hme(e){var t=mme(e,"string");return typeof t=="symbol"?t:t+""}function mme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pme(e,t){return e??t}var P9=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:u,dataStartIndex:f,dataEndIndex:h}=r,p=[];return e.reduce((g,x)=>{var b,{dataDefinedOnItem:y,settings:w}=x,_=pme(y,o),E=Array.isArray(_)?SM(_,f,h):_,A=(b=w?.dataKey)!==null&&b!==void 0?b:n,T=w?.nameKey,O;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&s==="axis"?O=FL(E,n,a):O=i(E,t,u,T),Array.isArray(O))O.forEach(D=>{var M=CT(CT({},w),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(a8({tooltipEntrySettings:M,dataKey:D.dataKey,payload:D.payload,value:qn(D.payload,D.dataKey),name:D.name}))});else{var R;g.push(a8({tooltipEntrySettings:w,dataKey:A,payload:O,value:qn(O,A),name:(R=qn(O,T))!==null&&R!==void 0?R:w?.name}))}return g},p)}},QS=He([Ai,Wr,e9,_S,ji],d9),xme=He([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),gme=He([ji,ip],TS),Ug=He([xme,Ai,gme],OS,{memoizeOptions:{resultEqualityCheck:R2}}),vme=He([Ug],e=>e.filter(L2)),yme=He([Ug],DS,{memoizeOptions:{resultEqualityCheck:R2}}),fp=He([yme,Hd],PS),bme=He([vme,Hd,Ai],QR),ZS=He([fp,Ai,Ug],LS),F9=He([Ai],MS),wme=He([Ai],e=>e.allowDataOverflow),L9=He([F9,wme],ER),_me=He([Ug],e=>e.filter(L2)),Nme=He([bme,_me,Fg],a9),Sme=He([Nme,Hd,ji,L9],i9),jme=He([Ug],r9),Ame=He([fp,Ai,jme,U2,ji],BS,{memoizeOptions:{resultEqualityCheck:M2}}),Eme=He([s9,ji,ip],lp),kme=He([Eme,ji],c9),Cme=He([l9,ji,ip],lp),Tme=He([Cme,ji],u9),Ome=He([o9,ji,ip],lp),Dme=He([Ome,ji],f9),Pme=He([kme,Dme,Tme],Ty),Fme=He([Ai,F9,L9,Sme,Ame,Pme,Wr,ji],US),M9=He([Ai,Wr,fp,ZS,Fg,ji,Fme],zS),Lme=He([M9,Ai,QS],HS),Mme=He([Ai,M9,Lme,ji],WS),R9=e=>{var t=ji(e),r=ip(e),n=!1;return Ig(e,t,r,n)},I9=He([Ai,R9],P2),B9=He([Ai,QS,Mme,I9],$S),Rme=He([Wr,ZS,Ai,ji],y9),Ime=He([Wr,ZS,Ai,ji],b9),Bme=(e,t,r,n,a,i,s,o)=>{if(t){var{type:u}=t,f=Ud(e,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=o==="angleAxis"&&a!=null&&a?.length>=2?Bi(a[0]-a[1])*2*p:p,f&&s?s.map((g,x)=>({coordinate:n(g)+p,value:g,index:x,offset:p})):n.domain().map((g,x)=>({coordinate:n(g)+p,value:i?i[g]:g,index:x,offset:p}))}}},kf=He([Wr,Ai,QS,B9,R9,Rme,Ime,ji],Bme),JS=He([_9,N9,Zhe],(e,t,r)=>S9(r.shared,e,t)),U9=e=>e.tooltip.settings.trigger,ej=e=>e.tooltip.settings.defaultIndex,$2=He([up,JS,U9,ej],T9),Cd=He([$2,fp],XS),z9=He([kf,Cd],j9),q9=He([$2],e=>{if(e)return e.dataKey}),$9=He([up,JS,U9,ej],D9),Ume=He([Nf,Sf,Wr,Ni,kf,ej,$9,Bg],O9),zme=He([$2,Ume],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),qme=He([$2],e=>e.active),$me=He([$9,Cd,Hd,XR,z9,Bg,JS],P9),Hme=He([$me],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){Vme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vme(e,t,r){return(t=Wme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wme(e){var t=Gme(e,"string");return typeof t=="symbol"?t:t+""}function Gme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kme=()=>Bt(Ai),Yme=()=>{var e=Kme(),t=Bt(kf),r=Bt(B9);return Qx(OT(OT({},e),{},{scale:r}),t)},Xme=()=>Bt(_S),tj=(e,t)=>t,H9=(e,t,r)=>r,rj=(e,t,r,n)=>n,Qme=He(kf,e=>d2(e,t=>t.coordinate)),nj=He([up,tj,H9,rj],T9),V9=He([nj,fp],XS),Zme=(e,t,r)=>{if(t!=null){var n=up(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},W9=He([up,tj,H9,rj],D9),Oy=He([Nf,Sf,Wr,Ni,kf,rj,W9,Bg],O9),Jme=He([nj,Oy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),G9=He(kf,V9,j9),epe=He([W9,V9,Hd,XR,G9,Bg,tj],P9),tpe=He([nj],e=>({isActive:e.active,activeIndex:e.index})),rpe=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var u=tce(e.chartX,e.chartY,t,r,o);if(u){var f=nce(u,t),h=qoe(f,s,i,n,a),p=rce(t,i,h,u);return{activeIndex:String(h),activeCoordinate:p}}}};function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H_.apply(null,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){npe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function npe(e,t,r){return(t=ape(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ape(e){var t=ipe(e,"string");return typeof t=="symbol"?t:t+""}function ipe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function spe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:u,chartName:f}=e,h=t,p=r,g=n;if(!o||!h||f!=="ScatterChart"&&u!=="axis")return null;var x,b;if(f==="ScatterChart")x=h,b=yue;else if(f==="BarChart")x=bue(s,h,a,i),b=qM;else if(s==="radial"){var{cx:y,cy:w,radius:_,startAngle:E,endAngle:A}=$M(h);x={cx:y,cy:w,startAngle:E,endAngle:A,innerRadius:_,outerRadius:_},b=VM}else x={points:nfe(s,h,a)},b=Y3;var T=typeof o=="object"&&"className"in o?o.className:void 0,O=hv(hv(hv(hv({stroke:"#ccc",pointerEvents:"none"},a),x),K0(o)),{},{payload:p,payloadIndex:g,className:rn("recharts-tooltip-cursor",T)});return C.isValidElement(o)?C.cloneElement(o,O):C.createElement(b,O)}function lpe(e){var t=Yme(),r=PM(),n=N2(),a=Xme();return C.createElement(spe,H_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var K9=C.createContext(null),ope=()=>C.useContext(K9),Y5={exports:{}},PT;function cpe(){return PT||(PT=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new a(h,p||u,g),b=r?r+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},o.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,b=new Array(x);g<x;g++)b[g]=p[g].fn;return b},o.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},o.prototype.emit=function(f,h,p,g,x,b){var y=r?r+f:f;if(!this._events[y])return!1;var w=this._events[y],_=arguments.length,E,A;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,g),!0;case 5:return w.fn.call(w.context,h,p,g,x),!0;case 6:return w.fn.call(w.context,h,p,g,x,b),!0}for(A=1,E=new Array(_-1);A<_;A++)E[A-1]=arguments[A];w.fn.apply(w.context,E)}else{var T=w.length,O;for(A=0;A<T;A++)switch(w[A].once&&this.removeListener(f,w[A].fn,void 0,!0),_){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,p);break;case 4:w[A].fn.call(w[A].context,h,p,g);break;default:if(!E)for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];w[A].fn.apply(w[A].context,E)}}return!0},o.prototype.on=function(f,h,p){return i(this,f,h,p,!1)},o.prototype.once=function(f,h,p){return i(this,f,h,p,!0)},o.prototype.removeListener=function(f,h,p,g){var x=r?r+f:f;if(!this._events[x])return this;if(!h)return s(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!p||b.context===p)&&s(this,x);else{for(var y=0,w=[],_=b.length;y<_;y++)(b[y].fn!==h||g&&!b[y].once||p&&b[y].context!==p)&&w.push(b[y]);w.length?this._events[x]=w.length===1?w[0]:w:s(this,x)}return this},o.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Y5)),Y5.exports}var upe=cpe();const fpe=vf(upe);var ig=new fpe,V_="recharts.syncEvent.tooltip",FT="recharts.syncEvent.brush";function aj(e,t){if(t){var r=Number.parseInt(t,10);if(!Uo(r))return e?.[r]}}var dpe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Y9=io({name:"options",initialState:dpe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hpe=Y9.reducer,{createEventEmitter:mpe}=Y9.actions;function ppe(e){return e.tooltip.syncInteraction}var xpe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},X9=io({name:"chartData",initialState:xpe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:LT,setDataStartEndIndexes:gpe,setComputedData:eNe}=X9.actions,vpe=X9.reducer,ype=["x","y"];function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){bpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bpe(e,t,r){return(t=wpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wpe(e){var t=_pe(e,"string");return typeof t=="symbol"?t:t+""}function _pe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Npe(e,t){if(e==null)return{};var r,n,a=Spe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Spe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q9=()=>{};function jpe(){var e=Bt(NS),t=Bt(SS),r=ha(),n=Bt(HR),a=Bt(kf),i=N2(),s=_2(),o=Bt(u=>u.rootProps.className);C.useEffect(()=>{if(e==null)return Q9;var u=(f,h,p)=>{if(t!==p&&e===f){if(n==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y}=x,w=Npe(x,ype),{x:_,y:E,width:A,height:T}=h.payload.sourceViewBox,O=um(um({},w),{},{x:s.x+(A?(b-_)/A:0)*s.width,y:s.y+(T?(y-E)/T:0)*s.height});r(um(um({},h),{},{payload:um(um({},h.payload),{},{coordinate:O})}))}else r(h);return}if(a!=null){var R;if(typeof n=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},M=n(a,D);R=a[M]}else n==="value"&&(R=a.find(ne=>String(ne.value)===h.payload.label));var{coordinate:B}=h.payload;if(R==null||h.payload.active===!1||B==null||s==null){r(q_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:G,y:I}=B,z=Math.min(G,s.x+s.width),K=Math.min(I,s.y+s.height),J={x:i==="horizontal"?R.coordinate:z,y:i==="horizontal"?K:R.coordinate},pe=q_({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(R.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(pe)}}};return ig.on(V_,u),()=>{ig.off(V_,u)}},[o,r,t,e,n,a,i,s])}function Ape(){var e=Bt(NS),t=Bt(SS),r=ha();C.useEffect(()=>{if(e==null)return Q9;var n=(a,i,s)=>{t!==s&&e===a&&r(gpe(i))};return ig.on(FT,n),()=>{ig.off(FT,n)}},[r,t,e])}function Epe(){var e=ha();C.useEffect(()=>{e(mpe())},[e]),jpe(),Ape()}function kpe(e,t,r,n,a,i){var s=Bt(x=>Zme(x,e,t)),o=Bt(SS),u=Bt(NS),f=Bt(HR),h=Bt(ppe),p=h?.active,g=_2();C.useEffect(()=>{if(!p&&u!=null&&o!=null){var x=q_({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:g});ig.emit(V_,u,x,o)}},[p,r,s,a,n,o,u,f,i,g])}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){Cpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cpe(e,t,r){return(t=Tpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tpe(e){var t=Ope(e,"string");return typeof t=="symbol"?t:t+""}function Ope(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dpe(e){return e.dataKey}function Ppe(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(Qce,t)}var BT=[],Fpe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!zd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function X5(e){var t=ls(e,Fpe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:u,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:x,wrapperStyle:b,cursor:y,shared:w,trigger:_,defaultIndex:E,portal:A,axisId:T}=t,O=ha(),R=typeof E=="number"?String(E):E;C.useEffect(()=>{O(rme({shared:w,trigger:_,axisId:T,active:r,defaultIndex:R}))},[O,w,_,T,r,R]);var D=_2(),M=RM(),B=Qhe(w),{activeIndex:G,isActive:I}=Bt(W=>tpe(W,B,_,R)),z=Bt(W=>epe(W,B,_,R)),K=Bt(W=>G9(W,B,_,R)),J=Bt(W=>Jme(W,B,_,R)),pe=z,ne=ope(),le=r??I,[ve,ue]=XL([pe,le]),je=B==="axis"?K:void 0;kpe(B,_,J,je,G,le);var te=A??ne;if(te==null)return null;var P=pe??BT;le||(P=BT),o&&P.length&&(P=VL(pe.filter(W=>W.value!=null&&(W.hide!==!0||t.includeHidden)),h,Dpe));var L=P.length>0,q=C.createElement(aue,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:le,coordinate:J,hasPayload:L,offset:f,position:p,reverseDirection:g,useTranslate3d:x,viewBox:D,wrapperStyle:b,lastBoundingBox:ve,innerRef:ue,hasPortalFromProps:!!A},Ppe(s,IT(IT({},t),{},{payload:P,label:je,active:le,coordinate:J,accessibilityLayer:M})));return C.createElement(C.Fragment,null,DD.createPortal(q,te),le&&C.createElement(lpe,{cursor:y,tooltipEventType:B,coordinate:J,payload:pe,index:G}))}var zg=e=>null;zg.displayName="Cell";function Lpe(e,t,r){return(t=Mpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mpe(e){var t=Rpe(e,"string");return typeof t=="symbol"?t:t+""}function Rpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ipe{constructor(t){Lpe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){Upe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Upe(e,t,r){return(t=zpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zpe(e){var t=qpe(e,"string");return typeof t=="symbol"?t:t+""}function qpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $pe={cacheSize:2e3,enableCache:!0},Z9=Bpe({},$pe),zT=new Ipe(Z9.cacheSize),Hpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qT="recharts_measurement_span";function Vpe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var $T=(e,t)=>{try{var r=document.getElementById(qT);r||(r=document.createElement("span"),r.setAttribute("id",qT),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Hpe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Nx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zd.isSsr)return{width:0,height:0};if(!Z9.enableCache)return $T(t,r);var n=Vpe(t,r),a=zT.get(n);if(a)return a;var i=$T(t,r);return zT.set(n,i),i},HT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kpe=Object.keys(J9),vm="NaN";function Ype(e,t){return e*J9[t]}class Nl{static parse(t){var r,[,n,a]=(r=Gpe.exec(t))!==null&&r!==void 0?r:[];return new Nl(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Uo(t)&&(this.unit=""),r!==""&&!Wpe.test(r)&&(this.num=NaN,this.unit=""),Kpe.includes(r)&&(this.num=Ype(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Nl(NaN,""):new Nl(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Nl(NaN,""):new Nl(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nl(NaN,""):new Nl(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nl(NaN,""):new Nl(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Uo(this.num)}}function eI(e){if(e.includes(vm))return vm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=HT.exec(t))!==null&&r!==void 0?r:[],s=Nl.parse(n??""),o=Nl.parse(i??""),u=a==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return vm;t=t.replace(HT,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=VT.exec(t))!==null&&f!==void 0?f:[],x=Nl.parse(h??""),b=Nl.parse(g??""),y=p==="+"?x.add(b):x.subtract(b);if(y.isNaN())return vm;t=t.replace(VT,y.toString())}return t}var WT=/\(([^()]*)\)/;function Xpe(e){for(var t=e,r;(r=WT.exec(t))!=null;){var[,n]=r;t=t.replace(WT,eI(n))}return t}function Qpe(e){var t=e.replace(/\s+/g,"");return t=Xpe(t),t=eI(t),t}function Zpe(e){try{return Qpe(e)}catch{return vm}}function Q5(e){var t=Zpe(e.slice(5,-1));return t===vm?"":t}var Jpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],exe=["dx","dy","angle","className","breakAll"];function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(null,arguments)}function GT(e,t){if(e==null)return{};var r,n,a=txe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function txe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tI=/[ \f\n\r\t\v\u2028\u2029]+/,rI=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];fa(t)||(r?a=t.toString().split(""):a=t.toString().split(tI));var i=a.map(o=>({word:o,width:Nx(o,n).width})),s=r?0:Nx("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},rxe=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:u}=e,f=Gt(i),h=s,p=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((z,K)=>{var{word:J,width:pe}=K,ne=z[z.length-1];if(ne&&(n==null||a||ne.width+pe+r<Number(n)))ne.words.push(J),ne.width+=pe+r;else{var le={words:[J],width:pe};z.push(le)}return z},[])},g=p(t),x=G=>G.reduce((I,z)=>I.width>z.width?I:z);if(!f||a)return g;var b=g.length>i||x(g).width>Number(n);if(!b)return g;for(var y="",w=G=>{var I=h.slice(0,G),z=rI({breakAll:u,style:o,children:I+y}).wordsWithComputedWidth,K=p(z),J=K.length>i||x(K).width>Number(n);return[J,K]},_=0,E=h.length-1,A=0,T;_<=E&&A<=h.length-1;){var O=Math.floor((_+E)/2),R=O-1,[D,M]=w(R),[B]=w(O);if(!D&&!B&&(_=O+1),D&&B&&(E=O-1),!D&&B){T=M;break}A++}return T||g},KT=e=>{var t=fa(e)?[]:e.toString().split(tI);return[{words:t}]},nxe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!zd.isSsr){var o,u,f=rI({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;o=h,u=p}else return KT(n);return rxe({breakAll:i,children:n,maxLines:s,style:a},o,u,t,r)}return KT(n)},YT="#808080",H2=C.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:u="end",fill:f=YT}=e,h=GT(e,Jpe),p=C.useMemo(()=>nxe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:g,dy:x,angle:b,className:y,breakAll:w}=h,_=GT(h,exe);if(!uu(r)||!uu(n)||p.length===0)return null;var E=r+(Gt(g)?g:0),A=n+(Gt(x)?x:0),T;switch(u){case"start":T=Q5("calc(".concat(i,")"));break;case"middle":T=Q5("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:T=Q5("calc(".concat(p.length-1," * -").concat(a,")"));break}var O=[];if(s){var R=p[0].width,{width:D}=h;O.push("scale(".concat(Gt(D)?D/R:1,")"))}return b&&O.push("rotate(".concat(b,", ").concat(E,", ").concat(A,")")),O.length&&(_.transform=O.join(" ")),C.createElement("text",W_({},tl(_),{ref:t,x:E,y:A,className:rn("recharts-text",y),textAnchor:o,fill:f.includes("url")?YT:f}),p.map((M,B)=>{var G=M.words.join(w?"":" ");return C.createElement("tspan",{x:E,dy:B===0?T:a,key:"".concat(G,"-").concat(B)},G)}))});H2.displayName="Text";var axe=["labelRef"];function ixe(e,t){if(e==null)return{};var r,n,a=sxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=cxe(e,"string");return typeof t=="symbol"?t:t+""}function cxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}var nI=C.createContext(null),uxe=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=C.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return C.createElement(nI.Provider,{value:s},i)},aI=()=>{var e=C.useContext(nI),t=_2();return e||t},fxe=C.createContext(null),dxe=()=>{var e=C.useContext(fxe),t=Bt(YR);return e||t},hxe=e=>{var{value:t,formatter:r}=e,n=fa(e.children)?t:e.children;return typeof r=="function"?r(n):n},ij=e=>e!=null&&typeof e=="function",mxe=(e,t)=>{var r=Bi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},pxe=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:x}=a,b=(f+h)/2,y=mxe(p,g),w=y>=0?1:-1,_,E;switch(t){case"insideStart":_=p+w*i,E=x;break;case"insideEnd":_=g-w*i,E=!x;break;case"end":_=g+w*i,E=x;break;default:throw new Error("Unsupported position ".concat(t))}E=y<=0?E:!E;var A=ni(o,u,b,_),T=ni(o,u,b,_+(E?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),R=fa(e.id)?Gx("recharts-radial-line-"):e.id;return C.createElement("text",Yu({},n,{dominantBaseline:"central",className:rn("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:R,d:O})),C.createElement("textPath",{xlinkHref:"#".concat(R)},r))},xxe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:u}=e,f=(o+u)/2;if(r==="outside"){var{x:h,y:p}=ni(n,a,s+t,f);return{x:h,y:p,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(i+s)/2,{x,y:b}=ni(n,a,g,f);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},iI=e=>"cx"in e&&Gt(e.cx),gxe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!iI(r)&&(i=r);var{x:s,y:o,width:u,height:f}=t,h=f>=0?1:-1,p=h*n,g=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,y=b*n,w=b>0?"end":"start",_=b>0?"start":"end";if(a==="top"){var E={x:s+u/2,y:o-h*n,textAnchor:"middle",verticalAnchor:g};return $a($a({},E),i?{height:Math.max(o-i.y,0),width:u}:{})}if(a==="bottom"){var A={x:s+u/2,y:o+f+p,textAnchor:"middle",verticalAnchor:x};return $a($a({},A),i?{height:Math.max(i.y+i.height-(o+f),0),width:u}:{})}if(a==="left"){var T={x:s-y,y:o+f/2,textAnchor:w,verticalAnchor:"middle"};return $a($a({},T),i?{width:Math.max(T.x-i.x,0),height:f}:{})}if(a==="right"){var O={x:s+u+y,y:o+f/2,textAnchor:_,verticalAnchor:"middle"};return $a($a({},O),i?{width:Math.max(i.x+i.width-O.x,0),height:f}:{})}var R=i?{width:u,height:f}:{};return a==="insideLeft"?$a({x:s+y,y:o+f/2,textAnchor:_,verticalAnchor:"middle"},R):a==="insideRight"?$a({x:s+u-y,y:o+f/2,textAnchor:w,verticalAnchor:"middle"},R):a==="insideTop"?$a({x:s+u/2,y:o+p,textAnchor:"middle",verticalAnchor:x},R):a==="insideBottom"?$a({x:s+u/2,y:o+f-p,textAnchor:"middle",verticalAnchor:g},R):a==="insideTopLeft"?$a({x:s+y,y:o+p,textAnchor:_,verticalAnchor:x},R):a==="insideTopRight"?$a({x:s+u-y,y:o+p,textAnchor:w,verticalAnchor:x},R):a==="insideBottomLeft"?$a({x:s+y,y:o+f-p,textAnchor:_,verticalAnchor:g},R):a==="insideBottomRight"?$a({x:s+u-y,y:o+f-p,textAnchor:w,verticalAnchor:g},R):a&&typeof a=="object"&&(Gt(a.x)||df(a.x))&&(Gt(a.y)||df(a.y))?$a({x:s+js(a.x,u),y:o+js(a.y,f),textAnchor:"end",verticalAnchor:"end"},R):$a({x:s+u/2,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},vxe={offset:5};function md(e){var t=ls(e,vxe),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:u,labelRef:f}=t,h=dxe(),p=aI(),g=n==="center"?p:h??p,x=r||g;if(!x||fa(a)&&fa(i)&&!C.isValidElement(s)&&typeof s!="function")return null;var b=$a($a({},t),{},{viewBox:x});if(C.isValidElement(s)){var{labelRef:y}=b,w=ixe(b,axe);return C.cloneElement(s,w)}var _;if(typeof s=="function"){if(_=C.createElement(s,b),C.isValidElement(_))return _}else _=hxe(t);var E=iI(x),A=tl(t);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return pxe(t,n,_,A,x);var T=E?xxe(x,t.offset,t.position):gxe(t,x);return C.createElement(H2,Yu({ref:f,className:rn("recharts-label",o)},A,T,{breakAll:u}),_)}md.displayName="Label";var yxe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?C.createElement(md,Yu({key:"label-implicit"},n)):uu(e)?C.createElement(md,Yu({key:"label-implicit",value:e},n)):C.isValidElement(e)?e.type===md?C.cloneElement(e,$a({key:"label-implicit"},n)):C.createElement(md,Yu({key:"label-implicit",content:e},n)):ij(e)?C.createElement(md,Yu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?C.createElement(md,Yu({},e,{key:"label-implicit"},n)):null};function bxe(e){var{label:t,labelRef:r}=e,n=aI();return yxe(t,n,r)||null}var Z5={},J5={},QT;function wxe(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(J5)),J5}var e4={},ZT;function _xe(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(e4)),e4}var JT;function Nxe(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wxe(),r=_xe(),n=R3();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Z5)),Z5}var t4,eO;function Sxe(){return eO||(eO=1,t4=Nxe().last),t4}var jxe=Sxe();const Axe=vf(jxe);var Exe=["valueAccessor"],kxe=["dataKey","clockWise","id","textBreakAll"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}function tO(e,t){if(e==null)return{};var r,n,a=Cxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Txe=e=>Array.isArray(e.value)?Axe(e.value):e.value,sI=C.createContext(void 0),lI=sI.Provider,oI=C.createContext(void 0),Oxe=oI.Provider;function Dxe(){return C.useContext(sI)}function Pxe(){return C.useContext(oI)}function Tv(e){var{valueAccessor:t=Txe}=e,r=tO(e,Exe),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,o=tO(r,kxe),u=Dxe(),f=Pxe(),h=u||f;return!h||!h.length?null:C.createElement(ss,{className:"recharts-label-list"},h.map((p,g)=>{var x,b=fa(n)?t(p,g):qn(p&&p.payload,n),y=fa(i)?{}:{id:"".concat(i,"-").concat(g)};return C.createElement(md,Dy({key:"label-".concat(g)},tl(p),o,y,{fill:(x=r.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:s,viewBox:p.viewBox,index:g}))}))}Tv.displayName="LabelList";function sj(e){var{label:t}=e;return t?t===!0?C.createElement(Tv,{key:"labelList-implicit"}):C.isValidElement(t)||ij(t)?C.createElement(Tv,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(Tv,Dy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G_.apply(null,arguments)}var cI=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=rn("recharts-dot",a);return t===+t&&r===+r&&n===+n?C.createElement("circle",G_({},ro(e),F3(e),{className:i,cx:t,cy:r,r:n})):null},uI=e=>e.graphicalItems.polarItems,Fxe=He([ma,Lg],TS),V2=He([uI,Sa,Fxe],OS),Lxe=He([V2],DS),W2=He([Lxe,yS],PS),Mxe=He([W2,Sa,V2],LS);He([W2,Sa,V2],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=qn(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:qn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var rO=()=>{},Rxe=He([W2,Sa,V2,U2,ma],BS),Ixe=He([Sa,RS,IS,rO,Rxe,rO,Wr,ma],US),fI=He([Sa,Wr,W2,Mxe,Fg,ma,Ixe],zS),Bxe=He([fI,Sa,op],HS);He([Sa,fI,Bxe,ma],WS);var Uxe={radiusAxis:{},angleAxis:{}},dI=io({name:"polarAxis",initialState:Uxe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:tNe,removeRadiusAxis:rNe,addAngleAxis:nNe,removeAngleAxis:aNe}=dI.actions,zxe=dI.reducer;function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){qxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qxe(e,t,r){return(t=$xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xe(e){var t=Hxe(e,"string");return typeof t=="symbol"?t:t+""}function Hxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vxe=(e,t)=>t,lj=He([uI,Vxe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Wxe=[],oj=(e,t,r)=>r?.length===0?Wxe:r,hI=He([yS,lj,oj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>aO(aO({},t.presentationProps),i.props))),a!=null)return a}}),Gxe=He([hI,lj,oj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=qn(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:tp(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Kxe=He([hI,lj,oj,Ni],(e,t,r,n)=>{if(!(t==null||e==null))return Kge({offset:n,pieSettings:t,displayedData:e,cells:r})}),r4={exports:{}},On={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO;function Yxe(){if(iO)return On;iO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function b(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case a:case n:case u:case f:case g:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case p:case h:return y;case i:return y;default:return w}}case t:return w}}}return On.ContextConsumer=i,On.ContextProvider=s,On.Element=e,On.ForwardRef=o,On.Fragment=r,On.Lazy=p,On.Memo=h,On.Portal=t,On.Profiler=a,On.StrictMode=n,On.Suspense=u,On.SuspenseList=f,On.isContextConsumer=function(y){return b(y)===i},On.isContextProvider=function(y){return b(y)===s},On.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},On.isForwardRef=function(y){return b(y)===o},On.isFragment=function(y){return b(y)===r},On.isLazy=function(y){return b(y)===p},On.isMemo=function(y){return b(y)===h},On.isPortal=function(y){return b(y)===t},On.isProfiler=function(y){return b(y)===a},On.isStrictMode=function(y){return b(y)===n},On.isSuspense=function(y){return b(y)===u},On.isSuspenseList=function(y){return b(y)===f},On.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===f||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===h||y.$$typeof===s||y.$$typeof===i||y.$$typeof===o||y.$$typeof===x||y.getModuleId!==void 0)},On.typeOf=b,On}var sO;function Xxe(){return sO||(sO=1,r4.exports=Yxe()),r4.exports}var Qxe=Xxe(),lO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",oO=null,n4=null,mI=e=>{if(e===oO&&Array.isArray(n4))return n4;var t=[];return C.Children.forEach(e,r=>{fa(r)||(Qxe.isFragment(r)?t=t.concat(mI(r.props.children)):t.push(r))}),n4=t,oO=e,t};function cj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>lO(a)):n=[lO(t)],mI(e).forEach(a=>{var i=Y0(a,"type.displayName")||Y0(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var pI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,a4={},cO;function Zxe(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(a4)),a4}var i4,uO;function Jxe(){return uO||(uO=1,i4=Zxe().isPlainObject),i4}var ege=Jxe();const tge=vf(ege);function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){rge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rge(e,t,r){return(t=nge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nge(e){var t=age(e,"string");return typeof t=="symbol"?t:t+""}function age(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}var hO=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},ige={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sge=e=>{var t=ls(e,ige),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t,g=C.useRef(null),[x,b]=C.useState(-1),y=C.useRef(a),w=C.useRef(i),_=C.useRef(s),E=C.useRef(r),A=C.useRef(n),T=Cg(e,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var J=g.current.getTotalLength();J&&b(J)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var O=rn("recharts-trapezoid",o);if(!p)return C.createElement("g",null,C.createElement("path",Py({},tl(t),{className:O,d:hO(r,n,a,i,s)})));var R=y.current,D=w.current,M=_.current,B=E.current,G=A.current,I="0px ".concat(x===-1?1:x,"px"),z="".concat(x,"px 0px"),K=IM(["strokeDasharray"],f,u);return C.createElement(kg,{animationId:T,key:T,canBegin:x>0,duration:f,easing:u,isActive:p,begin:h},J=>{var pe=Fa(R,a,J),ne=Fa(D,i,J),le=Fa(M,s,J),ve=Fa(B,r,J),ue=Fa(G,n,J);g.current&&(y.current=pe,w.current=ne,_.current=le,E.current=ve,A.current=ue);var je=J>0?{transition:K,strokeDasharray:z}:{strokeDasharray:I};return C.createElement("path",Py({},tl(t),{className:O,d:hO(ve,ue,pe,ne,le),ref:g,style:dO(dO({},je),t.style)}))})},lge=["option","shapeType","propTransformer","activeClassName","isActive"];function oge(e,t){if(e==null)return{};var r,n,a=cge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){uge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t,r){return(t=fge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fge(e){var t=dge(e,"string");return typeof t=="symbol"?t:t+""}function dge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hge(e,t){return Fy(Fy({},t),e)}function mge(e,t){return e==="symbols"}function pO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return C.createElement(qM,r);case"trapezoid":return C.createElement(sge,r);case"sector":return C.createElement(VM,r);case"symbols":if(mge(t))return C.createElement(P3,r);break;default:return null}}function pge(e){return C.isValidElement(e)?e.props:e}function xI(e){var{option:t,shapeType:r,propTransformer:n=hge,activeClassName:a="recharts-active-shape",isActive:i}=e,s=oge(e,lge),o;if(C.isValidElement(t))o=C.cloneElement(t,Fy(Fy({},s),pge(t)));else if(typeof t=="function")o=t(s);else if(tge(t)&&typeof t!="boolean"){var u=n(t,s);o=C.createElement(pO,{shapeType:r,elementProps:u})}else{var f=s;o=C.createElement(pO,{shapeType:r,elementProps:f})}return i?C.createElement(ss,{className:a},o):o}var uj=(e,t)=>{var r=ha();return(n,a)=>i=>{e?.(n,a,i),r(E9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},fj=e=>{var t=ha();return(r,n)=>a=>{e?.(r,n,a),t(nme())}},dj=(e,t)=>{var r=ha();return(n,a)=>i=>{e?.(n,a,i),r(ame({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function hj(e){var{fn:t,args:r}=e,n=ha(),a=rl();return C.useLayoutEffect(()=>{if(!a){var i=t(r);return n(eme(i)),()=>{n(tme(i))}}},[t,r,n,a]),null}var gI=()=>{};function vI(e){var{legendPayload:t}=e,r=ha(),n=rl();return C.useLayoutEffect(()=>n?gI:(r(LM(t)),()=>{r(MM(t))}),[r,n,t]),null}function xge(e){var{legendPayload:t}=e,r=ha(),n=Bt(Wr);return C.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?gI:(r(LM(t)),()=>{r(MM(t))}),[r,n,t]),null}var s4,gge=()=>{var[e]=C.useState(()=>Gx("uid-"));return e},vge=(s4=yz.useId)!==null&&s4!==void 0?s4:gge;function yge(e,t){var r=vge();return t||(e?"".concat(e,"-").concat(r):r)}var bge=C.createContext(void 0),mj=e=>{var{id:t,type:r,children:n}=e,a=yge("recharts-".concat(r),t);return C.createElement(bge.Provider,{value:a},n(a))},wge={cartesianItems:[],polarItems:[]},yI=io({name:"graphicalItems",initialState:wge,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Vs()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sf(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Vs()},removeCartesianGraphicalItem:{reducer(e,t){var r=sf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Vs()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Vs()},removePolarGraphicalItem:{reducer(e,t){var r=sf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Vs()}}}),{addCartesianGraphicalItem:_ge,replaceCartesianGraphicalItem:Nge,removeCartesianGraphicalItem:Sge,addPolarGraphicalItem:jge,removePolarGraphicalItem:Age}=yI.actions,Ege=yI.reducer;function bI(e){var t=ha(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?t(_ge(e)):r.current!==e&&t(Nge({prev:r.current,next:e})),r.current=e},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(Sge(r.current)),r.current=null)},[t]),null}function kge(e){var t=ha();return C.useLayoutEffect(()=>(t(jge(e)),()=>{t(Age(e))}),[t,e]),null}var Cge=["onMouseEnter","onClick","onMouseLeave"],Tge=["id"],Oge=["id"];function pj(e,t){if(e==null)return{};var r,n,a=Dge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){Pge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pge(e,t,r){return(t=Fge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fge(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(null,arguments)}function Mge(e){var t=C.useMemo(()=>cj(e.children,zg),[e.children]),r=Bt(n=>Gxe(n,e.id,t));return r==null?null:C.createElement(xge,{legendPayload:r})}function Rge(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:u,tooltipType:f}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:tp(o,t),hide:u,type:f,color:s,unit:""}}}var Ige=(e,t)=>e>t?"start":e<t?"end":"middle",Bge=(e,t,r)=>js(typeof t=="function"?t(e):t,r,r*.8),Uge=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=NM(i,s),u=a+js(e.cx,i,i/2),f=n+js(e.cy,s,s/2),h=js(e.innerRadius,o,0),p=Bge(r,e.outerRadius,o),g=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},zge=(e,t)=>{var r=Bi(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function qge(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var $ge=(e,t)=>{if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return e(t);var r=rn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return C.createElement(Y3,Td({},t,{type:"linear",className:r}))},Hge=(e,t,r)=>{if(C.isValidElement(e))return C.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),C.isValidElement(n)))return n;var a=rn("recharts-pie-label-text",qge(e));return C.createElement(H2,Td({},t,{alignmentBaseline:"middle",className:a}),n)};function Vge(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var o=ro(r),u=K0(a),f=K0(i),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,p=t.map((g,x)=>{var b=(g.startAngle+g.endAngle)/2,y=ni(g.cx,g.cy,g.outerRadius+h,b),w=la(la(la(la({},o),g),{},{stroke:"none"},u),{},{index:x,textAnchor:Ige(y.x,g.cx)},y),_=la(la(la(la({},o),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[ni(g.cx,g.cy,g.outerRadius,b),y],key:"line"});return C.createElement(ss,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&$ge(i,_),Hge(a,w,qn(g,s)))});return C.createElement(ss,{className:"recharts-pie-labels"},p)}function Wge(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?C.createElement(sj,{label:a}):C.createElement(Vge,{sectors:t,props:r,showLabels:n})}function Gge(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Bt(Cd),{onMouseEnter:s,onClick:o,onMouseLeave:u}=a,f=pj(a,Cge),h=uj(s,a.dataKey),p=fj(u),g=dj(o,a.dataKey);return t==null||t.length===0?null:C.createElement(C.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var y=r&&String(b)===i,w=i?n:null,_=y?r:w,E=la(la({},x),{},{stroke:x.stroke,tabIndex:-1,[kM]:b,[CM]:a.dataKey});return C.createElement(ss,Td({key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Sg(f,x,b),{onMouseEnter:h(x,b),onMouseLeave:p(x,b),onClick:g(x,b)}),C.createElement(xI,Td({option:_,isActive:y,shapeType:"sector"},E)))}))}function Kge(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:u,dataKey:f,nameKey:h,tooltipType:p}=r,g=Math.abs(r.minAngle),x=zge(o,u),b=Math.abs(x),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(R=>qn(R,f,0)!==0).length,_=(b>=360?w:w-1)*y,E=b-w*g-_,A=n.reduce((R,D)=>{var M=qn(D,f,0);return R+(Gt(M)?M:0)},0),T;if(A>0){var O;T=n.map((R,D)=>{var M=qn(R,f,0),B=qn(R,h,D),G=Uge(r,i,R),I=(Gt(M)?M:0)/A,z,K=la(la({},R),a&&a[D]&&a[D].props);D?z=O.endAngle+Bi(x)*y*(M!==0?1:0):z=o;var J=z+Bi(x)*((M!==0?g:0)+I*E),pe=(z+J)/2,ne=(G.innerRadius+G.outerRadius)/2,le=[{name:B,value:M,payload:K,dataKey:f,type:p}],ve=ni(G.cx,G.cy,ne,pe);return O=la(la(la(la({},r.presentationProps),{},{percent:I,cornerRadius:s,name:B,tooltipPayload:le,midAngle:pe,middleRadius:ne,tooltipPosition:ve},K),G),{},{value:M,startAngle:z,endAngle:J,payload:K,paddingAngle:Bi(x)*y}),O})}return T}function Yge(e){var{showLabels:t,sectors:r,children:n}=e,a=C.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return C.createElement(Oxe,{value:t?a:void 0},n)}function Xge(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:u,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=t,g=Cg(t,"recharts-pie-"),x=r.current,[b,y]=C.useState(!1),w=C.useCallback(()=>{typeof p=="function"&&p(),y(!1)},[p]),_=C.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);return C.createElement(Yge,{showLabels:!b,sectors:n},C.createElement(kg,{animationId:g,begin:i,duration:s,isActive:a,easing:o,onAnimationStart:_,onAnimationEnd:w,key:g},E=>{var A=[],T=n&&n[0],O=T?.startAngle;return n?.forEach((R,D)=>{var M=x&&x[D],B=D>0?Y0(R,"paddingAngle",0):0;if(M){var G=Fa(M.endAngle-M.startAngle,R.endAngle-R.startAngle,E),I=la(la({},R),{},{startAngle:O+B,endAngle:O+G+B});A.push(I),O=I.endAngle}else{var{endAngle:z,startAngle:K}=R,J=Fa(0,z-K,E),pe=la(la({},R),{},{startAngle:O+B,endAngle:O+J+B});A.push(pe),O=pe.endAngle}}),r.current=A,C.createElement(ss,null,C.createElement(Gge,{sectors:A,activeShape:u,inactiveShape:f,allOtherPieProps:t}))}),C.createElement(Wge,{showLabels:!b,sectors:n,props:t}),t.children)}var Qge={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!zd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Zge(e){var{id:t}=e,r=pj(e,Tge),{hide:n,className:a,rootTabIndex:i}=e,s=C.useMemo(()=>cj(e.children,zg),[e.children]),o=Bt(h=>Kxe(h,t,s)),u=C.useRef(null),f=rn("recharts-pie",a);return n||o==null?(u.current=null,C.createElement(ss,{tabIndex:i,className:f})):C.createElement(C.Fragment,null,C.createElement(hj,{fn:Rge,args:la(la({},e),{},{sectors:o})}),C.createElement(ss,{tabIndex:i,className:f},C.createElement(Xge,{props:la(la({},r),{},{sectors:o}),previousSectorsRef:u})))}function wI(e){var t=ls(e,Qge),{id:r}=t,n=pj(t,Oge),a=ro(n);return C.createElement(mj,{id:r,type:"pie"},i=>C.createElement(C.Fragment,null,C.createElement(kge,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),C.createElement(Mge,Td({},n,{id:i})),C.createElement(Zge,Td({},n,{id:i}))))}wI.displayName="Pie";function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){Jge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jge(e,t,r){return(t=e1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e1e(e){var t=t1e(e,"string");return typeof t=="symbol"?t:t+""}function t1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r1e={xAxis:{},yAxis:{},zAxis:{}},_I=io({name:"cartesianAxis",initialState:r1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Vs()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Vs()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Vs()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Vs()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Vs()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Vs()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=vO(vO({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:n1e,removeXAxis:a1e,addYAxis:i1e,removeYAxis:s1e,addZAxis:iNe,removeZAxis:sNe,updateYAxisWidth:l1e}=_I.actions,o1e=_I.reducer,c1e=He([Ni],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),u1e=He([c1e,Nf,Sf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),xj=()=>Bt(u1e),f1e=()=>Bt(Hme);function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){d1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d1e(e,t,r){return(t=h1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h1e(e){var t=m1e(e,"string");return typeof t=="symbol"?t:t+""}function m1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p1e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=bO(bO({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},K0(a)),F3(a)),o;return C.isValidElement(a)?o=C.cloneElement(a,s):typeof a=="function"?o=a(s):o=C.createElement(cI,s),C.createElement(ss,{className:"recharts-active-dot"},o)};function x1e(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Bt(Cd),s=f1e();if(t==null||s==null)return null;var o=t.find(u=>s.includes(u.payload));return fa(o)?null:p1e({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var g1e="Invariant failed";function v1e(e,t){throw new Error(g1e)}var y1e=["x","y"];function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(null,arguments)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){b1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b1e(e,t,r){return(t=w1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w1e(e){var t=_1e(e,"string");return typeof t=="symbol"?t:t+""}function _1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1e(e,t){if(e==null)return{};var r,n,a=S1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j1e(e,t){var{x:r,y:n}=e,a=N1e(e,y1e),i="".concat(r),s=parseInt(i,10),o="".concat(n),u=parseInt(o,10),f="".concat(t.height||a.height),h=parseInt(f,10),p="".concat(t.width||a.width),g=parseInt(p,10);return ix(ix(ix(ix(ix({},t),a),s?{x:s}:{}),u?{y:u}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function gj(e){return C.createElement(xI,K_({shapeType:"rectangle",propTransformer:j1e,activeClassName:"recharts-active-bar"},e))}var A1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Gt(t))return t;var i=Gt(n)||fa(n);return i?t(n,a):(i||v1e(),r)}},E1e={},NI=io({name:"errorBars",initialState:E1e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:lNe,replaceErrorBar:oNe,removeErrorBar:cNe}=NI.actions,k1e=NI.reducer,C1e=["children"];function T1e(e,t){if(e==null)return{};var r,n,a=O1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var D1e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},P1e=C.createContext(D1e);function SI(e){var{children:t}=e,r=T1e(e,C1e);return C.createElement(P1e.Provider,{value:r},t)}function vj(e,t){var r,n,a=Bt(f=>Af(f,e)),i=Bt(f=>Ef(f,t)),s=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Hl.allowDataOverflow,o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Vl.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function jI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=xj(),{needClipX:i,needClipY:s,needClip:o}=vj(t,r);if(!o)return null;var{x:u,y:f,width:h,height:p}=a;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:i?u:u-h/2,y:s?f:f-p/2,width:i?h:h*2,height:s?p:p*2}))}var F1e=["onMouseEnter","onMouseLeave","onClick"],L1e=["value","background","tooltipPosition"],M1e=["id"],R1e=["onMouseEnter","onClick","onMouseLeave"];function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(null,arguments)}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){I1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I1e(e,t,r){return(t=B1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B1e(e){var t=U1e(e,"string");return typeof t=="symbol"?t:t+""}function U1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ly(e,t){if(e==null)return{};var r,n,a=z1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q1e=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:tp(r,t),payload:e}]};function $1e(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:tp(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function H1e(e){var t=Bt(Cd),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:u}=i,f=Ly(i,F1e),h=uj(s,n),p=fj(o),g=dj(u,n);if(!a||r==null)return null;var x=K0(a);return C.createElement(C.Fragment,null,r.map((b,y)=>{var{value:w,background:_,tooltipPosition:E}=b,A=Ly(b,L1e);if(!_)return null;var T=h(b,y),O=p(b,y),R=g(b,y),D=Ws(Ws(Ws(Ws(Ws({option:a,isActive:String(y)===t},A),{},{fill:"#eee"},_),x),Sg(f,b,y)),{},{onMouseEnter:T,onMouseLeave:O,onClick:R,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return C.createElement(gj,Od({key:"background-bar-".concat(y)},D))}))}function V1e(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return Ws(Ws({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return C.createElement(lI,{value:t?a:void 0},r)}function W1e(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=Bt(Cd),u=Bt(q9),f=r&&String(i)===o&&(u==null||s===u),h=f?r:t;return C.createElement(gj,Od({},n,{name:String(n.name)},a,{isActive:f,option:h,index:i,dataKey:s}))}function G1e(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return C.createElement(gj,Od({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function K1e(e){var{data:t,props:r}=e,n=ro(r),{id:a}=n,i=Ly(n,M1e),{shape:s,dataKey:o,activeBar:u}=r,{onMouseEnter:f,onClick:h,onMouseLeave:p}=r,g=Ly(r,R1e),x=uj(f,o),b=fj(p),y=dj(h,o);return t?C.createElement(C.Fragment,null,t.map((w,_)=>C.createElement(ss,Od({key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(_),className:"recharts-bar-rectangle"},Sg(g,w,_),{onMouseEnter:x(w,_),onMouseLeave:b(w,_),onClick:y(w,_)}),u?C.createElement(W1e,{shape:s,activeBar:u,baseProps:i,entry:w,index:_,dataKey:o}):C.createElement(G1e,{shape:s,baseProps:i,entry:w,index:_,dataKey:o})))):null}function Y1e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:u,onAnimationEnd:f,onAnimationStart:h}=t,p=r.current,g=Cg(t,"recharts-bar-"),[x,b]=C.useState(!1),y=!x,w=C.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),_=C.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return C.createElement(V1e,{showLabels:y,rects:n},C.createElement(kg,{animationId:g,begin:s,duration:o,isActive:i,easing:u,onAnimationEnd:w,onAnimationStart:_,key:g},E=>{var A=E===1?n:n?.map((T,O)=>{var R=p&&p[O];if(R)return Ws(Ws({},T),{},{x:Fa(R.x,T.x,E),y:Fa(R.y,T.y,E),width:Fa(R.width,T.width,E),height:Fa(R.height,T.height,E)});if(a==="horizontal"){var D=Fa(0,T.height,E);return Ws(Ws({},T),{},{y:T.y+T.height-D,height:D})}var M=Fa(0,T.width,E);return Ws(Ws({},T),{},{width:M})});return E>0&&(r.current=A??null),A==null?null:C.createElement(ss,null,C.createElement(K1e,{props:t,data:A}))}),C.createElement(sj,{label:t.label}),t.children)}function X1e(e){var t=C.useRef(null);return C.createElement(Y1e,{previousRectanglesRef:t,props:e})}var AI=0,Q1e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qn(e,t)}};class Z1e extends C.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:u,id:f}=this.props;if(t||r==null)return null;var h=rn("recharts-bar",a),p=f;return C.createElement(ss,{className:h,id:f},o&&C.createElement("defs",null,C.createElement(jI,{clipPathId:p,xAxisId:i,yAxisId:s})),C.createElement(ss,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},C.createElement(H1e,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),C.createElement(X1e,this.props)))}}var J1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!zd.isSsr,legendType:"rect",minPointSize:AI,xAxisId:0,yAxisId:0};function eve(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h}=e,{needClip:p}=vj(t,r),g=N2(),x=rl(),b=cj(e.children,zg),y=Bt(E=>kve(E,t,r,x,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var w,_=y?.[0];return _==null||_.height==null||_.width==null?w=0:w=g==="vertical"?_.height/2:_.width/2,C.createElement(SI,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:Q1e,errorBarOffset:w},C.createElement(Z1e,Od({},e,{layout:g,needClip:p,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:u,animationEasing:f,isAnimationActive:h})))}function tve(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:u,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:x,parentViewBox:b}=e,y=t==="horizontal"?o:s,w=h?y.scale.domain():null,_=Qoe({numericAxis:y});return p.map((E,A)=>{var T,O,R,D,M,B;h?T=Voe(h[A],w):(T=qn(E,r),Array.isArray(T)||(T=[_,T]));var G=A1e(n,AI)(T[1],A);if(t==="horizontal"){var I,[z,K]=[o.scale(T[0]),o.scale(T[1])];O=t8({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:E,index:A}),R=(I=K??z)!==null&&I!==void 0?I:void 0,D=a.size;var J=z-K;if(M=Uo(J)?0:J,B={x:O,y:g.top,width:D,height:g.height},Math.abs(G)>0&&Math.abs(M)<Math.abs(G)){var pe=Bi(M||G)*(Math.abs(G)-Math.abs(M));R-=pe,M+=pe}}else{var[ne,le]=[s.scale(T[0]),s.scale(T[1])];if(O=ne,R=t8({axis:o,ticks:f,bandSize:i,offset:a.offset,entry:E,index:A}),D=le-ne,M=a.size,B={x:g.left,y:R,width:g.width,height:M},Math.abs(G)>0&&Math.abs(D)<Math.abs(G)){var ve=Bi(D||G)*(Math.abs(G)-Math.abs(D));D+=ve}}if(O==null||R==null||D==null||M==null)return null;var ue=Ws(Ws({},E),{},{x:O,y:R,width:D,height:M,value:h?T:T[1],payload:E,background:B,tooltipPosition:{x:O+D/2,y:R+M/2},parentViewBox:b},x&&x[A]&&x[A].props);return ue}).filter(Boolean)}function rve(e){var t=ls(e,J1e),r=rl();return C.createElement(mj,{id:t.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(vI,{legendPayload:q1e(t)}),C.createElement(hj,{fn:$1e,args:t}),C.createElement(bI,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Xoe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),C.createElement(eve,Od({},t,{id:n}))))}var Y_=C.memo(rve);Y_.displayName="Bar";function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){nve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t,r){return(t=ave(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ave(e){var t=ive(e,"string");return typeof t=="symbol"?t:t+""}function ive(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sve=(e,t)=>t,lve=(e,t,r)=>r,ove=(e,t,r,n)=>n,cve=(e,t,r,n,a)=>a,qg=He([I2,cve],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),uve=He([qg],e=>e?.maxBarSize),fve=(e,t,r,n,a,i)=>i,SO=(e,t,r)=>{var n=r??e;if(!fa(n))return js(n,t,0)},dve=He([Wr,I2,sve,lve,ove],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),hve=(e,t,r,n)=>{var a=Wr(e);return a==="horizontal"?z_(e,"yAxis",r,n):z_(e,"xAxis",t,n)},mve=(e,t,r)=>{var n=Wr(e);return n==="horizontal"?jT(e,"xAxis",t):jT(e,"yAxis",r)},pve=(e,t,r)=>{var n={},a=e.filter(L2),i=e.filter(f=>f.stackId==null),s=a.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),o=Object.entries(s).map(f=>{var[h,p]=f,g=p.map(b=>b.dataKey),x=SO(t,r,p[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),u=i.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=SO(t,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...o,...u]},xve=He([dve,X0e,mve],pve),gve=(e,t,r,n,a)=>{var i,s,o=qg(e,t,r,n,a);if(o!=null){var u=Wr(e),f=qR(e),{maxBarSize:h}=o,p=fa(h)?f:h,g,x;return u==="horizontal"?(g=kd(e,"xAxis",t,n),x=Ed(e,"xAxis",t,n)):(g=kd(e,"yAxis",r,n),x=Ed(e,"yAxis",r,n)),(i=(s=Qx(g,x,!0))!==null&&s!==void 0?s:p)!==null&&i!==void 0?i:0}},EI=(e,t,r,n)=>{var a=Wr(e),i,s;return a==="horizontal"?(i=kd(e,"xAxis",t,n),s=Ed(e,"xAxis",t,n)):(i=kd(e,"yAxis",r,n),s=Ed(e,"yAxis",r,n)),Qx(i,s)};function vve(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=js(e,r,0,!0),o,u=[];if(ks(n[0].barSize)){var f=!1,h=r/i,p=n.reduce((_,E)=>_+(E.barSize||0),0);p+=(i-1)*s,p>=r&&(p-=(i-1)*s,s=0),p>=r&&h>0&&(f=!0,h*=.9,p=i*h);var g=(r-p)/2>>0,x={offset:g-s,size:0};o=n.reduce((_,E)=>{var A,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:x.offset+x.size+s,size:f?h:(A=E.barSize)!==null&&A!==void 0?A:0}},O=[..._,T];return x=O[O.length-1].position,O},u)}else{var b=js(t,r,0,!0);r-2*b-(i-1)*s<=0&&(s=0);var y=(r-2*b-(i-1)*s)/i;y>1&&(y>>=0);var w=ks(a)?Math.min(y,a):y;o=n.reduce((_,E,A)=>[..._,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(y+s)*A+(y-w)/2,size:w}}],u)}return o}}var yve=(e,t,r,n,a,i,s)=>{var o=fa(s)?t:s,u=vve(r,n,a!==i?a:i,e,o);return a!==i&&u!=null&&(u=u.map(f=>mv(mv({},f),{},{position:mv(mv({},f.position),{},{offset:f.position.offset-a/2})}))),u},bve=He([xve,qR,Y0e,$R,gve,EI,uve],yve),wve=(e,t,r,n)=>kd(e,"xAxis",t,n),_ve=(e,t,r,n)=>kd(e,"yAxis",r,n),Nve=(e,t,r,n)=>Ed(e,"xAxis",t,n),Sve=(e,t,r,n)=>Ed(e,"yAxis",r,n),jve=He([bve,qg],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Ave=(e,t)=>{var r=kS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},Eve=He([hve,qg],Ave),kve=He([Ni,H3,wve,_ve,Nve,Sve,jve,Wr,O2,EI,Eve,qg,fve],(e,t,r,n,a,i,s,o,u,f,h,p,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:y}=u;if(!(p==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:w}=p,_;if(w!=null&&w.length>0?_=w:_=x?.slice(b,y+1),_!=null)return tve({layout:o,barSettings:p,pos:s,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:h,displayedData:_,offset:e,cells:g})}}),kI=e=>{var{chartData:t}=e,r=ha(),n=rl();return C.useEffect(()=>n?()=>{}:(r(LT(t)),()=>{r(LT(void 0))}),[t,r,n]),null},jO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CI=io({name:"brush",initialState:jO,reducers:{setBrushSettings(e,t){return t.payload==null?jO:t.payload}}}),{setBrushSettings:uNe}=CI.actions,Cve=CI.reducer;function Tve(e,t,r){return(t=Ove(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ove(e){var t=Dve(e,"string");return typeof t=="symbol"?t:t+""}function Dve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yj{static create(t){return new yj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Tve(yj,"EPS",1e-4);function Pve(e){return(e%180+180)%180}var Fve=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Pve(a),s=i*Math.PI/180,o=Math.atan(n/r),u=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},Lve={dots:[],areas:[],lines:[]},TI=io({name:"referenceElements",initialState:Lve,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=sf(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=sf(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=sf(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:fNe,removeDot:dNe,addArea:hNe,removeArea:mNe,addLine:pNe,removeLine:xNe}=TI.actions,Mve=TI.reducer,Rve=C.createContext(void 0),Ive=e=>{var{children:t}=e,[r]=C.useState("".concat(Gx("recharts"),"-clip")),n=xj();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return C.createElement(Rve.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function qm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function OI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Bve(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Fve(n,r)}function Uve(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function My(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function zve(e,t){return OI(e,t+1)}function qve(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,u=0,f=1,h=s,p=function(){var b=n?.[u];if(b===void 0)return{v:OI(n,f)};var y=u,w,_=()=>(w===void 0&&(w=r(b,y)),w),E=b.coordinate,A=u===0||My(e,E,_,h,o);A||(u=0,h=s,f+=1),A&&(h=E+e*(_()/2+a),u+=f)},g;f<=i.length;)if(g=p(),g)return g.v;return[]}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){$ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ve(e,t,r){return(t=Hve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hve(e){var t=Vve(e,"string");return typeof t=="symbol"?t:t+""}function Vve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wve(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:u}=t,f=function(g){var x=i[g],b,y=()=>(b===void 0&&(b=r(x,g)),b);if(g===s-1){var w=e*(x.coordinate+e*y()/2-u);i[g]=x=vs(vs({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else i[g]=x=vs(vs({},x),{},{tickCoord:x.coordinate});var _=My(e,x.tickCoord,y,o,u);_&&(u=x.tickCoord-e*(y()/2+a),i[g]=vs(vs({},x),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return i}function Gve(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:u,end:f}=t;if(i){var h=n[o-1],p=r(h,o-1),g=e*(h.coordinate+e*p/2-f);s[o-1]=h=vs(vs({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=My(e,h.tickCoord,()=>p,u,f);x&&(f=h.tickCoord-e*(p/2+a),s[o-1]=vs(vs({},h),{},{isShow:!0}))}for(var b=i?o-1:o,y=function(E){var A=s[E],T,O=()=>(T===void 0&&(T=r(A,E)),T);if(E===0){var R=e*(A.coordinate-e*O()/2-u);s[E]=A=vs(vs({},A),{},{tickCoord:R<0?A.coordinate-R*e:A.coordinate})}else s[E]=A=vs(vs({},A),{},{tickCoord:A.coordinate});var D=My(e,A.tickCoord,O,u,f);D&&(u=A.tickCoord+e*(O()/2+a),s[E]=vs(vs({},A),{},{isShow:!0}))},w=0;w<b;w++)y(w);return s}function bj(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:u,tickFormatter:f,unit:h,angle:p}=e;if(!a||!a.length||!n)return[];if(Gt(u)||zd.isSsr){var g;return(g=zve(a,Gt(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",y=h&&b==="width"?Nx(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(A,T)=>{var O=typeof f=="function"?f(A.value,T):A.value;return b==="width"?Bve(Nx(O,{fontSize:t,letterSpacing:r}),y,p):Nx(O,{fontSize:t,letterSpacing:r})[b]},_=a.length>=2?Bi(a[1].coordinate-a[0].coordinate):1,E=Uve(i,_,b);return u==="equidistantPreserveStart"?qve(_,E,w,a,s):(u==="preserveStart"||u==="preserveStartEnd"?x=Gve(_,E,w,a,s,u==="preserveStartEnd"):x=Wve(_,E,w,a,s),x.filter(A=>A.isShow))}var Kve=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var o=r?r.getBoundingClientRect().width:0,u=a+i,f=s+u+o+(r?n:0);return Math.round(f)}return 0},Yve=["axisLine","width","height","className","hide","ticks"],Xve=["viewBox"],Qve=["viewBox"];function X_(e,t){if(e==null)return{};var r,n,a=Zve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(null,arguments)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){Jve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jve(e,t,r){return(t=eye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eye(e){var t=tye(e,"string");return typeof t=="symbol"?t:t+""}function tye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wj={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function rye(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var f=gi(gi(gi({},u),ro(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!s||i==="bottom"&&s);f=gi(gi({},f),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var p=+(i==="left"&&!s||i==="right"&&s);f=gi(gi({},f),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+a})}return C.createElement("line",eh({},f,{className:rn("recharts-cartesian-axis-line",Y0(o,"className"))}))}function nye(e,t,r,n,a,i,s,o,u){var f,h,p,g,x,b,y=o?-1:1,w=e.tickSize||s,_=Gt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=h=e.coordinate,g=r+ +!o*a,p=g-y*w,b=p-y*u,x=_;break;case"left":p=g=e.coordinate,h=t+ +!o*n,f=h-y*w,x=f-y*u,b=_;break;case"right":p=g=e.coordinate,h=t+ +o*n,f=h+y*w,x=f+y*u,b=_;break;default:f=h=e.coordinate,g=r+ +o*a,p=g+y*w,b=p+y*u,x=_;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x,y:b}}}function aye(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function iye(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function sye(e){var{option:t,tickProps:r,value:n}=e,a,i=rn(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))a=C.cloneElement(t,gi(gi({},r),{},{className:i}));else if(typeof t=="function")a=t(gi(gi({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=rn(s,t?.className)),a=C.createElement(H2,eh({},r,{className:s}),n)}return a}function lye(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:o,tickTextProps:u,orientation:f,mirror:h,x:p,y:g,width:x,height:b,tickSize:y,tickMargin:w,fontSize:_,letterSpacing:E,getTicksConfig:A,events:T}=e,O=bj(gi(gi({},A),{},{ticks:t}),_,E),R=aye(f,h),D=iye(f,h),M=ro(A),B=K0(r),G={};typeof n=="object"&&(G=n);var I=gi(gi({},M),{},{fill:"none"},G),z=O.map((K,J)=>{var{line:pe,tick:ne}=nye(K,p,g,x,b,f,y,h,w),le=gi(gi(gi(gi({textAnchor:R,verticalAnchor:D},M),{},{stroke:"none",fill:a},B),ne),{},{index:J,payload:K,visibleTicksCount:O.length,tickFormatter:i,padding:o},u);return C.createElement(ss,eh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Sg(T,K,J)),n&&C.createElement("line",eh({},I,pe,{className:rn("recharts-cartesian-axis-tick-line",Y0(n,"className"))})),r&&C.createElement(sye,{option:r,tickProps:le,value:"".concat(typeof i=="function"?i(K.value,J):K.value).concat(s||"")}))});return z.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var oye=C.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o}=e,u=X_(e,Yve),[f,h]=C.useState(""),[p,g]=C.useState(""),x=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Kve({ticks:x.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=C.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=w;var _=w[0];if(_){var E=window.getComputedStyle(_),A=E.fontSize,T=E.letterSpacing;(A!==f||T!==p)&&(h(A),g(T))}}},[f,p]);return s||n!=null&&n<=0||a!=null&&a<=0?null:C.createElement(ss,{className:rn("recharts-cartesian-axis",i),ref:b},C.createElement(rye,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ro(e)}),C.createElement(lye,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:e,events:u}),C.createElement(uxe,{x:e.x,y:e.y,width:e.width,height:e.height},C.createElement(bxe,{label:e.label,labelRef:e.labelRef}),e.children))}),cye=C.memo(oye,(e,t)=>{var{viewBox:r}=e,n=X_(e,Xve),{viewBox:a}=t,i=X_(t,Qve);return qm(r,a)&&qm(n,i)}),_j=C.forwardRef((e,t)=>{var r=ls(e,wj);return C.createElement(cye,eh({},r,{ref:t}))});_j.displayName="CartesianAxis";var uye=["x1","y1","x2","y2","key"],fye=["offset"],dye=["xAxisId","yAxisId"],hye=["xAxisId","yAxisId"];function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mye(e,t,r){return(t=pye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pye(e){var t=xye(e,"string");return typeof t=="symbol"?t:t+""}function xye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function Ry(e,t){if(e==null)return{};var r,n,a=gye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vye=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return C.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function DI(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:o}=t,u=Ry(t,uye),f=ro(u),{offset:h}=f,p=Ry(f,fye);r=C.createElement("line",k0({},p,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function yye(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Ry(e,dye),u=a.map((f,h)=>{var p=_s(_s({},o),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return DI(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function bye(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=Ry(e,hye),u=a.map((f,h)=>{var p=_s(_s({},o),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return DI(n,p)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function wye(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var f=o.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],b=x?a+s-p:f[g+1]-p;if(b<=0)return null;var y=g%t.length;return C.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:b,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function _ye(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var f=u.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],b=x?a+s-p:f[g+1]-p;if(b<=0)return null;var y=g%r.length;return C.createElement("rect",{key:"react-".concat(g),x:p,y:i,width:b,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Nye=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return jM(bj(_s(_s(_s({},wj),r),{},{ticks:AM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Sye=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return jM(bj(_s(_s(_s({},wj),r),{},{ticks:AM(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},jye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Q_(e){var t=W3(),r=G3(),n=PM(),a=_s(_s({},ls(e,jye)),{},{x:Gt(e.x)?e.x:n.left,y:Gt(e.y)?e.y:n.top,width:Gt(e.width)?e.width:n.width,height:Gt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:x}=a,b=rl(),y=Bt(B=>AT(B,"xAxis",i,b)),w=Bt(B=>AT(B,"yAxis",s,b));if(!Gt(f)||f<=0||!Gt(h)||h<=0||!Gt(o)||o!==+o||!Gt(u)||u!==+u)return null;var _=a.verticalCoordinatesGenerator||Nye,E=a.horizontalCoordinatesGenerator||Sye,{horizontalPoints:A,verticalPoints:T}=a;if((!A||!A.length)&&typeof E=="function"){var O=g&&g.length,R=E({yAxis:w?_s(_s({},w),{},{ticks:O?g:w.ticks}):void 0,width:t,height:r,offset:n},O?!0:p);py(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(A=R)}if((!T||!T.length)&&typeof _=="function"){var D=x&&x.length,M=_({xAxis:y?_s(_s({},y),{},{ticks:D?x:y.ticks}):void 0,width:t,height:r,offset:n},D?!0:p);py(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(T=M)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(vye,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(wye,k0({},a,{horizontalPoints:A})),C.createElement(_ye,k0({},a,{verticalPoints:T})),C.createElement(yye,k0({},a,{offset:n,horizontalPoints:A,xAxis:y,yAxis:w})),C.createElement(bye,k0({},a,{offset:n,verticalPoints:T,xAxis:y,yAxis:w})))}Q_.displayName="CartesianGrid";var PI=(e,t,r,n)=>kd(e,"xAxis",t,n),FI=(e,t,r,n)=>Ed(e,"xAxis",t,n),LI=(e,t,r,n)=>kd(e,"yAxis",r,n),MI=(e,t,r,n)=>Ed(e,"yAxis",r,n),Aye=He([Wr,PI,LI,FI,MI],(e,t,r,n,a)=>Ud(e,"xAxis")?Qx(t,n,!1):Qx(r,a,!1)),Eye=(e,t,r,n,a)=>a;function kye(e){return e.type==="line"}var Cye=He([I2,Eye],(e,t)=>e.filter(kye).find(r=>r.id===t)),Tye=He([Wr,PI,LI,FI,MI,Cye,Aye,O2],(e,t,r,n,a,i,s,o)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:p,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u?.slice(f,h+1),x!=null)return Jye({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:s,displayedData:x})}});function Oye(e){var t=K0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var Dye=["id"],Pye=["type","layout","connectNulls","needClip"],Fye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Lye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lye(e,t,r){return(t=Mye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mye(e){var t=Rye(e,"string");return typeof t=="symbol"?t:t+""}function Rye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nj(e,t){if(e==null)return{};var r,n,a=Iye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(null,arguments)}var Bye=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:tp(r,t),payload:e}]};function Uye(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:tp(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:u}}}var RI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function zye(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var qye=(e,t,r)=>{var n=r.reduce((p,g)=>p+g);if(!n)return RI(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],u=0,f=0;u<r.length;f+=r[u],++u)if(f+r[u]>i){o=[...r.slice(0,u),i-f];break}var h=o.length%2===0?[0,s]:[s];return[...zye(r,a),...o,...h].map(p=>"".concat(p,"px")).join(", ")};function $ye(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=rn("recharts-line-dot",typeof e!="boolean"?e.className:"");r=C.createElement(cI,th({},t,{className:n}))}return r}function Hye(e,t){return e==null?!1:t?!0:e.length===1}function Vye(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!Hye(r,a))return null;var{id:o}=n,u=Nj(n,Dye),f=pI(a),h=ro(u),p=Fie(a),g=r.map((b,y)=>{var w=Yl(Yl(Yl({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:b.x,cy:b.y,dataKey:i,value:b.value,payload:b.payload,points:r});return $ye(a,w)}),x={clipPath:s?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return C.createElement(ss,th({className:"recharts-line-dots",key:"dots"},x),g)}function Wye(e){var{showLabels:t,children:r,points:n}=e,a=C.useMemo(()=>n?.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Yl(Yl({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(lI,{value:t?a:null},r)}function TO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:u,needClip:f}=i,h=Nj(i,Pye),p=Yl(Yl({},tl(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return C.createElement(C.Fragment,null,n?.length>1&&C.createElement(Y3,th({},p,{pathRef:r})),C.createElement(Vye,{points:n,clipPathId:t,props:i}))}function Gye(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Kye(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:g,width:x,height:b,onAnimationEnd:y,onAnimationStart:w}=r,_=a.current,E=Cg(r,"recharts-line-"),[A,T]=C.useState(!1),O=!A,R=C.useCallback(()=>{typeof y=="function"&&y(),T(!1)},[y]),D=C.useCallback(()=>{typeof w=="function"&&w(),T(!0)},[w]),M=Gye(n.current),B=i.current;return C.createElement(Wye,{points:s,showLabels:O},r.children,C.createElement(kg,{animationId:E,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:R,onAnimationStart:D,key:E},G=>{var I=Fa(B,M+B,G),z=Math.min(I,M),K;if(u)if(o){var J="".concat(o).split(/[,\s]+/gim).map(le=>parseFloat(le));K=qye(z,M,J)}else K=RI(M,z);else K=o==null?void 0:String(o);if(_){var pe=_.length/s.length,ne=G===1?s:s.map((le,ve)=>{var ue=Math.floor(ve*pe);if(_[ue]){var je=_[ue];return Yl(Yl({},le),{},{x:Fa(je.x,le.x,G),y:Fa(je.y,le.y,G)})}return g?Yl(Yl({},le),{},{x:Fa(x*2,le.x,G),y:Fa(b/2,le.y,G)}):Yl(Yl({},le),{},{x:le.x,y:le.y})});return a.current=ne,C.createElement(TO,{props:r,points:ne,clipPathId:t,pathRef:n,strokeDasharray:K})}return G>0&&M>0&&(a.current=s,i.current=z),C.createElement(TO,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:K})}),C.createElement(sj,{label:r.label}))}function Yye(e){var{clipPathId:t,props:r}=e,n=C.useRef(null),a=C.useRef(0),i=C.useRef(null);return C.createElement(Kye,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Xye=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qn(e.payload,t)});class Qye extends C.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:o,left:u,width:f,height:h,id:p,needClip:g}=this.props;if(t)return null;var x=rn("recharts-line",a),b=p,{r:y,strokeWidth:w}=Oye(r),_=pI(r),E=y*2+w;return C.createElement(C.Fragment,null,C.createElement(ss,{className:x},g&&C.createElement("defs",null,C.createElement(jI,{clipPathId:b,xAxisId:i,yAxisId:s}),!_&&C.createElement("clipPath",{id:"clipPath-dots-".concat(b)},C.createElement("rect",{x:u-E/2,y:o-E/2,width:f+E,height:h+E}))),C.createElement(SI,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:Xye,errorBarOffset:0},C.createElement(Yye,{props:this.props,clipPathId:b}))),C.createElement(x1e,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var II={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!zd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Zye(e){var t=ls(e,II),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:u,hide:f,isAnimationActive:h,label:p,legendType:g,xAxisId:x,yAxisId:b,id:y}=t,w=Nj(t,Fye),{needClip:_}=vj(x,b),E=xj(),A=N2(),T=rl(),O=Bt(G=>Tye(G,x,b,T,y));if(A!=="horizontal"&&A!=="vertical"||O==null||E==null)return null;var{height:R,width:D,x:M,y:B}=E;return C.createElement(Qye,th({},w,{id:y,connectNulls:o,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:h,hide:f,label:p,legendType:g,xAxisId:x,yAxisId:b,points:O,layout:A,height:R,width:D,left:M,top:B,needClip:_}))}function Jye(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:u}=e;return u.map((f,h)=>{var p=qn(f,s);if(t==="horizontal"){var g=e8({axis:r,ticks:a,bandSize:o,entry:f,index:h}),x=fa(p)?null:n.scale(p);return{x:g,y:x,value:p,payload:f}}var b=fa(p)?null:r.scale(p),y=e8({axis:n,ticks:i,bandSize:o,entry:f,index:h});return b==null||y==null?null:{x:b,y,value:p,payload:f}}).filter(Boolean)}function e2e(e){var t=ls(e,II),r=rl();return C.createElement(mj,{id:t.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(vI,{legendPayload:Bye(t)}),C.createElement(hj,{fn:Uye,args:t}),C.createElement(bI,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),C.createElement(Zye,th({},t,{id:n}))))}var Z_=C.memo(e2e);Z_.displayName="Line";var t2e=["dangerouslySetInnerHTML","ticks"],r2e=["id"],n2e=["domain"],a2e=["domain"];function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J_.apply(null,arguments)}function Iy(e,t){if(e==null)return{};var r,n,a=i2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s2e(e){var t=ha();return C.useLayoutEffect(()=>(t(n1e(e)),()=>{t(a1e(e))}),[e,t]),null}var l2e=e=>{var{xAxisId:t,className:r}=e,n=Bt(H3),a=rl(),i="xAxis",s=Bt(w=>cp(w,i,t,a)),o=Bt(w=>w9(w,i,t,a)),u=Bt(w=>g9(w,t)),f=Bt(w=>Hhe(w,t)),h=Bt(w=>ZR(w,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,x=Iy(e,t2e),{id:b}=h,y=Iy(h,r2e);return C.createElement(_j,J_({},x,y,{scale:s,x:f.x,y:f.y,width:u.width,height:u.height,className:rn("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},o2e={allowDataOverflow:Hl.allowDataOverflow,allowDecimals:Hl.allowDecimals,allowDuplicatedCategory:Hl.allowDuplicatedCategory,height:Hl.height,hide:!1,mirror:Hl.mirror,orientation:Hl.orientation,padding:Hl.padding,reversed:Hl.reversed,scale:Hl.scale,tickCount:Hl.tickCount,type:Hl.type,xAxisId:0},c2e=e=>{var t,r,n,a,i,s=ls(e,o2e);return C.createElement(C.Fragment,null,C.createElement(s2e,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),C.createElement(l2e,s))},u2e=(e,t)=>{var{domain:r}=e,n=Iy(e,n2e),{domain:a}=t,i=Iy(t,a2e);return qm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:qm({domain:r},{domain:a}):!1},eN=C.memo(c2e,u2e);eN.displayName="XAxis";var f2e=["dangerouslySetInnerHTML","ticks"],d2e=["id"],h2e=["domain"],m2e=["domain"];function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tN.apply(null,arguments)}function By(e,t){if(e==null)return{};var r,n,a=p2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function x2e(e){var t=ha();return C.useLayoutEffect(()=>(t(i1e(e)),()=>{t(s1e(e))}),[e,t]),null}var g2e=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=C.useRef(null),s=C.useRef(null),o=Bt(H3),u=rl(),f=ha(),h="yAxis",p=Bt(O=>cp(O,h,t,u)),g=Bt(O=>v9(O,t)),x=Bt(O=>Whe(O,t)),b=Bt(O=>w9(O,h,t,u)),y=Bt(O=>JR(O,t));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!g||ij(a)||C.isValidElement(a)||y==null)){var O=i.current;if(O){var R=O.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&f(l1e({id:t,width:R}))}}},[b,g,f,a,t,n,y]),g==null||x==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:_}=e,E=By(e,f2e),{id:A}=y,T=By(y,d2e);return C.createElement(_j,tN({},E,T,{ref:i,labelRef:s,scale:p,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:rn("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:b}))},v2e={allowDataOverflow:Vl.allowDataOverflow,allowDecimals:Vl.allowDecimals,allowDuplicatedCategory:Vl.allowDuplicatedCategory,hide:!1,mirror:Vl.mirror,orientation:Vl.orientation,padding:Vl.padding,reversed:Vl.reversed,scale:Vl.scale,tickCount:Vl.tickCount,type:Vl.type,width:Vl.width,yAxisId:0},y2e=e=>{var t,r,n,a,i,s=ls(e,v2e);return C.createElement(C.Fragment,null,C.createElement(x2e,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),C.createElement(g2e,s))},b2e=(e,t)=>{var{domain:r}=e,n=By(e,h2e),{domain:a}=t,i=By(t,m2e);return qm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:qm({domain:r},{domain:a}):!1},rN=C.memo(y2e,b2e);rN.displayName="YAxis";var l4={exports:{}},o4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function w2e(){if(OO)return o4;OO=1;var e=$m();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,o=e.useDebugValue;return o4.useSyncExternalStoreWithSelector=function(u,f,h,p,g){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=s(function(){function w(O){if(!_){if(_=!0,E=O,O=p(O),g!==void 0&&b.hasValue){var R=b.value;if(g(R,O))return A=R}return A=O}if(R=A,r(E,O))return R;var D=p(O);return g!==void 0&&g(R,D)?(E=O,R):(E=O,A=D)}var _=!1,E,A,T=h===void 0?null:h;return[function(){return w(f())},T===null?void 0:function(){return w(T())}]},[f,h,p,g]);var y=n(u,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),o(y),y},o4}var DO;function _2e(){return DO||(DO=1,l4.exports=w2e()),l4.exports}_2e();function N2e(e){e()}function S2e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){N2e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var PO={notify(){},get:()=>[]};function j2e(e,t){let r,n=PO,a=0,i=!1;function s(y){h();const w=n.subscribe(y);let _=!1;return()=>{_||(_=!0,w(),p())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return i}function h(){a++,r||(r=e.subscribe(u),n=S2e())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=PO)}function g(){i||(i=!0,h())}function x(){i&&(i=!1,p())}const b={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return b}var A2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E2e=A2e(),k2e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",C2e=k2e(),T2e=()=>E2e||C2e?C.useLayoutEffect:C.useEffect,O2e=T2e(),D2e=Symbol.for("react-redux-context"),P2e=typeof globalThis<"u"?globalThis:{};function F2e(){if(!C.createContext)return{};const e=P2e[D2e]??=new Map;let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var L2e=F2e();function M2e(e){const{children:t,context:r,serverState:n,store:a}=e,i=C.useMemo(()=>{const u=j2e(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),s=C.useMemo(()=>a.getState(),[a]);O2e(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const o=r||L2e;return C.createElement(o.Provider,{value:i},t)}var R2e=M2e,I2e=(e,t)=>t,Sj=He([I2e,Wr,YR,ji,I9,kf,Qme,Ni],rpe),jj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},BI=zo("mouseClick"),UI=Ag();UI.startListening({actionCreator:BI,effect:(e,t)=>{var r=e.payload,n=Sj(t.getState(),jj(r));n?.activeIndex!=null&&t.dispatch(ime({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var nN=zo("mouseMove"),zI=Ag();zI.startListening({actionCreator:nN,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=YS(n,n.tooltip.settings.shared),i=Sj(n,jj(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(C9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(k9()))}});var FO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},qI=io({name:"rootProps",initialState:FO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:FO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),B2e=qI.reducer,{updateOptions:U2e}=qI.actions,$I=io({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:z2e}=$I.actions,q2e=$I.reducer,HI=zo("keyDown"),VI=zo("focus"),Aj=Ag();Aj.startListening({actionCreator:HI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(XS(a,fp(r))),o=kf(r);if(i==="Enter"){var u=Oy(r,"axis","hover",String(a.index));t.dispatch($_({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var f=Xhe(r),h=f==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=s+p*h;if(!(o==null||g>=o.length||g<0)){var x=Oy(r,"axis","hover",String(g));t.dispatch($_({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Aj.startListening({actionCreator:VI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Oy(r,"axis","hover",String(i));t.dispatch($_({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Oo=zo("externalEvent"),WI=Ag();WI.startListening({actionCreator:Oo,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:zme(r),activeDataKey:q9(r),activeIndex:Cd(r),activeLabel:z9(r),activeTooltipIndex:Cd(r),isTooltipActive:qme(r)};e.payload.handler(n,e.payload.reactEvent)}}});var $2e=He([up],e=>e.tooltipItemPayloads),H2e=He([$2e,Bg,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),GI=zo("touchMove"),KI=Ag();KI.startListening({actionCreator:GI,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=YS(n,n.tooltip.settings.shared);if(a==="axis"){var i=Sj(n,jj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(C9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(kM),h=(s=u.getAttribute(CM))!==null&&s!==void 0?s:void 0,p=H2e(t.getState(),f,h);t.dispatch(E9({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var V2e=ZL({brush:Cve,cartesianAxis:o1e,chartData:vpe,errorBars:k1e,graphicalItems:Ege,layout:Coe,legend:Lce,options:hpe,polarAxis:zxe,polarOptions:q2e,referenceElements:Mve,rootProps:B2e,tooltip:sme}),W2e=function(t){return eoe({reducer:V2e,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([UI.middleware,zI.middleware,Aj.middleware,WI.middleware,KI.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(uM({type:"raf"}))},devTools:zd.devToolsEnabled})};function YI(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=rl(),i=C.useRef(null);if(a)return r;i.current==null&&(i.current=W2e(t));var s=I3;return C.createElement(R2e,{context:s,store:i.current},r)}function XI(e){var{layout:t,margin:r}=e,n=ha(),a=rl();return C.useEffect(()=>{a||(n(Aoe(t)),n(joe(r)))},[n,a,t,r]),null}function QI(e){var t=ha();return C.useEffect(()=>{t(U2e(e))},[t,e]),null}var G2e=["children"];function K2e(e,t){if(e==null)return{};var r,n,a=Y2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Y2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}var X2e={width:"100%",height:"100%",display:"block"},Q2e=C.forwardRef((e,t)=>{var r=W3(),n=G3(),a=RM();if(!Rm(r)||!Rm(n))return null;var{children:i,otherAttributes:s,title:o,desc:u}=e,f,h;return typeof s.tabIndex=="number"?f=s.tabIndex:f=a?0:void 0,typeof s.role=="string"?h=s.role:h=a?"application":void 0,C.createElement(A3,Uy({},s,{title:o,desc:u,role:h,tabIndex:f,width:r,height:n,style:X2e,ref:t}),i)}),Z2e=e=>{var{children:t}=e,r=Bt(w2);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return C.createElement(A3,{width:n,height:a,x:s,y:i},t)},LO=C.forwardRef((e,t)=>{var{children:r}=e,n=K2e(e,G2e),a=rl();return a?C.createElement(Z2e,null,r):C.createElement(Q2e,Uy({ref:t},n),r)});function J2e(){var e=ha(),[t,r]=C.useState(null),n=Bt(ace);return C.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ks(i)&&i!==n&&e(koe(i))}},[t,e,n]),r}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ebe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){tbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tbe(e,t,r){return(t=rbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rbe(e){var t=nbe(e,"string");return typeof t=="symbol"?t:t+""}function nbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}var abe=()=>(Epe(),null);function zy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ibe=C.forwardRef((e,t)=>{var r,n,a=C.useRef(null),[i,s]=C.useState({containerWidth:zy((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:zy((n=e.style)===null||n===void 0?void 0:n.height)}),o=C.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),u=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();o(h,p);var g=b=>{var{width:y,height:w}=b[0].contentRect;o(y,w)},x=new ResizeObserver(g);x.observe(f),a.current=x}},[t,o]);return C.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[o]),C.createElement(C.Fragment,null,C.createElement(S2,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",rh({ref:u},e)))}),sbe=C.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=C.useState({containerWidth:zy(r),containerHeight:zy(n)}),s=C.useCallback((u,f)=>{i(h=>{var p=Math.round(u),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),o=C.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();s(f,h)}},[t,s]);return C.createElement(C.Fragment,null,C.createElement(S2,{width:a.containerWidth,height:a.containerHeight}),C.createElement("div",rh({ref:o},e)))}),lbe=C.forwardRef((e,t)=>{var{width:r,height:n}=e;return C.createElement(C.Fragment,null,C.createElement(S2,{width:r,height:n}),C.createElement("div",rh({ref:t},e)))}),obe=C.forwardRef((e,t)=>{var{width:r,height:n}=e;return df(r)||df(n)?C.createElement(sbe,rh({},e,{ref:t})):C.createElement(lbe,rh({},e,{ref:t}))});function cbe(e){return e===!0?ibe:obe}var ube=C.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:x,onTouchMove:b,onTouchStart:y,style:w,width:_,responsive:E,dispatchTouchEvents:A=!0}=e,T=C.useRef(null),O=ha(),[R,D]=C.useState(null),[M,B]=C.useState(null),G=J2e(),I=V3(),z=I?.width>0?I.width:_,K=I?.height>0?I.height:a,J=C.useCallback(ae=>{G(ae),typeof t=="function"&&t(ae),D(ae),B(ae),ae!=null&&(T.current=ae)},[G,t,D,B]),pe=C.useCallback(ae=>{O(BI(ae)),O(Oo({handler:i,reactEvent:ae}))},[O,i]),ne=C.useCallback(ae=>{O(nN(ae)),O(Oo({handler:f,reactEvent:ae}))},[O,f]),le=C.useCallback(ae=>{O(k9()),O(Oo({handler:h,reactEvent:ae}))},[O,h]),ve=C.useCallback(ae=>{O(nN(ae)),O(Oo({handler:p,reactEvent:ae}))},[O,p]),ue=C.useCallback(()=>{O(VI())},[O]),je=C.useCallback(ae=>{O(HI(ae.key))},[O]),te=C.useCallback(ae=>{O(Oo({handler:s,reactEvent:ae}))},[O,s]),P=C.useCallback(ae=>{O(Oo({handler:o,reactEvent:ae}))},[O,o]),L=C.useCallback(ae=>{O(Oo({handler:u,reactEvent:ae}))},[O,u]),q=C.useCallback(ae=>{O(Oo({handler:g,reactEvent:ae}))},[O,g]),W=C.useCallback(ae=>{O(Oo({handler:y,reactEvent:ae}))},[O,y]),Z=C.useCallback(ae=>{A&&O(GI(ae)),O(Oo({handler:b,reactEvent:ae}))},[O,A,b]),oe=C.useCallback(ae=>{O(Oo({handler:x,reactEvent:ae}))},[O,x]),ce=cbe(E);return C.createElement(K9.Provider,{value:R},C.createElement(pL.Provider,{value:M},C.createElement(ce,{width:z??w?.width,height:K??w?.height,className:rn("recharts-wrapper",n),style:ebe({position:"relative",cursor:"default",width:z,height:K},w),onClick:pe,onContextMenu:te,onDoubleClick:P,onFocus:ue,onKeyDown:je,onMouseDown:L,onMouseEnter:ne,onMouseLeave:le,onMouseMove:ve,onMouseUp:q,onTouchEnd:oe,onTouchMove:Z,onTouchStart:W,ref:J},C.createElement(abe,null),r)))}),fbe=["width","height","responsive","children","className","style","compact","title","desc"];function dbe(e,t){if(e==null)return{};var r,n,a=hbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZI=C.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:u,title:f,desc:h}=e,p=dbe(e,fbe),g=ro(p);return u?C.createElement(C.Fragment,null,C.createElement(S2,{width:r,height:n}),C.createElement(LO,{otherAttributes:g,title:f,desc:h},i)):C.createElement(ube,{className:s,style:o,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(LO,{otherAttributes:g,title:f,desc:h,ref:t},C.createElement(Ive,null,i)))});function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aN.apply(null,arguments)}var mbe={top:5,right:5,bottom:5,left:5},pbe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mbe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},JI=C.forwardRef(function(t,r){var n,a=ls(t.categoricalChartProps,pbe),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return C.createElement(YI,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},C.createElement(kI,{chartData:f.data}),C.createElement(XI,{layout:a.layout,margin:a.margin}),C.createElement(QI,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(ZI,aN({},a,{ref:r})))}),xbe=["axis"],gbe=C.forwardRef((e,t)=>C.createElement(JI,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xbe,tooltipPayloadSearcher:aj,categoricalChartProps:e,ref:t})),vbe=["axis","item"],ybe=C.forwardRef((e,t)=>C.createElement(JI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vbe,tooltipPayloadSearcher:aj,categoricalChartProps:e,ref:t}));function bbe(e){var t=ha();return C.useEffect(()=>{t(z2e(e))},[t,e]),null}var wbe=["layout"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(null,arguments)}function _be(e,t){if(e==null)return{};var r,n,a=Nbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sbe={top:5,right:5,bottom:5,left:5},jbe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Sbe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Abe=C.forwardRef(function(t,r){var n,a=ls(t.categoricalChartProps,jbe),{layout:i}=a,s=_be(a,wbe),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(YI,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},C.createElement(kI,{chartData:a.data}),C.createElement(XI,{layout:i,margin:a.margin}),C.createElement(QI,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),C.createElement(bbe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),C.createElement(ZI,iN({},s,{ref:r})))}),Ebe=["item"],kbe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Cbe=C.forwardRef((e,t)=>{var r=ls(e,kbe);return C.createElement(Abe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ebe,tooltipPayloadSearcher:aj,categoricalChartProps:r,ref:t})});const ud=({title:e,value:t,subtitle:r,icon:n,colorClass:a="bg-blue-500",trend:i})=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`${a} p-3 rounded-lg`,children:l.jsx(n,{className:"h-6 w-6 text-white"})}),i&&l.jsxs("span",{className:`text-sm font-medium ${i.isPositive?"text-green-600":"text-red-600"}`,children:[i.isPositive?"+":"",i.value,"%"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),r&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]}),hh={getOverview:async()=>lt.get("/analytics/overview"),getPopularFormations:async(e=10)=>lt.get("/analytics/popular-formations",{limit:e.toString()}),getEnrollmentTrends:async(e=6)=>lt.get("/analytics/enrollment-trends",{months:e.toString()}),getTestPerformance:async()=>lt.get("/analytics/test-performance"),getActiveStudents:async(e=10)=>lt.get("/analytics/active-students",{limit:e.toString()}),getStudentProgress:async e=>{const t=await lt.get(`/analytics/student-progress/${e}`);return{student:t.student,enrollments:t.enrollments,test_history:t.test_history}},getFormationCompletionRates:async()=>lt.get("/analytics/formation-completion-rates"),getPeriodStats:async(e=30)=>{const t=await lt.get("/analytics/period-stats",{period:e.toString()});return{period_days:t.period_days,stats:t.stats}}},Tbe=()=>pr({queryKey:["analytics","overview"],queryFn:hh.getOverview,staleTime:1e3*60*5,refetchInterval:1e3*60*5}),Obe=(e=10)=>pr({queryKey:["analytics","popular-formations",e],queryFn:()=>hh.getPopularFormations(e),staleTime:1e3*60*10}),Dbe=(e=6)=>pr({queryKey:["analytics","enrollment-trends",e],queryFn:()=>hh.getEnrollmentTrends(e),staleTime:1e3*60*10}),Pbe=(e=10)=>pr({queryKey:["analytics","active-students",e],queryFn:()=>hh.getActiveStudents(e),staleTime:1e3*60*5}),Fbe=e=>pr({queryKey:["analytics","student-progress",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return hh.getStudentProgress(e)},enabled:!!e,staleTime:1e3*60*5}),Lbe=()=>pr({queryKey:["analytics","formation-completion-rates"],queryFn:hh.getFormationCompletionRates,staleTime:1e3*60*10}),Mbe=(e=30)=>pr({queryKey:["analytics","period-stats",e],queryFn:()=>hh.getPeriodStats(e),staleTime:1e3*60*5,refetchInterval:1e3*60*5});function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var Ac=Uint8Array,Jl=Uint16Array,Ej=Int32Array,kj=new Ac([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cj=new Ac([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RO=new Ac([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eB=function(e,t){for(var r=new Jl(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Ej(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},tB=eB(kj,2),Rbe=tB.b,sN=tB.r;Rbe[28]=258,sN[258]=28;var Ibe=eB(Cj,0),IO=Ibe.r,lN=new Jl(32768);for(var Qn=0;Qn<32768;++Qn){var fd=(Qn&43690)>>1|(Qn&21845)<<1;fd=(fd&52428)>>2|(fd&13107)<<2,fd=(fd&61680)>>4|(fd&3855)<<4,lN[Qn]=((fd&65280)>>8|(fd&255)<<8)>>1}var Sx=(function(e,t,r){for(var n=e.length,a=0,i=new Jl(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Jl(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Jl(1<<t);var u=15-t;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],h=t-e[a],p=s[e[a]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)o[lN[p]>>u]=f}else for(o=new Jl(n),a=0;a<n;++a)e[a]&&(o[a]=lN[s[e[a]-1]++]>>15-e[a]);return o}),nh=new Ac(288);for(var Qn=0;Qn<144;++Qn)nh[Qn]=8;for(var Qn=144;Qn<256;++Qn)nh[Qn]=9;for(var Qn=256;Qn<280;++Qn)nh[Qn]=7;for(var Qn=280;Qn<288;++Qn)nh[Qn]=8;var qy=new Ac(32);for(var Qn=0;Qn<32;++Qn)qy[Qn]=5;var Bbe=Sx(nh,9,0),Ube=Sx(qy,5,0),rB=function(e){return(e+7)/8|0},zbe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ac(e.subarray(t,r))},Hu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},sx=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},c4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:aB,l:0};if(a==1){var s=new Ac(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(O,R){return O.f-R.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],f=0,h=1,p=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};h!=a-1;)o=r[r[f].f<r[p].f?f++:p++],u=r[f!=h&&r[f].f<r[p].f?f++:p++],r[h++]={s:-1,f:o.f+u.f,l:o,r:u};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var x=new Jl(g+1),b=oN(r[h-1],x,0);if(b>t){var n=0,y=0,w=b-t,_=1<<w;for(i.sort(function(R,D){return x[D.s]-x[R.s]||R.f-D.f});n<a;++n){var E=i[n].s;if(x[E]>t)y+=_-(1<<b-x[E]),x[E]=t;else break}for(y>>=w;y>0;){var A=i[n].s;x[A]<t?y-=1<<t-x[A]++-1:++n}for(;n>=0&&y;--n){var T=i[n].s;x[T]==t&&(--x[T],++y)}b=t}return{t:new Ac(x),l:b}},oN=function(e,t,r){return e.s==-1?Math.max(oN(e.l,t,r+1),oN(e.r,t,r+1)):t[e.s]=r},BO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Jl(++t),n=0,a=e[0],i=1,s=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},lx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},nB=function(e,t,r){var n=r.length,a=rB(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},UO=function(e,t,r,n,a,i,s,o,u,f,h){Hu(t,h++,r),++a[256];for(var p=c4(a,15),g=p.t,x=p.l,b=c4(i,15),y=b.t,w=b.l,_=BO(g),E=_.c,A=_.n,T=BO(y),O=T.c,R=T.n,D=new Jl(19),M=0;M<E.length;++M)++D[E[M]&31];for(var M=0;M<O.length;++M)++D[O[M]&31];for(var B=c4(D,7),G=B.t,I=B.l,z=19;z>4&&!G[RO[z-1]];--z);var K=f+5<<3,J=lx(a,nh)+lx(i,qy)+s,pe=lx(a,g)+lx(i,y)+s+14+3*z+lx(D,G)+2*D[16]+3*D[17]+7*D[18];if(u>=0&&K<=J&&K<=pe)return nB(t,h,e.subarray(u,u+f));var ne,le,ve,ue;if(Hu(t,h,1+(pe<J)),h+=2,pe<J){ne=Sx(g,x,0),le=g,ve=Sx(y,w,0),ue=y;var je=Sx(G,I,0);Hu(t,h,A-257),Hu(t,h+5,R-1),Hu(t,h+10,z-4),h+=14;for(var M=0;M<z;++M)Hu(t,h+3*M,G[RO[M]]);h+=3*z;for(var te=[E,O],P=0;P<2;++P)for(var L=te[P],M=0;M<L.length;++M){var q=L[M]&31;Hu(t,h,je[q]),h+=G[q],q>15&&(Hu(t,h,L[M]>>5&127),h+=L[M]>>12)}}else ne=Bbe,le=nh,ve=Ube,ue=qy;for(var M=0;M<o;++M){var W=n[M];if(W>255){var q=W>>18&31;sx(t,h,ne[q+257]),h+=le[q+257],q>7&&(Hu(t,h,W>>23&31),h+=kj[q]);var Z=W&31;sx(t,h,ve[Z]),h+=ue[Z],Z>3&&(sx(t,h,W>>5&8191),h+=Cj[Z])}else sx(t,h,ne[W]),h+=le[W]}return sx(t,h,ne[256]),h+le[256]},qbe=new Ej([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aB=new Ac(0),$be=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Ac(n+s+5*(1+Math.ceil(s/7e3))+a),u=o.subarray(n,o.length-a),f=i.l,h=(i.r||0)&7;if(t){h&&(u[0]=i.r>>3);for(var p=qbe[t-1],g=p>>13,x=p&8191,b=(1<<r)-1,y=i.p||new Jl(32768),w=i.h||new Jl(b+1),_=Math.ceil(r/3),E=2*_,A=function(Ce){return(e[Ce]^e[Ce+1]<<_^e[Ce+2]<<E)&b},T=new Ej(25e3),O=new Jl(288),R=new Jl(32),D=0,M=0,B=i.i||0,G=0,I=i.w||0,z=0;B+2<s;++B){var K=A(B),J=B&32767,pe=w[K];if(y[J]=pe,w[K]=J,I<=B){var ne=s-B;if((D>7e3||G>24576)&&(ne>423||!f)){h=UO(e,u,0,T,O,R,M,G,z,B-z,h),G=D=M=0,z=B;for(var le=0;le<286;++le)O[le]=0;for(var le=0;le<30;++le)R[le]=0}var ve=2,ue=0,je=x,te=J-pe&32767;if(ne>2&&K==A(B-te))for(var P=Math.min(g,ne)-1,L=Math.min(32767,B),q=Math.min(258,ne);te<=L&&--je&&J!=pe;){if(e[B+ve]==e[B+ve-te]){for(var W=0;W<q&&e[B+W]==e[B+W-te];++W);if(W>ve){if(ve=W,ue=te,W>P)break;for(var Z=Math.min(te,W-2),oe=0,le=0;le<Z;++le){var ce=B-te+le&32767,ae=y[ce],Se=ce-ae&32767;Se>oe&&(oe=Se,pe=ce)}}}J=pe,pe=y[J],te+=J-pe&32767}if(ue){T[G++]=268435456|sN[ve]<<18|IO[ue];var De=sN[ve]&31,X=IO[ue]&31;M+=kj[De]+Cj[X],++O[257+De],++R[X],I=B+ve,++D}else T[G++]=e[B],++O[e[B]]}}for(B=Math.max(B,I);B<s;++B)T[G++]=e[B],++O[e[B]];h=UO(e,u,f,T,O,R,M,G,z,B-z,h),f||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=w,i.p=y,i.i=B,i.w=I)}else{for(var B=i.w||0;B<s+f;B+=65535){var Ke=B+65535;Ke>=s&&(u[h/8|0]=f,Ke=s),h=nB(u,h+1,e.subarray(B,Ke))}i.i=s}return zbe(o,0,n+rB(h)+a)},iB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Hbe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Ac(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return $be(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},sB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Vbe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=iB();a.p(t.dictionary),sB(e,2,a.d())}};function cN(e,t){t||(t={});var r=iB();r.p(e);var n=Hbe(e,t,t.dictionary?6:2,4);return Vbe(n,t),sB(n,n.length-4,r.d()),n}var Wbe=typeof TextDecoder<"u"&&new TextDecoder,Gbe=0;try{Wbe.decode(aB,{stream:!0}),Gbe=1}catch{}function Kbe(e){if(Array.isArray(e))return e}function Ybe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],u=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(h){f=!0,a=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return o}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Xbe(e,t){if(e){if(typeof e=="string")return zO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zO(e,t):void 0}}function Qbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qO(e,t){return Kbe(e)||Ybe(e,t)||Xbe(e,t)||Qbe()}function $O(e,t="utf8"){return new TextDecoder(t).decode(e)}const Zbe=new TextEncoder;function Jbe(e){return Zbe.encode(e)}const ewe=1024*8,twe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),u4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Tj{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=ewe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let s=a;(ArrayBuffer.isView(t)||t instanceof Tj)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=u4[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===twe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const u=new u4[r](o.buffer);return this.offset+=n,u.reverse(),u}const s=new u4[r](i);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return $O(this.readBytes(t))}decodeText(t=1,r="utf8"){return $O(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Jbe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function dp(e){let t=e.length;for(;--t>=0;)e[t]=0}const rwe=3,nwe=258,lB=29,awe=256,iwe=awe+1+lB,oB=30,swe=512,lwe=new Array((iwe+2)*2);dp(lwe);const owe=new Array(oB*2);dp(owe);const cwe=new Array(swe);dp(cwe);const uwe=new Array(nwe-rwe+1);dp(uwe);const fwe=new Array(lB);dp(fwe);const dwe=new Array(oB);dp(dwe);const hwe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+t[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var uN=hwe;const mwe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},pwe=new Uint32Array(mwe()),xwe=(e,t,r,n)=>{const a=pwe,i=n+r;e^=-1;for(let s=n;s<i;s++)e=e>>>8^a[(e^t[s])&255];return e^-1};var tu=xwe,fN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const gwe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var vwe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)gwe(r,n)&&(e[n]=r[n])}}return e},ywe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let s=e[n];r.set(s,a),a+=s.length}return r},uB={assign:vwe,flattenChunks:ywe};let fB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fB=!1}const sg=new Uint8Array(256);for(let e=0;e<256;e++)sg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;sg[254]=sg[254]=1;var bwe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,s=e.length,o=0;for(a=0;a<s;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const wwe=(e,t)=>{if(t<65534&&e.subarray&&fB)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var _we=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=e[n++];if(s<128){i[a++]=s;continue}let o=sg[s];if(o>4){i[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return wwe(i,a)},Nwe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+sg[e[r]]>t?r:t},dN={string2buf:bwe,buf2string:_we,utf8border:Nwe};function Swe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var jwe=Swe;const pv=16209,Awe=16191;var Ewe=function(t,r){let n,a,i,s,o,u,f,h,p,g,x,b,y,w,_,E,A,T,O,R,D,M,B,G;const I=t.state;n=t.next_in,B=t.input,a=n+(t.avail_in-5),i=t.next_out,G=t.output,s=i-(r-t.avail_out),o=i+(t.avail_out-257),u=I.dmax,f=I.wsize,h=I.whave,p=I.wnext,g=I.window,x=I.hold,b=I.bits,y=I.lencode,w=I.distcode,_=(1<<I.lenbits)-1,E=(1<<I.distbits)-1;e:do{b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),A=y[x&_];t:for(;;){if(T=A>>>24,x>>>=T,b-=T,T=A>>>16&255,T===0)G[i++]=A&65535;else if(T&16){O=A&65535,T&=15,T&&(b<T&&(x+=B[n++]<<b,b+=8),O+=x&(1<<T)-1,x>>>=T,b-=T),b<15&&(x+=B[n++]<<b,b+=8,x+=B[n++]<<b,b+=8),A=w[x&E];r:for(;;){if(T=A>>>24,x>>>=T,b-=T,T=A>>>16&255,T&16){if(R=A&65535,T&=15,b<T&&(x+=B[n++]<<b,b+=8,b<T&&(x+=B[n++]<<b,b+=8)),R+=x&(1<<T)-1,R>u){t.msg="invalid distance too far back",I.mode=pv;break e}if(x>>>=T,b-=T,T=i-s,R>T){if(T=R-T,T>h&&I.sane){t.msg="invalid distance too far back",I.mode=pv;break e}if(D=0,M=g,p===0){if(D+=f-T,T<O){O-=T;do G[i++]=g[D++];while(--T);D=i-R,M=G}}else if(p<T){if(D+=f+p-T,T-=p,T<O){O-=T;do G[i++]=g[D++];while(--T);if(D=0,p<O){T=p,O-=T;do G[i++]=g[D++];while(--T);D=i-R,M=G}}}else if(D+=p-T,T<O){O-=T;do G[i++]=g[D++];while(--T);D=i-R,M=G}for(;O>2;)G[i++]=M[D++],G[i++]=M[D++],G[i++]=M[D++],O-=3;O&&(G[i++]=M[D++],O>1&&(G[i++]=M[D++]))}else{D=i-R;do G[i++]=G[D++],G[i++]=G[D++],G[i++]=G[D++],O-=3;while(O>2);O&&(G[i++]=G[D++],O>1&&(G[i++]=G[D++]))}}else if((T&64)===0){A=w[(A&65535)+(x&(1<<T)-1)];continue r}else{t.msg="invalid distance code",I.mode=pv;break e}break}}else if((T&64)===0){A=y[(A&65535)+(x&(1<<T)-1)];continue t}else if(T&32){I.mode=Awe;break e}else{t.msg="invalid literal/length code",I.mode=pv;break e}break}}while(n<a&&i<o);O=b>>3,n-=O,b-=O<<3,x&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),I.hold=x,I.bits=b};const fm=15,HO=852,VO=592,WO=0,f4=1,GO=2,kwe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Cwe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Twe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Owe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dwe=(e,t,r,n,a,i,s,o)=>{const u=o.bits;let f=0,h=0,p=0,g=0,x=0,b=0,y=0,w=0,_=0,E=0,A,T,O,R,D,M=null,B;const G=new Uint16Array(fm+1),I=new Uint16Array(fm+1);let z=null,K,J,pe;for(f=0;f<=fm;f++)G[f]=0;for(h=0;h<n;h++)G[t[r+h]]++;for(x=u,g=fm;g>=1&&G[g]===0;g--);if(x>g&&(x=g),g===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&G[p]===0;p++);for(x<p&&(x=p),w=1,f=1;f<=fm;f++)if(w<<=1,w-=G[f],w<0)return-1;if(w>0&&(e===WO||g!==1))return-1;for(I[1]=0,f=1;f<fm;f++)I[f+1]=I[f]+G[f];for(h=0;h<n;h++)t[r+h]!==0&&(s[I[t[r+h]]++]=h);if(e===WO?(M=z=s,B=20):e===f4?(M=kwe,z=Cwe,B=257):(M=Twe,z=Owe,B=0),E=0,h=0,f=p,D=i,b=x,y=0,O=-1,_=1<<x,R=_-1,e===f4&&_>HO||e===GO&&_>VO)return 1;for(;;){K=f-y,s[h]+1<B?(J=0,pe=s[h]):s[h]>=B?(J=z[s[h]-B],pe=M[s[h]-B]):(J=96,pe=0),A=1<<f-y,T=1<<b,p=T;do T-=A,a[D+(E>>y)+T]=K<<24|J<<16|pe|0;while(T!==0);for(A=1<<f-1;E&A;)A>>=1;if(A!==0?(E&=A-1,E+=A):E=0,h++,--G[f]===0){if(f===g)break;f=t[r+s[h]]}if(f>x&&(E&R)!==O){for(y===0&&(y=x),D+=p,b=f-y,w=1<<b;b+y<g&&(w-=G[b+y],!(w<=0));)b++,w<<=1;if(_+=1<<b,e===f4&&_>HO||e===GO&&_>VO)return 1;O=E&R,a[O]=x<<24|b<<16|D-i|0}}return E!==0&&(a[D+E]=f-y<<24|64<<16|0),o.bits=x,0};var jx=Dwe;const Pwe=0,dB=1,hB=2,{Z_FINISH:KO,Z_BLOCK:Fwe,Z_TREES:xv,Z_OK:ah,Z_STREAM_END:Lwe,Z_NEED_DICT:Mwe,Z_STREAM_ERROR:$o,Z_DATA_ERROR:mB,Z_MEM_ERROR:pB,Z_BUF_ERROR:Rwe,Z_DEFLATED:YO}=cB,G2=16180,XO=16181,QO=16182,ZO=16183,JO=16184,e7=16185,t7=16186,r7=16187,n7=16188,a7=16189,$y=16190,Vu=16191,d4=16192,i7=16193,h4=16194,s7=16195,l7=16196,o7=16197,c7=16198,gv=16199,vv=16200,u7=16201,f7=16202,d7=16203,h7=16204,m7=16205,m4=16206,p7=16207,x7=16208,sa=16209,xB=16210,gB=16211,Iwe=852,Bwe=592,Uwe=15,zwe=Uwe,g7=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function qwe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<G2||t.mode>gB?1:0},vB=e=>{if(mh(e))return $o;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=G2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Iwe),t.distcode=t.distdyn=new Int32Array(Bwe),t.sane=1,t.back=-1,ah},yB=e=>{if(mh(e))return $o;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,vB(e)},bB=(e,t)=>{let r;if(mh(e))return $o;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$o:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,yB(e))},wB=(e,t)=>{if(!e)return $o;const r=new qwe;e.state=r,r.strm=e,r.window=null,r.mode=G2;const n=bB(e,t);return n!==ah&&(e.state=null),n},$we=e=>wB(e,zwe);let v7=!0,p4,x4;const Hwe=e=>{if(v7){p4=new Int32Array(512),x4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(jx(dB,e.lens,0,288,p4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;jx(hB,e.lens,0,32,x4,0,e.work,{bits:5}),v7=!1}e.lencode=p4,e.lenbits=9,e.distcode=x4,e.distbits=5},_B=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Vwe=(e,t)=>{let r,n,a,i,s,o,u,f,h,p,g,x,b,y,w=0,_,E,A,T,O,R,D,M;const B=new Uint8Array(4);let G,I;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mh(e)||!e.output||!e.input&&e.avail_in!==0)return $o;r=e.state,r.mode===Vu&&(r.mode=d4),s=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,p=o,g=u,M=ah;e:for(;;)switch(r.mode){case G2:if(r.wrap===0){r.mode=d4;break}for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=f&255,B[1]=f>>>8&255,r.check=tu(r.check,B,2,0),f=0,h=0,r.mode=XO;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=sa;break}if((f&15)!==YO){e.msg="unknown compression method",r.mode=sa;break}if(f>>>=4,h-=4,D=(f&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){e.msg="invalid window size",r.mode=sa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?a7:Vu,f=0,h=0;break;case XO:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==YO){e.msg="unknown compression method",r.mode=sa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=sa;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=tu(r.check,B,2,0)),f=0,h=0,r.mode=QO;case QO:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,r.check=tu(r.check,B,4,0)),f=0,h=0,r.mode=ZO;case ZO:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=tu(r.check,B,2,0)),f=0,h=0,r.mode=JO;case JO:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=tu(r.check,B,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=e7;case e7:if(r.flags&1024&&(x=r.length,x>o&&(x=o),x&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+x),D)),r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,x,i)),o-=x,i+=x,r.length-=x),r.length))break e;r.length=0,r.mode=t7;case t7:if(r.flags&2048){if(o===0)break e;x=0;do D=n[i+x++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,x,i)),o-=x,i+=x,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=r7;case r7:if(r.flags&4096){if(o===0)break e;x=0;do D=n[i+x++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&x<o);if(r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,x,i)),o-=x,i+=x,D)break e}else r.head&&(r.head.comment=null);r.mode=n7;case n7:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=sa;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Vu;break;case a7:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}e.adler=r.check=g7(f),f=0,h=0,r.mode=$y;case $y:if(r.havedict===0)return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,Mwe;e.adler=r.check=1,r.mode=Vu;case Vu:if(t===Fwe||t===xv)break e;case d4:if(r.last){f>>>=h&7,h-=h&7,r.mode=m4;break}for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=i7;break;case 1:if(Hwe(r),r.mode=gv,t===xv){f>>>=2,h-=2;break e}break;case 2:r.mode=l7;break;case 3:e.msg="invalid block type",r.mode=sa}f>>>=2,h-=2;break;case i7:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=sa;break}if(r.length=f&65535,f=0,h=0,r.mode=h4,t===xv)break e;case h4:r.mode=s7;case s7:if(x=r.length,x){if(x>o&&(x=o),x>u&&(x=u),x===0)break e;a.set(n.subarray(i,i+x),s),o-=x,i+=x,u-=x,s+=x,r.length-=x;break}r.mode=Vu;break;case l7:for(;h<14;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=sa;break}r.have=0,r.mode=o7;case o7:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.lens[z[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},M=jx(Pwe,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,M){e.msg="invalid code lengths set",r.mode=sa;break}r.have=0,r.mode=c7;case c7:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[f&(1<<r.lenbits)-1],_=w>>>24,E=w>>>16&255,A=w&65535,!(_<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(A<16)f>>>=_,h-=_,r.lens[r.have++]=A;else{if(A===16){for(I=_+2;h<I;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(f>>>=_,h-=_,r.have===0){e.msg="invalid bit length repeat",r.mode=sa;break}D=r.lens[r.have-1],x=3+(f&3),f>>>=2,h-=2}else if(A===17){for(I=_+3;h<I;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=_,h-=_,D=0,x=3+(f&7),f>>>=3,h-=3}else{for(I=_+7;h<I;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=_,h-=_,D=0,x=11+(f&127),f>>>=7,h-=7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=sa;break}for(;x--;)r.lens[r.have++]=D}}if(r.mode===sa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=sa;break}if(r.lenbits=9,G={bits:r.lenbits},M=jx(dB,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,M){e.msg="invalid literal/lengths set",r.mode=sa;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},M=jx(hB,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,M){e.msg="invalid distances set",r.mode=sa;break}if(r.mode=gv,t===xv)break e;case gv:r.mode=vv;case vv:if(o>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,Ewe(e,g),s=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,r.mode===Vu&&(r.back=-1);break}for(r.back=0;w=r.lencode[f&(1<<r.lenbits)-1],_=w>>>24,E=w>>>16&255,A=w&65535,!(_<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(E&&(E&240)===0){for(T=_,O=E,R=A;w=r.lencode[R+((f&(1<<T+O)-1)>>T)],_=w>>>24,E=w>>>16&255,A=w&65535,!(T+_<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=T,h-=T,r.back+=T}if(f>>>=_,h-=_,r.back+=_,r.length=A,E===0){r.mode=m7;break}if(E&32){r.back=-1,r.mode=Vu;break}if(E&64){e.msg="invalid literal/length code",r.mode=sa;break}r.extra=E&15,r.mode=u7;case u7:if(r.extra){for(I=r.extra;h<I;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=f7;case f7:for(;w=r.distcode[f&(1<<r.distbits)-1],_=w>>>24,E=w>>>16&255,A=w&65535,!(_<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((E&240)===0){for(T=_,O=E,R=A;w=r.distcode[R+((f&(1<<T+O)-1)>>T)],_=w>>>24,E=w>>>16&255,A=w&65535,!(T+_<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=T,h-=T,r.back+=T}if(f>>>=_,h-=_,r.back+=_,E&64){e.msg="invalid distance code",r.mode=sa;break}r.offset=A,r.extra=E&15,r.mode=d7;case d7:if(r.extra){for(I=r.extra;h<I;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=sa;break}r.mode=h7;case h7:if(u===0)break e;if(x=g-u,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=sa;break}x>r.wnext?(x-=r.wnext,b=r.wsize-x):b=r.wnext-x,x>r.length&&(x=r.length),y=r.window}else y=a,b=s-r.offset,x=r.length;x>u&&(x=u),u-=x,r.length-=x;do a[s++]=y[b++];while(--x);r.length===0&&(r.mode=vv);break;case m7:if(u===0)break e;a[s++]=r.length,u--,r.mode=vv;break;case m4:if(r.wrap){for(;h<32;){if(o===0)break e;o--,f|=n[i++]<<h,h+=8}if(g-=u,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?tu(r.check,a,g,s-g):uN(r.check,a,g,s-g)),g=u,r.wrap&4&&(r.flags?f:g7(f))!==r.check){e.msg="incorrect data check",r.mode=sa;break}f=0,h=0}r.mode=p7;case p7:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=sa;break}f=0,h=0}r.mode=x7;case x7:M=Lwe;break e;case sa:M=mB;break e;case xB:return pB;case gB:default:return $o}return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,(r.wsize||g!==e.avail_out&&r.mode<sa&&(r.mode<m4||t!==KO))&&_B(e,e.output,e.next_out,g-e.avail_out),p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?tu(r.check,a,g,e.next_out-g):uN(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Vu?128:0)+(r.mode===gv||r.mode===h4?256:0),(p===0&&g===0||t===KO)&&M===ah&&(M=Rwe),M},Wwe=e=>{if(mh(e))return $o;let t=e.state;return t.window&&(t.window=null),e.state=null,ah},Gwe=(e,t)=>{if(mh(e))return $o;const r=e.state;return(r.wrap&2)===0?$o:(r.head=t,t.done=!1,ah)},Kwe=(e,t)=>{const r=t.length;let n,a,i;return mh(e)||(n=e.state,n.wrap!==0&&n.mode!==$y)?$o:n.mode===$y&&(a=1,a=uN(a,t,r,0),a!==n.check)?mB:(i=_B(e,t,r,r),i?(n.mode=xB,pB):(n.havedict=1,ah))};var Ywe=yB,Xwe=bB,Qwe=vB,Zwe=$we,Jwe=wB,e5e=Vwe,t5e=Wwe,r5e=Gwe,n5e=Kwe,a5e="pako inflate (from Nodeca project)",Wu={inflateReset:Ywe,inflateReset2:Xwe,inflateResetKeep:Qwe,inflateInit:Zwe,inflateInit2:Jwe,inflate:e5e,inflateEnd:t5e,inflateGetHeader:r5e,inflateSetDictionary:n5e,inflateInfo:a5e};function i5e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var s5e=i5e;const NB=Object.prototype.toString,{Z_NO_FLUSH:l5e,Z_FINISH:o5e,Z_OK:lg,Z_STREAM_END:g4,Z_NEED_DICT:v4,Z_STREAM_ERROR:c5e,Z_DATA_ERROR:y7,Z_MEM_ERROR:u5e}=cB;function $g(e){this.options=uB.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jwe,this.strm.avail_out=0;let r=Wu.inflateInit2(this.strm,t.windowBits);if(r!==lg)throw new Error(fN[r]);if(this.header=new s5e,Wu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=dN.string2buf(t.dictionary):NB.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Wu.inflateSetDictionary(this.strm,t.dictionary),r!==lg)))throw new Error(fN[r])}$g.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?o5e:l5e,NB.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Wu.inflate(r,s),i===v4&&a&&(i=Wu.inflateSetDictionary(r,a),i===lg?i=Wu.inflate(r,s):i===y7&&(i=v4));r.avail_in>0&&i===g4&&r.state.wrap>0&&e[r.next_in]!==0;)Wu.inflateReset(r),i=Wu.inflate(r,s);switch(i){case c5e:case y7:case v4:case u5e:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===g4))if(this.options.to==="string"){let u=dN.utf8border(r.output,r.next_out),f=r.next_out-u,h=dN.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===lg&&o===0)){if(i===g4)return i=Wu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};$g.prototype.onData=function(e){this.chunks.push(e)};$g.prototype.onEnd=function(e){e===lg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function f5e(e,t){const r=new $g(t);if(r.push(e),r.err)throw r.msg||fN[r.err];return r.result}var d5e=$g,h5e=f5e,m5e={Inflate:d5e,inflate:h5e};const{Inflate:p5e,inflate:x5e}=m5e;var b7=p5e,g5e=x5e;const SB=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;SB[e]=t}const w7=4294967295;function v5e(e,t,r){let n=e;for(let a=0;a<r;a++)n=SB[(n^t[a])&255]^n>>>8;return n}function y5e(e,t){return(v5e(w7,e,t)^w7)>>>0}function _7(e,t,r){const n=e.readUint32(),a=y5e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function jB(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function AB(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function EB(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function kB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function CB(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+b5e(t[i-a],r[i],r[i-a])&255}}function b5e(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),s=Math.abs(n-r);return a<=i&&a<=s?e:i<=s?t:r}function w5e(e,t,r,n,a,i){switch(e){case 0:jB(t,r,a);break;case 1:AB(t,r,a,i);break;case 2:EB(t,r,n,a);break;case 3:kB(t,r,n,a,i);break;case 4:CB(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const _5e=new Uint16Array([255]),N5e=new Uint8Array(_5e.buffer),S5e=N5e[0]===255;function j5e(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,u=new Uint8Array(n*r*o);let f=0;for(let h=0;h<7;h++){const p=s[h],g=Math.ceil((r-p.x)/p.xStep),x=Math.ceil((n-p.y)/p.yStep);if(g<=0||x<=0)continue;const b=g*o,y=new Uint8Array(b);for(let w=0;w<x;w++){const _=t[f++],E=t.subarray(f,f+b);f+=b;const A=new Uint8Array(b);w5e(_,E,A,y,b,o),y.set(A);for(let T=0;T<g;T++){const O=p.x+T*p.xStep,R=p.y+w*p.yStep;if(!(O>=r||R>=n))for(let D=0;D<o;D++)u[(R*r+O)*o+D]=A[T*o+D]}}}if(i===16){const h=new Uint16Array(u.buffer);if(S5e)for(let p=0;p<h.length;p++)h[p]=A5e(h[p]);return h}else return u}function A5e(e){return(e&255)<<8|e>>8&255}const E5e=new Uint16Array([255]),k5e=new Uint8Array(E5e.buffer),C5e=k5e[0]===255,T5e=new Uint8Array(0);function N7(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),u=new Uint8Array(n*o);let f=T5e,h=0,p,g;for(let x=0;x<n;x++){switch(p=t.subarray(h+1,h+1+o),g=u.subarray(x*o,(x+1)*o),t[h]){case 0:jB(p,g,o);break;case 1:AB(p,g,o,s);break;case 2:EB(p,g,f,o);break;case 3:kB(p,g,f,o,s);break;case 4:CB(p,g,f,o,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}f=g,h+=o+1}if(i===16){const x=new Uint16Array(u.buffer);if(C5e)for(let b=0;b<x.length;b++)x[b]=O5e(x[b]);return x}else return u}function O5e(e){return(e&255)<<8|e>>8&255}const Ov=Uint8Array.of(137,80,78,71,13,10,26,10);function S7(e){if(!D5e(e.readBytes(Ov.length)))throw new Error("wrong PNG signature")}function D5e(e){if(e.length<Ov.length)return!1;for(let t=0;t<Ov.length;t++)if(e[t]!==Ov[t])return!1;return!0}const P5e="tEXt",F5e=0,TB=new TextDecoder("latin1");function L5e(e){if(R5e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const M5e=/^[\u0000-\u00FF]*$/;function R5e(e){if(!M5e.test(e))throw new Error("invalid latin1 text")}function I5e(e,t,r){const n=OB(t);e[n]=B5e(t,r-n.length-1)}function OB(e){for(e.mark();e.readByte()!==F5e;);const t=e.offset;e.reset();const r=TB.decode(e.readBytes(t-e.offset-1));return e.skip(1),L5e(r),r}function B5e(e,t){return TB.decode(e.readBytes(t))}const $l={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},y4={UNKNOWN:-1,DEFLATE:0},j7={UNKNOWN:-1,ADAPTIVE:0},b4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},yv={NONE:0,BACKGROUND:1,PREVIOUS:2},w4={SOURCE:0,OVER:1};class U5e extends Tj{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new b7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=y4.UNKNOWN,this._filterMethod=j7.UNKNOWN,this._interlaceMethod=b4.UNKNOWN,this._colorType=$l.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(S7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(S7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case P5e:I5e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?_7(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?_7(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=z5e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case $l.GREYSCALE:n=1;break;case $l.TRUECOLOUR:n=3;break;case $l.INDEXED_COLOUR:n=1;break;case $l.GREYSCALE_ALPHA:n=2;break;case $l.TRUECOLOUR_ALPHA:n=4;break;case $l.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==y4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case $l.GREYSCALE:case $l.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case $l.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case $l.UNKNOWN:case $l.GREYSCALE_ALPHA:case $l.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=OB(this),n=this.readUint8();if(n!==y4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:g5e(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=N7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case yv.NONE:break;case yv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const s=(a*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[s+o]=0}break;case yv.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,s)=>{const o=((i+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,u=(i*r.width+s)*this._png.channels;return{index:o,frameIndex:u}};switch(r.blendOp){case w4.SOURCE:for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:u}=a(i,s);for(let f=0;f<this._png.channels;f++)t.data[o+f]=r.data[u+f]}break;case w4.OVER:for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:u}=a(i,s);for(let f=0;f<this._png.channels;f++){const h=r.data[u+this._png.channels-1]/n,p=f%(this._png.channels-1)===0?1:r.data[u+f],g=Math.floor(h*p+(1-h)*t.data[o+f]);t.data[o+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==j7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===b4.NO_INTERLACE)this._png.data=N7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===b4.ADAM7)this._png.data=j5e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:yv.NONE,blendOp:w4.SOURCE,data:t}),this._inflator=new b7,this._writingDataChunks=!1}}function z5e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var A7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(A7||(A7={}));function q5e(e,t){return new U5e(e,t).decode()}var mr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function _4(){mr.console&&typeof mr.console.log=="function"&&mr.console.log.apply(mr.console,arguments)}var Mn={log:_4,warn:function(e){mr.console&&(typeof mr.console.warn=="function"?mr.console.warn.apply(mr.console,arguments):_4.call(null,arguments))},error:function(e){mr.console&&(typeof mr.console.error=="function"?mr.console.error.apply(mr.console,arguments):_4(e))}};function N4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){w0(n.response,t,r)},n.onerror=function(){Mn.error("could not download file")},n.send()}function E7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var w0=mr.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=mr.URL||mr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?E7(a.href)?N4(e,t,r):bv(a,a.target="_blank"):bv(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){bv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(E7(e))N4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){bv(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:_n(i)!=="object"&&(Mn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return N4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(mr.HTMLElement)||mr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(e)}else{var u=mr.URL||mr.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+o+u+f}}var Dv=mr.atob.bind(mr),k7=mr.btoa.bind(mr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function S4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ms(r,n,a,i,t[0],7,-680876936),i=ms(i,r,n,a,t[1],12,-389564586),a=ms(a,i,r,n,t[2],17,606105819),n=ms(n,a,i,r,t[3],22,-1044525330),r=ms(r,n,a,i,t[4],7,-176418897),i=ms(i,r,n,a,t[5],12,1200080426),a=ms(a,i,r,n,t[6],17,-1473231341),n=ms(n,a,i,r,t[7],22,-45705983),r=ms(r,n,a,i,t[8],7,1770035416),i=ms(i,r,n,a,t[9],12,-1958414417),a=ms(a,i,r,n,t[10],17,-42063),n=ms(n,a,i,r,t[11],22,-1990404162),r=ms(r,n,a,i,t[12],7,1804603682),i=ms(i,r,n,a,t[13],12,-40341101),a=ms(a,i,r,n,t[14],17,-1502002290),r=ps(r,n=ms(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ps(i,r,n,a,t[6],9,-1069501632),a=ps(a,i,r,n,t[11],14,643717713),n=ps(n,a,i,r,t[0],20,-373897302),r=ps(r,n,a,i,t[5],5,-701558691),i=ps(i,r,n,a,t[10],9,38016083),a=ps(a,i,r,n,t[15],14,-660478335),n=ps(n,a,i,r,t[4],20,-405537848),r=ps(r,n,a,i,t[9],5,568446438),i=ps(i,r,n,a,t[14],9,-1019803690),a=ps(a,i,r,n,t[3],14,-187363961),n=ps(n,a,i,r,t[8],20,1163531501),r=ps(r,n,a,i,t[13],5,-1444681467),i=ps(i,r,n,a,t[2],9,-51403784),a=ps(a,i,r,n,t[7],14,1735328473),r=xs(r,n=ps(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=xs(i,r,n,a,t[8],11,-2022574463),a=xs(a,i,r,n,t[11],16,1839030562),n=xs(n,a,i,r,t[14],23,-35309556),r=xs(r,n,a,i,t[1],4,-1530992060),i=xs(i,r,n,a,t[4],11,1272893353),a=xs(a,i,r,n,t[7],16,-155497632),n=xs(n,a,i,r,t[10],23,-1094730640),r=xs(r,n,a,i,t[13],4,681279174),i=xs(i,r,n,a,t[0],11,-358537222),a=xs(a,i,r,n,t[3],16,-722521979),n=xs(n,a,i,r,t[6],23,76029189),r=xs(r,n,a,i,t[9],4,-640364487),i=xs(i,r,n,a,t[12],11,-421815835),a=xs(a,i,r,n,t[15],16,530742520),r=gs(r,n=xs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=gs(i,r,n,a,t[7],10,1126891415),a=gs(a,i,r,n,t[14],15,-1416354905),n=gs(n,a,i,r,t[5],21,-57434055),r=gs(r,n,a,i,t[12],6,1700485571),i=gs(i,r,n,a,t[3],10,-1894986606),a=gs(a,i,r,n,t[10],15,-1051523),n=gs(n,a,i,r,t[1],21,-2054922799),r=gs(r,n,a,i,t[8],6,1873313359),i=gs(i,r,n,a,t[15],10,-30611744),a=gs(a,i,r,n,t[6],15,-1560198380),n=gs(n,a,i,r,t[13],21,1309151649),r=gs(r,n,a,i,t[4],6,-145523070),i=gs(i,r,n,a,t[11],10,-1120210379),a=gs(a,i,r,n,t[2],15,718787259),n=gs(n,a,i,r,t[9],21,-343485551),e[0]=yd(r,e[0]),e[1]=yd(n,e[1]),e[2]=yd(a,e[2]),e[3]=yd(i,e[3])}function K2(e,t,r,n,a,i){return t=yd(yd(t,e),yd(n,i)),yd(t<<a|t>>>32-a,r)}function ms(e,t,r,n,a,i,s){return K2(t&r|~t&n,e,t,a,i,s)}function ps(e,t,r,n,a,i,s){return K2(t&n|r&~n,e,t,a,i,s)}function xs(e,t,r,n,a,i,s){return K2(t^r^n,e,t,a,i,s)}function gs(e,t,r,n,a,i,s){return K2(r^(t|~n),e,t,a,i,s)}function PB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)S4(n,$5e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(S4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,S4(n,a),n}function $5e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var C7="0123456789abcdef".split("");function H5e(e){for(var t="",r=0;r<4;r++)t+=C7[e>>8*r+4&15]+C7[e>>8*r&15];return t}function V5e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function hN(e){return PB(e).map(V5e).join("")}var W5e=(function(e){for(var t=0;t<e.length;t++)e[t]=H5e(e[t]);return e.join("")})(PB("hello"))!="5d41402abc4b2a76b9719d911017c592";function yd(e,t){if(W5e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function mN(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],u=0;u<256;u++)o[u]=u;var f=0;for(u=0;u<256;u++){var h=o[u];f=(f+h+s.charCodeAt(u))%256,o[u]=o[f],o[f]=h}r=e,n=o}else o=n;var p=t.length,g=0,x=0,b="";for(u=0;u<p;u++)x=(x+(h=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=h,s=o[(o[g]+o[x])%256],b+=String.fromCharCode(t.charCodeAt(u)^s);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var T7={print:4,modify:8,copy:16,"annot-forms":32};function pm(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(T7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=T7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=hN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=mN(this.encryptionKey,this.padding)}function xm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function O7(e){if(_n(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){mr.console&&Mn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hy(e){if(!(this instanceof Hy))return new Hy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function FB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function N0(e,t,r,n,a){if(!(this instanceof N0))return new N0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,FB.call(this,n,a)}function ym(e,t,r,n,a){if(!(this instanceof ym))return new ym(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,FB.call(this,n,a)}function Ht(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,u=16,f="S",h=null;_n(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=O7;var b="1.3",y=x.__private__.getPdfVersion=function(){return b};x.__private__.setPdfVersion=function(F){b=F};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return w};var _=x.__private__.getPageFormat=function(F){return w[F]};a=a||"a4";var E="compat",A="advanced",T=E;function O(){this.saveGraphicsState(),xe(new Wt(xt,0,0,-xt,0,Jo()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),f="n",T=A}function R(){this.restoreGraphicsState(),f="S",T=E}var D=x.__private__.combineFontStyleAndFontWeight=function(F,Y){if(F=="bold"&&Y=="normal"||F=="bold"&&Y==400||F=="normal"&&Y=="italic"||F=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(F=Y==400||Y==="normal"?F==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||F!=="normal"?(Y==700?"bold":Y)+""+F:"bold"),F};x.advancedAPI=function(F){var Y=T===E;return Y&&O.call(this),typeof F!="function"||(F(this),Y&&R.call(this)),this},x.compatAPI=function(F){var Y=T===A;return Y&&R.call(this),typeof F!="function"||(F(this),Y&&O.call(this)),this},x.isAdvancedAPI=function(){return T===A};var M,B=function(F){if(T!==A)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=x.roundToPrecision=x.__private__.roundToPrecision=function(F,Y){var _e=t||Y;if(isNaN(F)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(_e).replace(/0+$/,"")};M=x.hpf=x.__private__.hpf=typeof u=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return G(F,u)}:u==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return G(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return G(F,16)};var I=x.f2=x.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return G(F,2)},z=x.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return G(F,3)},K=x.scale=x.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return T===E?F*xt:T===A?F:void 0},J=function(F){return K((function(Y){return T===E?Jo()-Y:T===A?Y:void 0})(F))};x.__private__.setPrecision=x.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(t=parseInt(F,10))};var pe,ne="00000000000000000000000000000000",le=x.__private__.getFileId=function(){return ne},ve=x.__private__.setFileId=function(F){return ne=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(pa=new pm(h.userPermissions,h.userPassword,h.ownerPassword,ne)),ne};x.setFileId=function(F){return ve(F),this},x.getFileId=function(){return le()};var ue=x.__private__.convertDateToPDFDate=function(F){var Y=F.getTimezoneOffset(),_e=Y<0?"+":"-",Ee=Math.floor(Math.abs(Y/60)),Pe=Math.abs(Y%60),et=[_e,q(Ee),"'",q(Pe),"'"].join("");return["D:",F.getFullYear(),q(F.getMonth()+1),q(F.getDate()),q(F.getHours()),q(F.getMinutes()),q(F.getSeconds()),et].join("")},je=x.__private__.convertPDFDateToDate=function(F){var Y=parseInt(F.substr(2,4),10),_e=parseInt(F.substr(6,2),10)-1,Ee=parseInt(F.substr(8,2),10),Pe=parseInt(F.substr(10,2),10),et=parseInt(F.substr(12,2),10),ot=parseInt(F.substr(14,2),10);return new Date(Y,_e,Ee,Pe,et,ot,0)},te=x.__private__.setCreationDate=function(F){var Y;if(F===void 0&&(F=new Date),F instanceof Date)Y=ue(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=F}return pe=Y},P=x.__private__.getCreationDate=function(F){var Y=pe;return F==="jsDate"&&(Y=je(pe)),Y};x.setCreationDate=function(F){return te(F),this},x.getCreationDate=function(F){return P(F)};var L,q=x.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},W=x.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},Z=0,oe=[],ce=[],ae=0,Se=[],De=[],X=!1,Ke=ce;x.__private__.setCustomOutputDestination=function(F){X=!0,Ke=F};var Ce=function(F){X||(Ke=F)};x.__private__.resetCustomOutputDestination=function(){X=!1,Ke=ce};var xe=x.__private__.out=function(F){return F=F.toString(),ae+=F.length+1,Ke.push(F),Ke},dt=x.__private__.write=function(F){return xe(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Xe=x.__private__.getArrayBuffer=function(F){for(var Y=F.length,_e=new ArrayBuffer(Y),Ee=new Uint8Array(_e);Y--;)Ee[Y]=F.charCodeAt(Y);return _e},wt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return wt};var st=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(F){return st=T===A?F/xt:F,this};var At,pt=x.__private__.getFontSize=x.getFontSize=function(){return T===E?st:st*xt},Qt=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(F){return Qt=F,this},x.__private__.getR2L=x.getR2L=function(){return Qt};var Pt,$t=x.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))At=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');At=F}else At=parseInt(F,10)};x.__private__.getZoomMode=function(){return At};var Zt,Jt=x.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');Pt=F};x.__private__.getPageMode=function(){return Pt};var Dr=x.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Zt=F};x.__private__.getLayoutMode=function(){return Zt},x.__private__.setDisplayMode=x.setDisplayMode=function(F,Y,_e){return $t(F),Dr(Y),Jt(_e),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(F){if(Object.keys(It).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[F]},x.__private__.getDocumentProperties=function(){return It},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(F){for(var Y in It)It.hasOwnProperty(Y)&&F[Y]&&(It[Y]=F[Y]);return this},x.__private__.setDocumentProperty=function(F,Y){if(Object.keys(It).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[F]=Y};var Ct,xt,St,Nr,Yt,Nt={},er={},br=[],ar={},Ar={},fr={},pn={},In=null,qr=0,Vt=[],Pr=new O7(x),Os=e.hotfixes||[],Ya={},nl={},os=[],Wt=function F(Y,_e,Ee,Pe,et,ot){if(!(this instanceof F))return new F(Y,_e,Ee,Pe,et,ot);isNaN(Y)&&(Y=1),isNaN(_e)&&(_e=0),isNaN(Ee)&&(Ee=0),isNaN(Pe)&&(Pe=1),isNaN(et)&&(et=0),isNaN(ot)&&(ot=0),this._matrix=[Y,_e,Ee,Pe,et,ot]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(F)},Wt.prototype.multiply=function(F){var Y=F.sx*this.sx+F.shy*this.shx,_e=F.sx*this.shy+F.shy*this.sy,Ee=F.shx*this.sx+F.sy*this.shx,Pe=F.shx*this.shy+F.sy*this.sy,et=F.tx*this.sx+F.ty*this.shx+this.tx,ot=F.tx*this.shy+F.ty*this.sy+this.ty;return new Wt(Y,_e,Ee,Pe,et,ot)},Wt.prototype.decompose=function(){var F=this.sx,Y=this.shy,_e=this.shx,Ee=this.sy,Pe=this.tx,et=this.ty,ot=Math.sqrt(F*F+Y*Y),Ft=(F/=ot)*_e+(Y/=ot)*Ee;_e-=F*Ft,Ee-=Y*Ft;var Ut=Math.sqrt(_e*_e+Ee*Ee);return Ft/=Ut,F*(Ee/=Ut)<Y*(_e/=Ut)&&(F=-F,Y=-Y,Ft=-Ft,ot=-ot),{scale:new Wt(ot,0,0,Ut,0,0),translate:new Wt(1,0,0,1,Pe,et),rotate:new Wt(F,Y,-Y,F,0,0),skew:new Wt(1,0,Ft,1,0,0)}},Wt.prototype.toString=function(F){return this.join(" ")},Wt.prototype.inversed=function(){var F=this.sx,Y=this.shy,_e=this.shx,Ee=this.sy,Pe=this.tx,et=this.ty,ot=1/(F*Ee-Y*_e),Ft=Ee*ot,Ut=-Y*ot,or=-_e*ot,xr=F*ot;return new Wt(Ft,Ut,or,xr,-Ft*Pe-or*et,-Ut*Pe-xr*et)},Wt.prototype.applyToPoint=function(F){var Y=F.x*this.sx+F.y*this.shx+this.tx,_e=F.x*this.shy+F.y*this.sy+this.ty;return new oo(Y,_e)},Wt.prototype.applyToRectangle=function(F){var Y=this.applyToPoint(F),_e=this.applyToPoint(new oo(F.x+F.w,F.y+F.h));return new Xo(Y.x,Y.y,_e.x-Y.x,_e.y-Y.y)},Wt.prototype.clone=function(){var F=this.sx,Y=this.shy,_e=this.shx,Ee=this.sy,Pe=this.tx,et=this.ty;return new Wt(F,Y,_e,Ee,Pe,et)},x.Matrix=Wt;var Tl=x.matrixMult=function(F,Y){return Y.multiply(F)},al=new Wt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=al;var si=function(F,Y){if(!Ar[F]){var _e=(Y instanceof N0?"Sh":"P")+(Object.keys(ar).length+1).toString(10);Y.id=_e,Ar[F]=_e,ar[_e]=Y,Pr.publish("addPattern",Y)}};x.ShadingPattern=N0,x.TilingPattern=ym,x.addShadingPattern=function(F,Y){return B("addShadingPattern()"),si(F,Y),this},x.beginTilingPattern=function(F){B("beginTilingPattern()"),wu(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},x.endTilingPattern=function(F,Y){B("endTilingPattern()"),Y.stream=De[L].join(`
`),si(F,Y),Pr.publish("endTilingPattern",Y),os.pop().restore()};var qi,Sn=x.__private__.newObject=function(){var F=ea();return ee(F,!0),F},ea=x.__private__.newObjectDeferred=function(){return Z++,oe[Z]=function(){return ae},Z},ee=function(F,Y){return Y=typeof Y=="boolean"&&Y,oe[F]=ae,Y&&xe(F+" 0 obj"),F},we=x.__private__.newAdditionalObject=function(){var F={objId:ea(),content:""};return Se.push(F),F},de=ea(),he=ea(),ge=x.__private__.decodeColorString=function(F){var Y=F.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var _e=parseFloat(Y[0]);Y=[_e,_e,_e,"r"]}for(var Ee="#",Pe=0;Pe<3;Pe++)Ee+=("0"+Math.floor(255*parseFloat(Y[Pe])).toString(16)).slice(-2);return Ee},Ne=x.__private__.encodeColorString=function(F){var Y;typeof F=="string"&&(F={ch1:F});var _e=F.ch1,Ee=F.ch2,Pe=F.ch3,et=F.ch4,ot=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Ft=new DB(_e);if(Ft.ok)_e=Ft.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Ut=parseInt(_e.substr(1),16);_e=Ut>>16&255,Ee=Ut>>8&255,Pe=255&Ut}if(Ee===void 0||et===void 0&&_e===Ee&&Ee===Pe)Y=typeof _e=="string"?_e+" "+ot[0]:F.precision===2?I(_e/255)+" "+ot[0]:z(_e/255)+" "+ot[0];else if(et===void 0||_n(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",ot[1]].join(" ");Y=typeof _e=="string"?[_e,Ee,Pe,ot[1]].join(" "):F.precision===2?[I(_e/255),I(Ee/255),I(Pe/255),ot[1]].join(" "):[z(_e/255),z(Ee/255),z(Pe/255),ot[1]].join(" ")}else Y=typeof _e=="string"?[_e,Ee,Pe,et,ot[2]].join(" "):F.precision===2?[I(_e),I(Ee),I(Pe),I(et),ot[2]].join(" "):[z(_e),z(Ee),z(Pe),z(et),ot[2]].join(" ");return Y},Me=x.__private__.getFilters=function(){return s},Ge=x.__private__.putStream=function(F){var Y=(F=F||{}).data||"",_e=F.filters||Me(),Ee=F.alreadyAppliedFilters||[],Pe=F.addLength1||!1,et=Y.length,ot=F.objectId,Ft=function(Ba){return Ba};if(h!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ft=pa.encryptor(ot,0));var Ut={};_e===!0&&(_e=["FlateEncode"]);var or=F.additionalKeyValues||[],xr=(Ut=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(Y,_e):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Ut.data.length!==0&&(or.push({key:"Length",value:Ut.data.length}),Pe===!0&&or.push({key:"Length1",value:et})),xr.length!=0)if(xr.split("/").length-1==1)or.push({key:"Filter",value:xr});else{or.push({key:"Filter",value:"["+xr+"]"});for(var Gr=0;Gr<or.length;Gr+=1)if(or[Gr].key==="DecodeParms"){for(var Hn=[],xa=0;xa<Ut.reverseChain.split("/").length-1;xa+=1)Hn.push("null");Hn.push(or[Gr].value),or[Gr].value="["+Hn.join(" ")+"]"}}xe("<<");for(var jn=0;jn<or.length;jn++)xe("/"+or[jn].key+" "+or[jn].value);xe(">>"),Ut.data.length!==0&&(xe("stream"),xe(Ft(Ut.data)),xe("endstream"))},Ie=x.__private__.putPage=function(F){var Y=F.number,_e=F.data,Ee=F.objId,Pe=F.contentsObjId;ee(Ee,!0),xe("<</Type /Page"),xe("/Parent "+F.rootDictionaryObjId+" 0 R"),xe("/Resources "+F.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(M(F.mediaBox.bottomLeftX))+" "+parseFloat(M(F.mediaBox.bottomLeftY))+" "+M(F.mediaBox.topRightX)+" "+M(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&xe("/CropBox ["+M(F.cropBox.bottomLeftX)+" "+M(F.cropBox.bottomLeftY)+" "+M(F.cropBox.topRightX)+" "+M(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&xe("/BleedBox ["+M(F.bleedBox.bottomLeftX)+" "+M(F.bleedBox.bottomLeftY)+" "+M(F.bleedBox.topRightX)+" "+M(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&xe("/TrimBox ["+M(F.trimBox.bottomLeftX)+" "+M(F.trimBox.bottomLeftY)+" "+M(F.trimBox.topRightX)+" "+M(F.trimBox.topRightY)+"]"),F.artBox!==null&&xe("/ArtBox ["+M(F.artBox.bottomLeftX)+" "+M(F.artBox.bottomLeftY)+" "+M(F.artBox.topRightX)+" "+M(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&xe("/UserUnit "+F.userUnit),Pr.publish("putPage",{objId:Ee,pageContext:Vt[Y],pageNumber:Y,page:_e}),xe("/Contents "+Pe+" 0 R"),xe(">>"),xe("endobj");var et=_e.join(`
`);return T===A&&(et+=`
Q`),ee(Pe,!0),Ge({data:et,filters:Me(),objectId:Pe}),xe("endobj"),Ee},Be=x.__private__.putPages=function(){var F,Y,_e=[];for(F=1;F<=qr;F++)Vt[F].objId=ea(),Vt[F].contentsObjId=ea();for(F=1;F<=qr;F++)_e.push(Ie({number:F,data:De[F],objId:Vt[F].objId,contentsObjId:Vt[F].contentsObjId,mediaBox:Vt[F].mediaBox,cropBox:Vt[F].cropBox,bleedBox:Vt[F].bleedBox,trimBox:Vt[F].trimBox,artBox:Vt[F].artBox,userUnit:Vt[F].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:he}));ee(de,!0),xe("<</Type /Pages");var Ee="/Kids [";for(Y=0;Y<qr;Y++)Ee+=_e[Y]+" 0 R ";xe(Ee+"]"),xe("/Count "+qr),xe(">>"),xe("endobj"),Pr.publish("postPutPages")},ze=function(F){Pr.publish("putFont",{font:F,out:xe,newObject:Sn,putStream:Ge}),F.isAlreadyPutted!==!0&&(F.objectNumber=Sn(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+xm(F.postScriptName)),xe("/Subtype /Type1"),typeof F.encoding=="string"&&xe("/Encoding /"+F.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},ut=function(F){F.objectNumber=Sn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[M(F.x),M(F.y),M(F.x+F.width),M(F.y+F.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var _e=F.pages[1].join(`
`);Ge({data:_e,additionalKeyValues:Y,objectId:F.objectNumber}),xe("endobj")},mt=function(F,Y){Y||(Y=21);var _e=Sn(),Ee=(function(ot,Ft){var Ut,or=[],xr=1/(Ft-1);for(Ut=0;Ut<1;Ut+=xr)or.push(Ut);if(or.push(1),ot[0].offset!=0){var Gr={offset:0,color:ot[0].color};ot.unshift(Gr)}if(ot[ot.length-1].offset!=1){var Hn={offset:1,color:ot[ot.length-1].color};ot.push(Hn)}for(var xa="",jn=0,Ba=0;Ba<or.length;Ba++){for(Ut=or[Ba];Ut>ot[jn+1].offset;)jn++;var ja=ot[jn].offset,oi=(Ut-ja)/(ot[jn+1].offset-ja),sl=ot[jn].color,cs=ot[jn+1].color;xa+=W(Math.round((1-oi)*sl[0]+oi*cs[0]).toString(16))+W(Math.round((1-oi)*sl[1]+oi*cs[1]).toString(16))+W(Math.round((1-oi)*sl[2]+oi*cs[2]).toString(16))}return xa.trim()})(F.colors,Y),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+Y+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:Ee,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),xe("endobj"),F.objectNumber=Sn(),xe("<< /ShadingType "+F.type),xe("/ColorSpace /DeviceRGB");var et="/Coords ["+M(parseFloat(F.coords[0]))+" "+M(parseFloat(F.coords[1]))+" ";F.type===2?et+=M(parseFloat(F.coords[2]))+" "+M(parseFloat(F.coords[3])):et+=M(parseFloat(F.coords[2]))+" "+M(parseFloat(F.coords[3]))+" "+M(parseFloat(F.coords[4]))+" "+M(parseFloat(F.coords[5])),xe(et+="]"),F.matrix&&xe("/Matrix ["+F.matrix.toString()+"]"),xe("/Function "+_e+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},_t=function(F,Y){var _e=ea(),Ee=Sn();Y.push({resourcesOid:_e,objectOid:Ee}),F.objectNumber=Ee;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+F.boundingBox.map(M).join(" ")+"]"}),Pe.push({key:"XStep",value:M(F.xStep)}),Pe.push({key:"YStep",value:M(F.yStep)}),Pe.push({key:"Resources",value:_e+" 0 R"}),F.matrix&&Pe.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),Ge({data:F.stream,additionalKeyValues:Pe,objectId:F.objectNumber}),xe("endobj")},ht=function(F){for(var Y in F.objectNumber=Sn(),xe("<<"),F)switch(Y){case"opacity":xe("/ca "+I(F[Y]));break;case"stroke-opacity":xe("/CA "+I(F[Y]))}xe(">>"),xe("endobj")},vt=function(F){ee(F.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in xe("/Font <<"),Nt)Nt.hasOwnProperty(Y)&&(p===!1||p===!0&&g.hasOwnProperty(Y))&&xe("/"+Y+" "+Nt[Y].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(ar).length>0){for(var Y in xe("/Shading <<"),ar)ar.hasOwnProperty(Y)&&ar[Y]instanceof N0&&ar[Y].objectNumber>=0&&xe("/"+Y+" "+ar[Y].objectNumber+" 0 R");Pr.publish("putShadingPatternDict"),xe(">>")}})(),(function(Y){if(Object.keys(ar).length>0){for(var _e in xe("/Pattern <<"),ar)ar.hasOwnProperty(_e)&&ar[_e]instanceof x.TilingPattern&&ar[_e].objectNumber>=0&&ar[_e].objectNumber<Y&&xe("/"+_e+" "+ar[_e].objectNumber+" 0 R");Pr.publish("putTilingPatternDict"),xe(">>")}})(F.objectOid),(function(){if(Object.keys(fr).length>0){var Y;for(Y in xe("/ExtGState <<"),fr)fr.hasOwnProperty(Y)&&fr[Y].objectNumber>=0&&xe("/"+Y+" "+fr[Y].objectNumber+" 0 R");Pr.publish("putGStateDict"),xe(">>")}})(),(function(){for(var Y in xe("/XObject <<"),Ya)Ya.hasOwnProperty(Y)&&Ya[Y].objectNumber>=0&&xe("/"+Y+" "+Ya[Y].objectNumber+" 0 R");Pr.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Tt=function(F){er[F.fontName]=er[F.fontName]||{},er[F.fontName][F.fontStyle]=F.id},an=function(F,Y,_e,Ee,Pe){var et={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:F,fontName:Y,fontStyle:_e,encoding:Ee,isStandardFont:Pe||!1,metadata:{}};return Pr.publish("addFont",{font:et,instance:this}),Nt[et.id]=et,Tt(et),et.id},kr=x.__private__.pdfEscape=x.pdfEscape=function(F,Y){return(function(_e,Ee){var Pe,et,ot,Ft,Ut,or,xr,Gr,Hn;if(ot=(Ee=Ee||{}).sourceEncoding||"Unicode",Ut=Ee.outputEncoding,(Ee.autoencode||Ut)&&Nt[Ct].metadata&&Nt[Ct].metadata[ot]&&Nt[Ct].metadata[ot].encoding&&(Ft=Nt[Ct].metadata[ot].encoding,!Ut&&Nt[Ct].encoding&&(Ut=Nt[Ct].encoding),!Ut&&Ft.codePages&&(Ut=Ft.codePages[0]),typeof Ut=="string"&&(Ut=Ft[Ut]),Ut)){for(xr=!1,or=[],Pe=0,et=_e.length;Pe<et;Pe++)(Gr=Ut[_e.charCodeAt(Pe)])?or.push(String.fromCharCode(Gr)):or.push(_e[Pe]),or[Pe].charCodeAt(0)>>8&&(xr=!0);_e=or.join("")}for(Pe=_e.length;xr===void 0&&Pe!==0;)_e.charCodeAt(Pe-1)>>8&&(xr=!0),Pe--;if(!xr)return _e;for(or=Ee.noBOM?[]:[254,255],Pe=0,et=_e.length;Pe<et;Pe++){if((Hn=(Gr=_e.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");or.push(Hn),or.push(Gr-(Hn<<8))}return String.fromCharCode.apply(void 0,or)})(F,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},un=x.__private__.beginPage=function(F){De[++qr]=[],Vt[qr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},Dl(qr),Ce(De[L])},$i=function(F,Y){var _e,Ee,Pe;switch(r=Y||r,typeof F=="string"&&(_e=_(F.toLowerCase()),Array.isArray(_e)&&(Ee=_e[0],Pe=_e[1])),Array.isArray(F)&&(Ee=F[0]*xt,Pe=F[1]*xt),isNaN(Ee)&&(Ee=a[0],Pe=a[1]),(Ee>14400||Pe>14400)&&(Mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Pe=Math.min(14400,Pe)),a=[Ee,Pe],r.substr(0,1)){case"l":Pe>Ee&&(a=[Pe,Ee]);break;case"p":Ee>Pe&&(a=[Pe,Ee])}un(a),Lc(gu),xe(Ls),Of!==0&&xe(Of+" J"),Xa!==0&&xe(Xa+" j"),Pr.publish("addPage",{pageNumber:qr})},Ol=function(F){F>0&&F<=qr&&(De.splice(F,1),Vt.splice(F,1),qr--,L>qr&&(L=qr),this.setPage(L))},Dl=function(F){F>0&&F<=qr&&(L=F)},Ds=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return De.length-1},Fc=function(F,Y,_e){var Ee,Pe=void 0;return _e=_e||{},F=F!==void 0?F:Nt[Ct].fontName,Y=Y!==void 0?Y:Nt[Ct].fontStyle,Ee=F.toLowerCase(),er[Ee]!==void 0&&er[Ee][Y]!==void 0?Pe=er[Ee][Y]:er[F]!==void 0&&er[F][Y]!==void 0?Pe=er[F][Y]:_e.disableWarning===!1&&Mn.warn("Unable to look up font label for font '"+F+"', '"+Y+"'. Refer to getFontList() for available fonts."),Pe||_e.noFallback||(Pe=er.times[Y])==null&&(Pe=er.times.normal),Pe},Ia=x.__private__.putInfo=function(){var F=Sn(),Y=function(Ee){return Ee};for(var _e in h!==null&&(Y=pa.encryptor(F,0)),xe("<<"),xe("/Producer ("+kr(Y("jsPDF "+Ht.version))+")"),It)It.hasOwnProperty(_e)&&It[_e]&&xe("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+kr(Y(It[_e]))+")");xe("/CreationDate ("+kr(Y(pe))+")"),xe(">>"),xe("endobj")},Cf=x.__private__.putCatalog=function(F){var Y=(F=F||{}).rootDictionaryObjId||de;switch(Sn(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+Y+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+At;_e.substr(_e.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+I(At)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}Pt&&xe("/PageMode /"+Pt),Pr.publish("putCatalog"),xe(">>"),xe("endobj")},fn=x.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(Z+1)),xe("/Root "+Z+" 0 R"),xe("/Info "+(Z-1)+" 0 R"),h!==null&&xe("/Encrypt "+pa.oid+" 0 R"),xe("/ID [ <"+ne+"> <"+ne+"> ]"),xe(">>")},Hi=x.__private__.putHeader=function(){xe("%PDF-"+b),xe("%")},Vd=x.__private__.putXRef=function(){var F="0000000000";xe("xref"),xe("0 "+(Z+1)),xe("0000000000 65535 f ");for(var Y=1;Y<=Z;Y++)typeof oe[Y]=="function"?xe((F+oe[Y]()).slice(-10)+" 00000 n "):oe[Y]!==void 0?xe((F+oe[Y]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},Wo=x.__private__.buildDocument=function(){var F;Z=0,ae=0,ce=[],oe=[],Se=[],de=ea(),he=ea(),Ce(ce),Pr.publish("buildDocument"),Hi(),Be(),(function(){Pr.publish("putAdditionalObjects");for(var _e=0;_e<Se.length;_e++){var Ee=Se[_e];ee(Ee.objId,!0),xe(Ee.content),xe("endobj")}Pr.publish("postPutAdditionalObjects")})(),F=[],(function(){for(var _e in Nt)Nt.hasOwnProperty(_e)&&(p===!1||p===!0&&g.hasOwnProperty(_e))&&ze(Nt[_e])})(),(function(){var _e;for(_e in fr)fr.hasOwnProperty(_e)&&ht(fr[_e])})(),(function(){for(var _e in Ya)Ya.hasOwnProperty(_e)&&ut(Ya[_e])})(),(function(_e){var Ee;for(Ee in ar)ar.hasOwnProperty(Ee)&&(ar[Ee]instanceof N0?mt(ar[Ee]):ar[Ee]instanceof ym&&_t(ar[Ee],_e))})(F),Pr.publish("putResources"),F.forEach(vt),vt({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),Pr.publish("postPutResources"),h!==null&&(pa.oid=Sn(),xe("<<"),xe("/Filter /Standard"),xe("/V "+pa.v),xe("/R "+pa.r),xe("/U <"+pa.toHexString(pa.U)+">"),xe("/O <"+pa.toHexString(pa.O)+">"),xe("/P "+pa.P),xe(">>"),xe("endobj")),Ia(),Cf();var Y=ae;return Vd(),fn(),xe("startxref"),xe(""+Y),xe("%%EOF"),Ce(De[L]),ce.join(`
`)},Go=x.__private__.getBlob=function(F){return new Blob([Xe(F)],{type:"application/pdf"})},il=x.output=x.__private__.output=(qi=function(F,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",F){case void 0:return Wo();case"save":x.save(Y.filename);break;case"arraybuffer":return Xe(Wo());case"blob":return Go(Wo());case"bloburi":case"bloburl":if(mr.URL!==void 0&&typeof mr.URL.createObjectURL=="function")return mr.URL&&mr.URL.createObjectURL(Go(Wo()))||void 0;Mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ee=Wo();try{_e=k7(Ee)}catch{_e=k7(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+Y.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Pe=Y.pdfObjectUrl,et="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Ft=mr.open();return Ft!==null&&Ft.document.write(ot),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',or=mr.open();if(or!==null){or.document.write(Ut);var xr=this;or.document.documentElement.querySelector("#pdfViewer").onload=function(){or.document.title=Y.filename,or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Hn=mr.open();if(Hn!==null&&(Hn.document.write(Gr),Hn.document.title=Y.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return mr.document.location.href=this.output("datauristring",Y);default:return null}},qi.foo=function(){try{return qi.apply(this,arguments)}catch(_e){var F=_e.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var Y="Error in function "+F.split(`
`)[0].split("<")[0]+": "+_e.message;if(!mr.console)throw new Error(Y);mr.console.error(Y,_e),mr.alert&&alert(Y)}},qi.foo.bar=qi,qi.foo),so=function(F){return Array.isArray(Os)===!0&&Os.indexOf(F)>-1};switch(n){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=so("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);xt=n}var pa=null;te(),ve();var Ei=x.__private__.getPageInfo=x.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[F].objId,pageNumber:F,pageContext:Vt[F]}},Wd=x.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Vt)if(Vt[Y].objId===F)break;return Ei(Y)},xh=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Vt[L].objId,pageNumber:L,pageContext:Vt[L]}};x.addPage=function(){return $i.apply(this,arguments),this},x.setPage=function(){return Dl.apply(this,arguments),Ce.call(this,De[L]),this},x.insertPage=function(F){return this.addPage(),this.movePage(L,F),this},x.movePage=function(F,Y){var _e,Ee;if(F>Y){_e=De[F],Ee=Vt[F];for(var Pe=F;Pe>Y;Pe--)De[Pe]=De[Pe-1],Vt[Pe]=Vt[Pe-1];De[Y]=_e,Vt[Y]=Ee,this.setPage(Y)}else if(F<Y){_e=De[F],Ee=Vt[F];for(var et=F;et<Y;et++)De[et]=De[et+1],Vt[et]=Vt[et+1];De[Y]=_e,Vt[Y]=Ee,this.setPage(Y)}return this},x.deletePage=function(){return Ol.apply(this,arguments),this},x.__private__.text=x.text=function(F,Y,_e,Ee,Pe){var et,ot,Ft,Ut,or,xr,Gr,Hn,xa,jn=(Ee=Ee||{}).scope||this;if(typeof F=="number"&&typeof Y=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Ba=_e;_e=Y,Y=F,F=Ba}if(arguments[3]instanceof Wt==0?(Ft=arguments[4],Ut=arguments[5],_n(Gr=arguments[3])==="object"&&Gr!==null||(typeof Ft=="string"&&(Ut=Ft,Ft=null),typeof Gr=="string"&&(Ut=Gr,Gr=null),typeof Gr=="number"&&(Ft=Gr,Gr=null),Ee={flags:Gr,angle:Ft,align:Ut})):(B("The transform parameter of text() with a Matrix value"),xa=Pe),isNaN(Y)||isNaN(_e)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return jn;var ja,oi="",sl=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Ko,cs=jn.internal.scaleFactor;function Sh(Kr){return Kr=Kr.split("	").join(Array(Ee.TabLen||9).join(" ")),kr(Kr,Gr)}function Pf(Kr){for(var Br,An=Kr.concat(),va=[],vo=An.length;vo--;)typeof(Br=An.shift())=="string"?va.push(Br):Array.isArray(Kr)&&(Br.length===1||Br[1]===void 0&&Br[2]===void 0)?va.push(Br[0]):va.push([Br[0],Br[1],Br[2]]);return va}function Nu(Kr,Br){var An;if(typeof Kr=="string")An=Br(Kr)[0];else if(Array.isArray(Kr)){for(var va,vo,Il=Kr.concat(),Au=[],n0=Il.length;n0--;)typeof(va=Il.shift())=="string"?Au.push(Br(va)[0]):Array.isArray(va)&&typeof va[0]=="string"&&(vo=Br(va[0],va[1],va[2]),Au.push([vo[0],vo[1],vo[2]]));An=Au}return An}var uo=!1,Ll=!0;if(typeof F=="string")uo=!0;else if(Array.isArray(F)){var Su=F.concat();ot=[];for(var Rc,ci=Su.length;ci--;)(typeof(Rc=Su.shift())!="string"||Array.isArray(Rc)&&typeof Rc[0]!="string")&&(Ll=!1);uo=Ll}if(uo===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Ic=st/jn.internal.scaleFactor,Bc=Ic*(sl-1);switch(Ee.baseline){case"bottom":_e-=Bc;break;case"top":_e+=Ic-Bc;break;case"hanging":_e+=Ic-2*Bc;break;case"middle":_e+=Ic/2-Bc}if((xr=Ee.maxWidth||0)>0&&(typeof F=="string"?F=jn.splitTextToSize(F,xr):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(Kr,Br){return Kr.concat(jn.splitTextToSize(Br,xr))},[]))),et={text:F,x:Y,y:_e,options:Ee,mutex:{pdfEscape:kr,activeFontKey:Ct,fonts:Nt,activeFontSize:st}},Pr.publish("preProcessText",et),F=et.text,Ft=(Ee=et.options).angle,xa instanceof Wt==0&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,Ee.rotationDirection===0&&(Ft=-Ft),T===A&&(Ft=-Ft);var Ff=Math.cos(Ft),fo=Math.sin(Ft);xa=new Wt(Ff,fo,-fo,Ff,0,0)}else Ft&&Ft instanceof Wt&&(xa=Ft);T!==A||xa||(xa=al),(or=Ee.charSpace||Yo)!==void 0&&(oi+=M(K(or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hn=Ee.horizontalScale)!==void 0&&(oi+=M(100*Hn)+` Tz
`),Ee.lang;var ta=-1,ec=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Lf=jn.internal.getCurrentPageInfo().pageContext;switch(ec){case 0:case!1:case"fill":ta=0;break;case 1:case!0:case"stroke":ta=1;break;case 2:case"fillThenStroke":ta=2;break;case 3:case"invisible":ta=3;break;case 4:case"fillAndAddForClipping":ta=4;break;case 5:case"strokeAndAddPathForClipping":ta=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ta=6;break;case 7:case"addToPathForClipping":ta=7}var t0=Lf.usedRenderingMode!==void 0?Lf.usedRenderingMode:-1;ta!==-1?oi+=ta+` Tr
`:t0!==-1&&(oi+=`0 Tr
`),ta!==-1&&(Lf.usedRenderingMode=ta),Ut=Ee.align||"left";var Rs,Ml=st*sl,tc=jn.internal.pageSize.getWidth(),r0=Nt[Ct];or=Ee.charSpace||Yo,xr=Ee.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Rl=[],Uc=function(Kr){return jn.getStringUnitWidth(Kr,{font:r0,charSpace:or,fontSize:st,doKerning:!1})*st/cs};if(Object.prototype.toString.call(F)==="[object Array]"){var us;ot=Pf(F),Ut!=="left"&&(Rs=ot.map(Uc));var Wi,ho=0;if(Ut==="right"){Y-=Rs[0],F=[],ci=ot.length;for(var mo=0;mo<ci;mo++)mo===0?(Wi=Fs(Y),us=li(_e)):(Wi=K(ho-Rs[mo]),us=-Ml),F.push([ot[mo],Wi,us]),ho=Rs[mo]}else if(Ut==="center"){Y-=Rs[0]/2,F=[],ci=ot.length;for(var rc=0;rc<ci;rc++)rc===0?(Wi=Fs(Y),us=li(_e)):(Wi=K((ho-Rs[rc])/2),us=-Ml),F.push([ot[rc],Wi,us]),ho=Rs[rc]}else if(Ut==="left"){F=[],ci=ot.length;for(var Mf=0;Mf<ci;Mf++)F.push(ot[Mf])}else if(Ut==="justify"&&r0.encoding==="Identity-H"){F=[],ci=ot.length,xr=xr!==0?xr:tc;for(var Rf=0,ga=0;ga<ci;ga++)if(us=ga===0?li(_e):-Ml,Wi=ga===0?Fs(Y):Rf,ga<ci-1){var jh=K((xr-Rs[ga])/(ot[ga].split(" ").length-1)),po=ot[ga].split(" ");F.push([po[0]+" ",Wi,us]),Rf=0;for(var xo=1;xo<po.length;xo++){var ui=(Uc(po[xo-1]+" "+po[xo])-Uc(po[xo]))*cs+jh;xo==po.length-1?F.push([po[xo],ui,0]):F.push([po[xo]+" ",ui,0]),Rf-=ui}}else F.push([ot[ga],Wi,us]);F.push(["",Rf,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],ci=ot.length,xr=xr!==0?xr:tc,ga=0;ga<ci;ga++){us=ga===0?li(_e):-Ml,Wi=ga===0?Fs(Y):0;var nc=ot[ga].split(" ").length-1,If=nc>0?(xr-Rs[ga])/nc:0;ga<ci-1?Rl.push(M(K(If))):Rl.push(0),F.push([ot[ga],Wi,us])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Qt)===!0&&(F=Nu(F,function(Kr,Br,An){return[Kr.split("").reverse().join(""),Br,An]})),et={text:F,x:Y,y:_e,options:Ee,mutex:{pdfEscape:kr,activeFontKey:Ct,fonts:Nt,activeFontSize:st}},Pr.publish("postProcessText",et),F=et.text,ja=et.mutex.isHex||!1;var Bf=Nt[Ct].encoding;Bf!=="WinAnsiEncoding"&&Bf!=="StandardEncoding"||(F=Nu(F,function(Kr,Br,An){return[Sh(Kr),Br,An]})),ot=Pf(F),F=[];for(var ac,ic,go,ju=Array.isArray(ot[0])?1:0,Is="",sc=function(Kr,Br,An){var va="";return An instanceof Wt?(An=typeof Ee.angle=="number"?Tl(An,new Wt(1,0,0,1,Kr,Br)):Tl(new Wt(1,0,0,1,Kr,Br),An),T===A&&(An=Tl(new Wt(1,0,0,-1,0,0),An)),va=An.join(" ")+` Tm
`):va=M(Kr)+" "+M(Br)+` Td
`,va},ki=0;ki<ot.length;ki++){switch(Is="",ju){case 1:go=(ja?"<":"(")+ot[ki][0]+(ja?">":")"),ac=parseFloat(ot[ki][1]),ic=parseFloat(ot[ki][2]);break;case 0:go=(ja?"<":"(")+ot[ki]+(ja?">":")"),ac=Fs(Y),ic=li(_e)}Rl!==void 0&&Rl[ki]!==void 0&&(Is=Rl[ki]+` Tw
`),ki===0?F.push(Is+sc(ac,ic,xa)+go):ju===0?F.push(Is+go):ju===1&&F.push(Is+sc(ac,ic,xa)+go)}F=ju===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var ll=`BT
/`;return ll+=Ct+" "+st+` Tf
`,ll+=M(st*sl)+` TL
`,ll+=lo+`
`,ll+=oi,ll+=F,xe(ll+="ET"),g[Ct]=!0,jn};var Gd=x.__private__.clip=x.clip=function(F){return xe(F==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Gd("evenodd")},x.__private__.discardPath=x.discardPath=function(){return xe("n"),this};var Vi=x.__private__.isValidStyle=function(F){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(Y=!0),Y};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(F){return Vi(F)&&(f=F),this};var Kd=x.__private__.getStyle=x.getStyle=function(F){var Y=f;switch(F){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=F}return Y},Yd=x.close=function(){return xe("h"),this};x.stroke=function(){return xe("S"),this},x.fill=function(F){return Ps("f",F),this},x.fillEvenOdd=function(F){return Ps("f*",F),this},x.fillStroke=function(F){return Ps("B",F),this},x.fillStrokeEvenOdd=function(F){return Ps("B*",F),this};var Ps=function(F,Y){_n(Y)==="object"?vh(Y,F):xe(F)},Xd=function(F){F===null||T===A&&F===void 0||(F=Kd(F),xe(F))};function gh(F,Y,_e,Ee,Pe){var et=new ym(Y||this.boundingBox,_e||this.xStep,Ee||this.yStep,this.gState,Pe||this.matrix);et.stream=this.stream;var ot=F+"$$"+this.cloneIndex+++"$$";return si(ot,et),et}var vh=function(F,Y){var _e=Ar[F.key],Ee=ar[_e];if(Ee instanceof N0)xe("q"),xe(Qd(Y)),Ee.gState&&x.setGState(Ee.gState),xe(F.matrix.toString()+" cm"),xe("/"+_e+" sh"),xe("Q");else if(Ee instanceof ym){var Pe=new Wt(1,0,0,-1,0,Jo());F.matrix&&(Pe=Pe.multiply(F.matrix||al),_e=gh.call(Ee,F.key,F.boundingBox,F.xStep,F.yStep,Pe).id),xe("q"),xe("/Pattern cs"),xe("/"+_e+" scn"),Ee.gState&&x.setGState(Ee.gState),xe(Y),xe("Q")}},Qd=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Zd=x.moveTo=function(F,Y){return xe(M(K(F))+" "+M(J(Y))+" m"),this},xu=x.lineTo=function(F,Y){return xe(M(K(F))+" "+M(J(Y))+" l"),this},Pl=x.curveTo=function(F,Y,_e,Ee,Pe,et){return xe([M(K(F)),M(J(Y)),M(K(_e)),M(J(Ee)),M(K(Pe)),M(J(et)),"c"].join(" ")),this};x.__private__.line=x.line=function(F,Y,_e,Ee,Pe){if(isNaN(F)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||!Vi(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return T===E?this.lines([[_e-F,Ee-Y]],F,Y,[1,1],Pe||"S"):this.lines([[_e-F,Ee-Y]],F,Y,[1,1]).stroke()},x.__private__.lines=x.lines=function(F,Y,_e,Ee,Pe,et){var ot,Ft,Ut,or,xr,Gr,Hn,xa,jn,Ba,ja,oi;if(typeof F=="number"&&(oi=_e,_e=Y,Y=F,F=oi),Ee=Ee||[1,1],et=et||!1,isNaN(Y)||isNaN(_e)||!Array.isArray(F)||!Array.isArray(Ee)||!Vi(Pe)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zd(Y,_e),ot=Ee[0],Ft=Ee[1],or=F.length,Ba=Y,ja=_e,Ut=0;Ut<or;Ut++)(xr=F[Ut]).length===2?(Ba=xr[0]*ot+Ba,ja=xr[1]*Ft+ja,xu(Ba,ja)):(Gr=xr[0]*ot+Ba,Hn=xr[1]*Ft+ja,xa=xr[2]*ot+Ba,jn=xr[3]*Ft+ja,Ba=xr[4]*ot+Ba,ja=xr[5]*Ft+ja,Pl(Gr,Hn,xa,jn,Ba,ja));return et&&Yd(),Xd(Pe),this},x.path=function(F){for(var Y=0;Y<F.length;Y++){var _e=F[Y],Ee=_e.c;switch(_e.op){case"m":Zd(Ee[0],Ee[1]);break;case"l":xu(Ee[0],Ee[1]);break;case"c":Pl.apply(this,Ee);break;case"h":Yd()}}return this},x.__private__.rect=x.rect=function(F,Y,_e,Ee,Pe){if(isNaN(F)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||!Vi(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E&&(Ee=-Ee),xe([M(K(F)),M(J(Y)),M(K(_e)),M(K(Ee)),"re"].join(" ")),Xd(Pe),this},x.__private__.triangle=x.triangle=function(F,Y,_e,Ee,Pe,et,ot){if(isNaN(F)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||isNaN(Pe)||isNaN(et)||!Vi(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-F,Ee-Y],[Pe-_e,et-Ee],[F-Pe,Y-et]],F,Y,[1,1],ot,!0),this},x.__private__.roundedRect=x.roundedRect=function(F,Y,_e,Ee,Pe,et,ot){if(isNaN(F)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||isNaN(Pe)||isNaN(et)||!Vi(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*_e),et=Math.min(et,.5*Ee),this.lines([[_e-2*Pe,0],[Pe*Ft,0,Pe,et-et*Ft,Pe,et],[0,Ee-2*et],[0,et*Ft,-Pe*Ft,et,-Pe,et],[2*Pe-_e,0],[-Pe*Ft,0,-Pe,-et*Ft,-Pe,-et],[0,2*et-Ee],[0,-et*Ft,Pe*Ft,-et,Pe,-et]],F+Pe,Y,[1,1],ot,!0),this},x.__private__.ellipse=x.ellipse=function(F,Y,_e,Ee,Pe){if(isNaN(F)||isNaN(Y)||isNaN(_e)||isNaN(Ee)||!Vi(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*_e,ot=4/3*(Math.SQRT2-1)*Ee;return Zd(F+_e,Y),Pl(F+_e,Y-ot,F+et,Y-Ee,F,Y-Ee),Pl(F-et,Y-Ee,F-_e,Y-ot,F-_e,Y),Pl(F-_e,Y+ot,F-et,Y+Ee,F,Y+Ee),Pl(F+et,Y+Ee,F+_e,Y+ot,F+_e,Y),Xd(Pe),this},x.__private__.circle=x.circle=function(F,Y,_e,Ee){if(isNaN(F)||isNaN(Y)||isNaN(_e)||!Vi(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,Y,_e,_e,Ee)},x.setFont=function(F,Y,_e){return _e&&(Y=D(Y,_e)),Ct=Fc(F,Y,{disableWarning:!1}),this};var Fl=x.__private__.getFont=x.getFont=function(){return Nt[Fc.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var F,Y,_e={};for(F in er)if(er.hasOwnProperty(F))for(Y in _e[F]=[],er[F])er[F].hasOwnProperty(Y)&&_e[F].push(Y);return _e},x.addFont=function(F,Y,_e,Ee,Pe){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(_e=D(_e,Ee)),an.call(this,F,Y,_e,Pe=Pe||"Identity-H")};var Ko,gu=e.lineWidth||.200025,ir=x.__private__.getLineWidth=x.getLineWidth=function(){return gu},Lc=x.__private__.setLineWidth=x.setLineWidth=function(F){return gu=F,xe(M(K(F))+" w"),this};x.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(F,Y){if(F=F||[],Y=Y||0,isNaN(Y)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(_e){return M(K(_e))}).join(" "),Y=M(K(Y)),xe("["+F+"] "+Y+" d"),this};var yh=x.__private__.getLineHeight=x.getLineHeight=function(){return st*Ko};x.__private__.getLineHeight=x.getLineHeight=function(){return st*Ko};var Jd=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(Ko=F),this},bh=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Ko};Jd(e.lineHeight);var Fs=x.__private__.getHorizontalCoordinate=function(F){return K(F)},li=x.__private__.getVerticalCoordinate=function(F){return T===A?F:Vt[L].mediaBox.topRightY-Vt[L].mediaBox.bottomLeftY-K(F)},e0=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(F){return M(Fs(F))},vu=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(F){return M(li(F))},Ls=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ge(Ls)},x.__private__.setStrokeColor=x.setDrawColor=function(F,Y,_e,Ee){return Ls=Ne({ch1:F,ch2:Y,ch3:_e,ch4:Ee,pdfColorType:"draw",precision:2}),xe(Ls),this};var yu=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ge(yu)},x.__private__.setFillColor=x.setFillColor=function(F,Y,_e,Ee){return yu=Ne({ch1:F,ch2:Y,ch3:_e,ch4:Ee,pdfColorType:"fill",precision:2}),xe(yu),this};var lo=e.textColor||"0 g",bu=x.__private__.getTextColor=x.getTextColor=function(){return ge(lo)};x.__private__.setTextColor=x.setTextColor=function(F,Y,_e,Ee){return lo=Ne({ch1:F,ch2:Y,ch3:_e,ch4:Ee,pdfColorType:"text",precision:3}),this};var Yo=e.charSpace,Tf=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Yo||0)};x.__private__.setCharSpace=x.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yo=F,this};var Of=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(F){var Y=x.CapJoinStyles[F];if(Y===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Of=Y,xe(Y+" J"),this};var Xa=0;x.__private__.setLineJoin=x.setLineJoin=function(F){var Y=x.CapJoinStyles[F];if(Y===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xa=Y,xe(Y+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(M(K(F))+" M"),this},x.GState=Hy,x.setGState=function(F){(F=typeof F=="string"?fr[pn[F]]:Ms(null,F)).equals(In)||(xe("/"+F.id+" gs"),In=F)};var Ms=function(F,Y){if(!F||!pn[F]){var _e=!1;for(var Ee in fr)if(fr.hasOwnProperty(Ee)&&fr[Ee].equals(Y)){_e=!0;break}if(_e)Y=fr[Ee];else{var Pe="GS"+(Object.keys(fr).length+1).toString(10);fr[Pe]=Y,Y.id=Pe}return F&&(pn[F]=Y.id),Pr.publish("addGState",Y),Y}};x.addGState=function(F,Y){return Ms(F,Y),this},x.saveGraphicsState=function(){return xe("q"),br.push({key:Ct,size:st,color:lo}),this},x.restoreGraphicsState=function(){xe("Q");var F=br.pop();return Ct=F.key,st=F.size,lo=F.color,In=null,this},x.setCurrentTransformationMatrix=function(F){return xe(F.toString()+" cm"),this},x.comment=function(F){return xe("#"+F),this};var oo=function(F,Y){var _e=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(et){isNaN(et)||(_e=parseFloat(et))}});var Ee=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(et){isNaN(et)||(Ee=parseFloat(et))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(et){Pe=et.toString()}}),this},Xo=function(F,Y,_e,Ee){oo.call(this,F,Y),this.type="rect";var Pe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(ot){isNaN(ot)||(Pe=parseFloat(ot))}});var et=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ot){isNaN(ot)||(et=parseFloat(ot))}}),this},Df=function(){this.page=qr,this.currentPage=L,this.pages=De.slice(0),this.pagesContext=Vt.slice(0),this.x=St,this.y=Nr,this.matrix=Yt,this.width=Mc(L),this.height=co(L),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Df.prototype.restore=function(){qr=this.page,L=this.currentPage,Vt=this.pagesContext,De=this.pages,St=this.x,Nr=this.y,Yt=this.matrix,_u(L,this.width),Zo(L,this.height),Ke=this.outputDestination};var wu=function(F,Y,_e,Ee,Pe){os.push(new Df),qr=L=0,De=[],St=F,Nr=Y,Yt=Pe,un([_e,Ee])};for(var Qo in x.beginFormObject=function(F,Y,_e,Ee,Pe){return wu(F,Y,_e,Ee,Pe),this},x.endFormObject=function(F){return(function(Y){if(nl[Y])os.pop().restore();else{var _e=new Df,Ee="Xo"+(Object.keys(Ya).length+1).toString(10);_e.id=Ee,nl[Y]=Ee,Ya[Ee]=_e,Pr.publish("addFormObject",_e),os.pop().restore()}})(F),this},x.doFormObject=function(F,Y){var _e=Ya[nl[F]];return xe("q"),xe(Y.toString()+" cm"),xe("/"+_e.id+" Do"),xe("Q"),this},x.getFormObject=function(F){var Y=Ya[nl[F]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},x.save=function(F,Y){return F=F||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(w0(Go(Wo()),F),typeof w0.unload=="function"&&mr.setTimeout&&setTimeout(w0.unload,911),this):new Promise(function(_e,Ee){try{var Pe=w0(Go(Wo()),F);typeof w0.unload=="function"&&mr.setTimeout&&setTimeout(w0.unload,911),_e(Pe)}catch(et){Ee(et.message)}})},Ht.API)Ht.API.hasOwnProperty(Qo)&&(Qo==="events"&&Ht.API.events.length?(function(F,Y){var _e,Ee,Pe;for(Pe=Y.length-1;Pe!==-1;Pe--)_e=Y[Pe][0],Ee=Y[Pe][1],F.subscribe.apply(F,[_e].concat(typeof Ee=="function"?[Ee]:Ee))})(Pr,Ht.API.events):x[Qo]=Ht.API[Qo]);function Mc(F){return Vt[F].mediaBox.topRightX-Vt[F].mediaBox.bottomLeftX}function _u(F,Y){Vt[F].mediaBox.topRightX=Y+Vt[F].mediaBox.bottomLeftX}function co(F){return Vt[F].mediaBox.topRightY-Vt[F].mediaBox.bottomLeftY}function Zo(F,Y){Vt[F].mediaBox.topRightY=Y+Vt[F].mediaBox.bottomLeftY}var wh=x.getPageWidth=function(F){return Mc(F=F||L)/xt},_h=x.setPageWidth=function(F,Y){_u(F,Y*xt)},Jo=x.getPageHeight=function(F){return co(F=F||L)/xt},Nh=x.setPageHeight=function(F,Y){Zo(F,Y*xt)};return x.internal={pdfEscape:kr,getStyle:Kd,getFont:Fl,getFontSize:pt,getCharSpace:Tf,getTextColor:bu,getLineHeight:yh,getLineHeightFactor:bh,getLineWidth:ir,write:dt,getHorizontalCoordinate:Fs,getVerticalCoordinate:li,getCoordinateString:e0,getVerticalCoordinateString:vu,collections:{},newObject:Sn,newAdditionalObject:we,newObjectDeferred:ea,newObjectDeferredBegin:ee,getFilters:Me,putStream:Ge,events:Pr,scaleFactor:xt,pageSize:{getWidth:function(){return wh(L)},setWidth:function(F){_h(L,F)},getHeight:function(){return Jo(L)},setHeight:function(F){Nh(L,F)}},encryptionOptions:h,encryption:pa,getEncryptor:function(F){return h!==null?pa.encryptor(F,0):function(Y){return Y}},output:il,getNumberOfPages:Ds,pages:De,out:xe,f2:I,f3:z,getPageInfo:Ei,getPageInfoByObjId:Wd,getCurrentPageInfo:xh,getPDFVersion:y,Point:oo,Rectangle:Xo,Matrix:Wt,hasHotfix:so},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return wh(L)},set:function(F){_h(L,F)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Jo(L)},set:function(F){Nh(L,F)},enumerable:!0,configurable:!0}),(function(F){for(var Y=0,_e=wt.length;Y<_e;Y++){var Ee=an.call(this,F[Y][0],F[Y][1],F[Y][2],wt[Y][3],!0);p===!1&&(g[Ee]=!0);var Pe=F[Y][0].split("-");Tt({id:Ee,fontName:Pe[0],fontStyle:Pe[1]||""})}Pr.publish("addFonts",{fonts:Nt,dictionary:er})}).call(x,wt),Ct="F1",$i(a,r),Pr.publish("initialized"),x}pm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},pm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},pm.prototype.processOwnerPassword=function(e,t){return mN(hN(t).substr(0,5),e)},pm.prototype.encryptor=function(e,t){var r=hN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return mN(r,n)}},Hy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_n(e)!==_n(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ht.API={events:[]},Ht.version="3.0.3";var Da=Ht.API,Oj=1,ph=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},dd=function(e){return e.toFixed(5)};Da.__acroform__={};var Cl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},D7=function(e){return e*Oj},au=function(e){var t=new MB,r=Rt.internal.getHeight(e)||0,n=Rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},G5e=Da.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},K5e=Da.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Y5e=Da.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ha=Da.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Y5e(e,t-1)},Va=Da.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G5e(e,t-1)},Wa=Da.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K5e(e,t-1)},X5e=Da.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=n(i+o)||0,u.upperRight_X=r(a+s)||0,u.upperRight_Y=n(i)||0,[Number(yr(u.lowerLeft_X)),Number(yr(u.lowerLeft_Y)),Number(yr(u.upperRight_X)),Number(yr(u.upperRight_Y))]},Q5e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=pN(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=au(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},pN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=r,s=Rt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Rt.internal.getWidth(e)||0;o=o<0?-o:o;var u=function(I,z,K){if(I+1<a.length){var J=z+" "+a[I+1][0];return wv(J,e,K).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var f,h,p=wv("3",e,i).height,g=e.multiline?s-i:(s-p)/2,x=g+=2,b=0,y=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+wv(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var _="",E=0,A=0;A<a.length;A++)if(a.hasOwnProperty(A)){var T=!1;if(a[A].length!==1&&w!==a[A].length-1){if((p+2)*(E+2)+2>s)continue e;_+=a[A][w],T=!0,y=A,A--}else{_=(_+=a[A][w]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var O=parseInt(A),R=u(O,_,i),D=A>=a.length-1;if(R&&!D){_+=" ",w=0;continue}if(R||D){if(D)y=O;else if(e.multiline&&(p+2)*(E+2)+2>s)continue e}else{if(!e.multiline||(p+2)*(E+2)+2>s)continue e;y=O}}for(var M="",B=b;B<=y;B++){var G=a[B];if(e.multiline){if(B===y){M+=G[w]+" ",w=(w+1)%G.length;continue}if(B===b){M+=G[G.length-1]+" ";continue}}M+=G[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=wv(M,e,i).width,e.textAlign){case"right":f=o-h-2;break;case"center":f=(o-h)/2;break;default:f=2}t+=yr(f)+" "+yr(x)+` Td
`,t+="("+ph(M)+`) Tj
`,t+=-yr(f)+` 0 Td
`,x=-(i+2),h=0,b=T?y:y+1,E++,_=""}break}return n.text=t,n.fontSize=i,n},wv=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Z5e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},J5e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},e4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Dc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Z5e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Oj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new RB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&J5e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],u=[],f=o.Rect;if(o.Rect&&(o.Rect=X5e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Rt.createDefaultAppearanceStream(o),_n(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Q5e(o);u.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var s in x)if(x.hasOwnProperty(s)){var b=x[s];typeof b=="function"&&(b=b.call(a,o)),p+="/"+s+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=x)=="function"&&(b=b.call(a,o)),p+="/"+s+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:o.objId}),a.internal.out("endobj")}i&&(function(y,w){for(var _ in y)if(y.hasOwnProperty(_)){var E=_,A=y[_];w.internal.newObjectDeferredBegin(A.objId,!0),_n(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete y[E]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},LB=Da.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),_n(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+ph(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},j4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+ph(n(e))+")"},lu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};lu.prototype.toString=function(){return this.objId+" 0 R"},lu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},lu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:LB(a,this.objId,this.scope)}):a instanceof lu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var MB=function(){lu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Cl(MB,lu);var RB=function(){lu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ph(r(e))+")"}},set:function(r){e=r}})};Cl(RB,lu);var Dc=function e(){lu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ha(t,3)},set:function(_){_?this.F=Va(t,3):this.F=Wa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Vy)return;i="FieldObject"+e.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+ph(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Oj:f},set:function(_){f=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Vy||this instanceof R0))return j4(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Mi==0?j4(g,this.objId,this.scope):g},set:function(_){_=_.toString(),g=this instanceof Mi==0?_.substr(0,1)==="("?dm(_.substr(1,_.length-2)):dm(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?dm(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Mi==1?"/"+_:_}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Mi==0?j4(x,this.objId,this.scope):x},set:function(_){_=_.toString(),x=this instanceof Mi==0?_.substr(0,1)==="("?dm(_.substr(1,_.length-2)):dm(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?dm(x.substr(1,x.length-1)):x},set:function(_){_=_.toString(),x=this instanceof Mi==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(_){_=!!_,y=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(_){b=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,1)},set:function(_){_?this.Ff=Va(this.Ff,1):this.Ff=Wa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,2)},set:function(_){_?this.Ff=Va(this.Ff,2):this.Ff=Wa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,3)},set:function(_){_?this.Ff=Va(this.Ff,3):this.Ff=Wa(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');w=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(w){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Cl(Dc,lu);var km=function(){Dc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LB(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,o){o||(o=1);for(var u,f=[];u=s.exec(i);)f.push(u[o]);return f})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,18)},set:function(r){r?this.Ff=Va(this.Ff,18):this.Ff=Wa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Va(this.Ff,19):this.Ff=Wa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,20)},set:function(r){r?(this.Ff=Va(this.Ff,20),t.sort()):this.Ff=Wa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,22)},set:function(r){r?this.Ff=Va(this.Ff,22):this.Ff=Wa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,23)},set:function(r){r?this.Ff=Va(this.Ff,23):this.Ff=Wa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,27)},set:function(r){r?this.Ff=Va(this.Ff,27):this.Ff=Wa(this.Ff,27)}}),this.hasAppearanceStream=!1};Cl(km,Dc);var Cm=function(){km.call(this),this.fontName="helvetica",this.combo=!1};Cl(Cm,km);var Tm=function(){Cm.call(this),this.combo=!0};Cl(Tm,Cm);var Pv=function(){Tm.call(this),this.edit=!0};Cl(Pv,Tm);var Mi=function(){Dc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,15)},set:function(r){r?this.Ff=Va(this.Ff,15):this.Ff=Wa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,16)},set:function(r){r?this.Ff=Va(this.Ff,16):this.Ff=Wa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,17)},set:function(r){r?this.Ff=Va(this.Ff,17):this.Ff=Wa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,26)},set:function(r){r?this.Ff=Va(this.Ff,26):this.Ff=Wa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+ph(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){_n(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Cl(Mi,Dc);var Fv=function(){Mi.call(this),this.pushButton=!0};Cl(Fv,Mi);var Om=function(){Mi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Cl(Om,Mi);var Vy=function(){var e,t;Dc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+ph(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){_n(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cl(Vy,Dc),Om.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Om.prototype.createOption=function(e){var t=new Vy;return t.Parent=this,t.optionName=e,this.Kids.push(t),t4e.call(this.scope,t),t};var Lv=function(){Mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};Cl(Lv,Mi);var R0=function(){Dc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,13)},set:function(t){t?this.Ff=Va(this.Ff,13):this.Ff=Wa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,21)},set:function(t){t?this.Ff=Va(this.Ff,21):this.Ff=Wa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,23)},set:function(t){t?this.Ff=Va(this.Ff,23):this.Ff=Wa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,24)},set:function(t){t?this.Ff=Va(this.Ff,24):this.Ff=Wa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,25)},set:function(t){t?this.Ff=Va(this.Ff,25):this.Ff=Wa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,26)},set:function(t){t?this.Ff=Va(this.Ff,26):this.Ff=Wa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cl(R0,Dc);var Mv=function(){R0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ha(this.Ff,14)},set:function(e){e?this.Ff=Va(this.Ff,14):this.Ff=Wa(this.Ff,14)}}),this.password=!0};Cl(Mv,R0);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=pN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=au(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Rt.internal.getHeight(e),s=Rt.internal.getWidth(e),o=pN(e,e.caption);return a.push("1 g"),a.push("0 0 "+yr(s)+" "+yr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yr(s-1)+" "+yr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Circle.YesNormal,t.D[e]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Rt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+dd(Rt.internal.getWidth(e)/2)+" "+dd(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5)),s=Number((n*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+dd(Rt.internal.getWidth(e)/2)+" "+dd(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+dd(Rt.internal.getWidth(e)/2)+" "+dd(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+dd(Rt.internal.getWidth(e)/2)+" "+dd(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Cross.YesNormal,t.D[e]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=au(e);t.scope=e.scope;var r=[],n=Rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr(Rt.internal.getWidth(e)-2)+" "+yr(Rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=au(e);t.scope=e.scope;var r=Rt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr(Rt.internal.getWidth(e)-2)+" "+yr(Rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=au(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Rt.internal.getWidth(e))+" "+yr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rt.internal.getWidth(e),r=Rt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Rt.internal.getWidth=function(e){var t=0;return _n(e)==="object"&&(t=D7(e.Rect[2])),t},Rt.internal.getHeight=function(e){var t=0;return _n(e)==="object"&&(t=D7(e.Rect[3])),t};var t4e=Da.addField=function(e){if(e4e(this,e),!(e instanceof Dc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Da.AcroFormChoiceField=km,Da.AcroFormListBox=Cm,Da.AcroFormComboBox=Tm,Da.AcroFormEditBox=Pv,Da.AcroFormButton=Mi,Da.AcroFormPushButton=Fv,Da.AcroFormRadioButton=Om,Da.AcroFormCheckBox=Lv,Da.AcroFormTextField=R0,Da.AcroFormPasswordField=Mv,Da.AcroFormAppearance=Rt,Da.AcroForm={ChoiceField:km,ListBox:Cm,ComboBox:Tm,EditBox:Pv,Button:Mi,PushButton:Fv,RadioButton:Om,CheckBox:Lv,TextField:R0,PasswordField:Mv,Appearance:Rt},Ht.AcroForm={ChoiceField:km,ListBox:Cm,ComboBox:Tm,EditBox:Pv,Button:Mi,PushButton:Fv,RadioButton:Om,CheckBox:Lv,TextField:R0,PasswordField:Mv,Appearance:Rt};Ht.AcroForm;function IB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(I,z){var K,J,pe,ne,le,ve=r;if((z=z||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(R(I))for(le in n)for(pe=n[le],K=0;K<pe.length;K+=1){for(ne=!0,J=0;J<pe[K].length;J+=1)if(pe[K][J]!==void 0&&pe[K][J]!==I[J]){ne=!1;break}if(ne===!0){ve=le;break}}else for(le in n)for(pe=n[le],K=0;K<pe.length;K+=1){for(ne=!0,J=0;J<pe[K].length;J+=1)if(pe[K][J]!==void 0&&pe[K][J]!==I.charCodeAt(J)){ne=!1;break}if(ne===!0){ve=le;break}}return ve===r&&z!==r&&(ve=z),ve},i=function I(z){for(var K=this.internal.write,J=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:z.width}),ne.push({key:"Height",value:z.height}),z.colorSpace===_.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===_.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var le="",ve=0,ue=z.transparency.length;ve<ue;ve++)le+=z.transparency[ve]+" "+z.transparency[ve]+" ";ne.push({key:"Mask",value:"["+le+"]"})}z.sMask!==void 0&&ne.push({key:"SMask",value:z.objectId+1+" 0 R"});var je=z.filter!==void 0?["/"+z.filter]:void 0;if(J({data:z.data,additionalKeyValues:ne,alreadyAppliedFilters:je,objectId:z.objectId}),K("endobj"),"sMask"in z&&z.sMask!==void 0){var te,P=(te=z.sMaskBitsPerComponent)!==null&&te!==void 0?te:z.bitsPerComponent,L={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:z.sMask};"filter"in z&&(L.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(z.width),L.filter=z.filter),I.call(this,L)}if(z.colorSpace===_.INDEXED){var q=this.internal.newObject();J({data:M(new Uint8Array(z.palette)),objectId:q}),K("endobj")}},s=function(){var I=this.internal.collections[t+"images"];for(var z in I)i.call(this,I[z])},o=function(){var I,z=this.internal.collections[t+"images"],K=this.internal.write;for(var J in z)K("/I"+(I=z[J]).index,I.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var I=this.internal.collections[t+"images"];return u.call(this),I},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(I){return typeof e["process"+I.toUpperCase()]=="function"},g=function(I){return _n(I)==="object"&&I.nodeType===1},x=function(I,z){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var K=""+I.getAttribute("src");if(K.indexOf("data:image/")===0)return Dv(unescape(K).split("base64,").pop());var J=e.loadFile(K,!0);if(J!==void 0)return J}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var pe;switch(z){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Dv(I.toDataURL(pe,1).split("base64,").pop())}},b=function(I){var z=this.internal.collections[t+"images"];if(z){for(var K in z)if(I===z[K].alias)return z[K]}},y=function(I,z,K){return I||z||(I=-96,z=-96),I<0&&(I=-1*K.width*72/I/this.internal.scaleFactor),z<0&&(z=-1*K.height*72/z/this.internal.scaleFactor),I===0&&(I=z*K.width/K.height),z===0&&(z=I*K.height/K.width),[I,z]},w=function(I,z,K,J,pe,ne){var le=y.call(this,K,J,pe),ve=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,je=f.call(this);if(K=le[0],J=le[1],je[pe.index]=pe,ne){ne*=Math.PI/180;var te=Math.cos(ne),P=Math.sin(ne),L=function(W){return W.toFixed(4)},q=[L(te),L(P),L(-1*P),L(te),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,ve(I),ue(z+J),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ve(K),"0","0",ve(J),"0","0","cm"].join(" "))):this.internal.write([ve(K),"0","0",ve(J),ve(I),ue(z+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},_=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(I){var z,K,J=0;if(typeof I=="string")for(K=I.length,z=0;z<K;z++)J=(J<<5)-J+I.charCodeAt(z),J|=0;else if(R(I))for(K=I.byteLength/2,z=0;z<K;z++)J=(J<<5)-J+I[z],J|=0;return J},T=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var z=!0;return I.length===0&&(z=!1),I.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(z=!1),z},O=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var z=I.indexOf(",");return z<0?null:I.substring(0,z).trim().endsWith("base64")?I.substring(z+1):null};e.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var R=e.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function(I){for(var z=I.length,K=new Uint8Array(z),J=0;J<z;J++)K[J]=I.charCodeAt(J);return K},M=e.__addimage__.arrayBufferToBinaryString=function(I){for(var z="",K=R(I)?I:new Uint8Array(I),J=0;J<K.length;J+=8192)z+=String.fromCharCode.apply(null,K.subarray(J,J+8192));return z};e.addImage=function(){var I,z,K,J,pe,ne,le,ve,ue;if(typeof arguments[1]=="number"?(z=r,K=arguments[1],J=arguments[2],pe=arguments[3],ne=arguments[4],le=arguments[5],ve=arguments[6],ue=arguments[7]):(z=arguments[1],K=arguments[2],J=arguments[3],pe=arguments[4],ne=arguments[5],le=arguments[6],ve=arguments[7],ue=arguments[8]),_n(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var je=I;I=je.imageData,z=je.format||z||r,K=je.x||K||0,J=je.y||J||0,pe=je.w||je.width||pe,ne=je.h||je.height||ne,le=je.alias||le,ve=je.compression||ve,ue=je.rotation||je.angle||ue}var te=this.internal.getFilters();if(ve===void 0&&te.indexOf("FlateEncode")!==-1&&(ve="SLOW"),isNaN(K)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=B.call(this,I,z,le,ve);return w.call(this,K,J,pe,ne,P,ue),this};var B=function(I,z,K,J){var pe,ne,le;if(typeof I=="string"&&a(I)===r){I=unescape(I);var ve=G(I,!1);(ve!==""||(ve=e.loadFile(I,!0))!==void 0)&&(I=ve)}if(g(I)&&(I=x(I,z)),z=a(I,z),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((le=K)==null||le.length===0)&&(K=(function(ue){return typeof ue=="string"||R(ue)?A(ue):R(ue.data)?A(ue.data):null})(I)),(pe=b.call(this,K))||(I instanceof Uint8Array||z==="RGBA"||(ne=I,I=D(I)),pe=this["process"+z.toUpperCase()](I,h.call(this),K,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:E.NONE})(J),ne)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},G=e.__addimage__.convertBase64ToBinaryString=function(I,z){z=typeof z!="boolean"||z;var K,J="";if(typeof I=="string"){var pe;K=(pe=O(I))!==null&&pe!==void 0?pe:I;try{J=Dv(K)}catch(ne){if(z)throw T(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(I){var z,K,J="";if(g(I)&&(I=x(I)),typeof I=="string"&&a(I)===r&&((J=G(I,!1))===""&&(J=e.loadFile(I)||""),I=J),K=a(I),!p(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(I instanceof Uint8Array||(I=D(I)),!(z=this["process"+K.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=K,z}})(Ht.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((n=f[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){n=f[g];var x=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(y.objId),E=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+x(_(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+x(_(E))+") >>",y.content=i;var A=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(y.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var R=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(r),y:f(n),w:u(r+a),h:f(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,u=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;s=Math.ceil(f*h)}else o=u,s=f;return this.text(r,n,a,i),a+=.2*f,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,a-f,o,s,i),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ht.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&a.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(y){var w=0,_=r,E="",A=0;for(w=0;w<y.length;w+=1)_[y.charCodeAt(w)]!==void 0?(A++,typeof(_=_[y.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(_),_=r,A=0),w===y.length-1&&(_=r,E+=y.charAt(w-(A-1)),w-=A-1,A=0)):(_=r,E+=y.charAt(w-A),w-=A,A=0);return E};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(y,w,_){return s(y)?i(y)===!1?-1:!f(y)||!s(w)&&!s(_)||!s(_)&&o(w)||o(y)&&!s(w)||o(y)&&u(w)||o(y)&&o(w)?0:h(y)&&s(w)&&!o(w)&&s(_)&&f(_)?3:o(y)||!s(_)?1:2:-1},x=function(y){var w=0,_=0,E=0,A="",T="",O="",R=(y=y||"").split("\\s+"),D=[];for(w=0;w<R.length;w+=1){for(D.push(""),_=0;_<R[w].length;_+=1)A=R[w][_],T=R[w][_-1],O=R[w][_+1],s(A)?(E=g(A,T,O),D[w]+=E!==-1?String.fromCharCode(t[A.charCodeAt(0)][E]):A):D[w]+=A;D[w]=p(D[w])}return D.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var y,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(w)){var E=0;for(_=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?_.push([x(w[E][0]),w[E][1],w[E][2]]):_.push([x(w[E])]);y=_}else y=x(w);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",b])})(Ht.API),Ht.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ht.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(y){x=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){n.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,x=0,b=0,y=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var _=f.maxWidth;_>0?typeof u=="string"?u=this.splitTextToSize(u,_):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(A,T){return A.concat(w.splitTextToSize(T,_))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)x<(y=this.getStringUnitWidth(u[E],{font:p})*h)&&(x=y);return x!==0&&(b=u.length),{w:x/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,x&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,p,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var x,b,y,w,_=[],E=[],A=[],T={},O={},R=[],D=[],M=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,G=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,I=g.margins||Object.assign({width:this.getPageWidth()},t),z=typeof g.padding=="number"?g.padding:3,K=g.headerBackgroundColor||"#c8c8c8",J=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=J,this.setFontSize(G),p==null)E=_=Object.keys(h[0]),A=_.map(function(){return"left"});else if(Array.isArray(p)&&_n(p[0])==="object")for(_=p.map(function(je){return je.name}),E=p.map(function(je){return je.prompt||je.name||""}),A=p.map(function(je){return je.align||"left"}),x=0;x<p.length;x+=1)O[p[x].name]=.7499990551181103*p[x].width;else Array.isArray(p)&&typeof p[0]=="string"&&(E=_=p,A=_.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(x=0;x<_.length;x+=1){for(T[w=_[x]]=h.map(function(je){return je[w]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(E[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=T[w],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)R.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,R)+z+z,R=[]}if(B){var pe={};for(x=0;x<_.length;x+=1)pe[_[x]]={},pe[_[x]].text=E[x],pe[_[x]].align=A[x];var ne=o.call(this,pe,O);D=_.map(function(je){return new i(u,f,O[je],ne,pe[je].text,void 0,pe[je].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var le=p.reduce(function(je,te){return je[te.name]=te.align,je},{});for(x=0;x<h.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:h[x]},this);var ve=o.call(this,h[x],O);for(y=0;y<_.length;y+=1){var ue=h[x][_[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:y,data:ue},this),s.call(this,new i(u,f,O[_[y]],ve,ue,x+2,le[_[y]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var o=function(u,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(x){var b=u[x];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*p/g+h+h},this).reduce(function(x,b){return Math.max(x,b)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Ht.API);var BB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xN=IB(UB),zB=[100,200,300,400,500,600,700,800,900],r4e=IB(zB);function A4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return BB[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof xN[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function P7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var n4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},F7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function L7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function M7(e){return e.trimLeft()}function a4e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function i4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var _v,R7,I7,hm,Nv,B7,U7,z7,E4=["times"];function q7(e,t,r,n,a){var i=4,s=H7;switch(a){case Ht.API.image_compression.FAST:i=1,s=$7;break;case Ht.API.image_compression.MEDIUM:i=6,s=V7;break;case Ht.API.image_compression.SLOW:i=9,s=W7}e=(function(u,f,h,p){for(var g,x=u.length/f,b=new Uint8Array(u.length+x),y=[s4e,$7,H7,V7,W7],w=0;w<x;w+=1){var _=w*f,E=u.subarray(_,_+f);if(p)b.set(p(E,h,g),_+w);else{for(var A=y.length,T=[],O=0;O<A;O+=1)T[O]=y[O](E,h,g);var R=o4e(T.concat());b.set(T[R],_+w)}g=E}return b})(e,t,Math.ceil(r*n/8),s);var o=cN(e,{level:i});return Ht.API.__addimage__.arrayBufferToBinaryString(o)}function s4e(e){var t=Array.apply([],e);return t.unshift(0),t}function $7(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function H7(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=e[i]-s+256&255}return a}function V7(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(s+o>>>1)&255}return a}function W7(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=l4e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-s+256&255}return a}function l4e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function o4e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function k4(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return qB(e,a)>>i&s}function G7(e,t,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),o=(1<<n)-1,u=(t&o)<<s;(function(f,h,p){if(h+1<f.byteLength)f.setUint16(h,p,!1);else{var g=p>>8&255;f.setUint8(h,g)}})(e,i,qB(e,i)&~(o<<s)&65535|u)}function qB(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function c4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<1+(7&a);e[t++],e[t++];var o=null,u=null;i&&(o=t,u=s,t+=3*s);var f=!0,h=[],p=0,g=null,x=0,b=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],1&y||(g=null),x=y>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,T=e[t++],O=T>>6&1,R=1<<1+(7&T),D=o,M=u,B=!1;T>>7&&(B=!0,D=t,M=R,t+=3*R);var G=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}h.push({x:w,y:_,width:E,height:A,has_local_palette:B,palette_offset:D,palette_size:M,data_offset:G,data_length:t-G,transparent_index:g,interlaced:!!O,delay:p,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(z){if(z<0||z>=h.length)throw new Error("Frame index out of range.");return h[z]},this.decodeAndBlitFrameBGRA=function(z,K){var J=this.frameInfo(z),pe=J.width*J.height,ne=new Uint8Array(pe);K7(e,J.data_offset,ne,pe);var le=J.palette_offset,ve=J.transparent_index;ve===null&&(ve=256);var ue=J.width,je=r-ue,te=ue,P=4*(J.y*r+J.x),L=4*((J.y+J.height)*r+J.x),q=P,W=4*je;J.interlaced===!0&&(W+=4*r*7);for(var Z=8,oe=0,ce=ne.length;oe<ce;++oe){var ae=ne[oe];if(te===0&&(te=ue,(q+=W)>=L&&(W=4*je+4*r*(Z-1),q=P+(ue+je)*(Z<<1),Z>>=1)),ae===ve)q+=4;else{var Se=e[le+3*ae],De=e[le+3*ae+1],X=e[le+3*ae+2];K[q++]=X,K[q++]=De,K[q++]=Se,K[q++]=255}--te}},this.decodeAndBlitFrameRGBA=function(z,K){var J=this.frameInfo(z),pe=J.width*J.height,ne=new Uint8Array(pe);K7(e,J.data_offset,ne,pe);var le=J.palette_offset,ve=J.transparent_index;ve===null&&(ve=256);var ue=J.width,je=r-ue,te=ue,P=4*(J.y*r+J.x),L=4*((J.y+J.height)*r+J.x),q=P,W=4*je;J.interlaced===!0&&(W+=4*r*7);for(var Z=8,oe=0,ce=ne.length;oe<ce;++oe){var ae=ne[oe];if(te===0&&(te=ue,(q+=W)>=L&&(W=4*je+4*r*(Z-1),q=P+(ue+je)*(Z<<1),Z>>=1)),ae===ve)q+=4;else{var Se=e[le+3*ae],De=e[le+3*ae+1],X=e[le+3*ae+2];K[q++]=Se,K[q++]=De,K[q++]=X,K[q++]=255}--te}}}function K7(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,u=a+1,f=(1<<u)-1,h=0,p=0,g=0,x=e[t++],b=new Int32Array(4096),y=null;;){for(;h<16&&x!==0;)p|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<u)break;var w=p&f;if(p>>=u,h-=u,w!==i){if(w===s)break;for(var _=w<o?w:y,E=0,A=_;A>i;)A=b[A]>>8,++E;var T=A;if(g+E+(_!==w?1:0)>n)return void Mn.log("Warning, gif stream longer than expected.");r[g++]=T;var O=g+=E;for(_!==w&&(r[g++]=T),A=_;E--;)A=b[A],r[--O]=255&A,A>>=8;y!==null&&o<4096&&(b[o++]=y<<8|T,o>=f+1&&u<12&&(++u,f=f<<1|1)),y=w}else o=s+1,f=(1<<(u=a+1))-1,y=null}return g!==n&&Mn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function C4(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),x=new Array(64),b=new Array(64),y=[],w=0,_=7,E=new Array(64),A=new Array(64),T=new Array(64),O=new Array(256),R=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(P,L){for(var q=0,W=0,Z=new Array,oe=1;oe<=16;oe++){for(var ce=1;ce<=P[oe];ce++)Z[L[W]]=[],Z[L[W]][0]=q,Z[L[W]][1]=oe,W++,q++;q*=2}return Z}function le(P){for(var L=P[0],q=P[1]-1;q>=0;)L&1<<q&&(w|=1<<_),q--,--_<0&&(w==255?(ve(255),ve(0)):ve(w),_=7,w=0)}function ve(P){y.push(P)}function ue(P){ve(P>>8&255),ve(255&P)}function je(P,L,q,W,Z){for(var oe,ce=Z[0],ae=Z[240],Se=(function(st,At){var pt,Qt,Pt,$t,Zt,Jt,Dr,It,Ct,xt,St=0;for(Ct=0;Ct<8;++Ct){pt=st[St],Qt=st[St+1],Pt=st[St+2],$t=st[St+3],Zt=st[St+4],Jt=st[St+5],Dr=st[St+6];var Nr=pt+(It=st[St+7]),Yt=pt-It,Nt=Qt+Dr,er=Qt-Dr,br=Pt+Jt,ar=Pt-Jt,Ar=$t+Zt,fr=$t-Zt,pn=Nr+Ar,In=Nr-Ar,qr=Nt+br,Vt=Nt-br;st[St]=pn+qr,st[St+4]=pn-qr;var Pr=.707106781*(Vt+In);st[St+2]=In+Pr,st[St+6]=In-Pr;var Os=.382683433*((pn=fr+ar)-(Vt=er+Yt)),Ya=.5411961*pn+Os,nl=1.306562965*Vt+Os,os=.707106781*(qr=ar+er),Wt=Yt+os,Tl=Yt-os;st[St+5]=Tl+Ya,st[St+3]=Tl-Ya,st[St+1]=Wt+nl,st[St+7]=Wt-nl,St+=8}for(St=0,Ct=0;Ct<8;++Ct){pt=st[St],Qt=st[St+8],Pt=st[St+16],$t=st[St+24],Zt=st[St+32],Jt=st[St+40],Dr=st[St+48];var al=pt+(It=st[St+56]),si=pt-It,qi=Qt+Dr,Sn=Qt-Dr,ea=Pt+Jt,ee=Pt-Jt,we=$t+Zt,de=$t-Zt,he=al+we,ge=al-we,Ne=qi+ea,Me=qi-ea;st[St]=he+Ne,st[St+32]=he-Ne;var Ge=.707106781*(Me+ge);st[St+16]=ge+Ge,st[St+48]=ge-Ge;var Ie=.382683433*((he=de+ee)-(Me=Sn+si)),Be=.5411961*he+Ie,ze=1.306562965*Me+Ie,ut=.707106781*(Ne=ee+Sn),mt=si+ut,_t=si-ut;st[St+40]=_t+Be,st[St+24]=_t-Be,st[St+8]=mt+ze,st[St+56]=mt-ze,St++}for(Ct=0;Ct<64;++Ct)xt=st[Ct]*At[Ct],x[Ct]=xt>0?xt+.5|0:xt-.5|0;return x})(P,L),De=0;De<64;++De)b[D[De]]=Se[De];var X=b[0]-q;q=b[0],X==0?le(W[0]):(le(W[g[oe=32767+X]]),le(p[oe]));for(var Ke=63;Ke>0&&b[Ke]==0;)Ke--;if(Ke==0)return le(ce),q;for(var Ce,xe=1;xe<=Ke;){for(var dt=xe;b[xe]==0&&xe<=Ke;)++xe;var Xe=xe-dt;if(Xe>=16){Ce=Xe>>4;for(var wt=1;wt<=Ce;++wt)le(ae);Xe&=15}oe=32767+b[xe],le(Z[(Xe<<4)+g[oe]]),le(p[oe]),xe++}return Ke!=63&&le(ce),q}function te(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(L){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var Z=s((q[W]*L+50)/100);Z=Math.min(Math.max(Z,1),255),o[D[W]]=Z}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ae=s((oe[ce]*L+50)/100);ae=Math.min(Math.max(ae,1),255),u[D[ce]]=ae}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,X=0;X<8;X++)for(var Ke=0;Ke<8;Ke++)f[De]=1/(o[D[De]]*Se[X]*Se[Ke]*8),h[De]=1/(u[D[De]]*Se[X]*Se[Ke]*8),De++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,L){L&&te(L),y=new Array,w=0,_=7,ue(65496),ue(65504),ue(16),ve(74),ve(70),ve(73),ve(70),ve(0),ve(1),ve(1),ve(0),ue(1),ue(1),ve(0),ve(0),(function(){ue(65499),ue(132),ve(0);for(var Qt=0;Qt<64;Qt++)ve(o[Qt]);ve(1);for(var Pt=0;Pt<64;Pt++)ve(u[Pt])})(),(function(Qt,Pt){ue(65472),ue(17),ve(8),ue(Pt),ue(Qt),ve(3),ve(1),ve(17),ve(0),ve(2),ve(17),ve(1),ve(3),ve(17),ve(1)})(P.width,P.height),(function(){ue(65476),ue(418),ve(0);for(var Qt=0;Qt<16;Qt++)ve(M[Qt+1]);for(var Pt=0;Pt<=11;Pt++)ve(B[Pt]);ve(16);for(var $t=0;$t<16;$t++)ve(G[$t+1]);for(var Zt=0;Zt<=161;Zt++)ve(I[Zt]);ve(1);for(var Jt=0;Jt<16;Jt++)ve(z[Jt+1]);for(var Dr=0;Dr<=11;Dr++)ve(K[Dr]);ve(17);for(var It=0;It<16;It++)ve(J[It+1]);for(var Ct=0;Ct<=161;Ct++)ve(pe[Ct])})(),ue(65498),ue(12),ve(3),ve(1),ve(0),ve(2),ve(17),ve(3),ve(17),ve(0),ve(63),ve(0);var q=0,W=0,Z=0;w=0,_=7,this.encode.displayName="_encode_";for(var oe,ce,ae,Se,De,X,Ke,Ce,xe,dt=P.data,Xe=P.width,wt=P.height,st=4*Xe,At=0;At<wt;){for(oe=0;oe<st;){for(De=st*At+oe,Ke=-1,Ce=0,xe=0;xe<64;xe++)X=De+(Ce=xe>>3)*st+(Ke=4*(7&xe)),At+Ce>=wt&&(X-=st*(At+1+Ce-wt)),oe+Ke>=st&&(X-=oe+Ke-st+4),ce=dt[X++],ae=dt[X++],Se=dt[X++],E[xe]=(R[ce]+R[ae+256|0]+R[Se+512|0]>>16)-128,A[xe]=(R[ce+768|0]+R[ae+1024|0]+R[Se+1280|0]>>16)-128,T[xe]=(R[ce+1280|0]+R[ae+1536|0]+R[Se+1792|0]>>16)-128;q=je(E,f,q,t,n),W=je(A,h,W,r,a),Z=je(T,h,Z,r,a),oe+=32}At+=8}if(_>=0){var pt=[];pt[1]=_+1,pt[0]=(1<<_+1)-1,le(pt)}return ue(65497),new Uint8Array(y)},e=e||50,(function(){for(var P=String.fromCharCode,L=0;L<256;L++)O[L]=P(L)})(),t=ne(M,B),r=ne(z,K),n=ne(G,I),a=ne(J,pe),(function(){for(var P=1,L=2,q=1;q<=15;q++){for(var W=P;W<L;W++)g[32767+W]=q,p[32767+W]=[],p[32767+W][1]=q,p[32767+W][0]=W;for(var Z=-(L-1);Z<=-P;Z++)g[32767+Z]=q,p[32767+Z]=[],p[32767+Z][1]=q,p[32767+Z][0]=L-1+Z;P<<=1,L<<=1}})(),(function(){for(var P=0;P<256;P++)R[P]=19595*P,R[P+256|0]=38470*P,R[P+512|0]=7471*P+32768,R[P+768|0]=-11059*P,R[P+1024|0]=-21709*P,R[P+1280|0]=32768*P+8421375,R[P+1536|0]=-27439*P,R[P+1792|0]=-5329*P})(),te(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Y7(e){function t(B){if(!B)throw Error("assert :P")}function r(B,G,I){for(var z=0;4>z;z++)if(B[G+z]!=I.charCodeAt(z))return!0;return!1}function n(B,G,I,z,K){for(var J=0;J<K;J++)B[G+J]=I[z+J]}function a(B,G,I,z){for(var K=0;K<z;K++)B[G+K]=I}function i(B){return new Int32Array(B)}function s(B,G){for(var I=[],z=0;z<B;z++)I.push(new G);return I}function o(B,G){var I=[];return(function z(K,J,pe){for(var ne=pe[J],le=0;le<ne&&(K.push(pe.length>J+1?[]:new G),!(pe.length<J+1));le++)z(K[le],J+1,pe)})(I,0,B),I}var u=function(){var B=this;function G(N,j){for(var U=1<<j-1>>>0;N&U;)U>>>=1;return U?(N&U-1)+U:N}function I(N,j,U,H,Q){t(!(H%U));do N[j+(H-=U)]=Q;while(0<H)}function z(N,j,U,H,Q){if(t(2328>=Q),512>=Q)var re=i(512);else if((re=i(Q))==null)return 0;return(function(ie,fe,me,be,ke,Ue){var ye,Oe,Le=fe,Qe=1<<me,Re=i(16),Ye=i(16);for(t(ke!=0),t(be!=null),t(ie!=null),t(0<me),Oe=0;Oe<ke;++Oe){if(15<be[Oe])return 0;++Re[be[Oe]]}if(Re[0]==ke)return 0;for(Ye[1]=0,ye=1;15>ye;++ye){if(Re[ye]>1<<ye)return 0;Ye[ye+1]=Ye[ye]+Re[ye]}for(Oe=0;Oe<ke;++Oe)ye=be[Oe],0<be[Oe]&&(Ue[Ye[ye]++]=Oe);if(Ye[15]==1)return(be=new K).g=0,be.value=Ue[0],I(ie,Le,1,Qe,be),Qe;var tt,ft=-1,it=Qe-1,Mt=0,Et=1,hr=1,Ot=1<<me;for(Oe=0,ye=1,ke=2;ye<=me;++ye,ke<<=1){if(Et+=hr<<=1,0>(hr-=Re[ye]))return 0;for(;0<Re[ye];--Re[ye])(be=new K).g=ye,be.value=Ue[Oe++],I(ie,Le+Mt,ke,Ot,be),Mt=G(Mt,ye)}for(ye=me+1,ke=2;15>=ye;++ye,ke<<=1){if(Et+=hr<<=1,0>(hr-=Re[ye]))return 0;for(;0<Re[ye];--Re[ye]){if(be=new K,(Mt&it)!=ft){for(Le+=Ot,tt=1<<(ft=ye)-me;15>ft&&!(0>=(tt-=Re[ft]));)++ft,tt<<=1;Qe+=Ot=1<<(tt=ft-me),ie[fe+(ft=Mt&it)].g=tt+me,ie[fe+ft].value=Le-fe-ft}be.g=ye-me,be.value=Ue[Oe++],I(ie,Le+(Mt>>me),ke,Ot,be),Mt=G(Mt,ye)}}return Et!=2*Ye[15]-1?0:Qe})(N,j,U,H,Q,re)}function K(){this.value=this.g=0}function J(){this.value=this.g=0}function pe(){this.G=s(5,K),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Uc,J)}function ne(N,j,U,H){t(N!=null),t(j!=null),t(2147483648>H),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=j,N.pa=U,N.Jd=j,N.Yc=U+H,N.Zc=4<=H?U+H-4+1:U,ce(N)}function le(N,j){for(var U=0;0<j--;)U|=Se(N,128)<<j;return U}function ve(N,j){var U=le(N,j);return ae(N)?-U:U}function ue(N,j,U,H){var Q,re=0;for(t(N!=null),t(j!=null),t(4294967288>H),N.Sb=H,N.Ra=0,N.u=0,N.h=0,4<H&&(H=4),Q=0;Q<H;++Q)re+=j[U+Q]<<8*Q;N.Ra=re,N.bb=H,N.oa=j,N.pa=U}function je(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<ho-8>>>0,++N.bb,N.u-=8;W(N)&&(N.h=1,N.u=0)}function te(N,j){if(t(0<=j),!N.h&&j<=Wi){var U=q(N)&us[j];return N.u+=j,je(N),U}return N.h=1,N.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(N){return N.Ra>>>(N.u&ho-1)>>>0}function W(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>ho}function Z(N,j){N.u=j,N.h=W(N)}function oe(N){N.u>=mo&&(t(N.u>=mo),je(N))}function ce(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function ae(N){return le(N,1)}function Se(N,j){var U=N.Ca;0>N.b&&ce(N);var H=N.b,Q=U*j>>>8,re=(N.I>>>H>Q)+0;for(re?(U-=Q,N.I-=Q+1<<H>>>0):U=Q+1,H=U,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+rc[H],N.b-=H,N.Ca=(U<<H)-1,re}function De(N,j,U){N[j+0]=U>>24&255,N[j+1]=U>>16&255,N[j+2]=U>>8&255,N[j+3]=255&U}function X(N,j){return N[j+0]|N[j+1]<<8}function Ke(N,j){return X(N,j)|N[j+2]<<16}function Ce(N,j){return X(N,j)|X(N,j+2)<<16}function xe(N,j){var U=1<<j;return t(N!=null),t(0<j),N.X=i(U),N.X==null?0:(N.Mb=32-j,N.Xa=j,1)}function dt(N,j){t(N!=null),t(j!=null),t(N.Xa==j.Xa),n(j.X,0,N.X,0,1<<j.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function wt(N,j,U,H){t(U!=null),t(H!=null);var Q=U[0],re=H[0];return Q==0&&(Q=(N*re+j/2)/j),re==0&&(re=(j*Q+N/2)/N),0>=Q||0>=re?0:(U[0]=Q,H[0]=re,1)}function st(N,j){return N+(1<<j)-1>>>j}function At(N,j){return((4278255360&N)+(4278255360&j)>>>0&4278255360)+((16711935&N)+(16711935&j)>>>0&16711935)>>>0}function pt(N,j){B[j]=function(U,H,Q,re,ie,fe,me){var be;for(be=0;be<ie;++be){var ke=B[N](fe[me+be-1],Q,re+be);fe[me+be]=At(U[H+be],ke)}}}function Qt(){this.ud=this.hd=this.jd=0}function Pt(N,j){return((4278124286&(N^j))>>>1)+(N&j)>>>0}function $t(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Zt(N,j){return $t(N+(N-j+.5>>1))}function Jt(N,j,U){return Math.abs(j-U)-Math.abs(N-U)}function Dr(N,j,U,H,Q,re,ie){for(H=re[ie-1],U=0;U<Q;++U)re[ie+U]=H=At(N[j+U],H)}function It(N,j,U,H,Q){var re;for(re=0;re<U;++re){var ie=N[j+re],fe=ie>>8&255,me=16711935&(me=(me=16711935&ie)+((fe<<16)+fe));H[Q+re]=(4278255360&ie)+me>>>0}}function Ct(N,j){j.jd=255&N,j.hd=N>>8&255,j.ud=N>>16&255}function xt(N,j,U,H,Q,re){var ie;for(ie=0;ie<H;++ie){var fe=j[U+ie],me=fe>>>8,be=fe,ke=255&(ke=(ke=fe>>>16)+((N.jd<<24>>24)*(me<<24>>24)>>>5));be=255&(be=(be+=(N.hd<<24>>24)*(me<<24>>24)>>>5)+((N.ud<<24>>24)*(ke<<24>>24)>>>5)),Q[re+ie]=(4278255360&fe)+(ke<<16)+be}}function St(N,j,U,H,Q){B[j]=function(re,ie,fe,me,be,ke,Ue,ye,Oe){for(me=Ue;me<ye;++me)for(Ue=0;Ue<Oe;++Ue)be[ke++]=Q(fe[H(re[ie++])])},B[N]=function(re,ie,fe,me,be,ke,Ue){var ye=8>>re.b,Oe=re.Ea,Le=re.K[0],Qe=re.w;if(8>ye)for(re=(1<<re.b)-1,Qe=(1<<ye)-1;ie<fe;++ie){var Re,Ye=0;for(Re=0;Re<Oe;++Re)Re&re||(Ye=H(me[be++])),ke[Ue++]=Q(Le[Ye&Qe]),Ye>>=ye}else B["VP8LMapColor"+U](me,be,Le,Qe,ke,Ue,ie,fe,Oe)}}function Nr(N,j,U,H,Q){for(U=j+U;j<U;){var re=N[j++];H[Q++]=re>>16&255,H[Q++]=re>>8&255,H[Q++]=255&re}}function Yt(N,j,U,H,Q){for(U=j+U;j<U;){var re=N[j++];H[Q++]=re>>16&255,H[Q++]=re>>8&255,H[Q++]=255&re,H[Q++]=re>>24&255}}function Nt(N,j,U,H,Q){for(U=j+U;j<U;){var re=(ie=N[j++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;H[Q++]=re,H[Q++]=ie}}function er(N,j,U,H,Q){for(U=j+U;j<U;){var re=(ie=N[j++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;H[Q++]=re,H[Q++]=ie}}function br(N,j,U,H,Q){for(U=j+U;j<U;){var re=N[j++];H[Q++]=255&re,H[Q++]=re>>8&255,H[Q++]=re>>16&255}}function ar(N,j,U,H,Q,re){if(re==0)for(U=j+U;j<U;)De(H,((re=N[j++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Q+=32;else n(H,Q,N,j,U)}function Ar(N,j){B[j][0]=B[N+"0"],B[j][1]=B[N+"1"],B[j][2]=B[N+"2"],B[j][3]=B[N+"3"],B[j][4]=B[N+"4"],B[j][5]=B[N+"5"],B[j][6]=B[N+"6"],B[j][7]=B[N+"7"],B[j][8]=B[N+"8"],B[j][9]=B[N+"9"],B[j][10]=B[N+"10"],B[j][11]=B[N+"11"],B[j][12]=B[N+"12"],B[j][13]=B[N+"13"],B[j][14]=B[N+"0"],B[j][15]=B[N+"0"]}function fr(N){return N==c0||N==Th||N==zf||N==Oh}function pn(){this.eb=[],this.size=this.A=this.fb=0}function In(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pn,this.f.kb=new In,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Os(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Ya(N,j){var U=N.T,H=j.ba.f.RGBA,Q=H.eb,re=H.fb+N.ka*H.A,ie=hi[j.ba.S],fe=N.y,me=N.O,be=N.f,ke=N.N,Ue=N.ea,ye=N.W,Oe=j.cc,Le=j.dc,Qe=j.Mc,Re=j.Nc,Ye=N.ka,tt=N.ka+N.T,ft=N.U,it=ft+1>>1;for(Ye==0?ie(fe,me,null,null,be,ke,Ue,ye,be,ke,Ue,ye,Q,re,null,null,ft):(ie(j.ec,j.fc,fe,me,Oe,Le,Qe,Re,be,ke,Ue,ye,Q,re-H.A,Q,re,ft),++U);Ye+2<tt;Ye+=2)Oe=be,Le=ke,Qe=Ue,Re=ye,ke+=N.Rc,ye+=N.Rc,re+=2*H.A,ie(fe,(me+=2*N.fa)-N.fa,fe,me,Oe,Le,Qe,Re,be,ke,Ue,ye,Q,re-H.A,Q,re,ft);return me+=N.fa,N.j+tt<N.o?(n(j.ec,j.fc,fe,me,ft),n(j.cc,j.dc,be,ke,it),n(j.Mc,j.Nc,Ue,ye,it),U--):1&tt||ie(fe,me,null,null,be,ke,Ue,ye,be,ke,Ue,ye,Q,re+H.A,null,null,ft),U}function nl(N,j,U){var H=N.F,Q=[N.J];if(H!=null){var re=N.U,ie=j.ba.S,fe=ie==o0||ie==zf;j=j.ba.f.RGBA;var me=[0],be=N.ka;me[0]=N.T,N.Kb&&(be==0?--me[0]:(--be,Q[0]-=N.width),N.j+N.ka+N.T==N.o&&(me[0]=N.o-N.j-be));var ke=j.eb;be=j.fb+be*j.A,N=a0(H,Q[0],N.width,re,me,ke,be+(fe?0:3),j.A),t(U==me),N&&fr(ie)&&Eu(ke,be,fe,re,me,j.A)}return 0}function os(N){var j=N.ma,U=j.ba.S,H=11>U,Q=U==Ti||U==cl||U==o0||U==Uf||U==12||fr(U);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!tc(j.Oa,N,Q?11:12))return 0;if(Q&&fr(U)&&Sh(),N.da)alert("todo:use_scaling");else{if(H){if(j.Ib=Os,N.Kb){if(U=N.U+1>>1,j.memory=i(N.U+2*U),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+N.U,j.Mc=j.cc,j.Nc=j.dc+U,j.Ib=Ya,Sh()}}else alert("todo:EmitYUV");Q&&(j.Jb=nl,H&&sl())}if(H&&!Gc){for(N=0;256>N;++N)mi[N]=89858*(N-128)+Hf>>pl,Q2[N]=-22014*(N-128)+Hf,Qg[N]=-45773*(N-128),Mh[N]=113618*(N-128)+Hf>>pl;for(N=Ou;N<Wc;++N)j=76283*(N-16)+Hf>>pl,Z2[N-Ou]=ta(j,255),J2[N-Ou]=ta(j+8>>4,15);Gc=1}return 1}function Wt(N){var j=N.ma,U=N.U,H=N.T;return t(!(1&N.ka)),0>=U||0>=H?0:(U=j.Ib(N,j),j.Jb!=null&&j.Jb(N,j,U),j.Dc+=U,1)}function Tl(N){N.ma.memory=null}function al(N,j,U,H){return te(N,8)!=47?0:(j[0]=te(N,14)+1,U[0]=te(N,14)+1,H[0]=te(N,1),te(N,3)!=0?0:!N.h)}function si(N,j){if(4>N)return N+1;var U=N-2>>1;return(2+(1&N)<<U)+te(j,U)+1}function qi(N,j){return 120<j?j-120:1<=(U=((U=fl[j-1])>>4)*N+(8-(15&U)))?U:1;var U}function Sn(N,j,U){var H=q(U),Q=N[j+=255&H].g-8;return 0<Q&&(Z(U,U.u+8),H=q(U),j+=N[j].value,j+=H&(1<<Q)-1),Z(U,U.u+N[j].g),N[j].value}function ea(N,j,U){return U.g+=N.g,U.value+=N.value<<j>>>0,t(8>=U.g),N.g}function ee(N,j,U){var H=N.xc;return t((j=H==0?0:N.vc[N.md*(U>>H)+(j>>H)])<N.Wb),N.Ya[j]}function we(N,j,U,H){var Q=N.ab,re=N.c*j,ie=N.C;j=ie+j;var fe=U,me=H;for(H=N.Ta,U=N.Ua;0<Q--;){var be=N.gc[Q],ke=ie,Ue=j,ye=fe,Oe=me,Le=(me=H,fe=U,be.Ea);switch(t(ke<Ue),t(Ue<=be.nc),be.hc){case 2:ga(ye,Oe,(Ue-ke)*Le,me,fe);break;case 0:var Qe=ke,Re=Ue,Ye=me,tt=fe,ft=(Ot=be).Ea;Qe==0&&(Mf(ye,Oe,null,null,1,Ye,tt),Dr(ye,Oe+1,0,0,ft-1,Ye,tt+1),Oe+=ft,tt+=ft,++Qe);for(var it=1<<Ot.b,Mt=it-1,Et=st(ft,Ot.b),hr=Ot.K,Ot=Ot.w+(Qe>>Ot.b)*Et;Qe<Re;){var Tr=hr,Fn=Ot,gr=1;for(Rf(ye,Oe,Ye,tt-ft,1,Ye,tt);gr<ft;){var kt=(gr&~Mt)+it;kt>ft&&(kt=ft),(0,nc[Tr[Fn++]>>8&15])(ye,Oe+ +gr,Ye,tt+gr-ft,kt-gr,Ye,tt+gr),gr=kt}Oe+=ft,tt+=ft,++Qe&Mt||(Ot+=Et)}Ue!=be.nc&&n(me,fe-Le,me,fe+(Ue-ke-1)*Le,Le);break;case 1:for(Le=ye,Re=Oe,ft=(ye=be.Ea)-(tt=ye&~(Ye=(Oe=1<<be.b)-1)),Qe=st(ye,be.b),it=be.K,be=be.w+(ke>>be.b)*Qe;ke<Ue;){for(Mt=it,Et=be,hr=new Qt,Ot=Re+tt,Tr=Re+ye;Re<Ot;)Ct(Mt[Et++],hr),If(hr,Le,Re,Oe,me,fe),Re+=Oe,fe+=Oe;Re<Tr&&(Ct(Mt[Et++],hr),If(hr,Le,Re,ft,me,fe),Re+=ft,fe+=ft),++ke&Ye||(be+=Qe)}break;case 3:if(ye==me&&Oe==fe&&0<be.b){for(Re=me,ye=Le=fe+(Ue-ke)*Le-(tt=(Ue-ke)*st(be.Ea,be.b)),Oe=me,Ye=fe,Qe=[],tt=(ft=tt)-1;0<=tt;--tt)Qe[tt]=Oe[Ye+tt];for(tt=ft-1;0<=tt;--tt)Re[ye+tt]=Qe[tt];jh(be,ke,Ue,me,Le,me,fe)}else jh(be,ke,Ue,ye,Oe,me,fe)}fe=H,me=U}me!=U&&n(H,U,fe,me,re)}function de(N,j){var U=N.V,H=N.Ba+N.c*N.C,Q=j-N.C;if(t(j<=N.l.o),t(16>=Q),0<Q){var re=N.l,ie=N.Ta,fe=N.Ua,me=re.width;if(we(N,Q,U,H),Q=fe=[fe],t((U=N.C)<(H=j)),t(re.v<re.va),H>re.o&&(H=re.o),U<re.j){var be=re.j-U;U=re.j,Q[0]+=be*me}if(U>=H?U=0:(Q[0]+=4*re.v,re.ka=U-re.j,re.U=re.va-re.v,re.T=H-U,U=1),U){if(fe=fe[0],11>(U=N.ca).S){var ke=U.f.RGBA,Ue=(H=U.S,Q=re.U,re=re.T,be=ke.eb,ke.A),ye=re;for(ke=ke.fb+N.Ma*ke.A;0<ye--;){var Oe=ie,Le=fe,Qe=Q,Re=be,Ye=ke;switch(H){case kh:Bf(Oe,Le,Qe,Re,Ye);break;case Ti:ac(Oe,Le,Qe,Re,Ye);break;case c0:ac(Oe,Le,Qe,Re,Ye),Eu(Re,Ye,0,Qe,1,0);break;case Ch:ju(Oe,Le,Qe,Re,Ye);break;case cl:ar(Oe,Le,Qe,Re,Ye,1);break;case Th:ar(Oe,Le,Qe,Re,Ye,1),Eu(Re,Ye,0,Qe,1,0);break;case o0:ar(Oe,Le,Qe,Re,Ye,0);break;case zf:ar(Oe,Le,Qe,Re,Ye,0),Eu(Re,Ye,1,Qe,1,0);break;case Uf:ic(Oe,Le,Qe,Re,Ye);break;case Oh:ic(Oe,Le,Qe,Re,Ye),ol(Re,Ye,Qe,1,0);break;case zc:go(Oe,Le,Qe,Re,Ye);break;default:t(0)}fe+=me,ke+=Ue}N.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=U.height)}}N.C=j,t(N.C<=N.i)}function he(N){var j;if(0<N.ua)return 0;for(j=0;j<N.Wb;++j){var U=N.Ya[j].G,H=N.Ya[j].H;if(0<U[1][H[1]+0].g||0<U[2][H[2]+0].g||0<U[3][H[3]+0].g)return 0}return 1}function ge(N,j,U,H,Q,re){if(N.Z!=0){var ie=N.qd,fe=N.rd;for(t(oc[N.Z]!=null);j<U;++j)oc[N.Z](ie,fe,H,Q,H,Q,re),ie=H,fe=Q,Q+=re;N.qd=ie,N.rd=fe}}function Ne(N,j){var U=N.l.ma,H=U.Z==0||U.Z==1?N.l.j:N.C;if(H=N.C<H?H:N.C,t(j<=N.l.o),j>H){var Q=N.l.width,re=U.ca,ie=U.tb+Q*H,fe=N.V,me=N.Ba+N.c*H,be=N.gc;t(N.ab==1),t(be[0].hc==3),xo(be[0],H,j,fe,me,re,ie),ge(U,H,j,re,ie,Q)}N.C=N.Ma=j}function Me(N,j,U,H,Q,re,ie){var fe=N.$/H,me=N.$%H,be=N.m,ke=N.s,Ue=U+N.$,ye=Ue;Q=U+H*Q;var Oe=U+H*re,Le=280+ke.ua,Qe=N.Pb?fe:16777216,Re=0<ke.ua?ke.Wa:null,Ye=ke.wc,tt=Ue<Oe?ee(ke,me,fe):null;t(N.C<re),t(Oe<=Q);var ft=!1;e:for(;;){for(;ft||Ue<Oe;){var it=0;if(fe>=Qe){var Mt=Ue-U;t((Qe=N).Pb),Qe.wd=Qe.m,Qe.xd=Mt,0<Qe.s.ua&&dt(Qe.s.Wa,Qe.s.vb),Qe=fe+qc}if(me&Ye||(tt=ee(ke,me,fe)),t(tt!=null),tt.Qb&&(j[Ue]=tt.qb,ft=!0),!ft)if(oe(be),tt.jc){it=be,Mt=j;var Et=Ue,hr=tt.pd[q(it)&Uc-1];t(tt.jc),256>hr.g?(Z(it,it.u+hr.g),Mt[Et]=hr.value,it=0):(Z(it,it.u+hr.g-256),t(256<=hr.value),it=hr.value),it==0&&(ft=!0)}else it=Sn(tt.G[0],tt.H[0],be);if(be.h)break;if(ft||256>it){if(!ft)if(tt.nd)j[Ue]=(tt.qb|it<<8)>>>0;else{if(oe(be),ft=Sn(tt.G[1],tt.H[1],be),oe(be),Mt=Sn(tt.G[2],tt.H[2],be),Et=Sn(tt.G[3],tt.H[3],be),be.h)break;j[Ue]=(Et<<24|ft<<16|it<<8|Mt)>>>0}if(ft=!1,++Ue,++me>=H&&(me=0,++fe,ie!=null&&fe<=re&&!(fe%16)&&ie(N,fe),Re!=null))for(;ye<Ue;)it=j[ye++],Re.X[(506832829*it&4294967295)>>>Re.Mb]=it}else if(280>it){if(it=si(it-256,be),Mt=Sn(tt.G[4],tt.H[4],be),oe(be),Mt=qi(H,Mt=si(Mt,be)),be.h)break;if(Ue-U<Mt||Q-Ue<it)break e;for(Et=0;Et<it;++Et)j[Ue+Et]=j[Ue+Et-Mt];for(Ue+=it,me+=it;me>=H;)me-=H,++fe,ie!=null&&fe<=re&&!(fe%16)&&ie(N,fe);if(t(Ue<=Q),me&Ye&&(tt=ee(ke,me,fe)),Re!=null)for(;ye<Ue;)it=j[ye++],Re.X[(506832829*it&4294967295)>>>Re.Mb]=it}else{if(!(it<Le))break e;for(ft=it-280,t(Re!=null);ye<Ue;)it=j[ye++],Re.X[(506832829*it&4294967295)>>>Re.Mb]=it;it=Ue,t(!(ft>>>(Mt=Re).Xa)),j[it]=Mt.X[ft],ft=!0}ft||t(be.h==W(be))}if(N.Pb&&be.h&&Ue<Q)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&dt(N.s.vb,N.s.Wa);else{if(be.h)break e;ie?.(N,fe>re?re:fe),N.a=0,N.$=Ue-U}return 1}return N.a=3,0}function Ge(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var j=N.Wa;j!=null&&(j.X=null),N.vb=null,t(N!=null)}function Ie(){var N=new Ut;return N==null?null:(N.a=0,N.xb=gp,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),ga=It,If=xt,Bf=Nr,ac=Yt,ic=Nt,go=er,ju=br,B.VP8LMapColor32b=po,B.VP8LMapColor8b=ui,N)}function Be(N,j,U,H,Q){var re=1,ie=[N],fe=[j],me=H.m,be=H.s,ke=null,Ue=0;e:for(;;){if(U)for(;re&&te(me,1);){var ye=ie,Oe=fe,Le=H,Qe=1,Re=Le.m,Ye=Le.gc[Le.ab],tt=te(Re,2);if(Le.Oc&1<<tt)re=0;else{switch(Le.Oc|=1<<tt,Ye.hc=tt,Ye.Ea=ye[0],Ye.nc=Oe[0],Ye.K=[null],++Le.ab,t(4>=Le.ab),tt){case 0:case 1:Ye.b=te(Re,3)+2,Qe=Be(st(Ye.Ea,Ye.b),st(Ye.nc,Ye.b),0,Le,Ye.K),Ye.K=Ye.K[0];break;case 3:var ft,it=te(Re,8)+1,Mt=16<it?0:4<it?1:2<it?2:3;if(ye[0]=st(Ye.Ea,Mt),Ye.b=Mt,ft=Qe=Be(it,1,0,Le,Ye.K)){var Et,hr=it,Ot=Ye,Tr=1<<(8>>Ot.b),Fn=i(Tr);if(Fn==null)ft=0;else{var gr=Ot.K[0],kt=Ot.w;for(Fn[0]=Ot.K[0][0],Et=1;Et<1*hr;++Et)Fn[Et]=At(gr[kt+Et],Fn[Et-1]);for(;Et<4*Tr;++Et)Fn[Et]=0;Ot.K[0]=null,Ot.K[0]=Fn,ft=1}}Qe=ft;break;case 2:break;default:t(0)}re=Qe}}if(ie=ie[0],fe=fe[0],re&&te(me,1)&&!(re=1<=(Ue=te(me,4))&&11>=Ue)){H.a=3;break e}var bt;if(bt=re)t:{var Vn,sr,wr,sn=H,Ua=ie,pi=fe,En=Ue,Aa=U,Oi=sn.m,Ea=sn.s,Er=[null],$r=1,Wn=0,Yr=dl[En];r:for(;;){if(Aa&&te(Oi,1)){var za=te(Oi,3)+2,Gn=st(Ua,za),Hr=st(pi,za),ba=Gn*Hr;if(!Be(Gn,Hr,0,sn,Er))break r;for(Er=Er[0],Ea.xc=za,Vn=0;Vn<ba;++Vn){var ln=Er[Vn]>>8&65535;Er[Vn]=ln,ln>=$r&&($r=ln+1)}}if(Oi.h)break r;for(sr=0;5>sr;++sr){var ka=Cu[sr];!sr&&0<En&&(ka+=1<<En),Wn<ka&&(Wn=ka)}var Ca=s($r*Yr,K),xn=$r,Ur=s(xn,pe);if(Ur==null)var Di=null;else t(65536>=xn),Di=Ur;var na=i(Wn);if(Di==null||na==null||Ca==null){sn.a=1;break r}var Xt=Ca;for(Vn=wr=0;Vn<$r;++Vn){var tr=Di[Vn],Vr=tr.G,fs=tr.H,xl=0,Ki=1,Ta=0;for(sr=0;5>sr;++sr){ka=Cu[sr],Vr[sr]=Xt,fs[sr]=wr,!sr&&0<En&&(ka+=1<<En);a:{var Kc,Yc=ka,Ih=sn,kn=na,yp=Xt,bp=wr,Bh=0,cc=Ih.m,eb=te(cc,1);if(a(kn,0,0,Yc),eb){var wp=te(cc,1)+1,_p=te(cc,1),Uh=te(cc,_p==0?1:8);kn[Uh]=1,wp==2&&(kn[Uh=te(cc,8)]=1);var Qa=1}else{var aa=i(19),h0=te(cc,4)+4;if(19<h0){Ih.a=3;var Xc=0;break a}for(Kc=0;Kc<h0;++Kc)aa[u0[Kc]]=te(cc,3);var Wf=void 0,Du=void 0,bo=Ih,zh=aa,Gf=Yc,qh=kn,$h=0,uc=bo.m,Np=8,Sp=s(128,K);n:for(;z(Sp,0,7,zh,19);){if(te(uc,1)){var Zg=2+2*te(uc,3);if((Wf=2+te(uc,Zg))>Gf)break n}else Wf=Gf;for(Du=0;Du<Gf&&Wf--;){oe(uc);var jp=Sp[0+(127&q(uc))];Z(uc,uc.u+jp.g);var Qc=jp.value;if(16>Qc)qh[Du++]=Qc,Qc!=0&&(Np=Qc);else{var Jg=Qc==16,e1=Qc-16,t1=qf[e1],Ap=te(uc,ul[e1])+t1;if(Du+Ap>Gf)break n;for(var r1=Jg?Np:0;0<Ap--;)qh[Du++]=r1}}$h=1;break n}$h||(bo.a=3),Qa=$h}(Qa=Qa&&!cc.h)&&(Bh=z(yp,bp,8,kn,Yc)),Qa&&Bh!=0?Xc=Bh:(Ih.a=3,Xc=0)}if(Xc==0)break r;if(Ki&&Dh[sr]==1&&(Ki=Xt[wr].g==0),xl+=Xt[wr].g,wr+=Xc,3>=sr){var Pu,Hh=na[0];for(Pu=1;Pu<ka;++Pu)na[Pu]>Hh&&(Hh=na[Pu]);Ta+=Hh}}if(tr.nd=Ki,tr.Qb=0,Ki&&(tr.qb=(Vr[3][fs[3]+0].value<<24|Vr[1][fs[1]+0].value<<16|Vr[2][fs[2]+0].value)>>>0,xl==0&&256>Vr[0][fs[0]+0].value&&(tr.Qb=1,tr.qb+=Vr[0][fs[0]+0].value<<8)),tr.jc=!tr.Qb&&6>Ta,tr.jc){var m0,wo=tr;for(m0=0;m0<Uc;++m0){var fc=m0,dc=wo.pd[fc],Vh=wo.G[0][wo.H[0]+fc];256<=Vh.value?(dc.g=Vh.g+256,dc.value=Vh.value):(dc.g=0,dc.value=0,fc>>=ea(Vh,8,dc),fc>>=ea(wo.G[1][wo.H[1]+fc],16,dc),fc>>=ea(wo.G[2][wo.H[2]+fc],0,dc),ea(wo.G[3][wo.H[3]+fc],24,dc))}}}Ea.vc=Er,Ea.Wb=$r,Ea.Ya=Di,Ea.yc=Ca,bt=1;break t}bt=0}if(!(re=bt)){H.a=3;break e}if(0<Ue){if(be.ua=1<<Ue,!xe(be.Wa,Ue)){H.a=1,re=0;break e}}else be.ua=0;var Wh=H,Fu=ie,n1=fe,Kf=Wh.s,Yf=Kf.xc;if(Wh.c=Fu,Wh.i=n1,Kf.md=st(Fu,Yf),Kf.wc=Yf==0?-1:(1<<Yf)-1,U){H.xb=$c;break e}if((ke=i(ie*fe))==null){H.a=1,re=0;break e}re=(re=Me(H,ke,0,ie,fe,fe,null))&&!me.h;break e}return re?(Q!=null?Q[0]=ke:(t(ke==null),t(U)),H.$=0,U||Ge(be)):Ge(be),re}function ze(N,j){var U=N.c*N.i,H=U+j+16*j;return t(N.c<=j),N.V=i(H),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+U+j,1)}function ut(N,j){var U=N.C,H=j-U,Q=N.V,re=N.Ba+N.c*U;for(t(j<=N.l.o);0<H;){var ie=16<H?16:H,fe=N.l.ma,me=N.l.width,be=me*ie,ke=fe.ca,Ue=fe.tb+me*U,ye=N.Ta,Oe=N.Ua;we(N,ie,Q,re),Bs(ye,Oe,ke,Ue,be),ge(fe,U,U+ie,ke,Ue,me),H-=ie,Q+=ie*N.c,U+=ie}t(U==j),N.C=N.Ma=j}function mt(){this.ub=this.yd=this.td=this.Rb=0}function _t(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vt(){this.Yb=(function(){var N=[];return(function j(U,H,Q){for(var re=Q[H],ie=0;ie<re&&(U.push(Q.length>H+1?[]:0),!(Q.length<H+1));ie++)j(U[ie],H+1,Q)})(N,0,[3,11]),N})()}function Tt(){this.jb=i(3),this.Wc=o([4,8],vt),this.Xc=o([4,17],vt)}function an(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function kr(){this.ld=this.La=this.dd=this.tc=0}function un(){this.Na=this.la=0}function $i(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ol(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dl(){this.uc=this.M=this.Nb=0,this.wa=Array(new kr),this.Y=0,this.ya=Array(new Ol),this.aa=0,this.l=new Ia}function Ds(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Fc(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new mt,this.Kc=new _t,this.ed=new an,this.Qa=new ht,this.Ic=this.$c=this.Aa=0,this.D=new Dl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,$i),this.Pa=new Tt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ds),this.Hd=0,this.rb=Array(new un),this.sb=0,this.wa=Array(new kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ol),this.L=this.aa=0,this.gd=o([4,2],kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ia(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cf(){var N=new Fc;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Us||(Us=Wo)),N}function fn(N,j,U){return N.a==0&&(N.a=j,N.sc=U,N.cb=0),0}function Hi(N,j,U){return 3<=U&&N[j+0]==157&&N[j+1]==1&&N[j+2]==42}function Vd(N,j){if(N==null)return 0;if(N.a=0,N.sc="OK",j==null)return fn(N,2,"null VP8Io passed to VP8GetHeaders()");var U=j.data,H=j.w,Q=j.ha;if(4>Q)return fn(N,7,"Truncated header.");var re=U[H+0]|U[H+1]<<8|U[H+2]<<16,ie=N.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return fn(N,3,"Incorrect keyframe parameters.");if(!ie.yd)return fn(N,4,"Frame not displayable.");H+=3,Q-=3;var fe=N.Kc;if(ie.Rb){if(7>Q)return fn(N,7,"cannot parse picture header");if(!Hi(U,H,Q))return fn(N,3,"Bad code word");fe.c=16383&(U[H+4]<<8|U[H+3]),fe.Td=U[H+4]>>6,fe.i=16383&(U[H+6]<<8|U[H+5]),fe.Ud=U[H+6]>>6,H+=7,Q-=7,N.za=fe.c+15>>4,N.Ub=fe.i+15>>4,j.width=fe.c,j.height=fe.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((re=N.Pa).jb,0,255,re.jb.length),t((re=N.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ie.ub>Q)return fn(N,7,"bad partition length");ne(re=N.m,U,H,ie.ub),H+=ie.ub,Q-=ie.ub,ie.Rb&&(fe.Ld=ae(re),fe.Kd=ae(re)),fe=N.Qa;var me,be=N.Pa;if(t(re!=null),t(fe!=null),fe.Cb=ae(re),fe.Cb){if(fe.Bb=ae(re),ae(re)){for(fe.Fb=ae(re),me=0;4>me;++me)fe.Zb[me]=ae(re)?ve(re,7):0;for(me=0;4>me;++me)fe.Lb[me]=ae(re)?ve(re,6):0}if(fe.Bb)for(me=0;3>me;++me)be.jb[me]=ae(re)?le(re,8):255}else fe.Bb=0;if(re.Ka)return fn(N,3,"cannot parse segment header");if((fe=N.ed).zd=ae(re),fe.Tb=le(re,6),fe.wb=le(re,3),fe.Pc=ae(re),fe.Pc&&ae(re)){for(be=0;4>be;++be)ae(re)&&(fe.vd[be]=ve(re,6));for(be=0;4>be;++be)ae(re)&&(fe.od[be]=ve(re,6))}if(N.L=fe.Tb==0?0:fe.zd?1:2,re.Ka)return fn(N,3,"cannot parse filter header");var ke=Q;if(Q=me=H,H=me+ke,fe=ke,N.Xb=(1<<le(N.m,2))-1,ke<3*(be=N.Xb))U=7;else{for(me+=3*be,fe-=3*be,ke=0;ke<be;++ke){var Ue=U[Q+0]|U[Q+1]<<8|U[Q+2]<<16;Ue>fe&&(Ue=fe),ne(N.Jc[+ke],U,me,Ue),me+=Ue,fe-=Ue,Q+=3}ne(N.Jc[+be],U,me,fe),U=me<H?0:5}if(U!=0)return fn(N,U,"cannot parse partitions");for(U=le(me=N.m,7),Q=ae(me)?ve(me,4):0,H=ae(me)?ve(me,4):0,fe=ae(me)?ve(me,4):0,be=ae(me)?ve(me,4):0,me=ae(me)?ve(me,4):0,ke=N.Qa,Ue=0;4>Ue;++Ue){if(ke.Cb){var ye=ke.Zb[Ue];ke.Fb||(ye+=U)}else{if(0<Ue){N.pb[Ue]=N.pb[0];continue}ye=U}var Oe=N.pb[Ue];Oe.Sc[0]=hl[ta(ye+Q,127)],Oe.Sc[1]=ml[ta(ye+0,127)],Oe.Eb[0]=2*hl[ta(ye+H,127)],Oe.Eb[1]=101581*ml[ta(ye+fe,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=hl[ta(ye+be,117)],Oe.Qc[1]=ml[ta(ye+me,127)],Oe.lc=ye+me}if(!ie.Rb)return fn(N,4,"Not a key frame.");for(ae(re),ie=N.Pa,U=0;4>U;++U){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(fe=0;11>fe;++fe)be=Se(re,Pn[U][Q][H][fe])?le(re,8):Xg[U][Q][H][fe],ie.Wc[U][Q].Yb[H][fe]=be;for(Q=0;17>Q;++Q)ie.Xc[U][Q]=ie.Wc[U][Fr[Q]]}return N.kc=ae(re),N.kc&&(N.Bd=le(re,8)),N.cb=1}function Wo(N,j,U,H,Q,re,ie){var fe=j[Q].Yb[U];for(U=0;16>Q;++Q){if(!Se(N,fe[U+0]))return Q;for(;!Se(N,fe[U+1]);)if(fe=j[++Q].Yb[0],U=0,Q==16)return 16;var me=j[Q+1].Yb;if(Se(N,fe[U+2])){var be=N,ke=0;if(Se(be,(ye=fe)[(Ue=U)+3]))if(Se(be,ye[Ue+6])){for(fe=0,Ue=2*(ke=Se(be,ye[Ue+8]))+(ye=Se(be,ye[Ue+9+ke])),ke=0,ye=Yg[Ue];ye[fe];++fe)ke+=ke+Se(be,ye[fe]);ke+=3+(8<<Ue)}else Se(be,ye[Ue+7])?(ke=7+2*Se(be,165),ke+=Se(be,145)):ke=5+Se(be,159);else ke=Se(be,ye[Ue+4])?3+Se(be,ye[Ue+5]):2;fe=me[2]}else ke=1,fe=me[1];me=ie+xp[Q],0>(be=N).b&&ce(be);var Ue,ye=be.b,Oe=(Ue=be.Ca>>1)-(be.I>>ye)>>31;--be.b,be.Ca+=Oe,be.Ca|=1,be.I-=(Ue+1&Oe)<<ye,re[me]=((ke^Oe)-Oe)*H[(0<Q)+0]}return 16}function Go(N){var j=N.rb[N.sb-1];j.la=0,j.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function il(N,j,U,H,Q){Q=N[j+U+32*H]+(Q>>3),N[j+U+32*H]=-256&Q?0>Q?0:255:Q}function so(N,j,U,H,Q,re){il(N,j,0,U,H+Q),il(N,j,1,U,H+re),il(N,j,2,U,H-re),il(N,j,3,U,H-Q)}function pa(N){return(20091*N>>16)+N}function Ei(N,j,U,H){var Q,re=0,ie=i(16);for(Q=0;4>Q;++Q){var fe=N[j+0]+N[j+8],me=N[j+0]-N[j+8],be=(35468*N[j+4]>>16)-pa(N[j+12]),ke=pa(N[j+4])+(35468*N[j+12]>>16);ie[re+0]=fe+ke,ie[re+1]=me+be,ie[re+2]=me-be,ie[re+3]=fe-ke,re+=4,j++}for(Q=re=0;4>Q;++Q)fe=(N=ie[re+0]+4)+ie[re+8],me=N-ie[re+8],be=(35468*ie[re+4]>>16)-pa(ie[re+12]),il(U,H,0,0,fe+(ke=pa(ie[re+4])+(35468*ie[re+12]>>16))),il(U,H,1,0,me+be),il(U,H,2,0,me-be),il(U,H,3,0,fe-ke),re++,H+=32}function Wd(N,j,U,H){var Q=N[j+0]+4,re=35468*N[j+4]>>16,ie=pa(N[j+4]),fe=35468*N[j+1]>>16;so(U,H,0,Q+ie,N=pa(N[j+1]),fe),so(U,H,1,Q+re,N,fe),so(U,H,2,Q-re,N,fe),so(U,H,3,Q-ie,N,fe)}function xh(N,j,U,H,Q){Ei(N,j,U,H),Q&&Ei(N,j+16,U,H+4)}function Gd(N,j,U,H){sc(N,j+0,U,H,1),sc(N,j+32,U,H+128,1)}function Vi(N,j,U,H){var Q;for(N=N[j+0]+4,Q=0;4>Q;++Q)for(j=0;4>j;++j)il(U,H,j,Q,N)}function Kd(N,j,U,H){N[j+0]&&Kr(N,j+0,U,H),N[j+16]&&Kr(N,j+16,U,H+4),N[j+32]&&Kr(N,j+32,U,H+128),N[j+48]&&Kr(N,j+48,U,H+128+4)}function Yd(N,j,U,H){var Q,re=i(16);for(Q=0;4>Q;++Q){var ie=N[j+0+Q]+N[j+12+Q],fe=N[j+4+Q]+N[j+8+Q],me=N[j+4+Q]-N[j+8+Q],be=N[j+0+Q]-N[j+12+Q];re[0+Q]=ie+fe,re[8+Q]=ie-fe,re[4+Q]=be+me,re[12+Q]=be-me}for(Q=0;4>Q;++Q)ie=(N=re[0+4*Q]+3)+re[3+4*Q],fe=re[1+4*Q]+re[2+4*Q],me=re[1+4*Q]-re[2+4*Q],be=N-re[3+4*Q],U[H+0]=ie+fe>>3,U[H+16]=be+me>>3,U[H+32]=ie-fe>>3,U[H+48]=be-me>>3,H+=64}function Ps(N,j,U){var H,Q=j-32,re=Ci,ie=255-N[Q-1];for(H=0;H<U;++H){var fe,me=re,be=ie+N[j-1];for(fe=0;fe<U;++fe)N[j+fe]=me[be+N[Q+fe]];j+=32}}function Xd(N,j){Ps(N,j,4)}function gh(N,j){Ps(N,j,8)}function vh(N,j){Ps(N,j,16)}function Qd(N,j){var U;for(U=0;16>U;++U)n(N,j+32*U,N,j-32,16)}function Zd(N,j){var U;for(U=16;0<U;--U)a(N,j,N[j-1],16),j+=32}function xu(N,j,U){var H;for(H=0;16>H;++H)a(j,U+32*H,N,16)}function Pl(N,j){var U,H=16;for(U=0;16>U;++U)H+=N[j-1+32*U]+N[j+U-32];xu(H>>5,N,j)}function Fl(N,j){var U,H=8;for(U=0;16>U;++U)H+=N[j-1+32*U];xu(H>>4,N,j)}function Ko(N,j){var U,H=8;for(U=0;16>U;++U)H+=N[j+U-32];xu(H>>4,N,j)}function gu(N,j){xu(128,N,j)}function ir(N,j,U){return N+2*j+U+2>>2}function Lc(N,j){var U,H=j-32;for(H=new Uint8Array([ir(N[H-1],N[H+0],N[H+1]),ir(N[H+0],N[H+1],N[H+2]),ir(N[H+1],N[H+2],N[H+3]),ir(N[H+2],N[H+3],N[H+4])]),U=0;4>U;++U)n(N,j+32*U,H,0,H.length)}function yh(N,j){var U=N[j-1],H=N[j-1+32],Q=N[j-1+64],re=N[j-1+96];De(N,j+0,16843009*ir(N[j-1-32],U,H)),De(N,j+32,16843009*ir(U,H,Q)),De(N,j+64,16843009*ir(H,Q,re)),De(N,j+96,16843009*ir(Q,re,re))}function Jd(N,j){var U,H=4;for(U=0;4>U;++U)H+=N[j+U-32]+N[j-1+32*U];for(H>>=3,U=0;4>U;++U)a(N,j+32*U,H,4)}function bh(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1-32],ie=N[j+0-32],fe=N[j+1-32],me=N[j+2-32],be=N[j+3-32];N[j+0+96]=ir(H,Q,N[j-1+96]),N[j+1+96]=N[j+0+64]=ir(U,H,Q),N[j+2+96]=N[j+1+64]=N[j+0+32]=ir(re,U,H),N[j+3+96]=N[j+2+64]=N[j+1+32]=N[j+0+0]=ir(ie,re,U),N[j+3+64]=N[j+2+32]=N[j+1+0]=ir(fe,ie,re),N[j+3+32]=N[j+2+0]=ir(me,fe,ie),N[j+3+0]=ir(be,me,fe)}function Fs(N,j){var U=N[j+1-32],H=N[j+2-32],Q=N[j+3-32],re=N[j+4-32],ie=N[j+5-32],fe=N[j+6-32],me=N[j+7-32];N[j+0+0]=ir(N[j+0-32],U,H),N[j+1+0]=N[j+0+32]=ir(U,H,Q),N[j+2+0]=N[j+1+32]=N[j+0+64]=ir(H,Q,re),N[j+3+0]=N[j+2+32]=N[j+1+64]=N[j+0+96]=ir(Q,re,ie),N[j+3+32]=N[j+2+64]=N[j+1+96]=ir(re,ie,fe),N[j+3+64]=N[j+2+96]=ir(ie,fe,me),N[j+3+96]=ir(fe,me,me)}function li(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1-32],ie=N[j+0-32],fe=N[j+1-32],me=N[j+2-32],be=N[j+3-32];N[j+0+0]=N[j+1+64]=re+ie+1>>1,N[j+1+0]=N[j+2+64]=ie+fe+1>>1,N[j+2+0]=N[j+3+64]=fe+me+1>>1,N[j+3+0]=me+be+1>>1,N[j+0+96]=ir(Q,H,U),N[j+0+64]=ir(H,U,re),N[j+0+32]=N[j+1+96]=ir(U,re,ie),N[j+1+32]=N[j+2+96]=ir(re,ie,fe),N[j+2+32]=N[j+3+96]=ir(ie,fe,me),N[j+3+32]=ir(fe,me,be)}function e0(N,j){var U=N[j+0-32],H=N[j+1-32],Q=N[j+2-32],re=N[j+3-32],ie=N[j+4-32],fe=N[j+5-32],me=N[j+6-32],be=N[j+7-32];N[j+0+0]=U+H+1>>1,N[j+1+0]=N[j+0+64]=H+Q+1>>1,N[j+2+0]=N[j+1+64]=Q+re+1>>1,N[j+3+0]=N[j+2+64]=re+ie+1>>1,N[j+0+32]=ir(U,H,Q),N[j+1+32]=N[j+0+96]=ir(H,Q,re),N[j+2+32]=N[j+1+96]=ir(Q,re,ie),N[j+3+32]=N[j+2+96]=ir(re,ie,fe),N[j+3+64]=ir(ie,fe,me),N[j+3+96]=ir(fe,me,be)}function vu(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1+96];N[j+0+0]=U+H+1>>1,N[j+2+0]=N[j+0+32]=H+Q+1>>1,N[j+2+32]=N[j+0+64]=Q+re+1>>1,N[j+1+0]=ir(U,H,Q),N[j+3+0]=N[j+1+32]=ir(H,Q,re),N[j+3+32]=N[j+1+64]=ir(Q,re,re),N[j+3+64]=N[j+2+64]=N[j+0+96]=N[j+1+96]=N[j+2+96]=N[j+3+96]=re}function Ls(N,j){var U=N[j-1+0],H=N[j-1+32],Q=N[j-1+64],re=N[j-1+96],ie=N[j-1-32],fe=N[j+0-32],me=N[j+1-32],be=N[j+2-32];N[j+0+0]=N[j+2+32]=U+ie+1>>1,N[j+0+32]=N[j+2+64]=H+U+1>>1,N[j+0+64]=N[j+2+96]=Q+H+1>>1,N[j+0+96]=re+Q+1>>1,N[j+3+0]=ir(fe,me,be),N[j+2+0]=ir(ie,fe,me),N[j+1+0]=N[j+3+32]=ir(U,ie,fe),N[j+1+32]=N[j+3+64]=ir(H,U,ie),N[j+1+64]=N[j+3+96]=ir(Q,H,U),N[j+1+96]=ir(re,Q,H)}function yu(N,j){var U;for(U=0;8>U;++U)n(N,j+32*U,N,j-32,8)}function lo(N,j){var U;for(U=0;8>U;++U)a(N,j,N[j-1],8),j+=32}function bu(N,j,U){var H;for(H=0;8>H;++H)a(j,U+32*H,N,8)}function Yo(N,j){var U,H=8;for(U=0;8>U;++U)H+=N[j+U-32]+N[j-1+32*U];bu(H>>4,N,j)}function Tf(N,j){var U,H=4;for(U=0;8>U;++U)H+=N[j+U-32];bu(H>>3,N,j)}function Of(N,j){var U,H=4;for(U=0;8>U;++U)H+=N[j-1+32*U];bu(H>>3,N,j)}function Xa(N,j){bu(128,N,j)}function Ms(N,j,U){var H=N[j-U],Q=N[j+0],re=3*(Q-H)+lc[1020+N[j-2*U]-N[j+U]],ie=l0[112+(re+4>>3)];N[j-U]=Ci[255+H+l0[112+(re+3>>3)]],N[j+0]=Ci[255+Q-ie]}function oo(N,j,U,H){var Q=N[j+0],re=N[j+U];return fi[255+N[j-2*U]-N[j-U]]>H||fi[255+re-Q]>H}function Xo(N,j,U,H){return 4*fi[255+N[j-U]-N[j+0]]+fi[255+N[j-2*U]-N[j+U]]<=H}function Df(N,j,U,H,Q){var re=N[j-3*U],ie=N[j-2*U],fe=N[j-U],me=N[j+0],be=N[j+U],ke=N[j+2*U],Ue=N[j+3*U];return 4*fi[255+fe-me]+fi[255+ie-be]>H?0:fi[255+N[j-4*U]-re]<=Q&&fi[255+re-ie]<=Q&&fi[255+ie-fe]<=Q&&fi[255+Ue-ke]<=Q&&fi[255+ke-be]<=Q&&fi[255+be-me]<=Q}function wu(N,j,U,H){var Q=2*H+1;for(H=0;16>H;++H)Xo(N,j+H,U,Q)&&Ms(N,j+H,U)}function Qo(N,j,U,H){var Q=2*H+1;for(H=0;16>H;++H)Xo(N,j+H*U,1,Q)&&Ms(N,j+H*U,1)}function Mc(N,j,U,H){var Q;for(Q=3;0<Q;--Q)wu(N,j+=4*U,U,H)}function _u(N,j,U,H){var Q;for(Q=3;0<Q;--Q)Qo(N,j+=4,U,H)}function co(N,j,U,H,Q,re,ie,fe){for(re=2*re+1;0<Q--;){if(Df(N,j,U,re,ie))if(oo(N,j,U,fe))Ms(N,j,U);else{var me=N,be=j,ke=U,Ue=me[be-2*ke],ye=me[be-ke],Oe=me[be+0],Le=me[be+ke],Qe=me[be+2*ke],Re=27*(tt=lc[1020+3*(Oe-ye)+lc[1020+Ue-Le]])+63>>7,Ye=18*tt+63>>7,tt=9*tt+63>>7;me[be-3*ke]=Ci[255+me[be-3*ke]+tt],me[be-2*ke]=Ci[255+Ue+Ye],me[be-ke]=Ci[255+ye+Re],me[be+0]=Ci[255+Oe-Re],me[be+ke]=Ci[255+Le-Ye],me[be+2*ke]=Ci[255+Qe-tt]}j+=H}}function Zo(N,j,U,H,Q,re,ie,fe){for(re=2*re+1;0<Q--;){if(Df(N,j,U,re,ie))if(oo(N,j,U,fe))Ms(N,j,U);else{var me=N,be=j,ke=U,Ue=me[be-ke],ye=me[be+0],Oe=me[be+ke],Le=l0[112+(4+(Qe=3*(ye-Ue))>>3)],Qe=l0[112+(Qe+3>>3)],Re=Le+1>>1;me[be-2*ke]=Ci[255+me[be-2*ke]+Re],me[be-ke]=Ci[255+Ue+Qe],me[be+0]=Ci[255+ye-Le],me[be+ke]=Ci[255+Oe-Re]}j+=H}}function wh(N,j,U,H,Q,re){co(N,j,U,1,16,H,Q,re)}function _h(N,j,U,H,Q,re){co(N,j,1,U,16,H,Q,re)}function Jo(N,j,U,H,Q,re){var ie;for(ie=3;0<ie;--ie)Zo(N,j+=4*U,U,1,16,H,Q,re)}function Nh(N,j,U,H,Q,re){var ie;for(ie=3;0<ie;--ie)Zo(N,j+=4,1,U,16,H,Q,re)}function F(N,j,U,H,Q,re,ie,fe){co(N,j,Q,1,8,re,ie,fe),co(U,H,Q,1,8,re,ie,fe)}function Y(N,j,U,H,Q,re,ie,fe){co(N,j,1,Q,8,re,ie,fe),co(U,H,1,Q,8,re,ie,fe)}function _e(N,j,U,H,Q,re,ie,fe){Zo(N,j+4*Q,Q,1,8,re,ie,fe),Zo(U,H+4*Q,Q,1,8,re,ie,fe)}function Ee(N,j,U,H,Q,re,ie,fe){Zo(N,j+4,1,Q,8,re,ie,fe),Zo(U,H+4,1,Q,8,re,ie,fe)}function Pe(){this.ba=new qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ft(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new K}function Ut(){this.xb=this.a=0,this.l=new Ia,this.ca=new qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ft,this.ab=0,this.gc=s(4,ot),this.Oc=0}function or(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ia,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(N,j,U,H,Q,re,ie){for(N=N==null?0:N[j+0],j=0;j<ie;++j)Q[re+j]=N+U[H+j]&255,N=Q[re+j]}function Gr(N,j,U,H,Q,re,ie){var fe;if(N==null)xr(null,null,U,H,Q,re,ie);else for(fe=0;fe<ie;++fe)Q[re+fe]=N[j+fe]+U[H+fe]&255}function Hn(N,j,U,H,Q,re,ie){if(N==null)xr(null,null,U,H,Q,re,ie);else{var fe,me=N[j+0],be=me,ke=me;for(fe=0;fe<ie;++fe)be=ke+(me=N[j+fe])-be,ke=U[H+fe]+(-256&be?0>be?0:255:be)&255,be=me,Q[re+fe]=ke}}function xa(N,j,U,H){var Q=j.width,re=j.o;if(t(N!=null&&j!=null),0>U||0>=H||U+H>re)return null;if(!N.Cc){if(N.ga==null){var ie;if(N.ga=new or,(ie=N.ga==null)||(ie=j.width*j.o,t(N.Gb.length==0),N.Gb=i(ie),N.Uc=0,N.Gb==null?ie=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ie=1),ie=!ie),!ie){ie=N.ga;var fe=N.Fa,me=N.P,be=N.qc,ke=N.mb,Ue=N.nb,ye=me+1,Oe=be-1,Le=ie.l;if(t(fe!=null&&ke!=null&&j!=null),oc[0]=null,oc[1]=xr,oc[2]=Gr,oc[3]=Hn,ie.ca=ke,ie.tb=Ue,ie.c=j.width,ie.i=j.height,t(0<ie.c&&0<ie.i),1>=be)j=0;else if(ie.$a=3&fe[me+0],ie.Z=fe[me+0]>>2&3,ie.Lc=fe[me+0]>>4&3,me=fe[me+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||me)j=0;else if(Le.put=Wt,Le.ac=os,Le.bc=Tl,Le.ma=ie,Le.width=j.width,Le.height=j.height,Le.Da=j.Da,Le.v=j.v,Le.va=j.va,Le.j=j.j,Le.o=j.o,ie.$a)e:{t(ie.$a==1),j=Ie();t:for(;;){if(j==null){j=0;break e}if(t(ie!=null),ie.mc=j,j.c=ie.c,j.i=ie.i,j.l=ie.l,j.l.ma=ie,j.l.width=ie.c,j.l.height=ie.i,j.a=0,ue(j.m,fe,ye,Oe),!Be(ie.c,ie.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&he(j.s)?(ie.ic=1,fe=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(fe),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ie.ic=0,j=ze(j,ie.c)),!j))break t;j=1;break e}ie.mc=null,j=0}else j=Oe>=ie.c*ie.i;ie=!j}if(ie)return null;N.ga.Lc!=1?N.Ga=0:H=re-U}t(N.ga!=null),t(U+H<=re);e:{if(j=(fe=N.ga).c,re=fe.l.o,fe.$a==0){if(ye=N.rc,Oe=N.Vc,Le=N.Fa,me=N.P+1+U*j,be=N.mb,ke=N.nb+U*j,t(me<=N.P+N.qc),fe.Z!=0)for(t(oc[fe.Z]!=null),ie=0;ie<H;++ie)oc[fe.Z](ye,Oe,Le,me,be,ke,j),ye=be,Oe=ke,ke+=j,me+=j;else for(ie=0;ie<H;++ie)n(be,ke,Le,me,j),ye=be,Oe=ke,ke+=j,me+=j;N.rc=ye,N.Vc=Oe}else{if(t(fe.mc!=null),j=U+H,t((ie=fe.mc)!=null),t(j<=ie.i),ie.C>=j)j=1;else if(fe.ic||sl(),fe.ic){fe=ie.V,ye=ie.Ba,Oe=ie.c;var Qe=ie.i,Re=(Le=1,me=ie.$/Oe,be=ie.$%Oe,ke=ie.m,Ue=ie.s,ie.$),Ye=Oe*Qe,tt=Oe*j,ft=Ue.wc,it=Re<tt?ee(Ue,be,me):null;t(Re<=Ye),t(j<=Qe),t(he(Ue));t:for(;;){for(;!ke.h&&Re<tt;){if(be&ft||(it=ee(Ue,be,me)),t(it!=null),oe(ke),256>(Qe=Sn(it.G[0],it.H[0],ke)))fe[ye+Re]=Qe,++Re,++be>=Oe&&(be=0,++me<=j&&!(me%16)&&Ne(ie,me));else{if(!(280>Qe)){Le=0;break t}Qe=si(Qe-256,ke);var Mt,Et=Sn(it.G[4],it.H[4],ke);if(oe(ke),!(Re>=(Et=qi(Oe,Et=si(Et,ke)))&&Ye-Re>=Qe)){Le=0;break t}for(Mt=0;Mt<Qe;++Mt)fe[ye+Re+Mt]=fe[ye+Re+Mt-Et];for(Re+=Qe,be+=Qe;be>=Oe;)be-=Oe,++me<=j&&!(me%16)&&Ne(ie,me);Re<tt&&be&ft&&(it=ee(Ue,be,me))}t(ke.h==W(ke))}Ne(ie,me>j?j:me);break t}!Le||ke.h&&Re<Ye?(Le=0,ie.a=ke.h?5:3):ie.$=Re,j=Le}else j=Me(ie,ie.V,ie.Ba,ie.c,ie.i,j,ut);if(!j){H=0;break e}}U+H>=re&&(N.Cc=1),H=1}if(!H)return null;if(N.Cc&&((H=N.ga)!=null&&(H.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+U*Q}function jn(N,j,U,H,Q,re){for(;0<Q--;){var ie,fe=N,me=j+(U?1:0),be=N,ke=j+(U?0:3);for(ie=0;ie<H;++ie){var Ue=be[ke+4*ie];Ue!=255&&(Ue*=32897,fe[me+4*ie+0]=fe[me+4*ie+0]*Ue>>23,fe[me+4*ie+1]=fe[me+4*ie+1]*Ue>>23,fe[me+4*ie+2]=fe[me+4*ie+2]*Ue>>23)}j+=re}}function Ba(N,j,U,H,Q){for(;0<H--;){var re;for(re=0;re<U;++re){var ie=N[j+2*re+0],fe=15&(be=N[j+2*re+1]),me=4369*fe,be=(240&be|be>>4)*me>>16;N[j+2*re+0]=(240&ie|ie>>4)*me>>16&240|(15&ie|ie<<4)*me>>16>>4&15,N[j+2*re+1]=240&be|fe}j+=Q}}function ja(N,j,U,H,Q,re,ie,fe){var me,be,ke=255;for(be=0;be<Q;++be){for(me=0;me<H;++me){var Ue=N[j+me];re[ie+4*me]=Ue,ke&=Ue}j+=U,ie+=fe}return ke!=255}function oi(N,j,U,H,Q){var re;for(re=0;re<Q;++re)U[H+re]=N[j+re]>>8}function sl(){Eu=jn,ol=Ba,a0=ja,Bs=oi}function cs(N,j,U){B[N]=function(H,Q,re,ie,fe,me,be,ke,Ue,ye,Oe,Le,Qe,Re,Ye,tt,ft){var it,Mt=ft-1>>1,Et=fe[me+0]|be[ke+0]<<16,hr=Ue[ye+0]|Oe[Le+0]<<16;t(H!=null);var Ot=3*Et+hr+131074>>2;for(j(H[Q+0],255&Ot,Ot>>16,Qe,Re),re!=null&&(Ot=3*hr+Et+131074>>2,j(re[ie+0],255&Ot,Ot>>16,Ye,tt)),it=1;it<=Mt;++it){var Tr=fe[me+it]|be[ke+it]<<16,Fn=Ue[ye+it]|Oe[Le+it]<<16,gr=Et+Tr+hr+Fn+524296,kt=gr+2*(Tr+hr)>>3;Ot=kt+Et>>1,Et=(gr=gr+2*(Et+Fn)>>3)+Tr>>1,j(H[Q+2*it-1],255&Ot,Ot>>16,Qe,Re+(2*it-1)*U),j(H[Q+2*it-0],255&Et,Et>>16,Qe,Re+(2*it-0)*U),re!=null&&(Ot=gr+hr>>1,Et=kt+Fn>>1,j(re[ie+2*it-1],255&Ot,Ot>>16,Ye,tt+(2*it-1)*U),j(re[ie+2*it+0],255&Et,Et>>16,Ye,tt+(2*it+0)*U)),Et=Tr,hr=Fn}1&ft||(Ot=3*Et+hr+131074>>2,j(H[Q+ft-1],255&Ot,Ot>>16,Qe,Re+(ft-1)*U),re!=null&&(Ot=3*hr+Et+131074>>2,j(re[ie+ft-1],255&Ot,Ot>>16,Ye,tt+(ft-1)*U)))}}function Sh(){hi[kh]=Tu,hi[Ti]=$f,hi[Ch]=vp,hi[cl]=Fh,hi[o0]=Hc,hi[Uf]=yo,hi[zc]=Vc,hi[c0]=$f,hi[Th]=Fh,hi[zf]=Hc,hi[Oh]=yo}function Pf(N){return N&-16384?0>N?0:255:N>>Lh}function Nu(N,j){return Pf((19077*N>>8)+(26149*j>>8)-14234)}function uo(N,j,U){return Pf((19077*N>>8)-(6419*j>>8)-(13320*U>>8)+8708)}function Ll(N,j){return Pf((19077*N>>8)+(33050*j>>8)-17685)}function Su(N,j,U,H,Q){H[Q+0]=Nu(N,U),H[Q+1]=uo(N,j,U),H[Q+2]=Ll(N,j)}function Rc(N,j,U,H,Q){H[Q+0]=Ll(N,j),H[Q+1]=uo(N,j,U),H[Q+2]=Nu(N,U)}function ci(N,j,U,H,Q){var re=uo(N,j,U);j=re<<3&224|Ll(N,j)>>3,H[Q+0]=248&Nu(N,U)|re>>5,H[Q+1]=j}function Ic(N,j,U,H,Q){var re=240&Ll(N,j)|15;H[Q+0]=240&Nu(N,U)|uo(N,j,U)>>4,H[Q+1]=re}function Bc(N,j,U,H,Q){H[Q+0]=255,Su(N,j,U,H,Q+1)}function Ff(N,j,U,H,Q){Rc(N,j,U,H,Q),H[Q+3]=255}function fo(N,j,U,H,Q){Su(N,j,U,H,Q),H[Q+3]=255}function ta(N,j){return 0>N?0:N>j?j:N}function ec(N,j,U){B[N]=function(H,Q,re,ie,fe,me,be,ke,Ue){for(var ye=ke+(-2&Ue)*U;ke!=ye;)j(H[Q+0],re[ie+0],fe[me+0],be,ke),j(H[Q+1],re[ie+0],fe[me+0],be,ke+U),Q+=2,++ie,++me,ke+=2*U;1&Ue&&j(H[Q+0],re[ie+0],fe[me+0],be,ke)}}function Lf(N,j,U){return U==0?N==0?j==0?6:5:j==0?4:0:U}function t0(N,j,U,H,Q){switch(N>>>30){case 3:sc(j,U,H,Q,0);break;case 2:ki(j,U,H,Q);break;case 1:Kr(j,U,H,Q)}}function Rs(N,j){var U,H,Q=j.M,re=j.Nb,ie=N.oc,fe=N.pc+40,me=N.oc,be=N.pc+584,ke=N.oc,Ue=N.pc+600;for(U=0;16>U;++U)ie[fe+32*U-1]=129;for(U=0;8>U;++U)me[be+32*U-1]=129,ke[Ue+32*U-1]=129;for(0<Q?ie[fe-1-32]=me[be-1-32]=ke[Ue-1-32]=129:(a(ie,fe-32-1,127,21),a(me,be-32-1,127,9),a(ke,Ue-32-1,127,9)),H=0;H<N.za;++H){var ye=j.ya[j.aa+H];if(0<H){for(U=-1;16>U;++U)n(ie,fe+32*U-4,ie,fe+32*U+12,4);for(U=-1;8>U;++U)n(me,be+32*U-4,me,be+32*U+4,4),n(ke,Ue+32*U-4,ke,Ue+32*U+4,4)}var Oe=N.Gd,Le=N.Hd+H,Qe=ye.ad,Re=ye.Hc;if(0<Q&&(n(ie,fe-32,Oe[Le].y,0,16),n(me,be-32,Oe[Le].f,0,8),n(ke,Ue-32,Oe[Le].ea,0,8)),ye.Za){var Ye=ie,tt=fe-32+16;for(0<Q&&(H>=N.za-1?a(Ye,tt,Oe[Le].y[15],4):n(Ye,tt,Oe[Le+1].y,0,4)),U=0;4>U;U++)Ye[tt+128+U]=Ye[tt+256+U]=Ye[tt+384+U]=Ye[tt+0+U];for(U=0;16>U;++U,Re<<=2)Ye=ie,tt=fe+ya[U],ra[ye.Ob[U]](Ye,tt),t0(Re,Qe,16*+U,Ye,tt)}else if(Ye=Lf(H,Q,ye.Ob[0]),Gi[Ye](ie,fe),Re!=0)for(U=0;16>U;++U,Re<<=2)t0(Re,Qe,16*+U,ie,fe+ya[U]);for(U=ye.Gc,Ye=Lf(H,Q,ye.Dd),Bl[Ye](me,be),Bl[Ye](ke,Ue),Re=Qe,Ye=me,tt=be,255&(ye=0|U)&&(170&ye?ll(Re,256,Ye,tt):Br(Re,256,Ye,tt)),ye=ke,Re=Ue,255&(U>>=8)&&(170&U?ll(Qe,320,ye,Re):Br(Qe,320,ye,Re)),Q<N.Ub-1&&(n(Oe[Le].y,0,ie,fe+480,16),n(Oe[Le].f,0,me,be+224,8),n(Oe[Le].ea,0,ke,Ue+224,8)),U=8*re*N.B,Oe=N.sa,Le=N.ta+16*H+16*re*N.R,Qe=N.qa,ye=N.ra+8*H+U,Re=N.Ha,Ye=N.Ia+8*H+U,U=0;16>U;++U)n(Oe,Le+U*N.R,ie,fe+32*U,16);for(U=0;8>U;++U)n(Qe,ye+U*N.B,me,be+32*U,8),n(Re,Ye+U*N.B,ke,Ue+32*U,8)}}function Ml(N,j,U,H,Q,re,ie,fe,me){var be=[0],ke=[0],Ue=0,ye=me!=null?me.kd:0,Oe=me??new et;if(N==null||12>U)return 7;Oe.data=N,Oe.w=j,Oe.ha=U,j=[j],U=[U],Oe.gb=[Oe.gb];e:{var Le=j,Qe=U,Re=Oe.gb;if(t(N!=null),t(Qe!=null),t(Re!=null),Re[0]=0,12<=Qe[0]&&!r(N,Le[0],"RIFF")){if(r(N,Le[0]+8,"WEBP")){Re=3;break e}var Ye=Ce(N,Le[0]+4);if(12>Ye||4294967286<Ye){Re=3;break e}if(ye&&Ye>Qe[0]-8){Re=7;break e}Re[0]=Ye,Le[0]+=12,Qe[0]-=12}Re=0}if(Re!=0)return Re;for(Ye=0<Oe.gb[0],U=U[0];;){e:{var tt=N;Qe=j,Re=U;var ft=be,it=ke,Mt=Le=[0];if((Ot=Ue=[Ue])[0]=0,8>Re[0])Re=7;else{if(!r(tt,Qe[0],"VP8X")){if(Ce(tt,Qe[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Et=Ce(tt,Qe[0]+8),hr=1+Ke(tt,Qe[0]+12);if(2147483648<=hr*(tt=1+Ke(tt,Qe[0]+15))){Re=3;break e}Mt!=null&&(Mt[0]=Et),ft!=null&&(ft[0]=hr),it!=null&&(it[0]=tt),Qe[0]+=18,Re[0]-=18,Ot[0]=1}Re=0}}if(Ue=Ue[0],Le=Le[0],Re!=0)return Re;if(Qe=!!(2&Le),!Ye&&Ue)return 3;if(re!=null&&(re[0]=!!(16&Le)),ie!=null&&(ie[0]=Qe),fe!=null&&(fe[0]=0),ie=be[0],Le=ke[0],Ue&&Qe&&me==null){Re=0;break}if(4>U){Re=7;break}if(Ye&&Ue||!Ye&&!Ue&&!r(N,j[0],"ALPH")){U=[U],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Et=N,Re=j,Ye=U;var Ot=Oe.gb;ft=Oe.na,it=Oe.P,Mt=Oe.Sa,hr=22,t(Et!=null),t(Ye!=null),tt=Re[0];var Tr=Ye[0];for(t(ft!=null),t(Mt!=null),ft[0]=null,it[0]=null,Mt[0]=0;;){if(Re[0]=tt,Ye[0]=Tr,8>Tr){Re=7;break e}var Fn=Ce(Et,tt+4);if(4294967286<Fn){Re=3;break e}var gr=8+Fn+1&-2;if(hr+=gr,0<Ot&&hr>Ot){Re=3;break e}if(!r(Et,tt,"VP8 ")||!r(Et,tt,"VP8L")){Re=0;break e}if(Tr[0]<gr){Re=7;break e}r(Et,tt,"ALPH")||(ft[0]=Et,it[0]=tt+8,Mt[0]=Fn),tt+=gr,Tr-=gr}}if(U=U[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Re!=0)break}U=[U],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Ot=N,Re=j,Ye=U,ft=Oe.gb[0],it=Oe.Ja,Mt=Oe.xa,Et=Re[0],tt=!r(Ot,Et,"VP8 "),hr=!r(Ot,Et,"VP8L"),t(Ot!=null),t(Ye!=null),t(it!=null),t(Mt!=null),8>Ye[0])Re=7;else{if(tt||hr){if(Ot=Ce(Ot,Et+4),12<=ft&&Ot>ft-12){Re=3;break e}if(ye&&Ot>Ye[0]-8){Re=7;break e}it[0]=Ot,Re[0]+=8,Ye[0]-=8,Mt[0]=hr}else Mt[0]=5<=Ye[0]&&Ot[Et+0]==47&&!(Ot[Et+4]>>5),it[0]=Ye[0];Re=0}if(U=U[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],j=j[0],Re!=0)break;if(4294967286<Oe.Ja)return 3;if(fe==null||Qe||(fe[0]=Oe.xa?2:1),ie=[ie],Le=[Le],Oe.xa){if(5>U){Re=7;break}fe=ie,ye=Le,Qe=re,N==null||5>U?N=0:5<=U&&N[j+0]==47&&!(N[j+4]>>5)?(Ye=[0],Ot=[0],ft=[0],ue(it=new L,N,j,U),al(it,Ye,Ot,ft)?(fe!=null&&(fe[0]=Ye[0]),ye!=null&&(ye[0]=Ot[0]),Qe!=null&&(Qe[0]=ft[0]),N=1):N=0):N=0}else{if(10>U){Re=7;break}fe=Le,N==null||10>U||!Hi(N,j+3,U-3)?N=0:(ye=N[j+0]|N[j+1]<<8|N[j+2]<<16,Qe=16383&(N[j+7]<<8|N[j+6]),N=16383&(N[j+9]<<8|N[j+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Oe.Ja||!Qe||!N?N=0:(ie&&(ie[0]=Qe),fe&&(fe[0]=N),N=1))}if(!N||(ie=ie[0],Le=Le[0],Ue&&(be[0]!=ie||ke[0]!=Le)))return 3;me!=null&&(me[0]=Oe,me.offset=j-me.w,t(4294967286>j-me.w),t(me.offset==me.ha-U));break}return Re==0||Re==7&&Ue&&me==null?(re!=null&&(re[0]|=Oe.na!=null&&0<Oe.na.length),H!=null&&(H[0]=ie),Q!=null&&(Q[0]=Le),0):Re}function tc(N,j,U){var H=j.width,Q=j.height,re=0,ie=0,fe=H,me=Q;if(j.Da=N!=null&&0<N.Da,j.Da&&(fe=N.cd,me=N.bd,re=N.v,ie=N.j,11>U||(re&=-2,ie&=-2),0>re||0>ie||0>=fe||0>=me||re+fe>H||ie+me>Q))return 0;if(j.v=re,j.j=ie,j.va=re+fe,j.o=ie+me,j.U=fe,j.T=me,j.da=N!=null&&0<N.da,j.da){if(!wt(fe,me,U=[N.ib],re=[N.hb]))return 0;j.ib=U[0],j.hb=re[0]}return j.ob=N!=null&&N.ob,j.Kb=N==null||!N.Sd,j.da&&(j.ob=j.ib<3*H/4&&j.hb<3*Q/4,j.Kb=0),1}function r0(N){if(N==null)return 2;if(11>N.S){var j=N.f.RGBA;j.fb+=(N.height-1)*j.A,j.A=-j.A}else j=N.f.kb,N=N.height,j.O+=(N-1)*j.fa,j.fa=-j.fa,j.N+=(N-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(N-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(N-1)*j.lb,j.lb=-j.lb);return 0}function Rl(N,j,U,H){if(H==null||0>=N||0>=j)return 2;if(U!=null){if(U.Da){var Q=U.cd,re=U.bd,ie=-2&U.v,fe=-2&U.j;if(0>ie||0>fe||0>=Q||0>=re||ie+Q>N||fe+re>j)return 2;N=Q,j=re}if(U.da){if(!wt(N,j,Q=[U.ib],re=[U.hb]))return 2;N=Q[0],j=re[0]}}H.width=N,H.height=j;e:{var me=H.width,be=H.height;if(N=H.S,0>=me||0>=be||!(N>=kh&&13>N))N=2;else{if(0>=H.Rd&&H.sd==null){ie=re=Q=j=0;var ke=(fe=me*Rh[N])*be;if(11>N||(re=(be+1)/2*(j=(me+1)/2),N==12&&(ie=(Q=me)*be)),(be=i(ke+2*re+ie))==null){N=1;break e}H.sd=be,11>N?((me=H.f.RGBA).eb=be,me.fb=0,me.A=fe,me.size=ke):((me=H.f.kb).y=be,me.O=0,me.fa=fe,me.Fd=ke,me.f=be,me.N=0+ke,me.Ab=j,me.Cd=re,me.ea=be,me.W=0+ke+re,me.Db=j,me.Ed=re,N==12&&(me.F=be,me.J=0+ke+2*re),me.Tc=ie,me.lb=Q)}if(j=1,Q=H.S,re=H.width,ie=H.height,Q>=kh&&13>Q)if(11>Q)N=H.f.RGBA,j&=(fe=Math.abs(N.A))*(ie-1)+re<=N.size,j&=fe>=re*Rh[Q],j&=N.eb!=null;else{N=H.f.kb,fe=(re+1)/2,ke=(ie+1)/2,me=Math.abs(N.fa),be=Math.abs(N.Ab);var Ue=Math.abs(N.Db),ye=Math.abs(N.lb),Oe=ye*(ie-1)+re;j&=me*(ie-1)+re<=N.Fd,j&=be*(ke-1)+fe<=N.Cd,j=(j&=Ue*(ke-1)+fe<=N.Ed)&me>=re&be>=fe&Ue>=fe,j&=N.y!=null,j&=N.f!=null,j&=N.ea!=null,Q==12&&(j&=ye>=re,j&=Oe<=N.Tc,j&=N.F!=null)}else j=0;N=j?0:2}}return N!=0||U!=null&&U.fd&&(N=r0(H)),N}var Uc=64,us=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wi=24,ho=32,mo=8,rc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(N){return N},B.Predictor2=function(N,j,U){return j[U+0]},B.Predictor3=function(N,j,U){return j[U+1]},B.Predictor4=function(N,j,U){return j[U-1]},B.Predictor5=function(N,j,U){return Pt(Pt(N,j[U+1]),j[U+0])},B.Predictor6=function(N,j,U){return Pt(N,j[U-1])},B.Predictor7=function(N,j,U){return Pt(N,j[U+0])},B.Predictor8=function(N,j,U){return Pt(j[U-1],j[U+0])},B.Predictor9=function(N,j,U){return Pt(j[U+0],j[U+1])},B.Predictor10=function(N,j,U){return Pt(Pt(N,j[U-1]),Pt(j[U+0],j[U+1]))},B.Predictor11=function(N,j,U){var H=j[U+0];return 0>=Jt(H>>24&255,N>>24&255,(j=j[U-1])>>24&255)+Jt(H>>16&255,N>>16&255,j>>16&255)+Jt(H>>8&255,N>>8&255,j>>8&255)+Jt(255&H,255&N,255&j)?H:N},B.Predictor12=function(N,j,U){var H=j[U+0];return($t((N>>24&255)+(H>>24&255)-((j=j[U-1])>>24&255))<<24|$t((N>>16&255)+(H>>16&255)-(j>>16&255))<<16|$t((N>>8&255)+(H>>8&255)-(j>>8&255))<<8|$t((255&N)+(255&H)-(255&j)))>>>0},B.Predictor13=function(N,j,U){var H=j[U-1];return(Zt((N=Pt(N,j[U+0]))>>24&255,H>>24&255)<<24|Zt(N>>16&255,H>>16&255)<<16|Zt(N>>8&255,H>>8&255)<<8|Zt(255&N,255&H))>>>0};var Mf=B.PredictorAdd0;B.PredictorAdd1=Dr,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var Rf=B.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var ga,jh=B.ColorIndexInverseTransform,po=B.MapARGB,xo=B.VP8LColorIndexInverseTransformAlpha,ui=B.MapAlpha,nc=B.VP8LPredictorsAdd=[];nc.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var If,Bf,ac,ic,go,ju,Is,sc,ki,ll,Kr,Br,An,va,vo,Il,Au,n0,hp,Wg,Gg,Kg,mp,pp,Eu,ol,a0,Bs,ku=i(511),Ah=i(2041),i0=i(225),s0=i(767),Eh=0,lc=Ah,l0=i0,Ci=s0,fi=ku,kh=0,Ti=1,Ch=2,cl=3,o0=4,Uf=5,zc=6,c0=7,Th=8,zf=9,Oh=10,ul=[2,3,7],qf=[3,3,11],Cu=[280,256,256,256,40],Dh=[0,1,1,1,0],u0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qc=8,hl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ml=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Us=null,Yg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ph=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Xg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],di=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gi=[],ra=[],Bl=[],$c=1,gp=2,oc=[],hi=[];cs("UpsampleRgbLinePair",Su,3),cs("UpsampleBgrLinePair",Rc,3),cs("UpsampleRgbaLinePair",fo,4),cs("UpsampleBgraLinePair",Ff,4),cs("UpsampleArgbLinePair",Bc,4),cs("UpsampleRgba4444LinePair",Ic,2),cs("UpsampleRgb565LinePair",ci,2);var Tu=B.UpsampleRgbLinePair,vp=B.UpsampleBgrLinePair,$f=B.UpsampleRgbaLinePair,Fh=B.UpsampleBgraLinePair,Hc=B.UpsampleArgbLinePair,yo=B.UpsampleRgba4444LinePair,Vc=B.UpsampleRgb565LinePair,pl=16,Hf=1<<pl-1,Ou=-227,Wc=482,Lh=6,Gc=0,mi=i(256),Mh=i(256),Qg=i(256),Q2=i(256),Z2=i(Wc-Ou),J2=i(Wc-Ou);ec("YuvToRgbRow",Su,3),ec("YuvToBgrRow",Rc,3),ec("YuvToRgbaRow",fo,4),ec("YuvToBgraRow",Ff,4),ec("YuvToArgbRow",Bc,4),ec("YuvToRgba4444Row",Ic,2),ec("YuvToRgb565Row",ci,2);var ya=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vf=[0,2,8],f0=[8,7,6,4,4,2,2,2,1,1,1,1],d0=1;this.WebPDecodeRGBA=function(N,j,U,H,Q){var re=Ti,ie=new Pe,fe=new qr;ie.ba=fe,fe.S=re,fe.width=[fe.width],fe.height=[fe.height];var me=fe.width,be=fe.height,ke=new Vt;if(ke==null||N==null)var Ue=2;else t(ke!=null),Ue=Ml(N,j,U,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Ue!=0?me=0:(me!=null&&(me[0]=ke.width[0]),be!=null&&(be[0]=ke.height[0]),me=1),me){fe.width=fe.width[0],fe.height=fe.height[0],H!=null&&(H[0]=fe.width),Q!=null&&(Q[0]=fe.height);e:{if(H=new Ia,(Q=new et).data=N,Q.w=j,Q.ha=U,Q.kd=1,j=[0],t(Q!=null),((N=Ml(Q.data,Q.w,Q.ha,null,null,null,j,null,Q))==0||N==7)&&j[0]&&(N=4),(j=N)==0){if(t(ie!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=Wt,H.ac=os,H.bc=Tl,H.ma=ie,Q.xa){if((N=Ie())==null){ie=1;break e}if((function(ye,Oe){var Le=[0],Qe=[0],Re=[0];t:for(;;){if(ye==null)return 0;if(Oe==null)return ye.a=2,0;if(ye.l=Oe,ye.a=0,ue(ye.m,Oe.data,Oe.w,Oe.ha),!al(ye.m,Le,Qe,Re)){ye.a=3;break t}if(ye.xb=gp,Oe.width=Le[0],Oe.height=Qe[0],!Be(Le[0],Qe[0],1,ye,null))break t;return 1}return t(ye.a!=0),0})(N,H)){if(H=(j=Rl(H.width,H.height,ie.Oa,ie.ba))==0){t:{H=N;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((U=H.l)!=null),t((Q=U.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,t(H.ca!=null),!tc(Q.Oa,U,cl)){H.a=2;break r}if(!ze(H,U.width)||U.da)break r;if((U.da||fr(H.ca.S))&&sl(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&sl()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!xe(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Me(H,H.V,H.Ba,H.c,H.i,U.o,de))break r;Q.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(j=N.a)}else j=N.a}else{if((N=new Cf)==null){ie=1;break e}if(N.Fa=Q.na,N.P=Q.P,N.qc=Q.Sa,Vd(N,H)){if((j=Rl(H.width,H.height,ie.Oa,ie.ba))==0){if(N.Aa=0,U=ie.Oa,t((Q=N)!=null),U!=null){if(0<(me=0>(me=U.Md)?0:100<me?255:255*me/100)){for(be=ke=0;4>be;++be)12>(Ue=Q.pb[be]).lc&&(Ue.ia=me*f0[0>Ue.lc?0:Ue.lc]>>3),ke|=Ue.ia;ke&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=U.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(ye,Oe){if(ye==null)return 0;if(Oe==null)return fn(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!Vd(ye,Oe))return 0;if(t(ye.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(ye.L=0);var Le=Vf[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Oe.v-Le>>4,ye.zb=Oe.j-Le>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Oe.o+15+Le>>4,ye.Hb=Oe.va+15+Le>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var Qe=ye.ed;for(Le=0;4>Le;++Le){var Re;if(ye.Qa.Cb){var Ye=ye.Qa.Lb[Le];ye.Qa.Fb||(Ye+=Qe.Tb)}else Ye=Qe.Tb;for(Re=0;1>=Re;++Re){var tt=ye.gd[Le][Re],ft=Ye;if(Qe.Pc&&(ft+=Qe.vd[0],Re&&(ft+=Qe.od[0])),0<(ft=0>ft?0:63<ft?63:ft)){var it=ft;0<Qe.wb&&(it=4<Qe.wb?it>>2:it>>1)>9-Qe.wb&&(it=9-Qe.wb),1>it&&(it=1),tt.dd=it,tt.tc=2*ft+it,tt.ld=40<=ft?2:15<=ft?1:0}else tt.tc=0;tt.La=Re}}}Le=0}else fn(ye,6,"Frame setup failed"),Le=ye.a;if(Le=Le==0){if(Le){ye.$c=0,0<ye.Aa||(ye.Ic=d0);t:{Le=ye.Ic,Qe=4*(it=ye.za);var Mt=32*it,Et=it+1,hr=0<ye.L?it*(0<ye.Aa?2:1):0,Ot=(ye.Aa==2?2:1)*it;if((tt=Qe+832+(Re=3*(16*Le+Vf[ye.L])/2*Mt)+(Ye=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=tt)Le=0;else{if(tt>ye.Vb){if(ye.Vb=0,ye.Ec=i(tt),ye.Fc=0,ye.Ec==null){Le=fn(ye,1,"no memory during frame initialization.");break t}ye.Vb=tt}tt=ye.Ec,ft=ye.Fc,ye.Ac=tt,ye.Bc=ft,ft+=Qe,ye.Gd=s(Mt,Ds),ye.Hd=0,ye.rb=s(Et+1,un),ye.sb=1,ye.wa=hr?s(hr,kr):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=it),t(!0),ye.oc=tt,ye.pc=ft,ft+=832,ye.ya=s(Ot,Ol),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=it),ye.R=16*it,ye.B=8*it,it=(Mt=Vf[ye.L])*ye.R,Mt=Mt/2*ye.B,ye.sa=tt,ye.ta=ft+it,ye.qa=ye.sa,ye.ra=ye.ta+16*Le*ye.R+Mt,ye.Ha=ye.qa,ye.Ia=ye.ra+8*Le*ye.B+Mt,ye.$c=0,ft+=Re,ye.mb=Ye?tt:null,ye.nb=Ye?ft:null,t(ft+Ye<=ye.Fc+ye.Vb),Go(ye),a(ye.Ac,ye.Bc,0,Qe),Le=1}}if(Le){if(Oe.ka=0,Oe.y=ye.sa,Oe.O=ye.ta,Oe.f=ye.qa,Oe.N=ye.ra,Oe.ea=ye.Ha,Oe.Vd=ye.Ia,Oe.fa=ye.R,Oe.Rc=ye.B,Oe.F=null,Oe.J=0,!Eh){for(Le=-255;255>=Le;++Le)ku[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Ah[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)i0[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)s0[255+Le]=0>Le?0:255<Le?255:Le;Eh=1}Is=Yd,sc=xh,ll=Gd,Kr=Vi,Br=Kd,ki=Wd,An=wh,va=_h,vo=F,Il=Y,Au=Jo,n0=Nh,hp=_e,Wg=Ee,Gg=wu,Kg=Qo,mp=Mc,pp=_u,ra[0]=Jd,ra[1]=Xd,ra[2]=Lc,ra[3]=yh,ra[4]=bh,ra[5]=li,ra[6]=Fs,ra[7]=e0,ra[8]=Ls,ra[9]=vu,Gi[0]=Pl,Gi[1]=vh,Gi[2]=Qd,Gi[3]=Zd,Gi[4]=Fl,Gi[5]=Ko,Gi[6]=gu,Bl[0]=Yo,Bl[1]=gh,Bl[2]=yu,Bl[3]=lo,Bl[4]=Of,Bl[5]=Tf,Bl[6]=Xa,Le=1}else Le=0}Le&&(Le=(function(Tr,Fn){for(Tr.M=0;Tr.M<Tr.Va;++Tr.M){var gr,kt=Tr.Jc[Tr.M&Tr.Xb],bt=Tr.m,Vn=Tr;for(gr=0;gr<Vn.za;++gr){var sr=bt,wr=Vn,sn=wr.Ac,Ua=wr.Bc+4*gr,pi=wr.zc,En=wr.ya[wr.aa+gr];if(wr.Qa.Bb?En.$b=Se(sr,wr.Pa.jb[0])?2+Se(sr,wr.Pa.jb[2]):Se(sr,wr.Pa.jb[1]):En.$b=0,wr.kc&&(En.Ad=Se(sr,wr.Bd)),En.Za=!Se(sr,145)+0,En.Za){var Aa=En.Ob,Oi=0;for(wr=0;4>wr;++wr){var Ea,Er=pi[0+wr];for(Ea=0;4>Ea;++Ea){Er=di[sn[Ua+Ea]][Er];for(var $r=Ph[Se(sr,Er[0])];0<$r;)$r=Ph[2*$r+Se(sr,Er[$r])];Er=-$r,sn[Ua+Ea]=Er}n(Aa,Oi,sn,Ua,4),Oi+=4,pi[0+wr]=Er}}else Er=Se(sr,156)?Se(sr,128)?1:3:Se(sr,163)?2:0,En.Ob[0]=Er,a(sn,Ua,Er,4),a(pi,0,Er,4);En.Dd=Se(sr,142)?Se(sr,114)?Se(sr,183)?1:3:2:0}if(Vn.m.Ka)return fn(Tr,7,"Premature end-of-partition0 encountered.");for(;Tr.ja<Tr.za;++Tr.ja){if(Vn=kt,sr=(bt=Tr).rb[bt.sb-1],sn=bt.rb[bt.sb+bt.ja],gr=bt.ya[bt.aa+bt.ja],Ua=bt.kc?gr.Ad:0)sr.la=sn.la=0,gr.Za||(sr.Na=sn.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Wn,Yr;if(sr=sn,sn=Vn,Ua=bt.Pa.Xc,pi=bt.ya[bt.aa+bt.ja],En=bt.pb[pi.$b],wr=pi.ad,Aa=0,Oi=bt.rb[bt.sb-1],Er=Ea=0,a(wr,Aa,0,384),pi.Za)var za=0,Gn=Ua[3];else{$r=i(16);var Hr=sr.Na+Oi.Na;if(Hr=Us(sn,Ua[1],Hr,En.Eb,0,$r,0),sr.Na=Oi.Na=(0<Hr)+0,1<Hr)Is($r,0,wr,Aa);else{var ba=$r[0]+3>>3;for($r=0;256>$r;$r+=16)wr[Aa+$r]=ba}za=1,Gn=Ua[0]}var ln=15&sr.la,ka=15&Oi.la;for($r=0;4>$r;++$r){var Ca=1&ka;for(ba=Yr=0;4>ba;++ba)ln=ln>>1|(Ca=(Hr=Us(sn,Gn,Hr=Ca+(1&ln),En.Sc,za,wr,Aa))>za)<<7,Yr=Yr<<2|(3<Hr?3:1<Hr?2:wr[Aa+0]!=0),Aa+=16;ln>>=4,ka=ka>>1|Ca<<7,Ea=(Ea<<8|Yr)>>>0}for(Gn=ln,za=ka>>4,Wn=0;4>Wn;Wn+=2){for(Yr=0,ln=sr.la>>4+Wn,ka=Oi.la>>4+Wn,$r=0;2>$r;++$r){for(Ca=1&ka,ba=0;2>ba;++ba)Hr=Ca+(1&ln),ln=ln>>1|(Ca=0<(Hr=Us(sn,Ua[2],Hr,En.Qc,0,wr,Aa)))<<3,Yr=Yr<<2|(3<Hr?3:1<Hr?2:wr[Aa+0]!=0),Aa+=16;ln>>=2,ka=ka>>1|Ca<<5}Er|=Yr<<4*Wn,Gn|=ln<<4<<Wn,za|=(240&ka)<<Wn}sr.la=Gn,Oi.la=za,pi.Hc=Ea,pi.Gc=Er,pi.ia=43690&Er?0:En.ia,Ua=!(Ea|Er)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[gr.$b][gr.Za],bt.wa[bt.Y+bt.ja].La|=!Ua),Vn.Ka)return fn(Tr,7,"Premature end-of-file encountered.")}if(Go(Tr),bt=Fn,Vn=1,gr=(kt=Tr).D,sr=0<kt.L&&kt.M>=kt.zb&&kt.M<=kt.Va,kt.Aa==0)t:{if(gr.M=kt.M,gr.uc=sr,Rs(kt,gr),Vn=1,gr=(Yr=kt.D).Nb,sr=(Er=Vf[kt.L])*kt.R,sn=Er/2*kt.B,$r=16*gr*kt.R,ba=8*gr*kt.B,Ua=kt.sa,pi=kt.ta-sr+$r,En=kt.qa,wr=kt.ra-sn+ba,Aa=kt.Ha,Oi=kt.Ia-sn+ba,ka=(ln=Yr.M)==0,Ea=ln>=kt.Va-1,kt.Aa==2&&Rs(kt,Yr),Yr.uc)for(Ca=(Hr=kt).D.M,t(Hr.D.uc),Yr=Hr.yb;Yr<Hr.Hb;++Yr){za=Yr,Gn=Ca;var xn=(Ur=(Ta=Hr).D).Nb;Wn=Ta.R;var Ur=Ur.wa[Ur.Y+za],Di=Ta.sa,na=Ta.ta+16*xn*Wn+16*za,Xt=Ur.dd,tr=Ur.tc;if(tr!=0)if(t(3<=tr),Ta.L==1)0<za&&Kg(Di,na,Wn,tr+4),Ur.La&&pp(Di,na,Wn,tr),0<Gn&&Gg(Di,na,Wn,tr+4),Ur.La&&mp(Di,na,Wn,tr);else{var Vr=Ta.B,fs=Ta.qa,xl=Ta.ra+8*xn*Vr+8*za,Ki=Ta.Ha,Ta=Ta.Ia+8*xn*Vr+8*za;xn=Ur.ld,0<za&&(va(Di,na,Wn,tr+4,Xt,xn),Il(fs,xl,Ki,Ta,Vr,tr+4,Xt,xn)),Ur.La&&(n0(Di,na,Wn,tr,Xt,xn),Wg(fs,xl,Ki,Ta,Vr,tr,Xt,xn)),0<Gn&&(An(Di,na,Wn,tr+4,Xt,xn),vo(fs,xl,Ki,Ta,Vr,tr+4,Xt,xn)),Ur.La&&(Au(Di,na,Wn,tr,Xt,xn),hp(fs,xl,Ki,Ta,Vr,tr,Xt,xn))}}if(kt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Yr=16*ln,ln=16*(ln+1),ka?(bt.y=kt.sa,bt.O=kt.ta+$r,bt.f=kt.qa,bt.N=kt.ra+ba,bt.ea=kt.Ha,bt.W=kt.Ia+ba):(Yr-=Er,bt.y=Ua,bt.O=pi,bt.f=En,bt.N=wr,bt.ea=Aa,bt.W=Oi),Ea||(ln-=Er),ln>bt.o&&(ln=bt.o),bt.F=null,bt.J=null,kt.Fa!=null&&0<kt.Fa.length&&Yr<ln&&(bt.J=xa(kt,bt,Yr,ln-Yr),bt.F=kt.mb,bt.F==null&&bt.F.length==0)){Vn=fn(kt,3,"Could not decode alpha data.");break t}Yr<bt.j&&(Er=bt.j-Yr,Yr=bt.j,t(!(1&Er)),bt.O+=kt.R*Er,bt.N+=kt.B*(Er>>1),bt.W+=kt.B*(Er>>1),bt.F!=null&&(bt.J+=bt.width*Er)),Yr<ln&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Yr-bt.j,bt.U=bt.va-bt.v,bt.T=ln-Yr,Vn=bt.put(bt))}gr+1!=kt.Ic||Ea||(n(kt.sa,kt.ta-sr,Ua,pi+16*kt.R,sr),n(kt.qa,kt.ra-sn,En,wr+8*kt.B,sn),n(kt.Ha,kt.Ia-sn,Aa,Oi+8*kt.B,sn))}if(!Vn)return fn(Tr,6,"Output aborted.")}return 1})(ye,Oe)),Oe.bc!=null&&Oe.bc(Oe),Le&=1}return Le?(ye.cb=0,Le):0})(N,H)||(j=N.a)}}else j=N.a}j==0&&ie.Oa!=null&&ie.Oa.fd&&(j=r0(ie.ba))}ie=j}re=ie!=0?null:11>re?fe.f.RGBA.eb:fe.f.kb.y}else re=null;return re};var Rh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,G){for(var I="",z=0;z<4;z++)I+=String.fromCharCode(B[G++]);return I}function h(B,G){return B[G+0]|B[G+1]<<8}function p(B,G){return(B[G+0]|B[G+1]<<8|B[G+2]<<16)>>>0}function g(B,G){return(B[G+0]|B[G+1]<<8|B[G+2]<<16|B[G+3]<<24)>>>0}new u;var x=[0],b=[0],y=[],w=new u,_=e,E=(function(B,G){var I={},z=0,K=!1,J=0,pe=0;if(I.frames=[],!(function(P,L){for(var q=0;q<4;q++)if(P[L+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,G)){for(g(B,G+=4),G+=8;G<B.length;){var ne=f(B,G),le=g(B,G+=4);G+=4;var ve=le+(1&le);switch(ne){case"VP8 ":case"VP8L":I.frames[z]===void 0&&(I.frames[z]={}),(te=I.frames[z]).src_off=K?pe:G-8,te.src_size=J+le+8,z++,K&&(K=!1,J=0,pe=0);break;case"VP8X":(te=I.header={}).feature_flags=B[G];var ue=G+4;te.canvas_width=1+p(B,ue),ue+=3,te.canvas_height=1+p(B,ue),ue+=3;break;case"ALPH":K=!0,J=ve+8,pe=G-8;break;case"ANIM":(te=I.header).bgcolor=g(B,G),ue=G+4,te.loop_count=h(B,ue),ue+=2;break;case"ANMF":var je,te;(te=I.frames[z]={}).offset_x=2*p(B,G),G+=3,te.offset_y=2*p(B,G),G+=3,te.width=1+p(B,G),G+=3,te.height=1+p(B,G),G+=3,te.duration=p(B,G),G+=3,je=B[G++],te.dispose=1&je,te.blend=je>>1&1}ne!="ANMF"&&(G+=ve)}return I}})(_,0);E.response=_,E.rgbaoutput=!0,E.dataurl=!1;var A=E.header?E.header:null,T=E.frames?E.frames:null;if(A){A.loop_counter=A.loop_count,x=[A.canvas_height],b=[A.canvas_width];for(var O=0;O<T.length&&T[O].blend!=0;O++);}var R=T[0],D=w.WebPDecodeRGBA(_,R.src_off,R.src_size,b,x);R.rgba=D,R.imgwidth=b[0],R.imgheight=x[0];for(var M=0;M<b[0]*x[0]*4;M++)y[M]=D[M];return this.width=b,this.height=x,this.data=y,this}(function(e){var t,r,n,a,i,s,o,u,f,h=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new u,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var p=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=P;Object.defineProperty(this,"pdf",{get:function(){return L}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ce){q=!!Ce}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(Ce){W=!!Ce}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(Ce){isNaN(Ce)||(Z=Ce)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Ce){isNaN(Ce)||(oe=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ce){var xe;typeof Ce=="number"?xe=[Ce,Ce,Ce,Ce]:((xe=new Array(4))[0]=Ce[0],xe[1]=Ce.length>=2?Ce[1]:xe[0],xe[2]=Ce.length>=3?Ce[2]:xe[0],xe[3]=Ce.length>=4?Ce[3]:xe[1]),f.margin=xe}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(Ce){ce=Ce}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ce){ae=Ce}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Ce){Se=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ce){Ce instanceof h&&(f=Ce)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ce){f.path=Ce}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Ce){De=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var xe;xe=g(Ce),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var xe=g(Ce);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var X=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Ce){X=null,Ke=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var xe;if(this.ctx.font=Ce,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var dt=xe[1];xe[2];var Xe=xe[3],wt=xe[4];xe[5];var st=xe[6],At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(wt)[2];wt=Math.floor(At==="px"?parseFloat(wt)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(wt)*this.pdf.getFontSize():parseFloat(wt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(wt);var pt=(function(xt){var St,Nr,Yt=[],Nt=xt.trim();if(Nt==="")return E4;if(Nt in F7)return[F7[Nt]];for(;Nt!=="";){switch(Nr=null,St=(Nt=M7(Nt)).charAt(0)){case'"':case"'":Nr=a4e(Nt.substring(1),St);break;default:Nr=i4e(Nt)}if(Nr===null||(Yt.push(Nr[0]),(Nt=M7(Nr[1]))!==""&&Nt.charAt(0)!==","))return E4;Nt=Nt.replace(/^,/,"")}return Yt})(st);if(this.fontFaces){var Qt=(function(xt,St){if(X===null){var Nr=(function(Yt){var Nt=[];return Object.keys(Yt).forEach(function(er){Yt[er].forEach(function(br){var ar=null;switch(br){case"bold":ar={family:er,weight:"bold"};break;case"italic":ar={family:er,style:"italic"};break;case"bolditalic":ar={family:er,weight:"bold",style:"italic"};break;case"":case"normal":ar={family:er}}ar!==null&&(ar.ref={name:er,style:br},Nt.push(ar))})}),Nt})(xt.getFontList());X=(function(Yt){for(var Nt={},er=0;er<Yt.length;++er){var br=A4(Yt[er]),ar=br.family,Ar=br.stretch,fr=br.style,pn=br.weight;Nt[ar]=Nt[ar]||{},Nt[ar][Ar]=Nt[ar][Ar]||{},Nt[ar][Ar][fr]=Nt[ar][Ar][fr]||{},Nt[ar][Ar][fr][pn]=br}return Nt})(Nr.concat(St))}return X})(this.pdf,this.fontFaces),Pt=pt.map(function(xt){return{family:xt,stretch:"normal",weight:Xe,style:dt}}),$t=(function(xt,St,Nr){for(var Yt=(Nr=Nr||{}).defaultFontFamily||"times",Nt=Object.assign({},n4e,Nr.genericFontFamilies||{}),er=null,br=null,ar=0;ar<St.length;++ar)if(Nt[(er=A4(St[ar])).family]&&(er.family=Nt[er.family]),xt.hasOwnProperty(er.family)){br=xt[er.family];break}if(!(br=br||xt[Yt]))throw new Error("Could not find a font-family for the rule '"+L7(er)+"' and default family '"+Yt+"'.");if(br=(function(Ar,fr){if(fr[Ar])return fr[Ar];var pn=xN[Ar],In=pn<=xN.normal?-1:1,qr=P7(fr,UB,pn,In);if(!qr)throw new Error("Could not find a matching font-stretch value for "+Ar);return qr})(er.stretch,br),br=(function(Ar,fr){if(fr[Ar])return fr[Ar];for(var pn=BB[Ar],In=0;In<pn.length;++In)if(fr[pn[In]])return fr[pn[In]];throw new Error("Could not find a matching font-style for "+Ar)})(er.style,br),!(br=(function(Ar,fr){if(fr[Ar])return fr[Ar];if(Ar===400&&fr[500])return fr[500];if(Ar===500&&fr[400])return fr[400];var pn=r4e[Ar],In=P7(fr,zB,pn,Ar<400?-1:1);if(!In)throw new Error("Could not find a matching font-weight for value "+Ar);return In})(er.weight,br)))throw new Error("Failed to resolve a font for the rule '"+L7(er)+"'.");return br})(Qt,Pt);this.pdf.setFont($t.ref.name,$t.ref.style)}else{var Zt="";(Xe==="bold"||parseInt(Xe,10)>=700||dt==="bold")&&(Zt="bold"),dt==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var Jt="",Dr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<pt.length;It++){if(this.pdf.internal.getFont(pt[It],Zt,{noFallback:!0,disableWarning:!0})!==void 0){Jt=pt[It];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(pt[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Jt=pt[It],Zt="bold";else if(this.pdf.internal.getFont(pt[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Jt=pt[It],Zt="normal";break}}if(Jt===""){for(var Ct=0;Ct<pt.length;Ct++)if(Dr[pt[Ct]]){Jt=Dr[pt[Ct]];break}}Jt=Jt===""?"Times":Jt,this.pdf.setFont(Jt,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};p.prototype.setLineDash=function(P){this.lineDash=P},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){T.call(this,"fill",!1)},p.prototype.stroke=function(){T.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(P,L){if(isNaN(P)||isNaN(L))throw Mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(P,L));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(P,L)},p.prototype.closePath=function(){var P=new s(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&_n(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){P=new s(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},p.prototype.lineTo=function(P,L){if(isNaN(P)||isNaN(L))throw Mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(P,L));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},p.prototype.quadraticCurveTo=function(P,L,q,W){if(isNaN(q)||isNaN(W)||isNaN(P)||isNaN(L))throw Mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(q,W)),oe=this.ctx.transform.applyToPoint(new s(P,L));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},p.prototype.bezierCurveTo=function(P,L,q,W,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new s(Z,oe)),ae=this.ctx.transform.applyToPoint(new s(P,L)),Se=this.ctx.transform.applyToPoint(new s(q,W));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Se.x,y2:Se.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},p.prototype.arc=function(P,L,q,W,Z,oe){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W)||isNaN(Z))throw Mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new s(P,L));P=ce.x,L=ce.y;var ae=this.ctx.transform.applyToPoint(new s(0,q)),Se=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ae.x-Se.x,2)+Math.pow(ae.y-Se.y,2))}Math.abs(Z-W)>=2*Math.PI&&(W=0,Z=2*Math.PI),this.path.push({type:"arc",x:P,y:L,radius:q,startAngle:W,endAngle:Z,counterclockwise:oe})},p.prototype.arcTo=function(P,L,q,W,Z){throw new Error("arcTo not implemented.")},p.prototype.rect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,L),this.lineTo(P+q,L),this.lineTo(P+q,L+W),this.lineTo(P,L+W),this.lineTo(P,L),this.lineTo(P+q,L),this.lineTo(P,L)},p.prototype.fillRect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,L,q,W),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},p.prototype.strokeRect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(P,L,q,W),this.stroke())},p.prototype.clearRect=function(P,L,q,W){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W))throw Mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,L,q,W))},p.prototype.save=function(P){P=typeof P!="boolean"||P;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},p.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(L),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(P){var L,q,W,Z;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))L=0,q=0,W=0,Z=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(oe!==null)L=parseInt(oe[1]),q=parseInt(oe[2]),W=parseInt(oe[3]),Z=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)L=parseInt(oe[1]),q=parseInt(oe[2]),W=parseInt(oe[3]),Z=parseFloat(oe[4]);else{if(Z=1,typeof P=="string"&&P.charAt(0)!=="#"){var ce=new DB(P);P=ce.ok?ce.toHex():"#000000"}P.length===4?(L=P.substring(1,2),L+=L,q=P.substring(2,3),q+=q,W=P.substring(3,4),W+=W):(L=P.substring(1,3),q=P.substring(3,5),W=P.substring(5,7)),L=parseInt(L,16),q=parseInt(q,16),W=parseInt(W,16)}}return{r:L,g:q,b:W,a:Z,style:P}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(P,L,q,W){if(isNaN(L)||isNaN(q)||typeof P!="string")throw Mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!x.call(this)){var Z=ve(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;z.call(this,{text:P,x:L,y:q,scale:oe,angle:Z,align:this.textAlign,maxWidth:W})}},p.prototype.strokeText=function(P,L,q,W){if(isNaN(L)||isNaN(q)||typeof P!="string")throw Mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){W=isNaN(W)?void 0:W;var Z=ve(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;z.call(this,{text:P,x:L,y:q,scale:oe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:W})}},p.prototype.measureText=function(P){if(typeof P!="string")throw Mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,q=this.pdf.internal.scaleFactor,W=L.internal.getFontSize(),Z=L.getStringUnitWidth(P)*W/L.internal.scaleFactor;return new function(oe){var ce=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:Z*=Math.round(96*q/72*1e4)/1e4})},p.prototype.scale=function(P,L){if(isNaN(P)||isNaN(L))throw Mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(P,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.rotate=function(P){if(isNaN(P))throw Mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new u(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},p.prototype.translate=function(P,L){if(isNaN(P)||isNaN(L))throw Mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,P,L);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.transform=function(P,L,q,W,Z,oe){if(isNaN(P)||isNaN(L)||isNaN(q)||isNaN(W)||isNaN(Z)||isNaN(oe))throw Mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new u(P,L,q,W,Z,oe);this.ctx.transform=this.ctx.transform.multiply(ce)},p.prototype.setTransform=function(P,L,q,W,Z,oe){P=isNaN(P)?1:P,L=isNaN(L)?0:L,q=isNaN(q)?0:q,W=isNaN(W)?1:W,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?0:oe,this.ctx.transform=new u(P,L,q,W,Z,oe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(P,L,q,W,Z,oe,ce,ae,Se){var De=this.pdf.getImageProperties(P),X=1,Ke=1,Ce=1,xe=1;W!==void 0&&ae!==void 0&&(Ce=ae/W,xe=Se/Z,X=De.width/W*ae/W,Ke=De.height/Z*Se/Z),oe===void 0&&(oe=L,ce=q,L=0,q=0),W!==void 0&&ae===void 0&&(ae=W,Se=Z),W===void 0&&ae===void 0&&(ae=De.width,Se=De.height);for(var dt,Xe=this.ctx.transform.decompose(),wt=ve(Xe.rotate.shx),st=new u,At=(st=(st=(st=st.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new o(oe-L*Ce,ce-q*xe,W*X,Z*Ke)),pt=w.call(this,At),Qt=[],Pt=0;Pt<pt.length;Pt+=1)Qt.indexOf(pt[Pt])===-1&&Qt.push(pt[Pt]);if(A(Qt),this.autoPaging)for(var $t=Qt[0],Zt=Qt[Qt.length-1],Jt=$t;Jt<Zt+1;Jt++){this.pdf.setPage(Jt);var Dr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=Jt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Jt===1?0:Ct+(Jt-2)*xt;if(this.ctx.clip_path.length!==0){var Nr=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(dt,this.posX+this.margin[3],-St+It+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Nr}var Yt=JSON.parse(JSON.stringify(At));Yt=E([Yt],this.posX+this.margin[3],-St+It+this.ctx.prevPageLastElemOffset)[0];var Nt=(Jt>$t||Jt<Zt)&&y.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dr,xt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,wt),Nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",At.x,At.y,At.w,At.h,null,null,wt)};var w=function(P,L,q){var W=[];L=L||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":W.push(Math.floor((P.y+Z)/q)+1);break;case"arc":W.push(Math.floor((P.y+Z-P.radius)/q)+1),W.push(Math.floor((P.y+Z+P.radius)/q)+1);break;case"qct":var oe=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);W.push(Math.floor((oe.y+Z)/q)+1),W.push(Math.floor((oe.y+oe.h+Z)/q)+1);break;case"bct":var ce=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);W.push(Math.floor((ce.y+Z)/q)+1),W.push(Math.floor((ce.y+ce.h+Z)/q)+1);break;case"rect":W.push(Math.floor((P.y+Z)/q)+1),W.push(Math.floor((P.y+P.h+Z)/q)+1)}for(var ae=0;ae<W.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<W[ae];)_.call(this);return W},_=function(){var P=this.fillStyle,L=this.strokeStyle,q=this.font,W=this.lineCap,Z=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=L,this.font=q,this.lineCap=W,this.lineWidth=Z,this.lineJoin=oe},E=function(P,L,q){for(var W=0;W<P.length;W++)switch(P[W].type){case"bct":P[W].x2+=L,P[W].y2+=q;case"qct":P[W].x1+=L,P[W].y1+=q;default:P[W].x+=L,P[W].y+=q}return P},A=function(P){return P.sort(function(L,q){return L-q})},T=function(P,L){for(var q,W,Z=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,ae=this.lineWidth,Se=Math.abs(ae*this.ctx.transform.scaleX),De=this.lineJoin,X=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Ce=[],xe=0;xe<Ke.length;xe++)if(Ke[xe].x!==void 0)for(var dt=w.call(this,Ke[xe]),Xe=0;Xe<dt.length;Xe+=1)Ce.indexOf(dt[Xe])===-1&&Ce.push(dt[Xe]);for(var wt=0;wt<Ce.length;wt++)for(;this.pdf.internal.getNumberOfPages()<Ce[wt];)_.call(this);if(A(Ce),this.autoPaging)for(var st=Ce[0],At=Ce[Ce.length-1],pt=st;pt<At+1;pt++){this.pdf.setPage(pt),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=Se,this.lineJoin=De;var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=pt===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=pt===1?0:$t+(pt-2)*Zt;if(this.ctx.clip_path.length!==0){var Dr=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Jt+Pt+this.ctx.prevPageLastElemOffset),O.call(this,P,!0),this.path=Dr}if(W=JSON.parse(JSON.stringify(X)),this.path=E(W,this.posX+this.margin[3],-Jt+Pt+this.ctx.prevPageLastElemOffset),L===!1||pt===0){var It=(pt>st||pt<At)&&y.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,Zt,null).clip().discardPath()),O.call(this,P,L),It&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Se,O.call(this,P,L),this.lineWidth=ae;this.path=X},O=function(P,L){if((P!=="stroke"||L||!b.call(this))&&(P==="stroke"||L||!x.call(this))){for(var q,W,Z=[],oe=this.path,ce=0;ce<oe.length;ce++){var ae=oe[ce];switch(ae.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ae,deltas:[],abs:[]});break;case"lt":var Se=Z.length;if(oe[ce-1]&&!isNaN(oe[ce-1].x)&&(q=[ae.x-oe[ce-1].x,ae.y-oe[ce-1].y],Se>0)){for(;Se>=0;Se--)if(Z[Se-1].close!==!0&&Z[Se-1].begin!==!0){Z[Se-1].deltas.push(q),Z[Se-1].abs.push(ae);break}}break;case"bct":q=[ae.x1-oe[ce-1].x,ae.y1-oe[ce-1].y,ae.x2-oe[ce-1].x,ae.y2-oe[ce-1].y,ae.x-oe[ce-1].x,ae.y-oe[ce-1].y],Z[Z.length-1].deltas.push(q);break;case"qct":var De=oe[ce-1].x+2/3*(ae.x1-oe[ce-1].x),X=oe[ce-1].y+2/3*(ae.y1-oe[ce-1].y),Ke=ae.x+2/3*(ae.x1-ae.x),Ce=ae.y+2/3*(ae.y1-ae.y),xe=ae.x,dt=ae.y;q=[De-oe[ce-1].x,X-oe[ce-1].y,Ke-oe[ce-1].x,Ce-oe[ce-1].y,xe-oe[ce-1].x,dt-oe[ce-1].y],Z[Z.length-1].deltas.push(q);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ae)}}W=L?null:P==="stroke"?"stroke":"fill";for(var Xe=!1,wt=0;wt<Z.length;wt++)if(Z[wt].arc)for(var st=Z[wt].abs,At=0;At<st.length;At++){var pt=st[At];pt.type==="arc"?M.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,L,!Xe):K.call(this,pt.x,pt.y),Xe=!0}else if(Z[wt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(Z[wt].begin!==!0){var Qt=Z[wt].start.x,Pt=Z[wt].start.y;J.call(this,Z[wt].deltas,Qt,Pt),Xe=!0}W&&B.call(this,W),L&&G.call(this)}},R=function(P){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-q;case"top":return P+L-q;case"hanging":return P+L-2*q;case"middle":return P+L/2-q;default:return P}},D=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(L,q){this.colorStops.push([L,q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(P,L,q,W,Z,oe,ce,ae,Se){for(var De=ne.call(this,q,W,Z,oe),X=0;X<De.length;X++){var Ke=De[X];X===0&&(Se?I.call(this,Ke.x1+P,Ke.y1+L):K.call(this,Ke.x1+P,Ke.y1+L)),pe.call(this,P,L,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}ae?G.call(this):B.call(this,ce)},B=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(P,L){this.pdf.internal.out(r(P)+" "+n(L)+" m")},z=function(P){var L;switch(P.align){case"right":case"end":L="right";break;case"center":L="center";break;default:L="left"}var q=this.pdf.getTextDimensions(P.text),W=R.call(this,P.y),Z=D.call(this,W)-q.h,oe=this.ctx.transform.applyToPoint(new s(P.x,W)),ce=this.ctx.transform.decompose(),ae=new u;ae=(ae=(ae=ae.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var Se,De,X,Ke=this.ctx.transform.applyToRectangle(new o(P.x,W,q.w,q.h)),Ce=ae.applyToRectangle(new o(P.x,Z,q.w,q.h)),xe=w.call(this,Ce),dt=[],Xe=0;Xe<xe.length;Xe+=1)dt.indexOf(xe[Xe])===-1&&dt.push(xe[Xe]);if(A(dt),this.autoPaging)for(var wt=dt[0],st=dt[dt.length-1],At=wt;At<st+1;At++){this.pdf.setPage(At);var pt=At===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],$t=Pt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Jt=Zt-this.margin[3],Dr=At===1?0:Qt+(At-2)*$t;if(this.ctx.clip_path.length!==0){var It=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Se,this.posX+this.margin[3],-1*Dr+pt),O.call(this,"fill",!0),this.path=It}var Ct=E([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Dr+pt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*P.scale),X=this.lineWidth,this.lineWidth=X*P.scale);var xt=this.autoPaging!=="text";if(xt||Ct.y+Ct.h<=Pt){if(xt||Ct.y>=pt&&Ct.x<=Zt){var St=xt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Zt-Ct.x)[0],Nr=E([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Dr+pt+this.ctx.prevPageLastElemOffset)[0],Yt=xt&&(At>wt||At<st)&&y.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,$t,null).clip().discardPath()),this.pdf.text(St,Nr.x,Nr.y,{angle:P.angle,align:L,renderingMode:P.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Ct.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-Ct.y);P.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=X)}else P.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*P.scale),X=this.lineWidth,this.lineWidth=X*P.scale),this.pdf.text(P.text,oe.x+this.posX,oe.y+this.posY,{angle:P.angle,align:L,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=X)},K=function(P,L,q,W){q=q||0,W=W||0,this.pdf.internal.out(r(P+q)+" "+n(L+W)+" l")},J=function(P,L,q){return this.pdf.lines(P,L,q,null,null)},pe=function(P,L,q,W,Z,oe,ce,ae){this.pdf.internal.out([t(a(q+P)),t(i(W+L)),t(a(Z+P)),t(i(oe+L)),t(a(ce+P)),t(i(ae+L)),"c"].join(" "))},ne=function(P,L,q,W){for(var Z=2*Math.PI,oe=Math.PI/2;L>q;)L-=Z;var ce=Math.abs(q-L);ce<Z&&W&&(ce=Z-ce);for(var ae=[],Se=W?-1:1,De=L;ce>1e-5;){var X=De+Se*Math.min(ce,oe);ae.push(le.call(this,P,De,X)),ce-=Math.abs(X-De),De=X}return ae},le=function(P,L,q){var W=(q-L)/2,Z=P*Math.cos(W),oe=P*Math.sin(W),ce=Z,ae=-oe,Se=ce*ce+ae*ae,De=Se+ce*Z+ae*oe,X=4/3*(Math.sqrt(2*Se*De)-De)/(ce*oe-ae*Z),Ke=ce-X*ae,Ce=ae+X*ce,xe=Ke,dt=-Ce,Xe=W+L,wt=Math.cos(Xe),st=Math.sin(Xe);return{x1:P*Math.cos(L),y1:P*Math.sin(L),x2:Ke*wt-Ce*st,y2:Ke*st+Ce*wt,x3:xe*wt-dt*st,y3:xe*st+dt*wt,x4:P*Math.cos(q),y4:P*Math.sin(q)}},ve=function(P){return 180*P/Math.PI},ue=function(P,L,q,W,Z,oe){var ce=P+.5*(q-P),ae=L+.5*(W-L),Se=Z+.5*(q-Z),De=oe+.5*(W-oe),X=Math.min(P,Z,ce,Se),Ke=Math.max(P,Z,ce,Se),Ce=Math.min(L,oe,ae,De),xe=Math.max(L,oe,ae,De);return new o(X,Ce,Ke-X,xe-Ce)},je=function(P,L,q,W,Z,oe,ce,ae){var Se,De,X,Ke,Ce,xe,dt,Xe,wt,st,At,pt,Qt,Pt,$t=q-P,Zt=W-L,Jt=Z-q,Dr=oe-W,It=ce-Z,Ct=ae-oe;for(De=0;De<41;De++)wt=(dt=(X=P+(Se=De/40)*$t)+Se*((Ce=q+Se*Jt)-X))+Se*(Ce+Se*(Z+Se*It-Ce)-dt),st=(Xe=(Ke=L+Se*Zt)+Se*((xe=W+Se*Dr)-Ke))+Se*(xe+Se*(oe+Se*Ct-xe)-Xe),De==0?(At=wt,pt=st,Qt=wt,Pt=st):(At=Math.min(At,wt),pt=Math.min(pt,st),Qt=Math.max(Qt,wt),Pt=Math.max(Pt,st));return new o(Math.round(At),Math.round(pt),Math.round(Qt-At),Math.round(Pt-pt))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,L,q=(P=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:L}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Ht.API),(function(e){var t=function(s){var o,u,f,h,p,g,x,b,y,w;for(u=[],f=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>f;f+=4)(p=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(g=(p=((p=((p=((p=(p-(w=p%85))/85)-(y=p%85))/85)-(b=p%85))/85)-(x=p%85))/85)%85,u.push(g+33,x+33,b+33,y+33,w+33)):u.push(122);return(function(_,E){for(var A=E;A>0;A--)_.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},r=function(s){var o,u,f,h,p,g=String,x="length",b=255,y="charCodeAt",w="slice",_="replace";for(s[w](-2),s=s[w](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),f=[],h=0,p=(s+=o="uuuuu"[w](s[x]%5||5))[x];p>h;h+=5)u=52200625*(s[y](h)-33)+614125*(s[y](h+1)-33)+7225*(s[y](h+2)-33)+85*(s[y](h+3)-33)+(s[y](h+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,A){for(var T=A;T>0;T--)E.pop()})(f,o[x]),g.fromCharCode.apply(g,f)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",f=0;f<s.length;f+=2)u+=String.fromCharCode("0x"+(s[f]+s[f+1]));return u},i=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return(o=cN(o)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,o){var u=0,f=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(Ht.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(u,f,h){var p=new XMLHttpRequest,g=0,x=function(b){var y=b.length,w=[],_=String.fromCharCode;for(g=0;g<y;g+=1)w.push(_(255&b.charCodeAt(g)));return w.join("")};if(p.open("GET",u,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(x(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return x(p.responseText)})(a,i,s)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(Ht.API),(function(e){function t(){return(mr.html2canvas?Promise.resolve(mr.html2canvas):mw(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(mr.DOMPurify?Promise.resolve(mr.DOMPurify):mw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var u=_n(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var f=document.createElement(o);for(var h in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[h]=u.style[h];return f},i=function o(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},s=function o(u){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),f);return(h=h.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(r).then(function(f){return this.set({src:a("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var f=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var b=h[x],y=b.src.find(function(w){return w.format==="truetype"});y&&f.addFont(y.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var u=Object.keys(o||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var f=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(f):f})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(o=o||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,f,h){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,f,h){return this.setProgress(o?this.progress.val+o:null,u||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,u){var f=this;return this.thenCore(o,u,function(h,p){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,h),g}).then(h,p).then(function(g){return f.updateProgress(1),g})})},s.prototype.thenCore=function(o,u,f){f=f||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),u&&(u=u.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),g=f.call(p,o,u);return s.convert(g,h.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(f){u=u.thenCore(f)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ht.getPageSize=function(o,u,f){if(_n(o)==="object"){var h=o;o=h.orientation,u=h.unit||u,f=h.format||f}u=u||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+f).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var b,y=0,w=0;if(x.hasOwnProperty(g))y=x[g][1]/p,w=x[g][0]/p;else try{y=f[1],w=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",w>y&&(b=w,w=y,y=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>w&&(b=w,w=y,y=b)}return{width:w,height:y,unit:u,k:p,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(A4):null;var f=new s(u);return u.worker?f:f.from(o).doCallback()}})(Ht.API),Ht.API.addJS=function(e){return I7=e,this.internal.events.subscribe("postPutResources",function(){_v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_v+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),R7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+I7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_v!==void 0&&R7!==void 0&&this.internal.out("/Names <</JavaScript "+_v+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var u=o[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(i=0;i<f;i++){var p=r.internal.newObject();h.push(p);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var u=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Ht.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var u,f=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(p){for(var g,x=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,y={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=x,t.indexOf(p.charCodeAt(w+1))!==-1){g=256*p.charCodeAt(w+5)+p.charCodeAt(w+6),y={width:256*p.charCodeAt(w+7)+p.charCodeAt(w+8),height:g,numcomponents:p.charCodeAt(w+9)};break}x=256*p.charCodeAt(w+2)+p.charCodeAt(w+3)}return y})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:f,index:n,alias:a}}return h}})(Ht.API),Ht.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=q5e(e,{checkCrc:!0}),s=i.width,o=i.height,u=i.channels,f=i.palette,h=i.depth;a=f&&u===1?(function(M){for(var B=M.width,G=M.height,I=M.data,z=M.palette,K=M.depth,J=!1,pe=[],ne=[],le=void 0,ve=!1,ue=0,je=0;je<z.length;je++){var te=qO(z[je],4),P=te[0],L=te[1],q=te[2],W=te[3];pe.push(P,L,q),W!=null&&(W===0?(ue++,ne.length<1&&ne.push(je)):W<255&&(ve=!0))}if(ve||ue>1){J=!0,ne=void 0;var Z=B*G;le=new Uint8Array(Z);for(var oe=new DataView(I.buffer),ce=0;ce<Z;ce++){var ae=k4(oe,ce,K),Se=qO(z[ae],4)[3];le[ce]=Se}}else ue===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:I,alphaBytes:le,needSMask:J,palette:pe,mask:ne}})(i):u===2||u===4?(function(M){for(var B=M.data,G=M.width,I=M.height,z=M.channels,K=M.depth,J=z===2?"DeviceGray":"DeviceRGB",pe=z-1,ne=G*I,le=pe,ve=ne*le,ue=1*ne,je=Math.ceil(ve*K/8),te=Math.ceil(ue*K/8),P=new Uint8Array(je),L=new Uint8Array(te),q=new DataView(B.buffer),W=new DataView(P.buffer),Z=new DataView(L.buffer),oe=!1,ce=0;ce<ne;ce++){for(var ae=ce*z,Se=0;Se<le;Se++)G7(W,k4(q,ae+Se,K),ce*le+Se,K);var De=k4(q,ae+le,K);De<(1<<K)-1&&(oe=!0),G7(Z,De,1*ce,K)}return{colorSpace:J,colorsPerPixel:pe,sMaskBitsPerComponent:oe?K:void 0,colorBytes:P,alphaBytes:L,needSMask:oe}})(i):(function(M){var B=M.data,G=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(I){for(var z=I.length,K=new Uint8Array(2*z),J=new DataView(K.buffer,K.byteOffset,K.byteLength),pe=0;pe<z;pe++)J.setUint16(2*pe,I[pe],!1);return K})(B):B,needSMask:!1}})(i);var p,g,x,b=a,y=b.colorSpace,w=b.colorsPerPixel,_=b.sMaskBitsPerComponent,E=b.colorBytes,A=b.alphaBytes,T=b.needSMask,O=b.palette,R=b.mask,D=null;return n!==Ht.API.image_compression.NONE&&typeof cN=="function"?(D=(function(M){var B;switch(M){case Ht.API.image_compression.FAST:B=11;break;case Ht.API.image_compression.MEDIUM:B=13;break;case Ht.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(D," /Colors ").concat(w," /BitsPerComponent ").concat(h," /Columns ").concat(s),e=q7(E,Math.ceil(s*w*h/8),w,h,n),T&&(x=q7(A,Math.ceil(s*_/8),1,_,n))):(p=void 0,g=void 0,e=E,T&&(x=A)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:e,index:t,filter:p,decodeParameters:g,transparency:R,palette:O,sMask:x,predictor:D,width:s,height:o,bitsPerComponent:h,sMaskBitsPerComponent:_,colorSpace:y}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new c4e(t),s=i.width,o=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:s,height:o},h=new C4(100).encode(f,100);return e.processJPEG.call(this,h,r,n,a)},e.processGIF87A=e.processGIF89A})(Ht.API),xc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Mn.log("bit decode error:"+r)}},xc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var u=this.palette[i>>7-o&1];this.data[s+4*o]=u.blue,this.data[s+4*o+1]=u.green,this.data[s+4*o+2]=u.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},xc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,u=15&i,f=this.palette[o];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},xc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},xc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,f=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=u,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=f}this.pos+=e}},xc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,u=(s>>5&r)/r*255|0,f=(s>>11)/t*255|0,h=a*this.width*4+4*i;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},xc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},xc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},xc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new xc(t,!1),s=i.width,o=i.height,u={data:i.getData(),width:s,height:o},f=new C4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Ht.API),Y7.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new Y7(t),s=i.width,o=i.height,u={data:i.getData(),width:s,height:o},f=new C4(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)}})(Ht.API),Ht.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,u=0,f=0;f<a;f+=4){var h=n[f],p=n[f+1],g=n[f+2],x=n[f+3];i[o++]=h,i[o++]=p,i[o++]=g,s[u++]=x}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ht.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hm=Ht.API,Nv=hm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,u=o.fof?o.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=t.doKerning!==!1,g=0,x=e.length,b=0,y=o[0]||u,w=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(g=p&&_n(f[n])==="object"&&!isNaN(parseInt(f[n][b],10))?f[n][b]/h:0,w.push((o[n]||y)/u+g)),b=n;return w},B7=hm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return hm.processArabic&&(e=hm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Nv.apply(this,arguments).reduce(function(i,s){return i+s},0)},U7=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var u=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(u,i)),o=0,u=i),o+=t[i],i++;return u!==i&&a.push(e.slice(u,i)),a},z7=function(e,t,r){r||(r={});var n,a,i,s,o,u,f,h=[],p=[h],g=r.textIndent||0,x=0,b=0,y=e.split(" "),w=Nv.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var _=Array(u).join(" "),E=[];y.map(function(T){(T=T.split(/\s*\n/)).length>1?E=E.concat(T.map(function(O,R){return(R&&O.length?`
`:"")+O})):E.push(T[0])}),y=E,u=B7.apply(this,[_,r])}for(i=0,s=y.length;i<s;i++){var A=0;if(n=y[i],u&&n[0]==`
`&&(n=n.substr(1),A=1),g+x+(b=(a=Nv.apply(this,[n,r])).reduce(function(T,O){return T+O},0))>t||A){if(b>t){for(o=U7.apply(this,[n,a,t-(g+x),t]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(T,O){return T+O},0)}else h=[n];p.push(h),g=b+u,x=w}else h.push(n),g+=x+b,x=w}return f=u?function(T,O){return(O?_:"")+T.join(" ")}:function(T){return T.join(" ")},p.map(f)},hm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,u,f=[];for(o=0,u=n.length;o<u;o++)f=f.concat(z7.apply(this,[n[o],s,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var x,b,y,w,_=["{"];for(var E in g){if(x=g[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=s(E).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof x=="number")x<0?(y=s(x).slice(3),w="-"):(y=s(x).slice(2),w=""),y=w+y.slice(0,-1)+a[y.slice(-1)];else{if(_n(x)!=="object")throw new Error("Don't know what to do with value type "+_n(x)+".");y=o(x)}_.push(b+y)}return _.push("}"),_.join("")},u=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,y,w,_={},E=1,A=_,T=[],O="",R="",D=g.length-1,M=1;M<D;M+=1)(w=g[M])=="'"?x?(y=x.join(""),x=void 0):x=[]:x?x.push(w):w=="{"?(T.push([A,y]),A={},y=void 0):w=="}"?((b=T.pop())[0][b[1]]=A,y=void 0,A=b[0]):w=="-"?E=-1:y===void 0?n.hasOwnProperty(w)?(O+=n[w],y=parseInt(O,16)*E,E=1,O=""):O+=w:n.hasOwnProperty(w)?(R+=n[w],A[y]=parseInt(R,16)*E,E=1,y=void 0,R=""):R+=w;return _},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var x=g.font,b=p.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var y=h.Unicode[x.postScriptName];y&&(x.metadata.Unicode.encoding=y,x.encoding=y.codePages[0])}])})(Ht.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Dv(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(Ht),Ht.API.addSvgAsImage=function(e,t,r,n,a,i,s,o){if(isNaN(t)||isNaN(r))throw Mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(mr.canvg?Promise.resolve(mr.canvg):mw(()=>import("./index.es-DXh3rKL6.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),t,r,n,a,s,o)})},Ht.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ht.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),u=[],f=0,h=0,p=0;function g(b,y){var w,_=!1;for(w=0;w<b.length;w+=1)b[w]===y&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=o.length;for(p=0;p<x;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(_n(e)==="object"){for(a in e)if(i=e[a],g(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&g(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(h=0;h<i[f].length;h+=1)typeof i[f][h]!="number"&&(n=!1);n===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?y.push("/"+b+" /"+r[b].value):y.push("/"+b+" "+r[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+s.length+o.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Ht.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,u=s.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,g=i.length;p<g;++p){if(o=s.metadata.characterToGlyph(i.charCodeAt(p)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(p),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(f[4-o.length],o)}return h.join("")},n=function(i){var s,o,u,f,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,g=(o=Object.keys(i).sort(function(x,b){return x-b})).length;p<g;p++)s=o[p],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(f=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,u=s.out,f=s.newObject,h=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var y=f();h({data:x,addLength1:!0,objectId:y}),u("endobj");var w=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var _=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+xm(o.fontName)),u("/FontFile2 "+y+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+xm(o.fontName)),u("/FontDescriptor "+_+" 0 R"),u("/W "+e.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+xm(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,u=s.out,f=s.newObject,h=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",x=0;x<p.length;x++)g+=String.fromCharCode(p[x]);var b=f();h({data:g,addLength1:!0,objectId:b}),u("endobj");var y=f();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var w=f();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+xm(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=f();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+xm(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",u=i.x,f=i.y,h=i.options||{},p=i.mutex||{},g=p.pdfEscape,x=p.activeFontKey,b=p.fonts,y=x,w="",_=0,E="",A=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:o,x:u,y:f,options:h,mutex:p};for(E=o,y=x,Array.isArray(o)&&(E=o[0]),_=0;_<E.length;_+=1)b[y].metadata.hasOwnProperty("cmap")&&(s=b[y].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),s||E[_].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?w+=E[_]:w+="";var T="";return parseInt(y.slice(1))<14||A==="WinAnsiEncoding"?T=g(w,y).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(T=r(w,b[y])),p.isHex=!0,{text:T,x:u,y:f,options:h,mutex:p}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],u={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?o.push([a(Object.assign({},u,{text:s[f][0]})).text,s[f][1],s[f][2]]):o.push(a(Object.assign({},u,{text:s[f]})).text);i.text=o}else i.text=a(Object.assign({},u,{text:s})).text}])})(Ht),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ht.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,u,f,h,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,A=0;this.__bidiEngine__={};var T=function(I){var z=I.charCodeAt(),K=z>>8,J=y[K];return J!==void 0?p[256*J+(255&z)]:K===252||K===253?"AL":_.test(K)?"L":K===8?"R":"N"},O=function(I){for(var z,K=0;K<I.length;K++){if((z=T(I.charAt(K)))==="L")return!1;if(z==="R")return!0}return!1},R=function(I,z,K,J){var pe,ne,le,ve,ue=z[J];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ue="AN");break;case"AL":E=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":J<1||J+1>=z.length||(pe=K[J-1])!=="EN"&&pe!=="AN"||(ne=z[J+1])!=="EN"&&ne!=="AN"?ue="N":E&&(ne="AN"),ue=ne===pe?ne:"N";break;case"ES":ue=(pe=J>0?K[J-1]:"B")==="EN"&&J+1<z.length&&z[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&K[J-1]==="EN"){ue="EN";break}if(E){ue="N";break}for(le=J+1,ve=z.length;le<ve&&z[le]==="ET";)le++;ue=le<ve&&z[le]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ve=z.length,le=J+1;le<ve&&z[le]==="NSM";)le++;if(le<ve){var je=I[J],te=je>=1425&&je<=2303||je===64286;if(pe=z[le],te&&(pe==="R"||pe==="AL")){ue="R";break}}}ue=J<1||(pe=z[J-1])==="B"?"N":K[J-1];break;case"B":E=!1,a=!0,ue=A;break;case"S":i=!0,ue="N"}return ue},D=function(I,z,K){var J=I.split("");return K&&M(J,K,{hiLevel:A}),J.reverse(),z&&z.reverse(),J.join("")},M=function(I,z,K){var J,pe,ne,le,ve,ue=-1,je=I.length,te=0,P=[],L=A?x:g,q=[];for(E=!1,a=!1,i=!1,pe=0;pe<je;pe++)q[pe]=T(I[pe]);for(ne=0;ne<je;ne++){if(ve=te,P[ne]=R(I,q,P,ne),J=240&(te=L[ve][b[P[ne]]]),te&=15,z[ne]=le=L[te][5],J>0)if(J===16){for(pe=ue;pe<ne;pe++)z[pe]=1;ue=-1}else ue=-1;if(L[te][6])ue===-1&&(ue=ne);else if(ue>-1){for(pe=ue;pe<ne;pe++)z[pe]=le;ue=-1}q[ne]==="B"&&(z[ne]=0),K.hiLevel|=le}i&&(function(W,Z,oe){for(var ce=0;ce<oe;ce++)if(W[ce]==="S"){Z[ce]=A;for(var ae=ce-1;ae>=0&&W[ae]==="WS";ae--)Z[ae]=A}})(q,z,je)},B=function(I,z,K,J,pe){if(!(pe.hiLevel<I)){if(I===1&&A===1&&!a)return z.reverse(),void(K&&K.reverse());for(var ne,le,ve,ue,je=z.length,te=0;te<je;){if(J[te]>=I){for(ve=te+1;ve<je&&J[ve]>=I;)ve++;for(ue=te,le=ve-1;ue<le;ue++,le--)ne=z[ue],z[ue]=z[le],z[le]=ne,K&&(ne=K[ue],K[ue]=K[le],K[le]=ne);te=ve}te++}}},G=function(I,z,K){var J=I.split(""),pe={hiLevel:A};return K||(K=[]),M(J,K,pe),(function(ne,le,ve){if(ve.hiLevel!==0&&h)for(var ue,je=0;je<ne.length;je++)le[je]===1&&(ue=w.indexOf(ne[je]))>=0&&(ne[je]=w[ue+1])})(J,K,pe),B(2,J,z,K,pe),B(1,J,z,K,pe),J.join("")};return this.__bidiEngine__.doBidiReorder=function(I,z,K){if((function(pe,ne){if(ne)for(var le=0;le<pe.length;le++)ne[le]=le;o===void 0&&(o=O(pe)),f===void 0&&(f=O(pe))})(I,z),s||!u||f)if(s&&u&&o^f)A=o?1:0,I=D(I,z,K);else if(!s&&u&&f)A=o?1:0,I=G(I,z,K),I=D(I,z);else if(!s||o||u||f){if(s&&!u&&o^f)I=D(I,z),o?(A=0,I=G(I,z,K)):(A=1,I=G(I,z,K),I=D(I,z));else if(s&&o&&!u&&f)A=1,I=G(I,z,K),I=D(I,z);else if(!s&&!u&&o^f){var J=h;o?(A=1,I=G(I,z,K),A=0,h=!1,I=G(I,z,K),h=J):(A=0,I=G(I,z,K),I=D(I,z),A=1,h=!1,I=G(I,z,K),h=J,I=D(I,z))}}else A=0,I=G(I,z,K);else A=o?1:0,I=G(I,z,K);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,u=I.isOutputVisual,o=I.isInputRtl,f=I.isOutputRtl,h=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Ht),Ht.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Dd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new S4e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new u4e(this.contents),this.head=new d4e(this),this.name=new g4e(this),this.cmap=new $B(this),this.toUnicode={},this.hhea=new h4e(this),this.maxp=new v4e(this),this.hmtx=new y4e(this),this.post=new p4e(this),this.os2=new m4e(this),this.loca=new N4e(this),this.glyf=new b4e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,u,f;for(f=[],s=0,o=(u=this.bbox).length;s<o;s++)t=u[s],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Pc,Dd=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),u4e=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,u,f,h,p,g,x,b,y;for(y in x=Object.keys(r).length,u=Math.log(2),p=16*Math.floor(Math.log(x)/u),s=Math.floor(p/u),h=16*x-p,(a=new Dd).writeInt(this.scalarType),a.writeShort(x),a.writeShort(p),a.writeShort(s),a.writeShort(h),i=16*x,f=a.pos+i,o=null,b=[],r)for(g=r[y],a.writeString(y),a.writeInt(e(g)),a.writeInt(f),a.writeInt(g.length),b=b.concat(g),y==="head"&&(o=f),f+=g.length;f%4;)b.push(0),f++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=HB.call(r);r.length%4;)r.push(0);for(i=new Dd(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),f4e={}.hasOwnProperty,mu=function(e,t){for(var r in t)f4e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Pc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var d4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Dd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),X7=(function(){function e(t,r){var n,a,i,s,o,u,f,h,p,g,x,b,y,w,_,E,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),g=x/2,t.pos+=6,i=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),t.pos+=2,y=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),f=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),h=(function(){var T,O;for(O=[],u=T=0;0<=g?T<g:T>g;u=0<=g?++T:--T)O.push(t.readUInt16());return O})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var T,O;for(O=[],u=T=0;0<=a?T<a:T>a;u=0<=a?++T:--T)O.push(t.readUInt16());return O})(),u=_=0,A=i.length;_<A;u=++_)for(w=i[u],n=E=b=y[u];b<=w?E<=w:E>=w;n=b<=w?++E:--E)h[u]===0?s=n+f[u]:(s=o[h[u]/2+(n-b)-(g-u)]||0)!==0&&(s+=f[u]),this.codeMap[n]=65535&s}t.pos=p}return e.encode=function(t,r){var n,a,i,s,o,u,f,h,p,g,x,b,y,w,_,E,A,T,O,R,D,M,B,G,I,z,K,J,pe,ne,le,ve,ue,je,te,P,L,q,W,Z,oe,ce,ae,Se,De,X;switch(J=new Dd,s=Object.keys(t).sort(function(Ke,Ce){return Ke-Ce}),r){case"macroman":for(y=0,w=(function(){var Ke=[];for(b=0;b<256;++b)Ke.push(0);return Ke})(),E={0:0},i={},pe=0,ue=s.length;pe<ue;pe++)E[ae=t[a=s[pe]]]==null&&(E[ae]=++y),i[a]={old:t[a],new:E[t[a]]},w[a]=E[t[a]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(w),{charMap:i,subtable:J.data,maxGlyphID:y+1};case"unicode":for(z=[],p=[],A=0,E={},n={},_=f=null,ne=0,je=s.length;ne<je;ne++)E[O=t[a=s[ne]]]==null&&(E[O]=++A),n[a]={old:O,new:E[O]},o=E[O]-a,_!=null&&o===f||(_&&p.push(_),z.push(a),f=o),_=a;for(_&&p.push(_),p.push(65535),z.push(65535),G=2*(B=z.length),M=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,D=2*B-M,u=[],R=[],x=[],b=le=0,te=z.length;le<te;b=++le){if(I=z[b],h=p[b],I===65535){u.push(0),R.push(0);break}if(I-(K=n[I].new)>=32768)for(u.push(0),R.push(2*(x.length+B-b)),a=ve=I;I<=h?ve<=h:ve>=h;a=I<=h?++ve:--ve)x.push(n[a].new);else u.push(K-I),R.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*B+2*x.length),J.writeUInt16(0),J.writeUInt16(G),J.writeUInt16(M),J.writeUInt16(g),J.writeUInt16(D),oe=0,P=p.length;oe<P;oe++)a=p[oe],J.writeUInt16(a);for(J.writeUInt16(0),ce=0,L=z.length;ce<L;ce++)a=z[ce],J.writeUInt16(a);for(Se=0,q=u.length;Se<q;Se++)o=u[Se],J.writeUInt16(o);for(De=0,W=R.length;De<W;De++)T=R[De],J.writeUInt16(T);for(X=0,Z=x.length;X<Z;X++)y=x[X],J.writeUInt16(y);return{charMap:n,subtable:J.data,maxGlyphID:A+1}}},e})(),$B=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new X7(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=X7.encode(t,r),(a=new Dd).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),h4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),m4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),p4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,u;for(u=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)u.push(t.readUInt32());return u}).call(this)}},e})(),x4e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},g4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,s,o,u,f,h,p,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(u={},i=h=0,p=n.length;h<p;i=++h)a=n[i],t.pos=a.offset,f=t.readString(a.length),s=new x4e(f,a),u[g=a.nameID]==null&&(u[g]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),v4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),y4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,s,o,u;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)h.push(t.readInt16());return h})(),this.widths=(function(){var f,h,p,g;for(g=[],f=0,h=(p=this.metrics).length;f<h;f++)i=p[f],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),HB=[].slice,b4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,s,o,u,f,h,p;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new Dd(r.read(a))).readShort(),f=o.readShort(),p=o.readShort(),u=o.readShort(),h=o.readShort(),this.cache[t]=s===-1?new _4e(o,f,p,u,h):new w4e(o,s,f,p,u,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,s,o,u;for(s=[],i=[],o=0,u=r.length;o<u;o++)a=t[r[o]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},e})(),w4e=(function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),_4e=(function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Dd(HB.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),N4e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,Pc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var o=this.offsets[s],u=this.offsets[s+1]-o;u>0&&(a+=u)}for(var f=new Array(4*n.length),h=0;h<n.length;++h)f[4*h+3]=255&n[h],f[4*h+2]=(65280&n[h])>>8,f[4*h+1]=(16711680&n[h])>>16,f[4*h]=(4278190080&n[h])>>24;return f},e})(),S4e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,u;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))n=u[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,u,f,h,p,g,x,b,y,w,_;for(a in n=$B.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),x={0:0},_=n.charMap)x[(u=_[a]).old]=u.new;for(b in g=n.maxGlyphID,s)b in x||(x[b]=g++);return h=(function(E){var A,T;for(A in T={},E)T[E[A]]=A;return T})(x),p=Object.keys(h).sort(function(E,A){return E-A}),y=(function(){var E,A,T;for(T=[],E=0,A=p.length;E<A;E++)o=p[E],T.push(h[o]);return T})(),i=this.font.glyf.encode(s,y,x),f=this.font.loca.encode(i.offsets,y),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();Ht.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var o,u,f;for(f=[],o=0,u=r.length;o<u;o++)n=r[o],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t})();function VB(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,u=a.getLineHeightFactor?a.getLineHeightFactor():i,f=o*u,h=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof e=="string"?e.split(h):e,g=p.length||1),r+=o*(2-i),n.valign==="middle"?r-=g/2*f:n.valign==="bottom"&&(r-=g*f),n.halign==="center"||n.halign==="right"){var x=o;if(n.halign==="center"&&(x*=.5),p&&g>=1){for(var b=0;b<p.length;b++)a.text(p[b],t-a.getStringUnitWidth(p[b])*x,r),r+=f;return a}t-=a.getStringUnitWidth(e)*x}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var Q7={},Dm=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Q7=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,u=s.fontName;if(t.font&&(u=t.font),t.fontStyle){o=t.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),o=f[0])}if(this.jsPDFDocument.setFont(u,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=e.unifyColor(t.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Q7||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),gN=function(e,t){return gN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},gN(e,t)};function WB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var GB=(function(e){WB(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function j4e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function A4e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Wy(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function KB(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=YB(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function YB(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Y2(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function XB(e,t){var r=Y2(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function E4e(e,t,r,n,a){var i={},s=1.3333333333333333,o=T4(t,function(A){return a.getComputedStyle(A).backgroundColor});o!=null&&(i.fillColor=o);var u=T4(t,function(A){return a.getComputedStyle(A).color});u!=null&&(i.textColor=u);var f=C4e(n,r);f&&(i.cellPadding=f);var h="borderTopColor",p=s*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var x=(parseFloat(g)||0)/p;x&&(i.lineWidth=x)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var b=T4(t,function(A){return a.getComputedStyle(A)[h]});b!=null&&(i.lineColor=b);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var w=parseInt(n.fontSize||"");isNaN(w)||(i.fontSize=w/s);var _=k4e(n);_&&(i.fontStyle=_);var E=(n.fontFamily||"").toLowerCase();return e.indexOf(E)!==-1&&(i.font=E),i}function k4e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function T4(e,t){var r=QB(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function QB(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:QB(e.parentElement,t):r}function C4e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=Y2(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function ZB(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var u=Object.keys(e.getFontList()),f=e.scaleFactor(),h=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:p,foot:g};for(var x=0;x<o.rows.length;x++){var b=o.rows[x],y=(s=(i=b?.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),w=T4e(u,f,r,b,n,a);w&&(y==="thead"?h.push(w):y==="tfoot"?g.push(w):p.push(w))}return{head:h,body:p,foot:g}}function T4e(e,t,r,n,a,i){for(var s=new GB(n),o=0;o<n.cells.length;o++){var u=n.cells[o],f=r.getComputedStyle(u);if(a||f.display!=="none"){var h=void 0;i&&(h=E4e(e,u,t,f,r)),s.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:O4e(u)})}}var p=r.getComputedStyle(n);if(s.length>0&&(a||p.display!=="none"))return s}function O4e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function D4e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Ju(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i}function JB(e,t){var r=new Dm(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();D4e(a,n,t);var i=Ju({},a,n,t),s;typeof window<"u"&&(s=window);var o=P4e(a,n,t),u=F4e(a,n,t),f=L4e(r,i),h=R4e(r,i,s);return{id:t.tableId,content:h,hooks:u,styles:o,settings:f}}function P4e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(u){if(u==="columnStyles"){var f=e[u],h=t[u],p=r[u];n.columnStyles=Ju({},f,h,p)}else{var g=[e,t,r],x=g.map(function(b){return b[u]||{}});n[u]=Ju({},x[0],x[1],x[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function F4e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function L4e(e,t){var r,n,a,i,s,o,u,f,h,p,g,x,b=Y2(t.margin,40/e.scaleFactor()),y=(r=M4e(e,t.startY))!==null&&r!==void 0?r:b.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var E=(i=t.useCss)!==null&&i!==void 0?i:!1,A=t.theme||(E?"plain":"striped"),T=!!t.horizontalPageBreak,O=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:E,theme:A,startY:y,margin:b,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:_,showFoot:w,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:T,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function M4e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function R4e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=ZB(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var u=t.columns||I4e(n,a,i);return{columns:u,head:n,body:a,foot:i}}function I4e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=o?.colSpan||1);for(var u=0;u<s;u++){var f=void 0;Array.isArray(n)?f=a.length:f=i+(u>0?"_".concat(u):"");var h={dataKey:f};a.push(h)}}),a}var vN=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),B4e=(function(e){WB(t,e);function t(r,n,a,i,s,o){var u=e.call(this,r,n,o)||this;return u.cell=a,u.row=i,u.column=s,u.section=i.section,u}return t})(vN),U4e=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,u=r;o<u.length;o++){var f=u[o],h=new B4e(t,this,n,a,i,s),p=f(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new vN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new vN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),eU=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof GB&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),u=s.padding("vertical"),f=u+o;return f>a?f:a},0)},e})(),tU=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Y2(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),z4e=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e})();function q4e(e,t){$4e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=yN(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=yN(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),V4e(t),W4e(t,e),H4e(t)}function $4e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=XB(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var u=o[s],f=i.cells[u.index];if(f){var h=t.hooks.didParseCell;t.callCellHooks(e,h,f,i,u,null);var p=f.padding("horizontal");f.contentWidth=Wy(f.text,f.styles,e)+p;var g=Wy(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/r;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var u=o[s],f=i.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function yN(e,t,r){for(var n=t,a=e.reduce(function(x,b){return x+b.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,u=n*o,f=s.width+u,h=r(s),p=f<h?h:f;t-=p-s.width,s.width=p}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(x){return t<0?x.width>r(x):!0});g.length&&(t=yN(g,t,r))}return t}function H4e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var u=o[s],f=t[u.index];if(r>1)r--,delete i.cells[u.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[u.index],f.left--,f.left<=1&&delete t[u.index];else{var h=i.cells[u.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var p=n.length-a,g=h.rowSpan>p?p:h.rowSpan;t[u.index]={cell:h,left:g,row:i}}}}}function V4e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var u=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=u.width,delete n.cells[u.index];else if(a){var f=a;delete n.cells[u.index],a=null,f.width=u.width+i}else{var f=n.cells[u.index];if(!f)continue;if(s=f.colSpan,i=0,f.colSpan>1){a=f,i+=u.width;continue}f.width=u.width+i}}}function W4e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var u=o[s],f=i.cells[u.index];if(f){t.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,h+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Z7(f.text,h,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=Z7(f.text,h,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,h);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<g*f.rowSpan?r={height:g,count:f.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function Z7(e,t,r,n,a){return e.map(function(i){return G4e(i,t,r,n,a)})}function G4e(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Wy(e,r,n))return e;for(;t<Wy(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function rU(e,t){var r=new Dm(e),n=K4e(t,r.scaleFactor()),a=new U4e(t,n);return q4e(r,a),r.applyStyles(r.userStyles),a}function K4e(e,t){var r=e.content,n=X4e(r.columns);if(r.head.length===0){var a=J7(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=J7(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:O4("head",r.head,n,s,i,t),body:O4("body",r.body,n,s,i,t),foot:O4("foot",r.foot,n,s,i,t)}}function O4(e,t,r,n,a,i){var s={},o=t.map(function(u,f){for(var h=0,p={},g=0,x=0,b=0,y=r;b<y.length;b++){var w=y[b];if(s[w.index]==null||s[w.index].left===0)if(x===0){var _=void 0;Array.isArray(u)?_=u[w.index-g-h]:_=u[w.dataKey];var E={};typeof _=="object"&&!Array.isArray(_)&&(E=_?.styles||{});var A=Q4e(e,w,f,a,n,i,E),T=new tU(_,A,e);p[w.dataKey]=T,p[w.index]=T,x=T.colSpan-1,s[w.index]={left:T.rowSpan-1,times:x}}else x--,g++;else s[w.index].left--,x=s[w.index].times,h++}return new eU(u,f,e,p)});return o}function J7(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=Y4e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Y4e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function X4e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new z4e(a,t,r)})}function Q4e(e,t,r,n,a,i,s){var o=A4e(n),u;e==="head"?u=a.headStyles:e==="body"?u=a.bodyStyles:e==="foot"&&(u=a.footStyles);var f=Ju({},o.table,o[e],a.styles,u),h=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},p=e==="body"?h:{},g=e==="body"&&r%2===0?Ju({},o.alternateRow,a.alternateRowStyles):{},x=j4e(i),b=Ju({},x,f,g,p);return Ju(b,s)}function Z4e(e,t,r){var n;r===void 0&&(r={});var a=XB(e,t),i=new Map,s=[],o=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var x=t.columns.find(function(b){return b.dataKey===g||b.index===g});x&&!i.has(x.index)&&(i.set(x.index,!0),s.push(x.index),o.push(t.columns[x.index]),a-=x.wrappedWidth)});for(var f=!0,h=(n=r?.start)!==null&&n!==void 0?n:0;h<t.columns.length;){if(i.has(h)){h++;continue}var p=t.columns[h].wrappedWidth;if(f||a>=p)f=!1,s.push(h),o.push(t.columns[h]),a-=p;else break;h++}return{colIndexes:s,columns:o,lastIndex:h-1}}function J4e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=Z4e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function nU(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var u=t.body,f=u.reduce(function(g,x){return g+x.height},0);o+=f}var h=new Dm(e);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(iU(h),i.y=a.top),t.callWillDrawPageHooks(h,i);var p=Ju({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?e_e(h,t,p,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return gf(h,t,g,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,x){var b=x===t.body.length-1;Gy(h,t,g,b,p,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return gf(h,t,g,i,t.columns)})),KB(h,t,p,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function e_e(e,t,r,n){var a=J4e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,h){e.applyStyles(e.userStyles),h>0?Ax(e,t,r,n,f.columns,!0):eD(e,t,n,f.columns),t_e(e,t,r,n,f.columns),D4(e,t,n,f.columns)});else for(var s=-1,o=a[0],u=function(){var f=s;if(o){e.applyStyles(e.userStyles);var h=o.columns;s>=0?Ax(e,t,r,n,h,!0):eD(e,t,n,h),f=tD(e,t,s+1,n,h),D4(e,t,n,h)}var p=f-s;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Ax(e,t,r,n,g.columns,!0),tD(e,t,s+1,n,g.columns,p),D4(e,t,n,g.columns)}),s=f};s<t.body.length-1;)u()}function eD(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return gf(e,t,i,r,n)})}function t_e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Gy(e,t,i,o,r,n,a)})}function tD(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(u,f){var h=r+f===t.body.length-1,p=aU(e,t,h,n);u.canEntireRowFit(p,a)&&(gf(e,t,u,n,a),o=r+f)}),o}function D4(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return gf(e,t,i,r,n)})}function r_e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function n_e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var u=o[s],f=e.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new tU(f.raw,f.styles,f.section);h=Ju(h,f),h.text=[];var p=r_e(f,t,n);f.text.length>p&&(h.text=f.text.splice(p,f.text.length));var g=n.scaleFactor(),x=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,x),f.contentHeight>=t&&(f.contentHeight=t,h.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),h.contentHeight=h.getContentHeight(g,x),h.contentHeight>i&&(i=h.contentHeight),a[u.index]=h}}var b=new eU(e.raw,-1,e.section,a,!0);b.height=i;for(var y=0,w=r.columns;y<w.length;y++){var u=w[y],h=b.cells[u.index];h&&(h.height=b.height);var f=e.cells[u.index];f&&(f.height=e.height)}return b}function a_e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=t.getMinimumRowHeight(n.columns,e),f=u<r;if(u>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=t.hasRowSpan(n.columns),p=t.getMaxCellHeight(n.columns)>o;return p?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Gy(e,t,r,n,a,i,s){var o=aU(e,t,n,i);if(r.canEntireRowFit(o,s))gf(e,t,r,i,s);else if(a_e(e,r,o,t)){var u=n_e(r,o,t,e);gf(e,t,r,i,s),Ax(e,t,a,i,s),Gy(e,t,u,n,a,i,s)}else Ax(e,t,a,i,s),Gy(e,t,r,n,a,i,s)}function gf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],u=r.cells[o.index];if(!u){n.x+=o.width;continue}e.applyStyles(u.styles),u.x=n.x,u.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,u,r,o,n);if(f===!1){n.x+=o.width;continue}i_e(e,u,n);var h=u.getTextPos();VB(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,o,n),n.x+=o.width}n.y+=r.height}function i_e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=YB(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),s_e(e,t,r,n.lineWidth))}function s_e(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),u(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),u(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),u(n.right,a,i,s,o));function u(f,h,p,g,x){e.getDocument().setLineWidth(f),e.getDocument().line(h,p,g,x,"S")}}function aU(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Ax(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return gf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;KB(e,t,r,n),iU(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return gf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function iU(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function l_e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=JB(this,n),i=rU(this,a);return nU(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){VB(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Dm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Dm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Dm(this),i=ZB(a,t,window,r,!1),s=i.head,o=i.body,u=((n=s[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:u,rows:o,data:o}}}var P4;function rD(e,t){var r=JB(e,t),n=rU(e,r);nU(e,n)}try{if(typeof window<"u"&&window){var nD=window,aD=nD.jsPDF||((P4=nD.jspdf)===null||P4===void 0?void 0:P4.jsPDF);aD&&l_e(aD)}}catch(e){console.error("Could not apply autoTable plugin",e)}const og=(e,t)=>{if(!e||e.length===0){alert("Aucune donne  exporter");return}const r=Object.keys(e[0]),n=[r.join(","),...e.map(o=>r.map(u=>{const f=o[u];return typeof f=="string"&&(f.includes(",")||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),s=URL.createObjectURL(a);i.setAttribute("href",s),i.setAttribute("download",`${t}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},o_e=e=>{const t=new Ht,r=e.student;t.setFontSize(20),t.setTextColor(59,130,246),t.text("Rapport de Progression",14,20),t.setFontSize(12),t.setTextColor(0,0,0),t.text(`tudiant: ${r.full_name}`,14,35),t.text(`Email: ${r.email}`,14,42),t.text(`Inscrit le: ${new Date(r.created_at).toLocaleDateString("fr-FR")}`,14,49),t.text(`Date du rapport: ${new Date().toLocaleDateString("fr-FR")}`,14,56),t.setDrawColor(229,231,235),t.line(14,60,196,60),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Statistiques Globales",14,70);const n=e.enrollments.reduce((f,h)=>f+h.total_videos,0),a=e.enrollments.reduce((f,h)=>f+h.completed_videos,0),i=e.enrollments.reduce((f,h)=>f+h.total_tests,0),s=e.enrollments.reduce((f,h)=>f+h.passed_tests,0);if(t.setFontSize(10),t.setTextColor(0,0,0),t.text(`Formations inscrites: ${e.enrollments.length}`,14,80),t.text(`Formations compltes: ${e.enrollments.filter(f=>f.completed_at).length}`,14,87),t.text(`Vidos compltes: ${a} / ${n}`,14,94),t.text(`Tests russis: ${s} / ${i}`,14,101),e.enrollments.length>0){t.setFontSize(14),t.setTextColor(59,130,246),t.text("Formations Inscrites",14,115);const f=e.enrollments.map(h=>[h.formation_title,new Date(h.enrolled_at).toLocaleDateString("fr-FR"),h.completed_at?new Date(h.completed_at).toLocaleDateString("fr-FR"):"-",`${h.completed_videos}/${h.total_videos}`,`${h.passed_tests}/${h.total_tests}`,h.status==="completed"?"Complt":h.status==="active"?"En cours":"Inactif"]);rD(t,{head:[["Formation","Date Inscription","Date Compltion","Vidos","Tests","Statut"]],body:f,startY:120,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}if(e.test_history.length>0){const f=t.lastAutoTable?.finalY||120;let h;f>220?(t.addPage(),t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,20),h=25):(t.setFontSize(14),t.setTextColor(59,130,246),t.text("Historique des Tests",14,f+15),h=f+20);const p=e.test_history.map(g=>{const x=g.total_points>0?(g.score/g.total_points*100).toFixed(1):"0";return[g.formation_title,g.test_title,`${g.score}/${g.total_points}`,`${x}%`,g.passed?"Russi":"chou",new Date(g.submitted_at).toLocaleDateString("fr-FR")]});rD(t,{head:[["Formation","Test","Score","%","Rsultat","Date"]],body:p,startY:h,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8}})}const o=t.getNumberOfPages();for(let f=1;f<=o;f++)t.setPage(f),t.setFontSize(8),t.setTextColor(156,163,175),t.text(`Page ${f} sur ${o}`,t.internal.pageSize.getWidth()/2,t.internal.pageSize.getHeight()-10,{align:"center"});const u=`rapport_${r.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;t.save(u)},c_e=e=>{const t=e.map(r=>({ID:r.id,Titre:r.title,Inscriptions:r.enrollment_count,Complts:r.completed_count,"Taux de Compltion (%)":r.completion_rate,Prix:r.price||0}));og(t,`formations_${new Date().toISOString().split("T")[0]}`)},u_e=e=>{const t=e.map(r=>({ID:r.id,Nom:r.full_name,Email:r.email,Inscriptions:r.enrollments_count,"Vidos Vues":r.videos_watched,"Vidos Compltes":r.videos_completed,"Tests Passs":r.tests_taken,"Tests Russis":r.tests_passed}));og(t,`etudiants_actifs_${new Date().toISOString().split("T")[0]}`)},f_e=e=>{const t=e.map(r=>({Mois:r.month,Inscriptions:r.enrollment_count,Complts:r.completed_count}));og(t,`tendances_inscriptions_${new Date().toISOString().split("T")[0]}`)},d_e=e=>{const t=e.student,r=e.enrollments.map(n=>({Formation:n.formation_title,"Date Inscription":new Date(n.enrolled_at).toLocaleDateString("fr-FR"),"Date Compltion":n.completed_at?new Date(n.completed_at).toLocaleDateString("fr-FR"):"-","Vidos Compltes":n.completed_videos,"Total Vidos":n.total_videos,"Tests Russis":n.passed_tests,"Total Tests":n.total_tests,Statut:n.status==="completed"?"Complt":n.status==="active"?"En cours":"Inactif"}));if(og(r,`rapport_formations_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`),e.test_history.length>0){const n=e.test_history.map(a=>{const i=a.total_points>0?(a.score/a.total_points*100).toFixed(1):"0";return{Formation:a.formation_title,Test:a.test_title,Score:a.score,"Total Points":a.total_points,"Pourcentage (%)":i,Rsultat:a.passed?"Russi":"chou",Date:new Date(a.submitted_at).toLocaleDateString("fr-FR")}});og(n,`rapport_tests_${t.full_name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}`)}},Sv=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#06B6D4"],h_e=()=>{const[e,t]=C.useState(30),{data:r,isLoading:n}=Tbe(),{data:a,isLoading:i}=Obe(10),{data:s,isLoading:o}=Dbe(6),{data:u,isLoading:f}=Pbe(10),{data:h,isLoading:p}=Lbe(),{data:g,isLoading:x}=Mbe(e),b=r?.overview;return n||i||o||f||p||x?l.jsx("div",{className:"p-8",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):l.jsxs("div",{className:"p-8 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de bord Analytics"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble des performances de votre plateforme de formation"})]}),g&&l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold",children:["Statistiques des ",g.period_days," derniers jours"]}),l.jsx("div",{className:"flex gap-2",children:[7,30,90].map(w=>l.jsxs("button",{onClick:()=>t(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e===w?"bg-white text-blue-600":"bg-white/20 hover:bg-white/30"}`,children:[w,"j"]},w))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Nouvelles inscriptions"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.new_enrollments})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Formations compltes"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.completed_formations})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Vidos termines"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.videos_completed})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Tests passs"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_total})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Tests russis"}),l.jsx("p",{className:"text-3xl font-bold mt-1",children:g.stats.tests_passed})]})]})]}),b&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(ud,{title:"Total tudiants",value:b.students.total,icon:is,colorClass:"bg-blue-500"}),l.jsx(ud,{title:"Total Formations",value:b.formations.total,icon:zn,colorClass:"bg-green-500"}),l.jsx(ud,{title:"Sessions Actives",value:b.sessions.active,subtitle:`Sur ${b.sessions.total} sessions`,icon:rs,colorClass:"bg-purple-500"}),l.jsx(ud,{title:"Taux de Compltion",value:`${b.enrollments.completion_rate.toFixed(1)}%`,subtitle:`${b.enrollments.completed}/${b.enrollments.total} inscriptions`,icon:ai,colorClass:"bg-orange-500"}),l.jsx(ud,{title:"Vidos Compltes",value:`${b.videos.completion_rate.toFixed(1)}%`,subtitle:`${b.videos.completed}/${b.videos.total} vidos`,icon:Dx,colorClass:"bg-cyan-500"}),l.jsx(ud,{title:"Taux de Russite Tests",value:`${b.tests.success_rate.toFixed(1)}%`,subtitle:`${b.tests.passed}/${b.tests.total} tests`,icon:Cx,colorClass:"bg-pink-500"}),l.jsx(ud,{title:"Inscriptions Totales",value:b.enrollments.total,icon:z0,colorClass:"bg-indigo-500"}),l.jsx(ud,{title:"Formations Compltes",value:b.enrollments.completed,icon:as,colorClass:"bg-emerald-500"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a?.formations&&a.formations.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formations les Plus Populaires"}),l.jsxs("button",{onClick:()=>c_e(a.formations),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Qs,{className:"h-4 w-4"}),"CSV"]})]}),l.jsx(F5,{width:"100%",height:300,children:l.jsxs(ybe,{data:a.formations.slice(0,8),children:[l.jsx(Q_,{strokeDasharray:"3 3"}),l.jsx(eN,{dataKey:"title",angle:-45,textAnchor:"end",height:120,interval:0,tick:{fontSize:11}}),l.jsx(rN,{}),l.jsx(X5,{content:({active:w,payload:_})=>{if(w&&_&&_.length){const E=_[0].payload;return l.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Inscriptions: ",l.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",l.jsx("span",{className:"font-medium",children:E.completed_count})]}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",l.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]})]})}return null}}),l.jsx(Zx,{}),l.jsx(Y_,{dataKey:"enrollment_count",name:"Inscriptions",fill:"#3B82F6"}),l.jsx(Y_,{dataKey:"completed_count",name:"Complts",fill:"#10B981"})]})})]}),s?.trends&&s.trends.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tendances d'Inscriptions (6 mois)"}),l.jsxs("button",{onClick:()=>f_e(s.trends),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Qs,{className:"h-4 w-4"}),"CSV"]})]}),l.jsx(F5,{width:"100%",height:300,children:l.jsxs(gbe,{data:s.trends,children:[l.jsx(Q_,{strokeDasharray:"3 3"}),l.jsx(eN,{dataKey:"month"}),l.jsx(rN,{}),l.jsx(X5,{content:({active:w,payload:_})=>{if(w&&_&&_.length){const E=_[0].payload;return l.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-semibold text-sm mb-1",children:E.month}),l.jsxs("p",{className:"text-xs text-blue-600",children:["Inscriptions: ",l.jsx("span",{className:"font-medium",children:E.enrollment_count})]}),l.jsxs("p",{className:"text-xs text-green-600",children:["Complts: ",l.jsx("span",{className:"font-medium",children:E.completed_count})]})]})}return null}}),l.jsx(Zx,{}),l.jsx(Z_,{type:"monotone",dataKey:"enrollment_count",name:"Inscriptions",stroke:"#3B82F6",strokeWidth:2,dot:{r:4}}),l.jsx(Z_,{type:"monotone",dataKey:"completed_count",name:"Complts",stroke:"#10B981",strokeWidth:2,dot:{r:4}})]})})]})]}),h?.data&&h.data.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rpartition des Taux de Compltion"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(F5,{width:"100%",height:300,children:l.jsxs(Cbe,{children:[l.jsx(wI,{data:h.data.slice(0,6),dataKey:"completion_rate",nameKey:"title",cx:"50%",cy:"50%",outerRadius:100,label:w=>`${w.title}: ${w.completion_rate}%`,children:h.data.slice(0,6).map((w,_)=>l.jsx(zg,{fill:Sv[_%Sv.length]},`cell-${_}`))}),l.jsx(X5,{content:({active:w,payload:_})=>{if(w&&_&&_.length){const E=_[0].payload;return l.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-semibold text-sm mb-1",children:E.title}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Taux: ",l.jsxs("span",{className:"font-medium",children:[E.completion_rate,"%"]})]}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Complts: ",l.jsxs("span",{className:"font-medium",children:[E.completed_enrollments,"/",E.total_enrollments]})]})]})}return null}})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Dtails par Formation"}),l.jsx("div",{className:"space-y-2 max-h-[280px] overflow-y-auto",children:h.data.map((w,_)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Sv[_%Sv.length]}}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.title})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[w.completion_rate,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[w.completed_enrollments,"/",w.total_enrollments]})]})]},w.id))})]})]})]}),u?.students&&u.students.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"tudiants les Plus Actifs"}),l.jsxs("button",{onClick:()=>u_e(u.students),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Qs,{className:"h-4 w-4"}),"Export CSV"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscriptions"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Vues"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vidos Compltes"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Passs"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tests Russis"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.students.map(w=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:w.full_name}),l.jsx("p",{className:"text-sm text-gray-500",children:w.email})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:w.enrollments_count})}),l.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.videos_watched}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:w.videos_completed})}),l.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:w.tests_taken}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:w.tests_passed})})]},w.id))})]})})]})]})},Ky=({progress:e,label:t,showPercentage:r=!0,size:n="md",color:a="blue"})=>{const i=Math.min(Math.max(e,0),100),s=i>=100,o={sm:"h-1.5",md:"h-2",lg:"h-3"},u={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600"};return l.jsxs("div",{className:"w-full",children:[(t||r)&&l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[t&&l.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),r&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[s&&l.jsx(ai,{className:"h-4 w-4 text-green-600"}),l.jsxs("span",{className:`text-sm font-semibold ${s?"text-green-600":"text-gray-600"}`,children:[Math.round(i),"%"]})]})]}),l.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${o[n]}`,children:l.jsx("div",{className:`${o[n]} ${u[a]} rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},iD=({completed:e,total:t,label:r,color:n="blue"})=>{const a=t>0?e/t*100:0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsx("span",{className:"text-sm text-gray-600",children:r}),l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e,"/",t]})]}),l.jsx(Ky,{progress:a,showPercentage:!1,color:n})]})},m_e=()=>{const[e,t]=C.useState(null),[r,n]=C.useState(""),{data:a,isLoading:i}=Fbe(e),s=f=>{t(f)},o=()=>{a&&o_e(a)},u=()=>{a&&d_e(a)};return l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rapports tudiants"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Consulter les rapports dtaills de progression des tudiants"})]}),e&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Qs,{className:"h-4 w-4"}),"Export CSV"]}),l.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[l.jsx(Qs,{className:"h-4 w-4"}),"Export PDF"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Km,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Rechercher un tudiant par ID (pour test, utilisez un ID existant)...",value:r,onChange:f=>n(f.target.value),onKeyDown:f=>{f.key==="Enter"&&r.trim()&&s(r.trim())},className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Appuyez sur Entre pour charger le rapport d'un tudiant"})]}),i&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!i&&!e&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(As,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun tudiant slectionn"}),l.jsx("p",{className:"text-gray-600",children:"Entrez l'ID d'un tudiant dans la barre de recherche pour afficher son rapport dtaill"})]}),!i&&e&&a&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"bg-blue-500 p-4 rounded-full",children:l.jsx(Ox,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.student.full_name}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(HH,{className:"h-4 w-4"}),a.student.email]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(rs,{className:"h-4 w-4"}),"Inscrit le ",new Date(a.student.created_at).toLocaleDateString("fr-FR")]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(zn,{className:"h-5 w-5 text-blue-600"}),l.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Formations"})]}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.enrollments.length})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ai,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-green-900",children:"Compltes"})]}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.enrollments.filter(f=>f.completed_at).length})]}),l.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Dx,{className:"h-5 w-5 text-purple-600"}),l.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Vidos"})]}),l.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[a.enrollments.reduce((f,h)=>f+h.completed_videos,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_videos,0)]})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Cx,{className:"h-5 w-5 text-orange-600"}),l.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Tests Russis"})]}),l.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[a.enrollments.reduce((f,h)=>f+h.passed_tests,0)," /"," ",a.enrollments.reduce((f,h)=>f+h.total_tests,0)]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Formations Inscrites"})}),l.jsx("div",{className:"divide-y",children:a.enrollments.length===0?l.jsxs("div",{className:"p-12 text-center text-gray-500",children:[l.jsx(zn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{children:"Aucune formation inscrite"})]}):a.enrollments.map(f=>{const h=f.total_videos>0?f.completed_videos/f.total_videos*100:0,p=f.total_tests>0?f.passed_tests/f.total_tests*100:0;return l.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:f.formation_title}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["Inscrit le ",new Date(f.enrolled_at).toLocaleDateString("fr-FR")]}),f.completed_at&&l.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[l.jsx(ai,{className:"h-4 w-4"}),"Complt le ",new Date(f.completed_at).toLocaleDateString("fr-FR")]})]})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status==="completed"?"Complt":f.status==="active"?"En cours":"Inactif"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{children:l.jsx(Ky,{progress:h,label:`Vidos (${f.completed_videos}/${f.total_videos})`,color:"purple",size:"sm"})}),l.jsx("div",{children:l.jsx(Ky,{progress:p,label:`Tests russis (${f.passed_tests}/${f.total_tests})`,color:"orange",size:"sm"})})]})]},f.formation_id)})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des Tests"})}),a.test_history.length===0?l.jsxs("div",{className:"p-12 text-center text-gray-500",children:[l.jsx(Cx,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{children:"Aucun test pass"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Formation"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Test"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Score"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rsultat"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),l.jsx("tbody",{className:"divide-y",children:a.test_history.map(f=>{const h=f.total_points>0?(f.score/f.total_points*100).toFixed(1):0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.formation_title}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.test_title}),l.jsxs("td",{className:"px-6 py-4 text-center",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.score," / ",f.total_points]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[h,"%"]})]}),l.jsx("td",{className:"px-6 py-4 text-center",children:f.passed?l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[l.jsx(ai,{className:"h-4 w-4"}),"Russi"]}):l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[l.jsx(_d,{className:"h-4 w-4"}),"chou"]})}),l.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(f.submitted_at).toLocaleDateString("fr-FR")})]},f.id)})})]})})]})]})]})},Dj={generate:async e=>lt.post("/certificates/generate",e),getByStudent:async e=>lt.get(`/certificates/student/${e}`),getById:async e=>lt.get(`/certificates/${e}`),verify:async e=>lt.get(`/certificates/verify/${e}`),getAll:async e=>{const t={};return e?.limit&&(t.limit=e.limit.toString()),e?.offset&&(t.offset=e.offset.toString()),e?.formation_id&&(t.formation_id=e.formation_id),lt.get("/certificates",t)},delete:async e=>lt.delete(`/certificates/${e}`),updateMetadata:async(e,t)=>lt.patch(`/certificates/${e}/metadata`,{metadata:t})},sU=e=>pr({queryKey:["certificates","student",e],queryFn:()=>{if(!e)throw new Error("Student ID is required");return Dj.getByStudent(e)},enabled:!!e,staleTime:1e3*60*5}),p_e=e=>pr({queryKey:["certificates","all",e],queryFn:()=>Dj.getAll(e),staleTime:1e3*60*5}),x_e=()=>{const e=qt();return Kt({mutationFn:Dj.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["certificates"]})}})},lU=(e,t)=>{const r=new Ht({orientation:"landscape",unit:"mm",format:"a4"}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=[59,130,246],s=[251,191,36],o=[31,41,55];r.setDrawColor(...s),r.setLineWidth(1),r.rect(10,10,n-20,a-20),r.setDrawColor(...i),r.setLineWidth(.5),r.rect(15,15,n-30,a-30),r.setLineWidth(2),r.line(20,20,40,20),r.line(20,20,20,40),r.line(n-40,20,n-20,20),r.line(n-20,20,n-20,40),r.line(20,a-20,40,a-20),r.line(20,a-40,20,a-20),r.line(n-40,a-20,n-20,a-20),r.line(n-20,a-40,n-20,a-20),r.setTextColor(...s),r.setFontSize(32),r.setFont("helvetica","bold"),r.text("CERTIFICAT DE RUSSITE",n/2,40,{align:"center"}),r.setDrawColor(...s),r.setLineWidth(.5),r.line(n/2-50,45,n/2+50,45),r.setTextColor(...o),r.setFontSize(14),r.setFont("helvetica","normal"),r.text("Ce certificat est dcern ",n/2,60,{align:"center"}),r.setTextColor(...i),r.setFontSize(28),r.setFont("helvetica","bold"),r.text(e.student_name||"tudiant",n/2,75,{align:"center"}),r.setDrawColor(...i),r.setLineWidth(.3);const u=r.getTextWidth(e.student_name||"tudiant");r.line(n/2-u/2-10,78,n/2+u/2+10,78),r.setTextColor(...o),r.setFontSize(13),r.setFont("helvetica","normal"),r.text("Pour avoir complt avec succs la formation",n/2,92,{align:"center"}),r.setTextColor(0,0,0),r.setFontSize(18),r.setFont("helvetica","bold");const f=e.formation_title||"Formation",h=n-80,p=r.splitTextToSize(f,h);p.length===1?r.text(p[0],n/2,105,{align:"center"}):(r.text(p[0],n/2,102,{align:"center"}),p[1]&&r.text(p[1],n/2,110,{align:"center"}));const g=p.length>1?120:115;r.setTextColor(...o),r.setFontSize(11),r.setFont("helvetica","normal");const x=new Date(e.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});r.text(`Date de compltion : ${x}`,n/2,g+10,{align:"center"}),e.duration_hours&&r.text(`Dure de la formation : ${e.duration_hours} heures`,n/2,g+17,{align:"center"}),e.grade!==null&&e.grade!==void 0&&(r.setTextColor(...i),r.setFont("helvetica","bold"),r.text(`Note obtenue : ${e.grade}%`,n/2,g+24,{align:"center"}));const b=a-40;r.setTextColor(...o),r.setFontSize(9),r.setFont("helvetica","italic"),r.text(`Numro de certificat : ${e.certificate_number}`,n/2,b,{align:"center"});const y=new Date(e.issued_at).toLocaleDateString("fr-FR");r.text(`Dlivr le : ${y}`,n/2,b+5,{align:"center"});const w=b-20;r.setDrawColor(...o),r.setLineWidth(.3),r.line(n/2-30,w,n/2+30,w),r.setTextColor(...o),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("Directeur de Formation",n/2,w+5,{align:"center"}),r.setFillColor(...s),r.circle(n-35,a-35,15,"F"),r.setTextColor(255,255,255),r.setFontSize(8),r.setFont("helvetica","bold"),r.text("CERTIFI",n-35,a-38,{align:"center"}),r.text("RUSSITE",n-35,a-32,{align:"center"});const _=`certificat_${e.certificate_number}_${e.student_name?.replace(/\s+/g,"_")||"etudiant"}.pdf`;r.save(_)},g_e=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),{data:a,isLoading:i}=p_e({limit:100,formation_id:r||void 0}),{data:s}=_g(),o=x_e(),u=a?.certificates||[],f=s||[],h=u.filter(w=>{const _=e.toLowerCase();return w.student_name?.toLowerCase().includes(_)||w.formation_title?.toLowerCase().includes(_)||w.certificate_number.toLowerCase().includes(_)}),p=w=>{lU(w)},g=async w=>{if(confirm("tes-vous sr de vouloir supprimer ce certificat ?"))try{await o.mutateAsync(w)}catch(_){console.error("Erreur lors de la suppression:",_),alert("Erreur lors de la suppression du certificat")}},x=u.length,b=u.filter(w=>{const _=new Date(w.issued_at),E=new Date;return _.getMonth()===E.getMonth()&&_.getFullYear()===E.getFullYear()}).length,y=u.length>0?(u.filter(w=>w.grade!==null).reduce((w,_)=>w+(_.grade||0),0)/u.filter(w=>w.grade!==null).length).toFixed(1):"0";return l.jsx(ua,{title:"Gestion des Certificats",subtitle:"Consulter et grer tous les certificats mis",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:x})]}),l.jsx(as,{className:"h-12 w-12 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Ce mois-ci"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:b})]}),l.jsx(rs,{className:"h-12 w-12 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),l.jsxs("p",{className:"text-4xl font-bold mt-2",children:[y,"%"]})]}),l.jsx(ai,{className:"h-12 w-12 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Formations"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:new Set(u.map(w=>w.formation_id)).size})]}),l.jsx(zn,{className:"h-12 w-12 opacity-80"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(Km,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Rechercher par tudiant, formation ou numro...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(DN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsxs("select",{value:r,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:[l.jsx("option",{value:"",children:"Toutes les formations"}),f.map(w=>l.jsx("option",{value:w.id,children:w.title},w.id))]})]})})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Certificats (",h.length,")"]})}),i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.length===0?l.jsxs("div",{className:"p-12 text-center",children:[l.jsx(as,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat trouv"}),l.jsx("p",{className:"text-gray-600",children:e||r?"Essayez de modifier vos critres de recherche":"Aucun certificat n'a encore t gnr"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Numro"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tudiant"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formation"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date mission"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(w=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"text-sm font-mono text-gray-900",children:w.certificate_number})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ox,{className:"h-4 w-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.student_name}),l.jsx("p",{className:"text-xs text-gray-500",children:w.student_email})]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zn,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-900",children:w.formation_title})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:w.grade!==null&&w.grade!==void 0?l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[w.grade,"%"]}):l.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),l.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:new Date(w.issued_at).toLocaleDateString("fr-FR")}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>p(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Tlcharger",children:l.jsx(Qs,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",disabled:o.isPending,children:l.jsx(Na,{className:"h-4 w-4"})})]})})]},w.id))})]})})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(mn,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos des certificats"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Les certificats sont gnrs automatiquement quand un tudiant complte une formation"}),l.jsx("li",{children:" Chaque certificat possde un numro unique pour vrification"}),l.jsx("li",{children:" La suppression d'un certificat est dfinitive"}),l.jsx("li",{children:" Les certificats peuvent tre tlchargs en PDF  tout moment"})]})]})]})})]})})},Hg={getAll:async()=>lt.get("/certificate-templates"),getById:async e=>lt.get(`/certificate-templates/${e}`),create:async e=>lt.post("/certificate-templates",e),update:async(e,t)=>lt.put(`/certificate-templates/${e}`,t),delete:async e=>lt.delete(`/certificate-templates/${e}`),duplicate:async e=>lt.post(`/certificate-templates/${e}/duplicate`),setDefault:async e=>lt.patch(`/certificate-templates/${e}/set-default`),seedDefaults:async()=>lt.post("/certificate-templates/seed-defaults"),generatePreview:async(e,t)=>{const r=await fetch(`/api/certificate-templates/${e}/preview`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to generate preview");return r.blob()},uploadLogo:async(e,t)=>{const r=new FormData;r.append("logo",t);const n=await fetch(`/api/certificate-templates/${e}/upload-logo`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload logo");return n.json()},uploadSignature:async(e,t)=>{const r=new FormData;r.append("signature",t);const n=await fetch(`/api/certificate-templates/${e}/upload-signature`,{method:"POST",body:r});if(!n.ok)throw new Error("Failed to upload signature");return n.json()}},Vg={all:["certificate-templates"]},v_e=()=>pr({queryKey:Vg.all,queryFn:Hg.getAll,staleTime:300*1e3,select:e=>e.templates}),y_e=()=>{const e=qt();return Kt({mutationFn:t=>Hg.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vg.all})}})},b_e=()=>{const e=qt();return Kt({mutationFn:t=>Hg.duplicate(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vg.all})}})},w_e=()=>{const e=qt();return Kt({mutationFn:t=>Hg.setDefault(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vg.all})}})},__e=()=>{const e=qt();return Kt({mutationFn:()=>Hg.seedDefaults(),onSuccess:()=>{e.invalidateQueries({queryKey:Vg.all})}})},N_e=()=>{const{data:e,isLoading:t,error:r}=v_e(),n=y_e(),a=b_e(),i=w_e(),s=__e(),[o,u]=C.useState(null),f=async x=>{try{await n.mutateAsync(x),u(null)}catch(b){alert("Erreur: "+(b.message||"Impossible de supprimer ce template"))}},h=async x=>{try{await a.mutateAsync(x)}catch(b){alert("Erreur: "+(b.message||"Impossible de dupliquer ce template"))}},p=async x=>{try{await i.mutateAsync(x)}catch(b){alert("Erreur: "+(b.message||"Impossible de dfinir comme dfaut"))}},g=async()=>{if(window.confirm("Crer les 3 templates prdfinis ? (Classique, Moderne, lgant)"))try{await s.mutateAsync(),alert("Templates crs avec succs !")}catch(x){alert("Erreur: "+(x.message||"Impossible de crer les templates"))}};return t?l.jsx(ua,{children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Chargement des templates..."})})}):r?l.jsx(ua,{children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[l.jsx(mn,{className:"h-5 w-5"}),l.jsx("span",{children:"Erreur lors du chargement des templates"})]})})}):l.jsx(ua,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(as,{className:"h-7 w-7 text-blue-600"}),"Templates de Certificats"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Grez les templates utiliss pour gnrer les certificats"})]}),l.jsxs("div",{className:"flex gap-2",children:[e&&e.length===0&&l.jsxs("button",{onClick:g,disabled:s.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[l.jsx(H4,{className:"h-4 w-4"}),"Crer Templates par Dfaut"]}),l.jsxs("button",{onClick:()=>alert("Cration de template : Fonctionnalit en dveloppement"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l.jsx(bi,{className:"h-4 w-4"}),"Nouveau Template"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[l.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Templates"}),l.jsx("div",{className:"text-3xl font-bold text-blue-900 mt-1",children:e?.length||0})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[l.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Template par Dfaut"}),l.jsx("div",{className:"text-lg font-bold text-green-900 mt-1",children:e?.find(x=>x.is_default)?.name||"Aucun"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[l.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Styles Disponibles"}),l.jsx("div",{className:"text-3xl font-bold text-purple-900 mt-1",children:e?.length||0})]})]}),!e||e.length===0?l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[l.jsx(as,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun template disponible"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Commencez par crer les templates prdfinis ou crez un nouveau template personnalis"}),l.jsxs("button",{onClick:g,disabled:s.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2 disabled:opacity-50",children:[l.jsx(H4,{className:"h-5 w-5"}),"Crer Templates par Dfaut"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(x=>l.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200",children:[l.jsxs("div",{className:"h-48 bg-gradient-to-br from-gray-50 to-gray-100 rounded-t-lg flex items-center justify-center relative overflow-hidden",children:[x.is_default&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-md",children:[l.jsx(W4,{className:"h-3 w-3 fill-current"}),"PAR DFAUT"]})}),l.jsxs("div",{className:"text-center p-6",children:[l.jsx(as,{className:"h-20 w-20 text-gray-300 mx-auto mb-3"}),l.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[x.template_config.layout.orientation==="landscape"?"Paysage":"Portrait"," "," ",x.template_config.layout.format.toUpperCase()]})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:x.name}),l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:x.description||"Aucune description"}),l.jsxs("div",{className:"flex gap-1 mb-4",children:[l.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:x.template_config.colors.primary},title:"Couleur primaire"}),l.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:x.template_config.colors.secondary},title:"Couleur secondaire"}),l.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:x.template_config.colors.text},title:"Couleur du texte"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[!x.is_default&&l.jsxs("button",{onClick:()=>p(x.id),disabled:i.isPending,className:"px-3 py-2 bg-yellow-50 text-yellow-700 rounded border border-yellow-300 hover:bg-yellow-100 transition-colors text-sm font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[l.jsx(W4,{className:"h-4 w-4"}),"Dfinir par dfaut"]}),l.jsxs("button",{onClick:()=>h(x.id),disabled:a.isPending,className:"px-3 py-2 bg-blue-50 text-blue-700 rounded border border-blue-300 hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[l.jsx(hx,{className:"h-4 w-4"}),"Dupliquer"]}),l.jsxs("button",{onClick:()=>alert(`Aperu : Fonctionnalit en dveloppement

Ce template contient `+x.template_config.elements.length+" lments."),className:"px-3 py-2 bg-green-50 text-green-700 rounded border border-green-300 hover:bg-green-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[l.jsx(As,{className:"h-4 w-4"}),"Aperu"]}),l.jsxs("button",{onClick:()=>u(x.id),disabled:n.isPending,className:"px-3 py-2 bg-red-50 text-red-700 rounded border border-red-300 hover:bg-red-100 transition-colors text-sm font-medium flex items-center justify-center gap-1 disabled:opacity-50",children:[l.jsx(Na,{className:"h-4 w-4"}),"Supprimer"]})]})]}),o===x.id&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm mx-4",children:[l.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Confirmer la suppression"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['tes-vous sr de vouloir supprimer le template "',x.name,'" ?']}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>f(x.id),disabled:n.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors disabled:opacity-50",children:"Supprimer"}),l.jsx("button",{onClick:()=>u(null),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Annuler"})]})]})})]},x.id))})]})})},pu={getThreads:async(e,t)=>{const r=new URLSearchParams;t?.sort&&r.append("sort",t.sort),t?.pinned&&r.append("pinned",t.pinned);const n=`/forums/${e}/threads${r.toString()?`?${r.toString()}`:""}`;return lt.get(n)},createThread:async(e,t)=>lt.post(`/forums/${e}/threads`,t),getThread:async e=>lt.get(`/forums/threads/${e}`),updateThread:async(e,t)=>lt.put(`/forums/threads/${e}`,t),deleteThread:async(e,t,r=!1)=>lt.delete(`/forums/threads/${e}?user_id=${t}&is_admin=${r}`),pinThread:async(e,t)=>lt.patch(`/forums/threads/${e}/pin`,{is_pinned:t}),lockThread:async(e,t)=>lt.patch(`/forums/threads/${e}/lock`,{is_locked:t}),incrementViewCount:async e=>lt.patch(`/forums/threads/${e}/view`,{}),getPosts:async e=>lt.get(`/forums/threads/${e}/posts`),createPost:async(e,t)=>lt.post(`/forums/threads/${e}/posts`,t),updatePost:async(e,t)=>lt.put(`/forums/posts/${e}`,t),deletePost:async(e,t,r=!1)=>lt.delete(`/forums/posts/${e}?user_id=${t}&is_admin=${r}`),addReaction:async(e,t)=>lt.post(`/forums/posts/${e}/reactions`,t),removeReaction:async(e,t,r)=>lt.delete(`/forums/posts/${e}/reactions/${r}?user_id=${t}`),getReactions:async e=>lt.get(`/forums/posts/${e}/reactions`),getStats:async()=>lt.get("/forums/stats")},Al={all:["forums"],threads:e=>["forums","threads",e],thread:e=>["forums","thread",e],posts:e=>["forums","posts",e],reactions:e=>["forums","reactions",e],stats:()=>["forums","stats"]},S_e=(e,t)=>pr({queryKey:[...Al.threads(e||""),t],queryFn:()=>{if(!e)throw new Error("Formation ID is required");return pu.getThreads(e,t)},enabled:!!e,staleTime:120*1e3}),j_e=e=>pr({queryKey:Al.thread(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return pu.getThread(e)},enabled:!!e,staleTime:300*1e3}),A_e=()=>{const e=qt();return Kt({mutationFn:({formationId:t,data:r})=>pu.createThread(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Al.threads(r.formationId)})}})},E_e=()=>{const e=qt();return Kt({mutationFn:t=>pu.incrementViewCount(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Al.thread(r)})}})},k_e=e=>pr({queryKey:Al.posts(e||""),queryFn:()=>{if(!e)throw new Error("Thread ID is required");return pu.getPosts(e)},enabled:!!e,staleTime:60*1e3}),C_e=()=>{const e=qt();return Kt({mutationFn:({threadId:t,data:r})=>pu.createPost(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Al.posts(r.threadId)}),e.invalidateQueries({queryKey:Al.thread(r.threadId)}),e.invalidateQueries({queryKey:Al.all})}})},T_e=()=>{const e=qt();return Kt({mutationFn:({postId:t,userId:r,isAdmin:n})=>pu.deletePost(t,r,n),onSuccess:()=>{e.invalidateQueries({queryKey:Al.all})}})},O_e=()=>{const e=qt();return Kt({mutationFn:({postId:t,data:r})=>pu.addReaction(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Al.reactions(r.postId)}),e.invalidateQueries({queryKey:Al.all})}})},D_e=()=>{const e=qt();return Kt({mutationFn:({postId:t,userId:r,reactionType:n})=>pu.removeReaction(t,r,n),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Al.reactions(r.postId)}),e.invalidateQueries({queryKey:Al.all})}})},P_e=()=>pr({queryKey:Al.stats(),queryFn:()=>pu.getStats(),staleTime:300*1e3}),F_e=()=>{const e=$n(),[t,r]=C.useState(""),[n,a]=C.useState(""),{data:i}=P_e(),{data:s}=_g(),o=i?.stats,u=s||[],f=n?u.filter(h=>h.id===n):u;return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modration des Forums"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les discussions et modrez le contenu des forums"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-5 text-white",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx(Ys,{className:"h-8 w-8 opacity-80"})}),l.jsx("div",{className:"text-3xl font-bold",children:o?.total_threads||0}),l.jsx("div",{className:"text-blue-100 text-sm",children:"Total discussions"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-5 text-white",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx(MD,{className:"h-8 w-8 opacity-80"})}),l.jsx("div",{className:"text-3xl font-bold",children:o?.total_posts||0}),l.jsx("div",{className:"text-green-100 text-sm",children:"Total rponses"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-5 text-white",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx(z0,{className:"h-8 w-8 opacity-80"})}),l.jsx("div",{className:"text-3xl font-bold",children:o?.total_reactions||0}),l.jsx("div",{className:"text-purple-100 text-sm",children:"Total ractions"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-5 text-white",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx(is,{className:"h-8 w-8 opacity-80"})}),l.jsx("div",{className:"text-3xl font-bold",children:o?.active_posters||0}),l.jsx("div",{className:"text-amber-100 text-sm",children:"Participants actifs"})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Km,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Rechercher une discussion...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Toutes les formations"}),u.map(h=>l.jsx("option",{value:h.id,children:h.title},h.id))]})]})}),l.jsx("div",{className:"space-y-4",children:f.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[l.jsx(Ys,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune formation trouve"}),l.jsx("p",{className:"text-gray-600",children:"Crez des formations pour activer les forums"})]}):f.map(h=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ys,{className:"h-4 w-4"}),"Forum actif"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(is,{className:"h-4 w-4"}),h.enrolled_count||0," tudiants"]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(rt,{onClick:()=>e(`/student/forums/${h.id}`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[l.jsx(As,{className:"h-4 w-4 mr-2"}),"Voir le forum"]})})]})},h.id))}),l.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Actions de modration disponibles"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-800",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(FN,{className:"h-4 w-4 mt-0.5 text-yellow-600"}),l.jsxs("span",{children:[l.jsx("strong",{children:"pingler:"})," Mettre en avant les discussions importantes"]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Tx,{className:"h-4 w-4 mt-0.5 text-gray-600"}),l.jsxs("span",{children:[l.jsx("strong",{children:"Verrouiller:"})," Empcher de nouvelles rponses"]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Na,{className:"h-4 w-4 mt-0.5 text-red-600"}),l.jsxs("span",{children:[l.jsx("strong",{children:"Supprimer:"})," Retirer du contenu inappropri"]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(As,{className:"h-4 w-4 mt-0.5 text-blue-600"}),l.jsxs("span",{children:[l.jsx("strong",{children:"Surveiller:"})," Suivre l'activit des discussions"]})]})]}),l.jsx("p",{className:"mt-3 text-sm text-blue-700",children:" Accdez  un forum spcifique pour utiliser ces actions de modration."})]}),o&&l.jsxs("div",{className:"mt-6 bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-lg p-5",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Statistiques gnrales"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Crateurs de discussions:"}),l.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_thread_creators})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Participants actifs:"}),l.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:o.active_posters})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Taux d'engagement:"}),l.jsxs("span",{className:"ml-2 font-semibold text-gray-900",children:[o.total_threads>0?(o.total_posts/o.total_threads*100).toFixed(1):0,"% rponses/thread"]})]})]})]})]})},L_e=()=>{const e=$n(),{user:t}=_i(),{data:r=[],isLoading:n}=fL(),a=r.filter(g=>g.students?.some(x=>x.student_id===t?.id)),i=g=>({planned:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-red-100 text-red-700"})[g]||"bg-gray-100 text-gray-700",s=g=>({planned:"Planifie",active:"En cours",completed:"Termine",cancelled:"Annule"})[g]||g,o=g=>new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=g=>{const x=new Date,b=new Date(g.start_date),y=new Date(g.end_date);return x>=b&&x<=y},f=a.filter(g=>g.status==="active"||u(g)),h=a.filter(g=>g.status==="planned"&&!u(g)),p=a.filter(g=>g.status==="completed");return l.jsx(ua,{title:`Bonjour ${t?.full_name||"tudiant"}`,subtitle:"Bienvenue sur votre portail de formation",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Sessions inscrites"}),l.jsx("p",{className:"text-3xl font-bold mt-2",children:a.length})]}),l.jsx(zn,{className:"h-12 w-12 text-blue-200"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Sessions actives"}),l.jsx("p",{className:"text-3xl font-bold mt-2",children:f.length})]}),l.jsx(z0,{className:"h-12 w-12 text-green-200"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium",children:" venir"}),l.jsx("p",{className:"text-3xl font-bold mt-2",children:h.length})]}),l.jsx(rs,{className:"h-12 w-12 text-purple-200"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Termines"}),l.jsx("p",{className:"text-3xl font-bold mt-2",children:p.length})]}),l.jsx(as,{className:"h-12 w-12 text-orange-200"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accs Rapide"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(rt,{onClick:()=>e("/student/catalog"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[l.jsx(zn,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Catalogue de Formations"})]}),l.jsxs(rt,{onClick:()=>e("/student/certificates"),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white",children:[l.jsx(as,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Mes Certificats"})]}),f.length>0&&f[0].formation_id&&l.jsxs(rt,{onClick:()=>e(`/student/formations/${f[0].formation_id}`),className:"flex items-center justify-center gap-2 h-16 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",children:[l.jsx(wc,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Continuer ma formation"})]})]})]}),f.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(wc,{className:"h-6 w-6 text-green-600"}),"Sessions en cours"]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(g=>l.jsxs("div",{className:"border border-green-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-green-50",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.name}),g.formation_title&&l.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" ",g.formation_title]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:s(g.status)})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[g.segment_name&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(is,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:g.segment_name})]}),g.city_name&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Js,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:g.city_name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rs,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[o(g.start_date)," - ",o(g.end_date)]})]})]}),g.formation_id&&l.jsx("div",{className:"mt-4",children:l.jsxs(rt,{onClick:()=>e(`/student/formations/${g.formation_id}`),className:"w-full bg-green-600 hover:bg-green-700",size:"sm",children:[l.jsx(wc,{className:"h-4 w-4 mr-2"}),"Accder  la formation"]})})]},g.id))})]}),h.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[l.jsx(Ks,{className:"h-6 w-6 text-purple-600"}),"Sessions  venir"]}),l.jsx("div",{className:"space-y-4",children:h.map(g=>l.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",g.formation_title]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[g.segment_name&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(is,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:g.segment_name})]}),g.city_name&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Js,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:g.city_name})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(rs,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:["Dbut: ",o(g.start_date)]})]})]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:s(g.status)})]})},g.id))})]}),p.length>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[l.jsx(as,{className:"h-6 w-6 text-gray-600"}),"Sessions termines"]}),l.jsx("div",{className:"space-y-4",children:p.map(g=>l.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:g.name}),g.formation_title&&l.jsxs("p",{className:"text-sm text-gray-600",children:[" ",g.formation_title]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(g.status)}`,children:s(g.status)})]})},g.id))})]}),!n&&a.length===0&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(zn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune session inscrite"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'tes inscrit  aucune session de formation pour le moment."}),l.jsx(rt,{onClick:()=>e("/student/catalog"),children:"Parcourir le catalogue"})]}),n&&l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})},M_e=()=>{const e=$n(),{data:t=[],isLoading:r}=_g(),[n,a]=C.useState(""),[i,s]=C.useState("all"),o=t.filter(p=>p.status==="published"),u=C.useMemo(()=>o.filter(p=>{const g=p.title.toLowerCase().includes(n.toLowerCase())||p.description?.toLowerCase().includes(n.toLowerCase()),x=i==="all"||p.level===i;return g&&x}),[o,n,i]),f=p=>{const x=p?{debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}}[p]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${x.bg} ${x.text}`,children:x.label})},h=p=>p==="debutant"?l.jsx(z0,{className:"h-4 w-4 text-green-600"}):p==="intermediaire"?l.jsx(z0,{className:"h-4 w-4 text-yellow-600"}):p==="avance"?l.jsx(as,{className:"h-4 w-4 text-red-600"}):l.jsx(zn,{className:"h-4 w-4 text-gray-400"});return l.jsx(ua,{title:"Catalogue de formations",subtitle:"Explorez nos formations disponibles",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[o.length," formations disponibles"]}),l.jsx("p",{className:"text-blue-100",children:"Dveloppez vos comptences avec nos formations en ligne"})]}),l.jsx(zn,{className:"h-16 w-16 text-blue-200 opacity-50"})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Km,{className:"h-4 w-4 inline mr-2"}),"Rechercher"]}),l.jsx("input",{type:"text",value:n,onChange:p=>a(p.target.value),placeholder:"Titre ou description...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(DN,{className:"h-4 w-4 inline mr-2"}),"Niveau"]}),l.jsxs("select",{value:i,onChange:p=>s(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"Tous les niveaux"}),l.jsx("option",{value:"debutant",children:"Dbutant"}),l.jsx("option",{value:"intermediaire",children:"Intermdiaire"}),l.jsx("option",{value:"avance",children:"Avanc"})]})]})]}),(n||i!=="all")&&l.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Filtres actifs:"}),n&&l.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:['Recherche: "',n,'"']}),i!=="all"&&l.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:["Niveau: ",f(i).props.children]}),l.jsx("button",{onClick:()=>{a(""),s("all")},className:"text-xs text-red-600 hover:text-red-700",children:"Effacer les filtres"})]})]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[u.length," formation(s) trouve(s)"]})}),r?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(zn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune formation trouve"}),l.jsx("p",{className:"text-gray-500 mb-6",children:n||i!=="all"?"Essayez de modifier vos critres de recherche":"Aucune formation publie pour le moment"}),(n||i!=="all")&&l.jsx(rt,{onClick:()=>{a(""),s("all")},variant:"outline",children:"Effacer les filtres"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-lg transition-all duration-200 overflow-hidden group",children:[l.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden",children:[p.thumbnail_url?l.jsx("img",{src:p.thumbnail_url,alt:p.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(zn,{className:"h-16 w-16 text-white opacity-50"})}),l.jsx("div",{className:"absolute top-3 right-3",children:f(p.level)})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:p.title}),p.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:p.description}),l.jsxs("div",{className:"space-y-2 mb-4",children:[p.duration_hours&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(Ks,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[p.duration_hours,"h de contenu"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h(p.level),l.jsxs("span",{children:["Niveau ",p.level||"N/A"]})]}),p.module_count!==void 0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(wc,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[p.module_count," module(s)"]})]}),p.passing_score_percentage!==void 0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(ai,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:["Score de russite: ",p.passing_score_percentage,"%"]})]})]}),p.price!==void 0&&p.price!==null&&Number(p.price)>0&&l.jsx("div",{className:"mb-4 pb-4 border-b",children:l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S3(p.price)})}),l.jsxs(rt,{onClick:()=>e(`/student/formations/${p.id}`),className:"w-full bg-blue-600 hover:bg-blue-700",children:[l.jsx(wc,{className:"h-4 w-4 mr-2"}),"Voir la formation"]})]})]},p.id))})]})})},X2={async markVideoComplete(e){return lt.post(`/progress/videos/${e}/complete`,{})},async recordVideoWatch(e){return lt.post(`/progress/videos/${e}/watch`,{})},async getFormationVideoProgress(e){return lt.get(`/progress/formations/${e}/videos`)},async submitTestAttempt(e,t){return lt.post(`/progress/tests/${e}/attempts`,t)},async getTestAttempts(e){return lt.get(`/progress/tests/${e}/attempts`)},async getFormationTestAttempts(e){return lt.get(`/progress/formations/${e}/tests`)},async getFormationProgress(e){return lt.get(`/progress/formations/${e}`)},async getStudentTranscript(e){return lt.get(`/progress/student/${e}/transcript`)}};function R_e(){const e=qt();return Kt({mutationFn:t=>X2.markVideoComplete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["video-progress"]}),e.invalidateQueries({queryKey:["formation-progress"]})}})}function I_e(e){return pr({queryKey:["video-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return X2.getFormationVideoProgress(e)},enabled:!!e})}function B_e(){const e=qt();return Kt({mutationFn:({testId:t,data:r})=>X2.submitTestAttempt(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["test-attempts",r.testId]}),e.invalidateQueries({queryKey:["test-attempts-formation"]}),e.invalidateQueries({queryKey:["formation-progress"]}),e.invalidateQueries({queryKey:["transcript"]})}})}function U_e(e){return pr({queryKey:["formation-progress",e],queryFn:()=>{if(!e)throw new Error("Formation ID required");return X2.getFormationProgress(e)},enabled:!!e,staleTime:1e3*60*5})}const z_e=()=>{const{id:e}=Tc(),t=$n(),{user:r}=_i(),{data:n,isLoading:a,error:i}=ep(e),{data:s}=U_e(e),{data:o}=sU(r?.id||null),[u,f]=C.useState(new Set),h=o?.certificates.some(T=>T.formation_id===e)||!1,p=T=>{const O=new Set(u);O.has(T)?O.delete(T):O.add(T),f(O)},g=T=>s?.video_progress.some(O=>O.video_id===T&&O.completed_at)||!1,x=T=>s?.test_attempts.some(O=>O.test_id===T&&O.passed)||!1,b=T=>{const O={debutant:{bg:"bg-green-100",text:"text-green-700",label:"Dbutant"},intermediaire:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Intermdiaire"},avance:{bg:"bg-red-100",text:"text-red-700",label:"Avanc"}},R=T&&T in O?O[T]:{bg:"bg-gray-100",text:"text-gray-700",label:"N/A"};return l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${R.bg} ${R.text}`,children:R.label})},y=T=>T==="video"?l.jsx(wc,{className:"h-5 w-5 text-purple-600"}):T==="test"?l.jsx(tf,{className:"h-5 w-5 text-orange-600"}):l.jsx(zn,{className:"h-5 w-5 text-blue-600"}),w=(T,O)=>(!T.prerequisite_module_id||!O.find(D=>D.id===T.prerequisite_module_id),!0);if(a)return l.jsx(ua,{title:"Chargement...",subtitle:"Chargement de la formation",children:l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(i||!n)return l.jsx(ua,{title:"Erreur",subtitle:"Formation introuvable",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette formation n'existe pas ou n'est pas disponible."}),l.jsxs(rt,{onClick:()=>t("/student/catalog"),variant:"outline",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]})]})});const _=n.modules||[],E=_.reduce((T,O)=>T+(O.videos?.length||0),0),A=_.reduce((T,O)=>T+(O.tests?.length||0),0);return l.jsx(ua,{title:n.title,subtitle:"Contenu de la formation",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>t("/student/catalog"),className:"mb-4",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour au catalogue"]}),l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"hidden md:block",children:n.thumbnail_url?l.jsx("img",{src:n.thumbnail_url,alt:n.title,className:"w-48 h-32 object-cover rounded-lg"}):l.jsx("div",{className:"w-48 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx(zn,{className:"h-12 w-12 text-white opacity-50"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),b(n.level)]}),n.description&&l.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),l.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[n.duration_hours&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ks,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[n.duration_hours,"h de contenu"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zn,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[_.length," module(s)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wc,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[E," vido(s)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tf,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[A," test(s)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(as,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:["Score de russite: ",n.passing_score_percentage,"%"]})]})]})]})]})]}),s&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre progression"}),l.jsx("div",{className:"mb-6",children:l.jsx(Ky,{progress:s.summary.overall_progress,label:"Progression globale",color:"purple",size:"lg"})}),h&&l.jsx("div",{className:"mb-6",children:l.jsx("div",{onClick:()=>t("/student/certificates"),className:"bg-gradient-to-r from-amber-50 to-amber-100 border-2 border-amber-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-amber-500 p-3 rounded-full",children:l.jsx(as,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:" Certificat disponible !"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Flicitations ! Vous avez termin cette formation. Cliquez ici pour tlcharger votre certificat."})]}),l.jsx(Gu,{className:"h-5 w-5 text-amber-600"})]})})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{onClick:()=>t(`/student/forums/${e}`),className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-full",children:l.jsx(Ys,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:" Forum de discussion"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Posez vos questions, partagez vos ides et discutez avec les autres tudiants."})]}),l.jsx(Gu,{className:"h-5 w-5 text-blue-600"})]})})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(iD,{completed:s.summary.completed_videos,total:s.summary.total_videos,label:"Vidos termines",color:"blue"}),l.jsx(iD,{completed:s.summary.passed_tests,total:s.summary.total_tests,label:"Tests russis",color:"green"})]})]}),_.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(zn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun contenu disponible"}),l.jsx("p",{className:"text-gray-500",children:"Cette formation n'a pas encore de contenu. Revenez plus tard."})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contenu de la formation"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cliquez sur un module pour voir son contenu"})]}),l.jsx("div",{className:"divide-y",children:_.map((T,O)=>{const R=u.has(T.id),D=w(T,_),M=T.videos||[],B=T.tests||[],G=M.length>0||B.length>0;return l.jsxs("div",{children:[l.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${D?"cursor-pointer":"opacity-60"}`,onClick:()=>D&&G&&p(T.id),children:l.jsxs("div",{className:"flex items-center gap-3",children:[G?l.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:R?l.jsx(Qy,{className:"h-5 w-5"}):l.jsx(Gu,{className:"h-5 w-5"})}):l.jsx("div",{className:"w-5"}),y(T.module_type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Module ",O+1]}),!D&&l.jsx(Tx,{className:"h-4 w-4 text-gray-400"})]}),l.jsx("h3",{className:"text-base font-semibold text-gray-900",children:T.title}),T.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:T.description})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[M.length>0&&l.jsxs("span",{className:"mr-3",children:[M.length," vido(s)"]}),B.length>0&&l.jsxs("span",{children:[B.length," test(s)"]})]})]})}),R&&G&&l.jsxs("div",{className:"bg-gray-50 px-4 py-3 space-y-2",children:[M.map((I,z)=>{const K=g(I.id);return l.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-purple-200"}`,onClick:()=>t(`/student/formations/${n.id}/videos/${I.id}`),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(wc,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-purple-600"}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Vido ",z+1,": ",I.title]}),I.duration_seconds&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Dure: ",Math.floor(I.duration_seconds/60)," min"," ",I.duration_seconds%60," sec"]})]}),K?l.jsx(ai,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):l.jsx(Gu,{className:"h-5 w-5 text-gray-400"})]})},I.id)}),B.map((I,z)=>{const K=x(I.id);return l.jsx("div",{className:`bg-white rounded-lg border p-3 hover:shadow-md transition-shadow cursor-pointer ${K?"border-green-300 bg-green-50":"border-orange-200"}`,onClick:()=>t(`/student/formations/${n.id}/tests/${I.id}`),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tf,{className:`h-5 w-5 flex-shrink-0 ${K?"text-green-600":"text-orange-600"}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Test ",z+1,": ",I.title]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[I.questions&&l.jsxs("span",{children:[I.questions.length," question(s)"]}),I.time_limit_minutes&&l.jsxs("span",{children:[" ",I.time_limit_minutes," min"]}),l.jsxs("span",{children:["Score min: ",I.passing_score,"%"]})]})]}),K?l.jsx(ai,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):l.jsx(Gu,{className:"h-5 w-5 text-gray-400"})]})},I.id)})]})]},T.id)})})]})]})})},q_e=()=>{const{id:e,videoId:t}=Tc(),r=$n(),{data:n,isLoading:a,error:i}=ep(e),{data:s}=I_e(e),o=R_e(),u=n?.modules?.flatMap(A=>A.videos||[]).find(A=>A.id===t),f=n?.modules?.find(A=>A.videos?.some(T=>T.id===t)),h=[];n?.modules?.forEach(A=>{A.videos?.forEach(T=>{h.push({video:T,module:A})})});const p=h.findIndex(A=>A.video.id===t),g=p>0?h[p-1]:null,x=p<h.length-1?h[p+1]:null,b=A=>{if(!A)return null;const T=[/(?:youtube\.com\/watch\?v=)([^&]+)/,/(?:youtu\.be\/)([^?]+)/,/(?:youtube\.com\/embed\/)([^?]+)/];for(const O of T){const R=A.match(O);if(R)return R[1]}return null},y=u?.youtube_url?b(u.youtube_url):null,w=A=>{const T=Math.floor(A/60),O=A%60;return`${T}:${O.toString().padStart(2,"0")}`},_=s?.some(A=>A.video_id===t&&A.completed_at)||!1,E=async()=>{if(!(!t||_))try{await o.mutateAsync(t)}catch(A){console.error("Erreur lors du marquage de la vido:",A)}};return C.useEffect(()=>{t&&console.log("Vido en cours de visionnage:",t)},[t]),a?l.jsx(ua,{title:"Chargement...",subtitle:"Chargement de la vido",children:l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!u?l.jsx(ua,{title:"Erreur",subtitle:"Vido introuvable",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Cette vido n'existe pas ou n'est pas disponible."}),l.jsxs(rt,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):l.jsx(ua,{title:u.title,subtitle:n.title,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),_?l.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm",children:[l.jsx(ai,{className:"h-5 w-5"}),l.jsx("span",{children:"Vido termine"})]}):l.jsxs(rt,{onClick:E,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:[l.jsx(ai,{className:"h-4 w-4 mr-2"}),o.isPending?"Enregistrement...":"Marquer comme termin"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:y?l.jsx("div",{className:"relative",style:{paddingBottom:"56.25%"},children:l.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${y}?rel=0`,title:u.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):l.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx(wc,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg font-medium",children:"URL de vido non disponible"}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:u.youtube_url||"Aucune URL configure"})]})})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(wc,{className:"h-5 w-5 text-purple-600"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.title})]}),f&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(zn,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:f.title})]})]}),u.duration_seconds&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded-lg",children:[l.jsx(Ks,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:w(u.duration_seconds)})]})]}),u.description&&l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:u.description})]})]}),(g||x)&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Navigation"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g?l.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${g.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[l.jsx(ON,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido prcdente"}),l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.video.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.module.title})]})]}):l.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:l.jsx("p",{className:"text-sm text-gray-400",children:"Premire vido"})}),x?l.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${x.video.id}`),className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all text-left",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vido suivante"}),l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.video.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.module.title})]}),l.jsx(Gu,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}):l.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center justify-center",children:l.jsx("p",{className:"text-sm text-gray-400",children:"Dernire vido"})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Toutes les vidos (",h.length,")"]}),l.jsx("div",{className:"space-y-2",children:h.map(({video:A,module:T},O)=>l.jsxs("button",{onClick:()=>r(`/student/formations/${e}/videos/${A.id}`),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${A.id===t?"bg-purple-50 border-purple-300 shadow-sm":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${A.id===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:A.id===t?l.jsx(wc,{className:"h-4 w-4"}):l.jsx("span",{className:"text-sm font-medium",children:O+1})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-medium truncate ${A.id===t?"text-purple-900":"text-gray-900"}`,children:A.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:T.title})]}),A.duration_seconds&&l.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.jsx(Ks,{className:"h-3 w-3"}),w(A.duration_seconds)]})]},A.id))})]})]})})},$_e=()=>{const{id:e,testId:t}=Tc(),r=$n(),{data:n,isLoading:a,error:i}=ep(e),s=B_e(),[o,u]=C.useState({}),[f,h]=C.useState(!1),[p,g]=C.useState(null),[x]=C.useState(new Date),b=n?.modules?.flatMap(D=>D.tests||[]).find(D=>D.id===t),y=n?.modules?.find(D=>D.tests?.some(M=>M.id===t)),w=b?.questions||[];C.useEffect(()=>{if(b?.time_limit_minutes&&!f){g(b.time_limit_minutes*60);const D=setInterval(()=>{g(M=>M===null||M<=0?(clearInterval(D),f||E(),0):M-1)},1e3);return()=>clearInterval(D)}},[b,f]);const _=(D,M)=>{f||u(B=>({...B,[D]:M}))},E=async()=>{if(f||!t)return;const D=w.filter(z=>!o[z.id]).length;if(D>0&&!window.confirm(`${D} question(s) non rpondue(s). Voulez-vous vraiment soumettre le test ?`))return;h(!0);let M=0,B=0;w.forEach(z=>{M+=z.points;const K=o[z.id];K&&z.choices.find(pe=>pe.id===K)?.is_correct&&(B+=z.points)});const I=(M>0?B/M*100:0)>=(b?.passing_score||70);try{await s.mutateAsync({testId:t,data:{answers:o,score:B,total_points:M,passed:I}})}catch(z){console.error("Erreur lors de l'enregistrement de la tentative:",z)}},A=()=>{let D=0,M=0,B=0;w.forEach(z=>{M+=z.points;const K=o[z.id];K&&z.choices.find(pe=>pe.id===K)?.is_correct&&(D++,B+=z.points)});const G=w.length>0?D/w.length*100:0,I=M>0?B/M*100:0;return{correctCount:D,totalQuestions:w.length,percentage:Math.round(G),earnedPoints:B,totalPoints:M,pointsPercentage:Math.round(I),passed:I>=(b?.passing_score||70)}},T=D=>{const M=Math.floor(D/60),B=D%60;return`${M}:${B.toString().padStart(2,"0")}`},O=()=>{if(!f)return"";const M=Math.floor((new Date().getTime()-x.getTime())/1e3);return T(M)},R=f?A():null;return a?l.jsx(ua,{title:"Chargement...",subtitle:"Chargement du test",children:l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):i||!n||!b?l.jsx(ua,{title:"Erreur",subtitle:"Test introuvable",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-800 mb-4",children:i?.message||"Ce test n'existe pas ou n'est pas disponible."}),l.jsxs(rt,{onClick:()=>r(e?`/student/formations/${e}`:"/student/catalog"),variant:"outline",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour"]})]})}):l.jsx(ua,{title:b.title,subtitle:n.title,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs(rt,{variant:"ghost",size:"sm",onClick:()=>r(`/student/formations/${e}`),disabled:!f,children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour  la formation"]}),!f&&p!==null&&l.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${p<60?"bg-red-100 text-red-700":p<300?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[l.jsx(Ks,{className:"h-4 w-4"}),l.jsx("span",{children:T(p)})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(tf,{className:"h-6 w-6 text-orange-600 flex-shrink-0 mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:b.title}),y&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[l.jsx(zn,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{children:y.title})]}),b.description&&l.jsx("p",{className:"text-gray-600 mb-3",children:b.description}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(tf,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[w.length," questions"]})]}),b.time_limit_minutes&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ks,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:[b.time_limit_minutes," min"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(as,{className:"h-4 w-4 text-gray-400"}),l.jsxs("span",{children:["Score minimum: ",b.passing_score,"%"]})]})]})]})]})]}),f&&R&&l.jsxs("div",{className:`rounded-lg shadow-sm border p-6 ${R.passed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[R.passed?l.jsx(ai,{className:"h-8 w-8 text-green-600"}):l.jsx(_d,{className:"h-8 w-8 text-red-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-bold ${R.passed?"text-green-900":"text-red-900"}`,children:R.passed?"Test russi !":"Test chou"}),l.jsxs("p",{className:R.passed?"text-green-700":"text-red-700",children:["Score: ",R.pointsPercentage,"% (",R.earnedPoints,"/",R.totalPoints," points)"]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Bonnes rponses"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.correctCount,"/",R.totalQuestions]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pourcentage"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.percentage,"%"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Points obtenus"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.earnedPoints,"/",R.totalPoints]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Temps coul"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:O()})]})]})]}),w.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(tf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune question"}),l.jsx("p",{className:"text-gray-500",children:"Ce test n'a pas encore de questions."})]}):l.jsx("div",{className:"space-y-6",children:w.map((D,M)=>{const B=o[D.id],I=D.choices.find(z=>z.id===B)?.is_correct||!1;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 ${f?I?"bg-green-100 text-green-700":B?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:f?I?l.jsx(ai,{className:"h-4 w-4"}):B?l.jsx(_d,{className:"h-4 w-4"}):l.jsx(G4,{className:"h-4 w-4"}):l.jsx("span",{className:"text-sm font-medium",children:M+1})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:["Question ",M+1]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[D.points," pts"]})]}),l.jsx("p",{className:"text-gray-700",children:D.question_text})]})]}),l.jsx("div",{className:"space-y-2 ml-11",children:D.choices.map(z=>{const K=B===z.id,J=f&&z.is_correct,pe=f&&K&&!z.is_correct;return l.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all cursor-pointer ${f?J?"bg-green-50 border-green-300":pe?"bg-red-50 border-red-300":"border-gray-200 bg-gray-50":K?"bg-blue-50 border-blue-300":"border-gray-200 hover:bg-gray-50 hover:border-gray-300"} ${f?"cursor-default":""}`,children:[l.jsx("input",{type:"radio",name:`question-${D.id}`,value:z.id,checked:K,onChange:()=>_(D.id,z.id),disabled:f,className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:`text-sm ${J?"text-green-900 font-medium":pe?"text-red-900":"text-gray-900"}`,children:z.choice_text}),f&&z.is_correct&&l.jsx("p",{className:"text-xs text-green-700 mt-1",children:" Bonne rponse"}),f&&pe&&l.jsx("p",{className:"text-xs text-red-700 mt-1",children:" Mauvaise rponse"})]})]},z.id)})}),!f&&!B&&l.jsxs("div",{className:"mt-3 ml-11 text-sm text-amber-600 flex items-center gap-2",children:[l.jsx(G4,{className:"h-4 w-4"}),l.jsx("span",{children:"Question non rpondue"})]})]},D.id)})}),!f&&w.length>0&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("p",{children:[Object.keys(o).length," / ",w.length," questions rpondues"]}),b.show_correct_answers&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Les rponses correctes seront affiches aprs la soumission"})]}),l.jsxs(rt,{onClick:E,size:"lg",className:"min-w-[200px]",children:[l.jsx(ai,{className:"h-5 w-5 mr-2"}),"Soumettre le test"]})]})})]})})},H_e=()=>{const{user:e}=_i(),{data:t,isLoading:r,error:n}=sU(e?.id||null),a=s=>{lU(s)};if(r)return l.jsx(ua,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(n)return l.jsx(ua,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsx("p",{className:"text-red-800",children:"Erreur lors du chargement des certificats"})})});const i=t?.certificates||[];return l.jsx(ua,{title:"Mes Certificats",subtitle:"Consultez et tlchargez vos certificats",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Certificats"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),l.jsx(as,{className:"h-12 w-12 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Formations Compltes"}),l.jsx("p",{className:"text-4xl font-bold mt-2",children:i.length})]}),l.jsx(ai,{className:"h-12 w-12 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm opacity-90",children:"Note Moyenne"}),l.jsxs("p",{className:"text-4xl font-bold mt-2",children:[i.length>0?(i.filter(s=>s.grade!==null).reduce((s,o)=>s+(o.grade||0),0)/i.filter(s=>s.grade!==null).length).toFixed(1):"0","%"]})]}),l.jsx(W4,{className:"h-12 w-12 opacity-80"})]})})]}),i.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx(Cx,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun certificat disponible"}),l.jsx("p",{className:"text-gray-600",children:"Compltez vos formations pour obtenir vos certificats de russite !"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(s=>{const o=new Date(s.completion_date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),u=new Date(s.issued_at).toLocaleDateString("fr-FR");return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(as,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm font-medium opacity-90",children:"Certificat de Russite"})]}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:s.formation_title})]}),s.grade!==null&&s.grade!==void 0&&l.jsxs("div",{className:"bg-white/20 rounded-lg px-3 py-2 text-center backdrop-blur-sm",children:[l.jsxs("p",{className:"text-2xl font-bold",children:[s.grade,"%"]}),l.jsx("p",{className:"text-xs opacity-90",children:"Note"})]})]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsx(rs,{className:"h-4 w-4 text-blue-500"}),l.jsxs("span",{children:["Complt le ",o]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsx(zn,{className:"h-4 w-4 text-green-500"}),l.jsxs("span",{children:["Dlivr le ",u]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsx(Cx,{className:"h-4 w-4 text-purple-500"}),l.jsxs("span",{className:"font-mono text-xs",children:["N ",s.certificate_number]})]})]}),l.jsxs("button",{onClick:()=>a(s),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[l.jsx(Qs,{className:"h-5 w-5"}),"Tlcharger le Certificat"]})]}),l.jsx("div",{className:"bg-green-50 border-t border-green-100 px-6 py-3",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-700 text-sm font-medium",children:[l.jsx(ai,{className:"h-4 w-4"}),"Formation complte avec succs"]})})]},s.id)})}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(as,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" propos de vos certificats"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Les certificats sont gnrs automatiquement aprs compltion d'une formation"}),l.jsx("li",{children:" Chaque certificat contient un numro unique pour vrification"}),l.jsx("li",{children:" Vous pouvez tlcharger vos certificats  tout moment"}),l.jsx("li",{children:" Les certificats sont au format PDF professionnel"})]})]})]})})]})})},V_e=()=>{const{formationId:e}=Tc(),t=$n(),[r,n]=C.useState("recent"),{data:a,isLoading:i}=ep(e||void 0),{data:s,isLoading:o}=S_e(e||null,{sort:r,pinned:"true"}),u=a,f=s?.threads||[],h=p=>{const g=new Date(p),b=new Date().getTime()-g.getTime(),y=Math.floor(b/6e4),w=Math.floor(y/60),_=Math.floor(w/24);return y<1?" l'instant":y<60?`Il y a ${y} min`:w<24?`Il y a ${w}h`:_<7?`Il y a ${_}j`:g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};return i||o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du forum..."})]})}):u?l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Forum - ",u.title]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Posez vos questions et discutez avec les autres tudiants"})]}),l.jsxs(rt,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[l.jsx(bi,{className:"h-4 w-4 mr-2"}),"Nouvelle discussion"]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ys,{className:"h-4 w-4 text-blue-600"}),l.jsxs("span",{className:"text-gray-600",children:[l.jsx("span",{className:"font-semibold text-gray-900",children:f.length})," ","discussions"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(MD,{className:"h-4 w-4 text-green-600"}),l.jsxs("span",{className:"text-gray-600",children:[l.jsx("span",{className:"font-semibold text-gray-900",children:f.reduce((p,g)=>p+(g.post_count||0),0)})," ","rponses"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Trier par:"}),l.jsxs("select",{value:r,onChange:p=>n(p.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"recent",children:"Plus rcent"}),l.jsx("option",{value:"popular",children:"Plus populaire"}),l.jsx("option",{value:"active",children:"Plus actif"})]})]})]})}),f.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[l.jsx(Ys,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune discussion pour le moment"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Soyez le premier  poser une question ou partager une ide"}),l.jsxs(rt,{onClick:()=>t(`/student/forums/${e}/new`),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[l.jsx(bi,{className:"h-4 w-4 mr-2"}),"Crer une discussion"]})]}):l.jsx("div",{className:"space-y-3",children:f.map(p=>l.jsx("div",{onClick:()=>t(`/student/forums/thread/${p.id}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:l.jsx(Ys,{className:"h-6 w-6 text-white"})})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.is_pinned&&l.jsx(FN,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),p.is_locked&&l.jsx(Tx,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600",children:p.title})]}),p.content&&l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:p.content}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[l.jsxs("span",{children:["Par ",p.author_name]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ks,{className:"h-3 w-3"}),h(p.created_at)]}),p.last_post_at&&l.jsxs("span",{children:["Dernire rponse: ",h(p.last_post_at)]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[l.jsx(As,{className:"h-4 w-4"}),l.jsx("span",{className:"font-semibold",children:p.view_count})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"vues"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[l.jsx(Ys,{className:"h-4 w-4"}),l.jsx("span",{className:"font-semibold",children:p.post_count||0})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"rponses"})]})]})]})})]})},p.id))}),r==="popular"&&f.length>0&&l.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[l.jsx(z0,{className:"h-5 w-5"}),l.jsx("span",{className:"font-semibold",children:"Discussions les plus populaires en ce moment"})]})})]}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"Formation non trouve"})})},W_e=()=>{const{threadId:e}=Tc(),t=$n(),{user:r}=_i(),[n,a]=C.useState(""),{data:i,isLoading:s}=j_e(e||null),{data:o,isLoading:u}=k_e(e||null),f=E_e(),h=C_e(),p=O_e(),g=D_e(),x=T_e(),b=i?.thread,y=o?.posts||[];C.useEffect(()=>{e&&f.mutate(e)},[e]);const w=async()=>{if(!(!n.trim()||!e||!r))try{await h.mutateAsync({threadId:e,data:{author_id:r.id,content:n.trim()}}),a("")}catch(O){console.error("Error posting reply:",O),alert("Erreur lors de l'envoi de la rponse")}},_=async(O,R,D)=>{if(r)try{D||await p.mutateAsync({postId:O,data:{user_id:r.id,reaction_type:R}})}catch(M){console.error("Error toggling reaction:",M)}},E=async O=>{if(r&&confirm("tes-vous sr de vouloir supprimer cette rponse ?"))try{await x.mutateAsync({postId:O,userId:r.id,isAdmin:r.role==="admin"})}catch(R){console.error("Error deleting post:",R),alert("Erreur lors de la suppression")}},A=(O,R)=>{if(!O.reactions)return 0;const D=O.reactions.find(M=>M.reaction_type===R);return D?D.count:0},T=O=>new Date(O).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return s||u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de la discussion..."})]})}):b?l.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[l.jsxs(rt,{onClick:()=>t(`/student/forums/${b.formation_id}`),variant:"ghost",className:"mb-4",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:l.jsx(Ys,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.is_pinned&&l.jsx(FN,{className:"h-5 w-5 text-yellow-600"}),b.is_locked&&l.jsx(Tx,{className:"h-5 w-5 text-gray-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:b.title})]}),b.content&&l.jsx("p",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:b.content}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:b.author_name}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ks,{className:"h-4 w-4"}),T(b.created_at)]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(As,{className:"h-4 w-4"}),b.view_count," vues"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ys,{className:"h-4 w-4"}),b.post_count||0," rponses"]})]})]})]})}),l.jsx("div",{className:"space-y-4 mb-6",children:y.map(O=>{const R=r?.id===O.author_id,D=r?.role==="admin",M=R||D;return l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-white font-semibold text-sm",children:O.author_name?.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-900",children:O.author_name}),O.author_role==="admin"&&l.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Admin"}),O.author_role==="gerant"&&l.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Formateur"}),l.jsx("span",{className:"ml-3 text-sm text-gray-500",children:T(O.created_at)}),O.is_edited&&l.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(modifi)"})]}),M&&l.jsx("button",{onClick:()=>E(O.id),className:"text-red-600 hover:text-red-700 p-1",children:l.jsx(Na,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap",children:O.content}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>_(O.id,"like",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[l.jsx(mV,{className:"h-4 w-4"}),l.jsx("span",{children:A(O,"like")})]}),l.jsxs("button",{onClick:()=>_(O.id,"helpful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-green-600 transition-colors",children:[l.jsx(Ys,{className:"h-4 w-4"}),l.jsx("span",{children:A(O,"helpful")})]}),l.jsxs("button",{onClick:()=>_(O.id,"insightful",!1),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-purple-600 transition-colors",children:[l.jsx(IH,{className:"h-4 w-4"}),l.jsx("span",{children:A(O,"insightful")})]})]})]})]})},O.id)})}),b.is_locked?l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[l.jsx(Tx,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),l.jsx("p",{className:"text-yellow-800 font-medium",children:"Cette discussion est verrouille. Vous ne pouvez plus y rpondre."})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Votre rponse"}),l.jsx("textarea",{value:n,onChange:O=>a(O.target.value),placeholder:"crivez votre rponse ici...",rows:4,className:"w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Soyez respectueux et constructif dans vos rponses"}),l.jsx(rt,{onClick:w,disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Envoi...":l.jsxs(l.Fragment,{children:[l.jsx(wm,{className:"h-4 w-4 mr-2"}),"Envoyer"]})})]})]})]}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"Discussion non trouve"})})},G_e=()=>{const{formationId:e}=Tc(),t=$n(),{user:r}=_i(),[n,a]=C.useState(""),[i,s]=C.useState(""),[o,u]=C.useState(""),{data:f}=ep(e||void 0),h=A_e(),p=f,g=async x=>{if(x.preventDefault(),u(""),!n.trim()){u("Le titre est requis");return}if(!e||!r){u("Erreur: Formation ou utilisateur non trouv");return}try{const b=await h.mutateAsync({formationId:e,data:{author_id:r.id,title:n.trim(),content:i.trim()||void 0}});t(`/student/forums/thread/${b.thread.id}`)}catch(b){console.error("Error creating thread:",b),u("Erreur lors de la cration de la discussion")}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsxs(rt,{onClick:()=>t(`/student/forums/${e}`),variant:"ghost",className:"mb-4",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Retour au forum"]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 mb-6 text-white",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(Ys,{className:"h-8 w-8"}),l.jsx("h1",{className:"text-3xl font-bold",children:"Nouvelle discussion"})]}),l.jsxs("p",{className:"text-blue-100",children:["Formation: ",p?.title||"Chargement..."]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Conseils pour crer une bonne discussion"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Choisissez un titre clair et descriptif"}),l.jsx("li",{children:" Expliquez votre question ou sujet en dtail"}),l.jsx("li",{children:" Soyez respectueux et constructif"}),l.jsx("li",{children:" Vrifiez qu'une discussion similaire n'existe pas dj"})]})]}),o&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[l.jsx(mn,{className:"h-5 w-5"}),l.jsx("span",{children:o})]})}),l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Titre de la discussion *"}),l.jsx("input",{type:"text",id:"title",value:n,onChange:x=>a(x.target.value),placeholder:"Ex: Comment configurer l'environnement de dveloppement ?",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:200}),l.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[n.length,"/200 caractres"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description (optionnelle)"}),l.jsx("textarea",{id:"content",value:i,onChange:x=>s(x.target.value),placeholder:"Dcrivez votre question ou sujet en dtail...",rows:10,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",maxLength:5e3}),l.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[i.length,"/5000 caractres"]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsx(rt,{type:"button",onClick:()=>t(`/student/forums/${e}`),variant:"outline",children:"Annuler"}),l.jsx(rt,{type:"submit",disabled:!n.trim()||h.isPending,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:h.isPending?"Cration...":l.jsxs(l.Fragment,{children:[l.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Crer la discussion"]})})]})]}),l.jsx("div",{className:"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[" ",l.jsx("strong",{children:"Note:"})," Votre discussion sera visible par tous les tudiants de cette formation. Vous pourrez la modifier ou la supprimer aprs sa cration."]})})]})},cn=({children:e,adminOnly:t=!1,gerantOnly:r=!1})=>{const{isAuthenticated:n,isAdmin:a,isGerant:i}=_i();return n?t&&!a?l.jsx(bm,{to:"/dashboard",replace:!0}):r&&!i?l.jsx(bm,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:e}):l.jsx(bm,{to:"/login",replace:!0})},K_e=({children:e})=>{const{isAuthenticated:t}=_i();return t?l.jsx(bm,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:e})},Y_e=()=>{const{isLoading:e}=_i();return e?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):l.jsxs(Jq,{children:[l.jsx(zr,{path:"/login",element:l.jsx(K_e,{children:l.jsx(CV,{})})}),l.jsx(zr,{path:"/dashboard",element:l.jsx(cn,{children:l.jsx(LV,{})})}),l.jsx(zr,{path:"/admin/segments",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Qne,{})})}),l.jsx(zr,{path:"/admin/cities",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Jne,{})})}),l.jsx(zr,{path:"/admin/users",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(cae,{})})}),l.jsx(zr,{path:"/admin/calculation-sheets",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(jae,{})})}),l.jsx(zr,{path:"/admin/calculation-sheets/:id",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Sae,{})})}),l.jsx(zr,{path:"/admin/calculation-sheets/:id/editor",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(kae,{})})}),l.jsx(zr,{path:"/admin/declarations",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Mae,{})})}),l.jsx(zr,{path:"/admin/declarations/:id",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Vae,{})})}),l.jsx(zr,{path:"/admin/create-declaration",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Dk,{})})}),l.jsx(zr,{path:"/admin/formations/sessions",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Aie,{})})}),l.jsx(zr,{path:"/admin/formations/cours",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Eie,{})})}),l.jsx(zr,{path:"/admin/formations/cours/:id/editor",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(Oie,{})})}),l.jsx(zr,{path:"/admin/analytics",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(h_e,{})})}),l.jsx(zr,{path:"/admin/student-reports",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(m_e,{})})}),l.jsx(zr,{path:"/admin/certificates",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(g_e,{})})}),l.jsx(zr,{path:"/admin/certificate-templates",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(N_e,{})})}),l.jsx(zr,{path:"/admin/forums",element:l.jsx(cn,{adminOnly:!0,children:l.jsx(F_e,{})})}),l.jsx(zr,{path:"/professor/declarations",element:l.jsx(cn,{children:l.jsx(Kae,{})})}),l.jsx(zr,{path:"/professor/declarations/:id/fill",element:l.jsx(cn,{children:l.jsx(Yae,{})})}),l.jsx(zr,{path:"/student/dashboard",element:l.jsx(cn,{children:l.jsx(L_e,{})})}),l.jsx(zr,{path:"/student/catalog",element:l.jsx(cn,{children:l.jsx(M_e,{})})}),l.jsx(zr,{path:"/student/formations/:id",element:l.jsx(cn,{children:l.jsx(z_e,{})})}),l.jsx(zr,{path:"/student/formations/:id/videos/:videoId",element:l.jsx(cn,{children:l.jsx(q_e,{})})}),l.jsx(zr,{path:"/student/formations/:id/tests/:testId",element:l.jsx(cn,{children:l.jsx($_e,{})})}),l.jsx(zr,{path:"/student/certificates",element:l.jsx(cn,{children:l.jsx(H_e,{})})}),l.jsx(zr,{path:"/student/forums/:formationId",element:l.jsx(cn,{children:l.jsx(V_e,{})})}),l.jsx(zr,{path:"/student/forums/:formationId/new",element:l.jsx(cn,{children:l.jsx(G_e,{})})}),l.jsx(zr,{path:"/student/forums/thread/:threadId",element:l.jsx(cn,{children:l.jsx(W_e,{})})}),l.jsx(zr,{path:"/gerant/declarations",element:l.jsx(cn,{gerantOnly:!0,children:l.jsx(rie,{})})}),l.jsx(zr,{path:"/gerant/create-declaration",element:l.jsx(cn,{gerantOnly:!0,children:l.jsx(Dk,{})})}),l.jsx(zr,{path:"/",element:l.jsx(bm,{to:"/login",replace:!0})}),l.jsx(zr,{path:"*",element:l.jsx(bm,{to:"/login",replace:!0})})]})},X_e=()=>l.jsx(N$,{children:l.jsx(R$,{children:l.jsx(Y_e,{})})}),Q_e=new Kz({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});jz.createRoot(document.getElementById("root")).render(l.jsx(C.StrictMode,{children:l.jsxs(Yz,{client:Q_e,children:[l.jsx(X_e,{}),l.jsx(cq,{initialIsOpen:!1})]})}));export{_n as _,Z_e as c,vf as g};
